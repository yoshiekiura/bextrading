C.r("akira/AkiraApp.js",function(a,e,r){"use strict";var o=a("shakti-platform/dist/ui/app/App"),t=a("../player/nfplayer/domain/common/createAppFromDomains"),i=a("./redux/geo/createGeoDomain"),l=a("./redux/discovery/createDiscoveryDomain"),n=a("./redux/uma/createUmaDomain"),p=a("./redux/playerFeatureSupport/playerFeatureDomain"),d=a("./redux/profile/createProfileDomain"),s=a("./redux/routing/createRoutingDomain"),u=a("../player/app/createPlayerApp"),c=a("./redux/volatileBillboards/createVolatileBillboardsDomain"),m=a("../player/domains/playerApp/playerAppState").playerAppStateRecord,y=a("./redux/search/createSearchDomain"),g=a("./redux/geo/geoState"),h=g.geoStateRecord,v=a("shakti-platform/dist/ui/routing/History"),f=a("ramda/src/pathOr"),b=a("../player/domains/playerApp/playerAppConfig"),S=a("../player/nfplayer/utils/playerConfig"),A=a("./redux/reno/renoDomain"),E=a("./routeHandlers"),P=a("../common/icuStrings.js"),D=a("../player/domains/videoPlayer/videoSession"),x=a("shakti-platform/dist/ui/utils/inNode"),k=b.playerAppConfigRecord;e.exports=new o({routeHandlers:E},{handleCreateContext:function(a){var e=f(void 0,["model","models"],a),r=f({},["playerModel","data"],e),o=r&&r.playbackSupport,g=f({},["browserInfo","data"],e),v=f({},["truths","data"],e),b=f(void 0,["geo","data"],e),E=[p(o),l(a.pathEvaluator,e),i(h(b)),s(),d(),y(),n(e)];v.renoEnabled&&E.push(A(a.pathEvaluator,e)),v.volatileBillboardsEnabled&&E.push(c(a.pathEvaluator,e));var P=t({domains:E}),C=S.getInitParamsFromPlayerModel(r,g),w=u(a.pathEvaluator,m({initParams:C,appConfig:k({seamlessPlaybackEnabledForUI:v.seamlessPlaybackEnabledForUI,persistSupplementalAudioState:!0,branchingPlaybackEnabled:v.watchingBranchingTitle,callVideoPlayerEngageMethod:v.callVideoPlayerEngageMethod,videoPlayerDownloadsEnabled:v.videoPlayerDownloadsEnabled,supportsCadmium:!0}),areSupplementalsMuted:f(void 0,["config","ui","playerState","supplementals","muted"],r)}),x?void 0:D.get(C));return Object.assign({},a,{discoveryApp:P,playerApp:w,discoveryStore:P.getStore()})},handleRouteChange:function(a,e){return e&&e.components&&e.components.forEach(function(a){a.willTransitionTo&&a.willTransitionTo(v,e)}),a},stringProvider:P})});C.r("akira/components/appBase/akiraLayout.jsx",function(e,t,i){"use strict";function o(e,t,i){var o=L.getBBMotionId(e),s=L.getBBTrackId(e),a=L.getBillboardPrepareData(i,{manifest:t.canPassManifestToCadmiumPrepare?L.getBBManifest(o,e):void 0,preferUnletterboxedContent:t.preferUnletterboxedContent,motionId:o,trackId:s});return!(0===a.length||!i)&&(G.emit(F.PROFILES_VIDEO_PREPARE,{prepareList:a}),K.prepareCalled(),Q.prepare(a,function(e){if(e&&e.type)switch(e.type){case"getMedia":K.prepareGetMediaComplete();break;case"getHeaders":K.prepareGetHeadersComplete();break;case"manifest":K.prepareGetManifestComplete()}}).subscribe(),!0)}function s(e,t,i){return e&&t in e?e[t]:i}function a(){G.emit("window-visibility:changed",!document.hidden)}var n=e("babel-runtime/helpers/toConsumableArray"),r=function(e){return e&&e.__esModule?e:{default:e}}(n),l=e("prop-types"),p=e("react"),c=e("create-react-class"),h=e("react-dom"),d=e("lodash"),u=e("classnames"),g=e("../../../common/adtech-iFrame2.js"),m=e("../../../components/uma/UmaContainer.jsx"),f=e("../../../utils/Routes"),v=e("../../../utils/profileManager"),y=e("../../../utils/lolomo/lolomoUtils"),P=e("../../../common/imageExtension"),b=e("../../../common/position"),S=e("../windowsAppBanner.jsx"),w=e("../../containers/header/appHeader.jsx"),x=e("../../containers/header/pinningHeader.jsx"),E=e("../../containers/header/kidsAppHeader.jsx"),R=e("../../containers/footer/appFooter.jsx"),C=e("../../containers/footer/slimFooter.jsx"),M=e("../../components/profile/profilesGate.jsx"),A=e("../../containers/timeoutTransition/timeoutTransitionGroup.jsx"),I=e("../../containers/freezeWrapper.jsx"),k=e("../../containers/freezeOnChangedPageKey.jsx"),j=e("../../containers/overlay/kidsOverlayPage.jsx"),B=e("../../views/kidsHome.jsx"),H=e("../../views/home.jsx"),U=e("../../../utils/browserScroll"),G=e("../../../utils/eventBus"),O=e("../../../utils/player/videoPreparer"),V=e("../../../player/domains/playerApp/getRouteBasedPlaybackParams"),L=e("../../../player/nfplayer/domain/billboard/billboardUtils"),K=e("../billboard/common/ReportMetrics"),D=e("../../../mdx2/components/mdxMount.jsx"),N=e("../../../utils/ab/kidsParityTest"),T=e("../../../utils/JawboneLinkProvider"),z=e("../loader/loadingGallery.jsx"),F=e("../../../utils/consolidatedLogging/loggingEventRegistry"),q=e("../../../player/domains/videoPlayer/videoPlayerConstants"),W=q.playerIdentifier,_=e("../../../common/playPrediction/playPredictionV2"),J=e("../../../player/app/connect/connectToApps"),Q=e("../../../player/domains/videoPlayer/videoSession"),X=[["profilesList","current","usesManualMyListSort"]],Y={500:2,800:3,1100:4,1400:5,1e4:6},Z=function(){},$=c({displayName:"AkiraLayout",contextTypes:{discoveryApp:l.object.isRequired,getModelData:l.func.isRequired,getI18nString:l.func.isRequired,history:l.object.isRequired,models:l.object,playerApp:l.object,routeHandler:l.object.isRequired,logger:l.object.isRequired},childContextTypes:{node:l.object,jsongDocument:l.object,columnsInRow:l.number,currentPage:l.string,isKidsPage:l.bool,isOverlayPage:l.bool,isInitialRender:l.bool,profileGateAppState:l.object,pageKey:l.string},getChildContext:function(){return{node:this.props.model.node,jsongDocument:this.props.model.pathEvaluator,columnsInRow:this.state.columnsInRow,currentPage:this.props.uiView,isKidsPage:this.props.isKidsPage,isOverlayPage:this.props.isOverlayPage,isInitialRender:this.props.isInitialRender,profileGateAppState:this.props.profileGateAppState,pageKey:this.getPageKey()}},getInitialState:function(){return this.scope={umaRef:null,appBannerRef:null,nnBannerRef:null},{columnsInRow:6}},componentWillMount:function(){"client"===this.props.renderSource&&this.logPageChange()},componentDidMount:function(){var e=this;U.addEventListener("scroll",this.onScroll),U.addEventListener("scrollEnd",this.onScrollEnd),document.addEventListener("visibilitychange",a),this.onResize(),this.throttledResize||(this.throttledResize=d.throttle(this.onResize,300)),window.addEventListener("resize",this.throttledResize,!1);var t=this,i=this.context.getModelData("truths"),s=this.props.model.pathEvaluator;if(this.isShowingProfilesGate()){var n=o(s,i,this.context.playerApp);this.prefetchPageData(n?void 0:function(){return o(s,i,e.context.playerApp)})}else this.prefetchPageData();this.props.isKidsPage||g.sendAdTech("homeScreen","current",this.context.getModelData("truths").isCl2LoggingEnabledForDiscoveryPlayback),O.initialize({getRouteParameterState:function(){return V(t.context.routeHandler)},pathEvaluator:s},i),this.contextId=this.context.logger.addContext("UiVersion",{uiVersion:"akira"}),i.playPredictionV2Enabled&&_.resume()},componentWillUpdate:function(e){var t=this;e.isOverlayPage&&!this.lastFocusedElement?this.lastFocusedElement=document.activeElement:this.props.isOverlayPage&&!e.isOverlayPage&&this.lastFocusedElement&&setTimeout(function(){t.lastFocusedElement&&t.lastFocusedElement.focus(),t.lastFocusedElement=null},50)},componentDidUpdate:function(e,t){this.logPageChange()},componentWillUnmount:function(){var e=this.context.getModelData("truths");if(document.removeEventListener("visibilitychange",a),e.playPredictionV2Enabled&&_.pause(),O.destroy(),this.throttledResize&&window.removeEventListener("resize",this.throttledResize,!1),this.contextId&&(this.context.logger.removeContext(this.contextId),delete this.contextId),U.removeEventListener("scroll",this.onScroll),U.removeEventListener("scrollEnd",this.onScrollEnd),this.context.playerApp){var t=this.context.playerApp.getActionCreators();t.removeNextVideoMerchViewable&&(t.removeNextVideoMerchViewable({sessionId:W.VideoMerchJaw}),t.removeNextVideoMerchViewable({sessionId:W.VideoMerchBob})),t.playerCloseAll&&(t.playerCloseAll({sessionRoot:W.VideoMerchJaw}),t.playerCloseAll({sessionRoot:W.VideoMerchBob}))}},onResize:function(){var e=b.getWindowRect().width,t=6;d.some(Y,function(i,o){return e<=parseInt(o)&&(t=i,!0)}),t&&this.state.columnsInRow!==t&&this.setState({columnsInRow:t})},onScroll:function(){var e=document.body.style;Math.abs(U.getScrollDistance())>50&&"none"!==e.pointerEvents&&(e.pointerEvents="none")},onScrollEnd:function(){setTimeout(function(){document.body.style.pointerEvents=""},100)},logPageChange:function(){var e=this.props.profileGateAppState,t=this.getPageProps();v.isGateOpen(e)?t.uiView=v.getCurrentUIView(e):t.uiView=this.props.uiView,t.uiView&&G.emit("app:pageChange",t)},prefetchPageData:function(e){if(this.isShowingProfilesGate()){var t=d.get(this.context.models,"postGateData.data");if(t&&t.length>0){var i;y.seedLolomoImpression(this.props.model.pathEvaluator);var o=function(){"function"==typeof e&&e()};(i=this.props.model.pathEvaluator).get.apply(i,(0,r.default)(t)).subscribe(Z,o,o)}}},getHeaderComponent:function(){return this.context.getModelData("truths","hasAROGallery")?x:w},getPageChromePaths:function(){var e=this.getHeaderComponent();return e.getPaths(null,e.fullHeaderStrategy).concat(R.getPaths()).concat(X)},isShowingProfilesGate:function(){var e=this.props.model.pathEvaluator.bind(["profilesList"]),t=e.getValueSync(["summary"]),i=t&&t.length>1,o=this.props.profileGateAppState,s=this.props.profileGateAppState&&this.props.profileGateAppState.forceProfileGate;return v.isGateOpen(o)&&(i||v.isReloadingProfiles(o)||this.isManageProfiles()||s)},isShowingUMA:function(){return this.props.uma&&this.canShowModal()},isShowingBillboard:function(){var e=P.getExtensionForTransparentImage(this.context.models),t=["lolomo","billboards","billboards",0,e],i=this.props.model.pathEvaluator.bind(t),o=i&&i.getValueSync(["data"]);return-1!==(o&&o.id)},canShowModal:function(){return!this.isShowingProfilesGate()&&!this.isManageProfiles()},getPageKey:function(){var e=this.context.routeHandler.path;return-1!==e.indexOf("messages/")&&(e=f.browse.makePath()),this.props.isOverlayPage&&(e="sharedOverlay"),-1!==this.props.uiView.indexOf("search")&&(e="search"),e},getPageProps:function(){var e=this.context.routeHandler.query,t={};return t.id=this.context.routeHandler.params.id,e&&(t.trackId=void 0!==e.trackId?parseInt(e.trackId,10):null,t.jawBoneRankNum=void 0!==e.jbp?parseInt(e.jbp,10):null,t.jawBoneRowNum=void 0!==e.jbr?parseInt(e.jbr,10):null,t.jawBoneVideoId=e.jbv),t},isManageProfiles:function(){return!!this.getPageKey().match(/(profiles)/i)},renderUMA:function(){var e=this;if(!m.stub&&this.isShowingUMA())return p.createElement("div",{className:u("uma"),id:"uma",key:"uma-area",ref:function(t){return d.set(e,"scope.umaRef",t)},role:"region","aria-label":this.context.getI18nString("common/accessibility","uma.role.region.account.information")},p.createElement(m,{key:"user-uma",supportsModal:!0}))},renderAppBanner:function(){var e=this;if(s(this.context.getModelData("truths"),"hasWindowsAppBanner")&&!this.isShowingProfilesGate()&&!this.props.hadUma&&!this.props.isKidsPage)return p.createElement(S,{ref:function(t){return d.set(e,"scope.appBannerRef",h.findDOMNode(t))}})},renderProfilesGate:function(){return p.createElement(M,{model:this.props.model.pathEvaluator,profileGateAppState:this.props.profileGateAppState,getPageChromePaths:this.getPageChromePaths})},handleOverlayPageClose:function(){this.pageScreenShotURL&&(this.context.history.pushState(this.pageScreenShotURL),G.emit("app:interactive"))},toggleBigRowState:function(e){e!==this.state.bigRowIsOpen&&this.setState({bigRowIsOpen:e})},getMainContentAreas:function(){var e=this.props.isKidsPage,t=this.getPageProps(),i={isKidsPage:this.props.isKidsPage,model:this.props.model,uiView:this.props.uiView,toggleBigRowState:this.toggleBigRowState,bigRowIsOpen:this.state.bigRowIsOpen},o=null,s=!1;if(this.props.isRefreshingApp)return{mainContent:p.createElement("div",{className:u("page-transition-loader")},p.createElement(z,null))};var a=p.cloneElement(this.props.children,Object.assign({},i,t,{key:this.getPageKey()}));if(e&&this.props.isOverlayPage)if(o=a,this.pageScreenShotURL)s=!0;else{this.pageScreenShotTerm="";var n=Object.assign({},i,{key:this.pageScreenShotURL});this.props.isKidsPage?(this.pageScreenShotURL=f.kidsHome.makePath(),a=p.createElement(B,n)):(this.pageScreenShotURL=f.browse.makePath(),a=p.createElement(H,n))}else if(e){var r=this.context.routeHandler.params;r.term&&(r=d.assign({},r,{term:encodeURIComponent(r.term)})),this.pageScreenShotURL=this.context.routeHandler.route.makePath(r,this.context.routeHandler.query),this.pageScreenShotTerm=this.context.routeHandler.query.q||this.context.routeHandler.params.term}return{mainContent:a,overlayContent:o,shouldFreezeMainContent:s}},renderMainContent:function(){var e=this.isShowingProfilesGate(),t=this.props.isKidsPage,i=N.kidsProfileWithoutParity(this.context.models)?p.createElement(C,{key:"footer"}):p.createElement(R,{key:"footer",model:this.props.model.pathEvaluator}),o={mainView:!0},s=void 0;return e?this.renderProfilesGate():(s=this.getMainContentAreas(),s.overlayContent&&(o["ptrack-disabled"]=!0),[p.createElement(I,{shouldFreeze:s.shouldFreezeMainContent,key:"freezeWrapper"},p.createElement(A,{key:"mainView",className:u(o),role:"main",component:"div",transitionName:"pageTransition",enterTimeout:200,leaveTimeout:200,enterDelayMs:250},p.createElement(k,{key:this.getPageKey()},s.mainContent))),t&&p.createElement(j,{key:"overlay",handleClose:this.handleOverlayPageClose},s.overlayContent),this.isManageProfiles()?null:i])},getPreHeaderHeight:function(){var e=this.scope.umaRef&&!isNaN(this.scope.umaRef.scrollHeight)&&this.scope.umaRef.scrollHeight,t=this.scope.appBanner&&!isNaN(this.scope.appBanner.scrollHeight)&&this.scope.appBanner.scrollHeight,i=this.scope.nnBannerRef&&!isNaN(this.scope.nnBannerRef.scrollHeight)&&this.scope.appBanner.scrollHeight;return(e||0)+(t||0)+(i||0)},render:function(){var e=this.props.model,t=this.context.routeHandler.query.q||decodeURIComponent(this.context.routeHandler.params.term||""),i=this.props.isOverlayPage?this.pageScreenShotTerm:t||"",o=this.isShowingProfilesGate()||this.isManageProfiles(),a=this.isShowingUMA(),n=this.context.discoveryApp.getAPI().geo,r=d.get(this.context.models,"userInfo.data"),l=n.getLocaleId("en"),c=s(this.context.getModelData("truths"),"mdx2Enabled"),h=this.getHeaderComponent(),g="US"===d.get(r,"countryOfSignup",null)&&!d.get(r,"isBOBO")&&!this.props.isKidsPage,m={bd:!0,"dark-background":!this.props.isKidsPage,kidsPage:this.props.isKidsPage,"has-uma":a};return p.createElement(T,null,p.createElement("div",{className:u(m),lang:l,onClick:this.handleClick,onChange:this.handleChange,onMouseMove:this.handleMouseMove},this.renderUMA(),this.renderAppBanner(),N.kidsProfileWithoutParity(this.context.models)?p.createElement(E,{model:e,ref:"header",pathEvaluator:e.pathEvaluator,term:i,isShowingProfilesGate:o,isKidsPage:this.props.isKidsPage}):p.createElement(h,{model:e,ref:"header",showDVDLink:g,pathEvaluator:e.pathEvaluator,term:i,isShowingProfilesGate:o,isShowingBillboard:this.isShowingBillboard(),isKidsPage:this.props.isKidsPage,getPreHeaderHeight:this.getPreHeaderHeight}),c&&p.createElement(D,null),this.renderMainContent(),p.createElement("div",{className:"image-preloaders"},p.createElement("span",{className:"jawbone-images"}))))}}),ee=function(e){return{uma:e.discoveryApp.getAPI().uma.getUmaPayload(),hadUma:e.discoveryApp.getAPI().uma.getHadUma(),forceUpdateCount:e.discoveryApp.getAPI().discovery.getForceUpdateCount()}},te=J(ee,void 0,void 0,{appKeys:["discoveryApp"],forceAlwaysUpdate:!0})($);t.exports=te});C.r("akira/components/appBase/baseRouteHandler.jsx",function(e,t,o){"use strict";function i(e,t){d.setCurrentModalView(e),d.setKidsMode(t),d.attachListeners()}var r=e("prop-types"),l=e("react"),s=e("create-react-class"),c=e("lodash"),a=e("../../../components/LayoutContext.jsx"),n=e("../../components/profile/profileWarningOverlay.jsx"),h=e("./akiraLayout.jsx"),d=e("../../../utils/consolidatedLogging/index"),C=e("../../../utils/eventBus"),p=e("../../../utils/profileManager"),L=e("shakti-platform/dist/ui/utils/inNode"),y=e("../../../utils/Routes"),u=e("../../../common/svgIconKoreanRatings"),m=e("../hoc/detectFontsWrapper.jsx"),M=e("../../../player/nfplayer/utils/featureDetection"),f=e("../../../utils/isKidsProfile"),v=e("classnames"),g=e("../../../utils/ab/kidsParityTest"),x=[y.kidsTitle,y.kidsCharacter],w=[y.kidsCharacter],b=[y.kidsHome,y.kidsCategory,y.kidsTitle,y.kidsCharacter,y.kidsSearch,y.kidsSearchTerm,y.kidsSimilars,y.kidsSearchSuggestion,y.kidsCharacterGallery,y.kidsOriginals],V=[y.watchNow],z=s({displayName:"BaseRouteHandler",contextTypes:{getModelData:r.func.isRequired,history:r.object.isRequired,models:r.object,routeHandler:r.object.isRequired,discoveryApp:r.object.isRequired},childContextTypes:{isRtl:r.bool,isKidsProfile:r.bool,playerApp:r.object,postPlayDomain:r.object,profileManager:r.object,discoveryApp:r.object,discoveryStore:r.object},getChildContext:function(){return{isRtl:this.props.discoveryApp.getAPI().geo.isLocaleRtl(),isKidsProfile:f(this.context.models),playerApp:this.props.playerApp,postPlayDomain:this.props.postPlayDomain,profileManager:this.profileManager,discoveryApp:this.props.discoveryApp,discoveryStore:this.props.discoveryStore}},getInitialState:function(){return this.profileManager=p.createManagerInstance(this.props.discoveryApp),{initializedCL:!1,isInitialRender:!0,isAllowedToRender:!0,profileGateAppState:{activeView:c.get(this.context.models,"profileGateState.data",p.VIEWS.CLOSED)},inLowPowerMode:!1}},isInAkiraDiscovery:function(){return this.props.children&&this.props.children.type===h},getCurrentUIView:function(){return this.context.routeHandler.uiView},isOverlayPage:function(){var e=this.context.routeHandler.route,t=this.context.getModelData("truths","hasKidsParityWithMDPOverlay");return g.kidsProfileWithParity(this.context.models)&&!t?w.indexOf(e)>-1:x.indexOf(e)>-1},isKidsPage:function(){return!!g.kidsProfileWithParity(this.context.models)||b.indexOf(this.context.routeHandler.route)>-1},isSharedPage:function(){return V.indexOf(this.context.routeHandler.route)>-1},isPlaybackView:function(){return"playback"===this.getCurrentUIView()},componentWillMount:function(){var e=void 0;"client"!==this.props.renderSource||this.state.initializedCL||(e=this.getCurrentUIView())&&(this.state.initializedCL=!0,i(e,this.isKidsPage()))},updateProfileGateAppState:function(e){this.isInAkiraDiscovery()&&(this.setState({profileGateAppState:e}),e.activeView===p.VIEWS.CLOSED&&this.context.history.replaceState(this.context.routeHandler.route.makePath(this.context.routeHandler.params,this.context.routeHandler.query)))},componentDidMount:function(){var e=this.refs.main,t=this.context.discoveryApp.getActionCreators();window.PointerEvent&&e&&e.addEventListener("pointerenter",this._handlePointerEnter),this.profileManager.startEventListeners(this.updateProfileGateAppState,this.state.profileGateAppState,this.context.models),C.on("enter-lp",this.enterLowPowerMode),C.on("exit-lp",this.exitLowPowerMode),M.detect(null,c.noop),t.detectPlayerEnhancedFeatureSupport()},componentWillReceiveProps:function(){var e=c.get(this.context.models,"userInfo.data"),t=this.isKidsPage(),o=this.isSharedPage();this.state.isInitialRender&&this.setState({isInitialRender:!1}),e&&e.isKids&&!t&&!o?(this.setState({isAllowedToRender:!1}),this.context.history.pushState(y.kidsHome.makePath())):e&&!e.isKids&&t?(this.setState({isAllowedToRender:!1}),this.context.history.pushState(y.browse.makePath())):this.setState({isAllowedToRender:!0})},componentWillUnmount:function(){if(C.removeListener("enter-lp",this.enterLowPowerMode),C.removeListener("exit-lp",this.exitLowPowerMode),!L&&window.PointerEvent){var e=this.refs.main;e&&e.removeEventListener("pointerenter",this._handleTouchStart)}},enterLowPowerMode:function(){this.setState({inLowPowerMode:!0})},exitLowPowerMode:function(){this.setState({inLowPowerMode:!1})},_handleTouchStart:function(){C.emit("inputType:touch")},_handlePointerEnter:function(e){"touch"===e.pointerType&&C.emit("inputType:touch")},render:function(){if(!this.state.isAllowedToRender)return null;var e=this.props.discoveryApp.getAPI().geo,t=e.getLocaleId("en"),o=e.getLocaleDirection("ltr"),i=this.context.getModelData("truths","isGreekAndSafari"),r=v({"extended-diacritics-language":e.localeHasExtendedDiacritics(!1),"is-greek-and-safari":i});return l.createElement("div",{ref:"main",lang:t,dir:o,onTouchStart:this._handleTouchStart,className:r},l.cloneElement(this.props.children,{isRefreshingApp:this.props.isRefreshingApp,isInitialRender:this.state.isInitialRender,isKidsPage:this.isKidsPage(),isOverlayPage:this.isOverlayPage(),model:this.props.model,profileGateAppState:this.state.profileGateAppState,uiView:this.getCurrentUIView()}),this.renderSVGSymbols(),this.renderWarningOverlay())},renderSVGSymbols:function(){var e=this.props.discoveryApp.getAPI().geo,t=e.getUserCountryId(),o=("KR"===t&&Array.isArray(u)?u:[]).join("");return l.createElement("svg",{style:{height:0,width:0,display:this.state.inLowPowerMode?"none":"block"},xmlns:"http://www.w3.org/2000/svg"},l.createElement("defs",{dangerouslySetInnerHTML:{__html:'<symbol id="chevron-down" viewBox="0 0 60 19">    <path fill="currentColor" d="M59.5615866,2.44258873 L31.1899791,17.6617954 C30.7515658,17.9123173 30.2505219,18.1002088 30.0626305,18.1002088 C29.874739,18.1002088 29.6242171,18.0375783 29.5615866,18.0375783 C29.4363257,17.9749478 28.9979123,17.7244259 28.559499,17.5365344 L0.501043841,2.44258873 C0.187891441,2.31732777 0,1.94154489 0,1.62839248 C0,1.50313152 0.0626304802,1.37787056 0.12526096,1.18997912 L0.501043841,0.501043841 C0.688935282,0.187891441 1.00208768,0 1.31524008,0 C1.50313152,0 1.62839248,0 1.75365344,0.12526096 L29.1858038,14.8434238 C29.3736952,14.9686848 29.6868476,15.0313152 30,15.0313152 C30.3131524,15.0313152 30.6263048,14.9686848 30.8141962,14.8434238 L58.2463466,0.12526096 C58.6847599,-0.12526096 59.2484342,0 59.4989562,0.501043841 L59.874739,1.18997912 C60.125261,1.62839248 60,2.19206681 59.5615866,2.44258873"></path></symbol><symbol id="add" viewBox="0 0 60 60">    <path fill="currentColor" d="M54.6886726,24.6861711 C57.6894231,24.7461866 60,26.9367348 60,30.0025004 C60,33.0582644 57.6894231,35.3088269 54.6886726,35.3738432 L35.3738432,35.3738432 L35.3738432,54.6836707 C35.3088269,57.6844212 33.0032509,60 29.9974996,60 C26.9967491,60 24.7511874,57.6844212 24.6861711,54.6836707 L24.6861711,35.3738432 L5.31132735,35.3738432 C2.37559424,35.3088269 0,32.99825 0,30.0025004 C0,27.0017511 2.37559424,24.7461866 5.31132735,24.6861711 L24.6861711,24.6861711 L24.6861711,5.30632652 C24.7511874,2.31057799 26.9367348,0 29.9974996,0 C33.0632663,0 35.3088269,2.31057799 35.3738432,5.30632652 L35.3738432,24.6861711 L54.6886726,24.6861711"></path></symbol><symbol id="check" viewBox="0 0 60 60">    <path fill="currentColor" d="M0,40.0650165 L9.37734421,27.5668918 L21.8754686,36.939235 L47.1867971,0 L59.1247815,9.25231308 L26.5016254,60 L0,40.0650165 L0,40.0650165 Z"></path></symbol><symbol id="episodes" viewBox="0 0 81 60">    <path fill="currentColor" d="M50.9256283,23.8269128 C51.5703585,23.8269128 52.096041,24.3485822 52.096041,25.0521669 L52.096041,58.7693954 C52.096041,59.4154628 51.5703585,60 50.9256283,60 L1.16907437,60 C0.525682496,60 0,59.4154628 0,58.7693954 L0,25.0521669 C0,24.3485822 0.525682496,23.8269128 1.16907437,23.8269128 L50.9256283,23.8269128 L50.9256283,23.8269128 Z M65.0936335,11.9983949 C65.7370253,11.9983949 66.2640451,12.5294275 66.2640451,13.2289995 L66.2640451,48.8777423 C66.2640451,49.5197969 65.7370253,50.0468166 65.0936335,50.0468166 L57.3060465,50.0468166 C56.6064745,50.0468166 56.0754419,49.5197969 56.0754419,48.8777423 L56.0754419,20.0214019 L13.1139646,20.0214019 C12.4692345,20.0214019 11.943553,19.4903692 11.943553,18.7907973 L11.943553,13.2289995 C11.943553,12.5294275 12.4692345,11.9983949 13.1139646,11.9983949 L65.0936335,11.9983949 L65.0936335,11.9983949 Z M79.0850725,0 C79.7271271,0 80.2554841,0.584537187 80.2554841,1.2306046 L80.2554841,34.7685928 C80.2554841,35.4735153 79.7271271,35.9991974 79.0850725,35.9991974 L71.2988228,35.9991974 C70.5965763,35.9991974 70.0682182,35.4735153 70.0682182,34.7685928 L70.0682182,8.01899411 L27.2766187,8.01899411 C26.5770466,8.01899411 26.0500269,7.49197436 26.0500269,6.84858217 L26.0500269,1.2306046 C26.0500269,0.584537187 26.5770466,0 27.2766187,0 L79.0850725,0 L79.0850725,0 Z"></path></symbol><symbol id="play" viewBox="0 0 53 60">    <path fill="currentColor" d="M50.7569187,27.4991667 C51.9423137,28.2494161 52.5025004,29.1247086 52.5025004,30 C52.5025004,31.0003335 51.9423137,31.8106033 50.7569187,32.5008333 L4.37645931,59.4398134 C3.62620889,59.8149386 2.9359789,60 2.37579226,60 C0.940313102,60 0.0650216737,58.8746244 0,56.8739573 L0,3.12604159 C0.0650216737,1.12037329 0.940313102,0.0600204233 2.37579226,0 C2.9359789,0 3.62620889,0.185061437 4.37645931,0.555185394 L50.7569187,27.4991667"></path></symbol><symbol id="edit" viewBox="0 0 32 32">    <path fill="currentColor" d="M16 0c8.833 0 16 7.167 16 16 0 8.8-7.167 16-16 16s-16-7.2-16-16c0-8.833 7.167-16 16-16zM16 1.7c-7.9 0-14.3 6.4-14.3 14.3s6.4 14.3 14.3 14.3 14.3-6.4 14.3-14.3-6.4-14.3-14.3-14.3zM22.333 12.9l0.3-0.267 0.867-0.867c0.467-0.5 0.4-0.767 0-1.167l-1.767-1.767c-0.467-0.467-0.767-0.4-1.167 0l-0.867 0.867-0.267 0.3zM18.3 11.1l-8.6 8.6-0.833 3.767 3.767-0.833 0.967-1 7.633-7.6z"></path></symbol><symbol id="check-mark" viewBox="0 0 32 32">    <path fill="currentColor" d="M14.133 23.5l12.767-12.467c0.033-0.033 0.1-0.1 0.133-0.167l-3.1-3.133c-0.067 0.033-0.133 0.1-0.2 0.167l-11.267 10.933-4.267-4.333-3.233 2.933c0.033 0 1.067 1.067 1.1 1.067l4.767 5 0.133 0.133c0.433 0.4 0.967 0.633 1.5 0.633s1.1-0.233 1.5-0.633z"></path></symbol><symbol id="add-profile" viewBox="0 0 32 32">    <path fill="currentColor" d="M16 0c8.833 0 16 7.133 16 16 0 8.833-7.167 16-16 16s-16-7.167-16-16c0-8.867 7.167-16 16-16zM16 29.533c7.467 0 13.533-6.067 13.533-13.533s-6.067-13.567-13.533-13.567-13.533 6.1-13.533 13.567 6.067 13.533 13.533 13.533zM17.133 14.767h5.033v2.433h-5.033v4.933h-2.467v-4.933h-4.833v-2.433h4.833v-4.933h2.467v4.933z"></path></symbol><symbol id="thumb-up" viewBox="0 0 44 44">    <path fill="currentColor" d="M14.4914731,10.5133658 C14.5025232,10.3721258 14.5112703,10.2600368 14.5373244,9.92616603 C14.6065316,9.03836208 14.6757357,8.14414039 14.7403047,7.30077512 C14.7465683,7.21894322 14.7465683,7.21894322 14.752828,7.13707632 C14.9046548,5.15090242 15.0272627,3.45867565 15.0272627,3.40867664 L15.0272627,1.53263123 L16.7144227,0.711648736 C16.9560747,0.594059357 17.2924682,0.45883302 17.7131667,0.333356234 C19.0883517,-0.0768040048 20.5613519,-0.154799924 22.0533288,0.363315376 C24.5195179,1.21974305 26.1769774,3.46135556 26.8035959,6.84975024 C27.351817,9.81421638 27.5019717,12.9866944 27.3599098,16.0115829 L34.1297665,16.0259652 L34.2527202,16.036358 C37.3831944,16.3009647 40,18.0263548 40,21.50351 C40,22.0672808 39.9265137,22.5421505 39.8025926,23.0579114 C40.5520589,23.9178872 41,25.0573442 41,26.5026539 C41,28.4265345 40.1989133,29.8141446 38.9529692,30.7147706 C39,31.0829242 39,31.2285855 39,31.5017978 C39,33.4256784 38.1989133,34.8132885 36.9529692,35.7139145 C37,36.1120923 37,36.2277294 37,36.5009417 C37,39.978097 34.3831944,41.703487 31.2527202,41.9680938 L31.1299097,41.9784745 L31.0066614,41.9787481 L21.4308667,42 C17.3598399,42 15.3049785,41.5120961 12.3004159,40.2094732 C10.4281403,39.3976996 9.56555009,39.1413507 7.75086356,38.9901527 L5,38.7609533 L5,22.2682088 L9.98007986,19.4037917 L14.4914731,10.5133658 Z M23.8535989,7.39510873 C22.6962315,1.13672751 18.0272627,3.40867664 18.0272627,3.40867664 C18.0272627,3.82250684 17.4358448,11.340371 17.4358448,11.340371 L12.2509485,21.558043 L8,24.003082 L8,36.0010273 C14,36.5009417 13.6061821,39.0005137 21.4308667,39.0005137 L31,38.9792692 C32.339044,38.866085 34,38.2712124 34,36.5009417 C34,34.730671 32.339044,34.1357984 31,34.0013698 L33,33.9801253 C34.339044,33.8669411 36,33.2720686 36,31.5017978 C36,29.7315271 34.339044,29.1366545 33,29.0022259 L35,28.9809814 C36.339044,28.8677972 38,28.2729247 38,26.5026539 C38,24.7323832 36.339044,24.1375106 35,24.003082 L34,23.9818375 C35.339044,23.8686533 37,23.2737808 37,21.50351 C37,19.7332393 35.339044,19.1383668 34,19.0251826 L24.0526449,19.0040499 C24.2446335,18.1909366 24.845597,12.7592672 23.8535989,7.39510873 Z"></path></symbol><symbol id="thumb-down" viewBox="0 0 44 44">    <path fill="currentColor" d="M29.5085269,33.4866342 C29.4974768,33.6278742 29.4887297,33.7399632 29.4626756,34.073834 C29.3934684,34.9616379 29.3242643,35.8558596 29.2596953,36.6992249 C29.2534317,36.7810568 29.2534317,36.7810568 29.247172,36.8629237 C29.0953452,38.8490976 28.9727373,40.5413244 28.9727373,40.5913234 L28.9727373,42.4673688 L27.2855773,43.2883513 C27.0439253,43.4059406 26.7075318,43.541167 26.2868333,43.6666438 C24.9116483,44.076804 23.4386481,44.1547999 21.9466712,43.6366846 C19.4804821,42.780257 17.8230226,40.5386444 17.1964041,37.1502498 C16.648183,34.1857836 16.4980283,31.0133056 16.6400902,27.9884171 L9.87023353,27.9740348 L9.74727981,27.963642 C6.61680565,27.6990353 4,25.9736452 4,22.49649 C4,21.9327192 4.07348633,21.4578495 4.19740742,20.9420886 C3.44794109,20.0821128 3,18.9426558 3,17.4973461 C3,15.5734655 3.80108673,14.1858554 5.04703083,13.2852294 C5,12.9170758 5,12.7714145 5,12.4982022 C5,10.5743216 5.80108673,9.18671152 7.04703083,8.28608555 C7,7.88790771 7,7.77227059 7,7.49905828 C7,4.02190301 9.61680565,2.29651296 12.7472798,2.03190622 L12.8700903,2.02152553 L12.9933386,2.0212519 L22.5691333,2 C26.6401601,2 28.6950215,2.48790389 31.6995841,3.79052685 C33.5718597,4.60230044 34.4344499,4.8586493 36.2491364,5.00984729 L39,5.23904667 L39,21.7317912 L34.0199201,24.5962083 L29.5085269,33.4866342 Z M20.1464011,36.6048913 C21.3037685,42.8632725 25.9727373,40.5913234 25.9727373,40.5913234 C25.9727373,40.1774932 26.5641552,32.659629 26.5641552,32.659629 L31.7490515,22.441957 L36,19.996918 L36,7.99897267 C30,7.49905828 30.3938179,4.99948634 22.5691333,4.99948634 L13,5.02073084 C11.660956,5.133915 10,5.72878756 10,7.49905828 C10,9.26932901 11.660956,9.86420157 13,9.99863023 L11,10.0198747 C9.66095598,10.1330589 8,10.7279314 8,12.4982022 C8,14.2684729 9.66095598,14.8633455 11,14.9977741 L9,15.0190186 C7.66095598,15.1322028 6,15.7270753 6,17.4973461 C6,19.2676168 7.66095598,19.8624894 9,19.996918 L10,20.0181625 C8.66095598,20.1313467 7,20.7262192 7,22.49649 C7,24.2667607 8.66095598,24.8616332 10,24.9748174 L19.9473551,24.9959501 C19.7553665,25.8090634 19.154403,31.2407328 20.1464011,36.6048913 Z"></path></symbol><symbol id="thumb-up-filled" viewBox="0 0 44 44">    <path fill="currentColor" d="M36.2259059,39.0138889 C36.2259059,41.128741 34.2435159,41.8394049 32.6453354,41.9746203 L21.0300552,42 C11.6911102,42 12.1611411,39.0138889 5,38.4166667 L5,24.0833333 L10.073607,21.1623699 L16.2619026,9.95583842 C16.2619026,9.95583842 16.9677739,0.974629541 16.9677739,0.480247712 C16.9677739,0.480247712 22.5402979,-2.23393403 23.9216431,5.2426348 C25.3029884,12.7192036 24.344293,17.3331909 24.0839076,17.9993896 L36.2134373,18.0247694 C37.8116178,18.1599847 39.8064765,18.9823701 39.8064765,21.0972222 C39.8064765,23.2120744 37.8240865,23.9227383 36.2259059,24.0579536 L37.4194295,24.0833333 C39.01761,24.2439284 41,24.9545923 41,27.0694444 C41,29.1842966 39.01761,29.8949605 37.4194295,30.0301758 L35.0323824,30.0555556 C36.6305629,30.2161506 38.612953,30.9268145 38.612953,33.0416667 C38.612953,35.1565188 36.6305629,35.8671827 35.0323824,36.002398 L32.6453354,36.0277778 C34.2435159,36.1883728 36.2259059,36.8990367 36.2259059,39.0138889 Z"></path></symbol><symbol id="thumb-down-filled" viewBox="0 0 44 44">    <path fill="currentColor" d="M7.77409406,4.98611111 C7.77409406,2.87125897 9.75648409,2.16059507 11.3546646,2.02537973 L22.9699448,2 C32.3088898,2 31.8388589,4.98611111 39,5.58333333 L39,19.9166667 L33.926393,22.8376301 L27.7380974,34.0441616 C27.7380974,34.0441616 27.0322261,43.0253705 27.0322261,43.5197523 C27.0322261,43.5197523 21.4597021,46.233934 20.0783569,38.7573652 C18.6970116,31.2807964 19.655707,26.6668091 19.9160924,26.0006104 L7.78656274,25.9752306 C6.18838222,25.8400153 4.19352352,25.0176299 4.19352352,22.9027778 C4.19352352,20.7879256 6.17591354,20.0772617 7.77409406,19.9420464 L6.58057055,19.9166667 C4.98239002,19.7560716 3,19.0454077 3,16.9305556 C3,14.8157034 4.98239002,14.1050395 6.58057055,13.9698242 L8.96761758,13.9444444 C7.36943706,13.7838494 5.38704703,13.0731855 5.38704703,10.9583333 C5.38704703,8.84348119 7.36943706,8.13281729 8.96761758,7.99760195 L11.3546646,7.97222222 C9.75648409,7.81162716 7.77409406,7.10096325 7.77409406,4.98611111 Z"></path></symbol><symbol id="grips" viewBox="0 0 7.5 35.2" fill="currentColor">    <circle cx="5.8" cy="19.6" r="1.6"/><circle cx="1.6" cy="19.6" r="1.6"/><circle cx="5.8" cy="24.3" r="1.6"/><circle cx="1.6" cy="24.3" r="1.6"/><circle cx="5.8" cy="28.9" r="1.6"/><circle cx="1.6" cy="28.9" r="1.6"/><circle cx="5.8" cy="33.6" r="1.6"/><circle cx="1.6" cy="33.6" r="1.6"/><circle cx="5.8" cy="1.6" r="1.6"/><circle cx="1.6" cy="1.6" r="1.6"/><circle cx="5.8" cy="6.3" r="1.6"/><circle cx="1.6" cy="6.3" r="1.6"/><circle cx="5.8" cy="10.9" r="1.6"/><circle cx="1.6" cy="10.9" r="1.6"/><circle cx="5.8" cy="15.6" r="1.6"/><circle cx="1.6" cy="15.6" r="1.6"/></symbol><symbol id="moveToTop" viewBox="0 0 32 15.5">    <path fill="currentColor" d="M0,12.7L16.1,0L32,12.6l-2.2,2.8L16.1,4.6L2.2,15.5L0,12.7z"/></symbol><symbol id="close" viewBox="0 0 25.5 25.5">    <polygon fill="currentColor" class="st0" points="25.5,1.4 24,0 12.7,11.3 1.4,0 0,1.4 11.3,12.7 0,24 1.4,25.5 12.7,14.1 24,25.5 25.5,24 14.1,12.7 "/></symbol><symbol id="down-arrow-small" viewBox="0 0 10 7">    <path fill="currentColor" d="M8.25,7.25 L6.75,8.75 L1.75,3.75 L6.75,-1.25 L8.25,0.25 L4.75,3.75 L8.25,7.25 Z" id="Combined-Shape" transform="translate(5.000000, 3.750000) rotate(-90.000000) translate(-5.000000, -3.750000) "></path></symbol><filter id="dropShadow">    <feGaussianBlur in="SourceAlpha" stdDeviation="3"/><feOffset dx="0" dy="0" result="offsetblur"/><feFlood flood-color="rgba(0,0,0,0.5)"/><feComposite in2="offsetblur" operator="in"/><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter><symbol id="uma-plan-selector-selected" viewBox="0 0 32 32">   <path fill="currentColor" d="M16 0c8.833 0 16 7.167 16 16s-7.167 16-16 16-16-7.167-16-16 7.167-16 16-16zM14.067 23.733l13.2-12.867c0.067-0.033 0.1-0.1 0.133-0.167l-3.2-3.267c-0.067 0.067-0.133 0.133-0.2 0.167l-11.633 11.333-4.433-4.5-3.333 3.033c0 0.033 1.1 1.1 1.1 1.133l4.933 5.133 0.167 0.167c0.867 0.833 2.233 0.833 3.1 0z"></path></symbol><symbol id="uma-plan-selector-not-selected" viewBox="0 0 32 32">   <path fill="#000" d="M15.967 31.933c-8.1 0-15.967-6.433-15.967-15.967 0-8.1 6.433-15.967 15.967-15.967 8.833 0 15.967 7.133 15.967 15.967s-7.133 15.967-15.967 15.967z"></path></symbol><symbol id="facebook-logo" viewBox="0 0 612 612" preserveAspectRatio="xMinYMid">   <path d="M578.057573,0.17272 L33.7689511,0.17272 C15.1157956,0.17272 0.000151111111,15.2883644 0.000151111111,33.94152 L0.000151111111,578.230142 C0.000151111111,596.878764 15.1157956,611.998942 33.7689511,611.998942 L326.797573,611.998942 L326.797573,375.067298 L247.063796,375.067298 L247.063796,282.730853 L326.797573,282.730853 L326.797573,214.635653 C326.797573,135.610587 375.060951,92.5801867 445.557307,92.5801867 C479.326107,92.5801867 508.346996,95.0946756 516.804684,96.2189422 L516.804684,178.804187 L467.911173,178.826853 C429.572773,178.826853 422.150196,197.044809 422.150196,223.779387 L422.150196,282.732364 L513.586018,282.732364 L501.679973,375.068809 L422.150196,375.068809 L422.150196,612.000453 L578.059084,612.000453 C596.707707,612.000453 611.827884,596.880276 611.827884,578.231653 L611.827884,33.94152 C611.826373,15.2883644 596.706196,0.17272 578.057573,0.17272"></path></symbol><symbol id="instagram-logo" viewBox="0 0 612 612" preserveAspectRatio="xMinYMid">   <path d="M544,170 C544,179.388 536.389,187 527,187 L442,187 C432.611,187 425,179.388 425,170 L425,85 C425,75.612 432.611,68 442,68 L527,68 C536.389,68 544,75.612 544,85 L544,170 Z M544,527 C544,536.389 536.389,544 527,544 L85,544 C75.612,544 68,536.389 68,527 L68,255 L126.042,255 C121.457,271.211 119,288.32 119,306 C119,409.277 202.723,493 306,493 C409.277,493 493,409.277 493,306 C493,288.32 490.544,271.211 485.958,255 L544,255 L544,527 Z M306,187 C371.722,187 425,240.278 425,306 C425,371.722 371.722,425 306,425 C240.278,425 187,371.722 187,306 C187,240.278 240.278,187 306,187 L306,187 Z M527,0 L85,0 C38.057,0 0,38.057 0,85 L0,527 C0,573.943 38.057,612 85,612 L527,612 C573.943,612 612,573.943 612,527 L612,85 C612,38.057 573.943,0 527,0 L527,0 Z"></path></symbol><symbol id="twitter-logo" viewBox="0 0 753 612" preserveAspectRatio="xMinYMid">   <path d="M752.409201,72.9169906 C724.726452,85.1934372 694.976873,93.4926432 663.749687,97.223869 C695.622283,78.1197499 720.099246,47.8675117 731.62398,11.8217747 C701.79999,29.5120675 668.76262,42.3579931 633.600715,49.2828566 C605.441122,19.2796705 565.322471,0.533943424 520.922859,0.533943424 C435.671107,0.533943424 366.554591,69.6489409 366.554591,154.896137 C366.554591,166.996425 367.919821,178.776286 370.551573,190.074747 C242.259365,183.638876 128.513926,122.182231 52.3783921,28.7892089 C39.0905509,51.5881072 31.4792754,78.1045638 31.4792754,106.394757 C31.4792754,159.950072 58.7322581,207.19708 100.150839,234.879829 C74.8462333,234.079522 51.0450521,227.134916 30.2309777,215.572216 C30.2203474,216.216107 30.2173102,216.863035 30.2173102,217.511482 C30.2173102,292.304564 83.4279007,354.696673 154.046323,368.875938 C141.092576,372.402152 127.455454,374.288266 113.376417,374.288266 C103.429519,374.288266 93.7590074,373.320911 84.3329926,371.519839 C103.977737,432.847402 160.984854,477.476326 228.534164,478.724623 C175.704744,520.124981 109.145568,544.8024 36.8232655,544.8024 C24.363067,544.8024 12.0759901,544.074986 0,542.64901 C68.3131712,586.447254 149.454045,611.999393 236.628357,611.999393 C520.564467,611.999393 675.830233,376.783343 675.830233,172.794479 C675.830233,166.103482 675.678372,159.445894 675.383762,152.826271 C705.543365,131.061546 731.715097,103.873864 752.409201,72.9169906"></path></symbol><symbol id="youtube-logo" viewBox="0 0 869 611" preserveAspectRatio="xMinYMid">   <path d="M344.583367,419.231578 L344.542768,175.20748 L579.212438,297.642065 L344.583367,419.231578 Z M859.81519,132.932866 C859.81519,132.932866 851.328389,73.0861828 825.290571,46.7295833 C792.26663,12.138802 755.245893,11.9658781 738.270787,9.94191744 C616.739917,1.15738673 434.434591,1.15738673 434.434591,1.15738673 L434.054158,1.15738673 C434.054158,1.15738673 251.754846,1.15738673 130.216458,9.94342113 C113.239849,11.9673818 76.2356521,12.138802 43.1966742,46.731087 C17.158856,73.0861828 8.68558821,132.932866 8.68558821,132.932866 C8.68558821,132.932866 0.000300737101,203.21663 0.000300737101,273.495883 L0.000300737101,339.382871 C0.000300737101,409.663628 8.68558821,479.945888 8.68558821,479.945888 C8.68558821,479.945888 17.158856,539.798586 43.1981779,566.149171 C76.2371558,600.739952 119.633519,599.646772 138.961893,603.275166 C208.442689,609.937996 434.248134,611.999549 434.248134,611.999549 C434.248134,611.999549 616.741421,611.724374 738.272291,602.941347 C755.247397,600.912876 792.268134,600.739952 825.292075,566.149171 C851.329893,539.798586 859.816694,479.945888 859.816694,479.945888 C859.816694,479.945888 868.492959,409.665131 868.492959,339.382871 L868.492959,273.495883 C868.489952,203.21663 859.81519,132.932866 859.81519,132.932866 L859.81519,132.932866 Z"></path></symbol><symbol id="rows" viewBox="0 0 16 16">   <path d="M0,2 L16,2 L16,3.5 L0,3.5 L0,2 Z M0,7 L12,7 L12,8.5 L0,8.5 L0,7 Z M0,12 L16,12 L16,13.5 L0,13.5 L0,12 Z"></path></symbol><symbol id="grid" viewBox="0 0 16 16">   <path fill="currentColor" d="M2,2 L6,2 L6,6 L2,6 L2,2 Z M2,10 L6,10 L6,14 L2,14 L2,10 Z M10,10 L14,10 L14,14 L10,14 L10,10 Z M10,2 L14,2 L14,6 L10,6 L10,2 Z"></path></symbol><symbol id="mylist-add" viewBox="0 0 14 14">   <polygon fill="currentColor" points="6.32918892 6.32913969 6.32918892 -4.92334366e-05 7.67086031 -4.92334366e-05 7.67086031 6.32913969 14.0000492 6.32913969 14.0000492 7.67081108 7.67086031 7.67081108 7.67086031 14 6.32918892 14 6.32918892 7.67081108 0 7.67081108 0 6.32913969"></polygon></symbol><symbol id="mylist-added" viewBox="0 0 14 14">   <polygon fill="currentColor" points="5.48335262 11.4770745 1.18125415 7.16039261 0 8.34164677 5.65835323 14 15.4146375 1.00620431 14.0729662 0.0145341512"></polygon></symbol><symbol id="expand" viewBox="0 0 32 32">   <g id="expand-symbol"><rect fill="currentColor" x="0" y="0" width="3.55555556" height="12.4444444"></rect><rect fill="currentColor" x="28.4444444" y="19.5555556" width="3.55555556" height="12.4444444"></rect><rect fill="currentColor" x="0" y="0" width="12.4444444" height="3.55555556"></rect><rect fill="currentColor" x="19.5555556" y="28.4444444" width="12.4444444" height="3.55555556"></rect><path d="M18.6666667,18.6666667 L30.2222222,30.2222222" stroke="currentColor" stroke-width="3"></path><path d="M1.77777778,1.77777778 L13.3333333,13.3333333" stroke="currentColor" stroke-width="3"></path></g></symbol><symbol id="audio-on" viewBox="0 0 22 22">   <g id="group-audio-on-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g stroke="currentColor"><g  transform="translate(2.000000, 3.000000)"><path d="M8.5,16.7928932 L8.5,1.20710678 L4.20710678,5.5 L0.5,5.5 L0.5,12.5 L4.20710678,12.5 L8.5,16.7928932 Z" ></path><path d="M13.0366802,12.6818415 C15.0522894,10.6662322 15.0522894,7.39828393 13.0366802,5.38267468 L13.0366802,5.38267468" ></path><path d="M16.5066331,14.5066331 C19.530047,11.4832193 19.530047,6.58129686 16.5066331,3.55788298" ></path></g></g></g></symbol><symbol id="audio-off" viewBox="0 0 17 17">   <g id="group-audio-off-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g  stroke="currentColor"><path d="M7.5,14.2928932 L7.5,3.70710678 L4.70710678,6.5 L1.5,6.5 L1.5,11.5 L4.70710678,11.5 L7.5,14.2928932 Z" ></path><path d="M10.5,6.5 L16,12"  stroke-width="1.5"></path><path d="M10.5,6.5 L16,12"  transform="translate(13.250000, 9.250000) scale(-1, 1) translate(-13.250000, -9.250000) "></path></g></g></symbol><symbol id="dolby-vision-atmos" viewBox="0 0 281.9 35.3">   <path fill="currentColor" d="M277.9,35.3H4c-2.2,0-4-1.8-4-4V4c0-2.2,1.8-4,4-4h273.9c2.2,0,4,1.8,4,4v27.3C281.9,33.5,280.1,35.3,277.9,35.3z M67.8,6.9h-3l-4.3,12.8c-0.8,2.3-1.6,4.8-2.1,6.4h-0.1c-0.5-1.6-1.3-4.1-2.1-6.4L52,6.9h-3.1L56.5,29h3.7L67.8,6.9z M70.9,29h3V6.9h-3V29z M90.3,22.9c0,2.3-1.6,3.9-5.8,3.9c-1.4,0-4.4-0.1-6.5-0.9v2.6c1.9,0.8,5.3,0.9,6.4,0.9c4.5,0,9-1.5,9-6.8c0-5.3-3.5-6.3-7.1-6.5c-3-0.2-5.4-0.1-5.4-3.5c0-2.3,1.9-3.6,5.2-3.6c1.4,0,3.5,0.1,5.6,0.8V7.3c-1.8-0.7-4.4-0.8-5.5-0.8c-4.3,0-8.4,1.3-8.4,6.3c0,4.8,3.1,6.1,6.9,6.2C88,19.1,90.3,19.4,90.3,22.9z M97,29h3V6.9h-3V29z M113.5,29.4c7.4,0,9.4-4.3,9.4-11.4c0-7.1-2.1-11.4-9.4-11.4c-7.4,0-9.4,4.3-9.4,11.4C104.1,25.1,106.2,29.4,113.5,29.4z M113.5,27c-5,0-6.3-2.9-6.3-9s1.4-9,6.3-9c5,0,6.3,2.9,6.3,9S118.5,27,113.5,27z M138.9,20.3l-8.6-13.3h-3.2V29h2.9v-6.1c0-3.3,0-8.1-0.1-11.6h0.1c1,1.8,1.7,2.9,2.6,4.4l8.6,13.3h3.2V6.9h-2.9V13c0,3.3,0,8.1,0.1,11.6h-0.1C140.5,22.9,139.8,21.7,138.9,20.3z M163.4,17.7c0-1.7-1.3-3-3-3c-1.7,0-3,1.3-3,3s1.3,3,3,3C162,20.7,163.4,19.3,163.4,17.7z M187.4,23.6l1.9,5.4h3.1l-7.9-22.1h-3.7L172.8,29h3.1l1.9-5.4H187.4z M178.6,21.3l2.8-8.2c0.5-1.6,0.8-2.4,1.1-3.6h0.1c0.4,1.1,0.6,2,1.1,3.6l2.8,8.2H178.6z M200.4,29V9.2h6.6V6.9h-16.1v2.3h6.6V29H200.4z M227.8,6.9l-6.9,13.5h-0.1l-6.9-13.5h-3.8V29h2.9v-6.2c0-3.9-0.2-8.4-0.2-12.3h0.1c0.8,1.9,1.4,3.3,2.3,5l4.5,8.9h2.2l4.5-8.9c0.9-1.7,1.5-3.2,2.3-5h0.1c0,3.9-0.2,8.4-0.2,12.3V29h2.9V6.9H227.8z M245.3,29.4c7.4,0,9.4-4.3,9.4-11.4c0-7.1-2.1-11.4-9.4-11.4c-7.4,0-9.4,4.3-9.4,11.4C235.8,25.1,237.9,29.4,245.3,29.4z M245.3,27c-5,0-6.3-2.9-6.3-9c0-6.1,1.4-9,6.3-9c5,0,6.3,2.9,6.3,9C251.6,24.1,250.2,27,245.3,27z M270.4,22.9c0,2.3-1.6,3.9-5.8,3.9c-1.4,0-4.4-0.1-6.5-0.9v2.6c1.9,0.8,5.3,0.9,6.4,0.9c4.5,0,9-1.5,9-6.8s-3.5-6.3-7.1-6.5c-3-0.2-5.4-0.1-5.4-3.5c0-2.3,1.9-3.6,5.2-3.6c1.4,0,3.5,0.1,5.6,0.8V7.3c-1.8-0.7-4.4-0.8-5.5-0.8c-4.3,0-8.4,1.3-8.4,6.3c0,4.8,3.1,6.1,6.9,6.2C268,19.1,270.4,19.4,270.4,22.9z M8,29h31.9V6.9H8V29z M36.1,26.2h-3.6c-3.8,0-6.9-3.7-6.9-8.2c0-4.4,3.1-8.2,6.9-8.2h3.6V26.2z M15.4,26.2h-3.6V9.8h3.6c3.8,0,6.9,3.7,6.9,8.2C22.3,22.5,19.2,26.2,15.4,26.2z"/></symbol><symbol id="dolby-vision" viewBox="0 0 153 35.3">   <path fill="currentColor" d="M149,35.3H4c-2.2,0-4-1.8-4-4V4c0-2.2,1.8-4,4-4h145c2.2,0,4,1.8,4,4v27.3C153,33.5,151.2,35.3,149,35.3z M67.8,6.9h-3l-4.3,12.8c-0.8,2.3-1.6,4.8-2.1,6.4h-0.1c-0.5-1.6-1.3-4.1-2.1-6.4L52,6.9h-3.1L56.5,29h3.7L67.8,6.9z M70.9,29h3V6.9h-3V29z M90.3,22.9c0,2.3-1.6,3.9-5.8,3.9c-1.4,0-4.4-0.1-6.5-0.9v2.6c1.9,0.8,5.3,0.9,6.4,0.9c4.5,0,9-1.5,9-6.8c0-5.3-3.5-6.3-7.1-6.5c-3-0.2-5.4-0.1-5.4-3.5c0-2.3,1.9-3.6,5.2-3.6c1.4,0,3.5,0.1,5.6,0.8V7.3c-1.8-0.7-4.4-0.8-5.5-0.8c-4.3,0-8.4,1.3-8.4,6.3c0,4.8,3.1,6.1,6.9,6.2C88,19.1,90.3,19.4,90.3,22.9z M97,29h3V6.9h-3V29z M113.5,29.4c7.4,0,9.4-4.3,9.4-11.4c0-7.1-2.1-11.4-9.4-11.4c-7.4,0-9.4,4.3-9.4,11.4C104.1,25.1,106.2,29.4,113.5,29.4z M113.5,27c-5,0-6.3-2.9-6.3-9s1.4-9,6.3-9c5,0,6.3,2.9,6.3,9S118.5,27,113.5,27z M138.9,20.3l-8.6-13.3h-3.2V29h2.9v-6.1c0-3.3,0-8.1-0.1-11.6h0.1c1,1.8,1.7,2.9,2.6,4.4l8.6,13.3h3.2V6.9h-2.9V13c0,3.3,0,8.1,0.1,11.6h-0.1C140.5,22.9,139.8,21.7,138.9,20.3z M8,29h31.9V6.9H8V29z M36.1,26.2h-3.6c-3.8,0-6.9-3.7-6.9-8.2c0-4.4,3.1-8.2,6.9-8.2h3.6V26.2z M15.4,26.2h-3.6V9.8h3.6c3.8,0,6.9,3.7,6.9,8.2C22.3,22.5,19.2,26.2,15.4,26.2z"/></symbol><symbol id="dolby-atmos" viewBox="0 0 158 35.3">   <path fill="currentColor" d="M154,35.3H4c-2.2,0-4-1.8-4-4V4c0-2.2,1.8-4,4-4h150c2.2,0,4,1.8,4,4v27.3C158,33.5,156.2,35.3,154,35.3z M63.4,23.6l1.9,5.4h3.1L60.5,6.9h-3.7L48.9,29H52l1.9-5.4H63.4z M54.6,21.3l2.8-8.2c0.5-1.6,0.8-2.4,1.1-3.6h0.1c0.4,1.1,0.6,2,1.1,3.6l2.8,8.2H54.6z M76.5,29V9.2h6.6V6.9H67v2.3h6.6V29H76.5z M103.9,6.9L97,20.4h-0.1L90,6.9h-3.8V29h2.9v-6.2c0-3.9-0.2-8.4-0.2-12.3H89c0.8,1.9,1.4,3.3,2.3,5l4.5,8.9h2.2l4.5-8.9c0.9-1.7,1.5-3.2,2.3-5h0.1c0,3.9-0.2,8.4-0.2,12.3V29h2.9V6.9H103.9z M121.3,29.4c7.4,0,9.4-4.3,9.4-11.4c0-7.1-2.1-11.4-9.4-11.4c-7.4,0-9.4,4.3-9.4,11.4C111.9,25.1,113.9,29.4,121.3,29.4z M121.3,27c-5,0-6.3-2.9-6.3-9c0-6.1,1.4-9,6.3-9c5,0,6.3,2.9,6.3,9C127.6,24.1,126.3,27,121.3,27z M146.4,22.9c0,2.3-1.6,3.9-5.8,3.9c-1.4,0-4.4-0.1-6.5-0.9v2.6c1.9,0.8,5.3,0.9,6.4,0.9c4.5,0,9-1.5,9-6.8s-3.5-6.3-7.1-6.5c-3-0.2-5.4-0.1-5.4-3.5c0-2.3,1.9-3.6,5.2-3.6c1.4,0,3.5,0.1,5.6,0.8V7.3c-1.8-0.7-4.4-0.8-5.5-0.8c-4.3,0-8.4,1.3-8.4,6.3c0,4.8,3.1,6.1,6.9,6.2C144.1,19.1,146.4,19.4,146.4,22.9z M8,29h31.9V6.9H8V29z M36.1,26.2h-3.6c-3.8,0-6.9-3.7-6.9-8.2c0-4.4,3.1-8.2,6.9-8.2h3.6V26.2z M15.4,26.2h-3.6V9.8h3.6c3.8,0,6.9,3.7,6.9,8.2C22.3,22.5,19.2,26.2,15.4,26.2z"/></symbol><symbol id="play-with-ring" viewBox="0 0 28 28">   <g fill="none" fill-rule="evenodd"><circle stroke="#FFF" class="ring" fill="#000" fill-opacity="0.5" stroke-width="1" cx="14" cy="14" r="13"></circle><polygon  fill="currentColor" class="arrow" points="10 20 10 8 20 14"></polygon></g></symbol>'+o}}))},renderWarningOverlay:function(){if(this.context.getModelData("truths","profileMisMatchDetectionEnabled")&&this.props.showProfileMisMatchMessage)return l.createElement(n,null)}});t.exports=a(m(z))});C.r("akira/components/artwork/BoxartContainer.jsx",function(a,e,t){"use strict";var r=a("react"),n=a("classnames"),c=function(a){var e=a.className,t=a.title,c=a.children;return r.createElement("div",{className:n(e,"boxart-container")},c,t&&r.createElement("div",{className:"fallback-text-container","aria-hidden":!0},r.createElement("div",{className:"fallback-text"},t)))};e.exports=c});C.r("akira/components/artwork/heroImages.jsx",function(t,e,s){"use strict";var r=t("lodash"),o=t("react"),a=t("prop-types"),i=t("create-react-class"),n=t("./imageRotator.jsx"),p=t("../../../common/imageExtension"),c=i({displayName:"HeroImages",contextTypes:{models:a.object.isRequired},statics:{getPaths:function(t,e,s){var r=p.getExtensionForOpaqueImage(t),o=[["bookmarkPosition"],["BGImages",s.height,r]];return o=s.isShow?o.concat([["current","interestingMoment",s.size,r]]):o.concat([["recentInterestingMoment",s.height,r]])}},getImageFocalPoint:function(t){var e=t.focalPoint,s=void 0;if(!this.props.focalPointData||!e)return null;try{s=JSON.parse(e),s=s&&s.x}catch(t){}return s&&r.assign({x:s},this.props.focalPointData)},getBackgroundImages:function(){var t=[],e=[],s=void 0,r=this.props.model,o=p.getExtensionForOpaqueImage(this.context.models),a=r.getValueSync(["BGImages",this.props.height,o]);if(this.props.watched&&(s=this.props.isStandalone?r.getValueSync(["recentInterestingMoment",this.props.height,o]):r.getValueSync(["current","interestingMoment",this.props.size,o]))&&s.url)return t=[s.url],e=[this.getImageFocalPoint(s)],{urls:t};if(a)for(var i=0;i<a.length;i++){var n=a[i];n&&n.url&&(t.push(n.url),e.push(this.getImageFocalPoint(n)))}return{urls:t,focalPoints:e}},render:function(){var t=this.getBackgroundImages();return o.createElement(n,{auto:this.props.auto,firstDelay:this.props.firstDelay,stop:this.props.stop,duration:this.props.duration,images:t.urls,focalPoints:this.props.focalPointData&&t.focalPoints,preloadImage:this.props.preloadImage,setCurrentImgUrlCallback:this.props.setCurrentImgUrlCallback,style:this.props.style,className:this.props.className},this.props.children)}});e.exports=c});C.r("akira/components/artwork/imageRotator.jsx",function(t,e,s){"use strict";var o=(t("prop-types"),t("react")),a=t("create-react-class"),i=t("classnames"),n=t("./imageRotatorCard.jsx"),r=t("react-transition-group/TransitionGroup"),m=a({displayName:"ImageRotator",timeout:0,numRotations:0,getInitialState:function(){return{imageIndex:0,numImagesLoaded:0}},nextImage:function(){var t=this.props.images,e=t&&t.length||0,s=(this.state.imageIndex+1)%e;s>=this.state.numImagesLoaded?this.timeout=setTimeout(this.nextImage,500):(this.numRotations+=1,this.timeout=setTimeout(this.nextImage,this.props.duration),this.setState({imageIndex:s}))},preloadImages:function(){var t=this,e=this.props.images;setTimeout(function(){for(var s=0;s<e.length;s++){var o=new Image;o.onload=t.handleImageLoaded.bind(t,s),o.src=e[s]}},150)},handleImageLoaded:function(t){var e=this,s=function(){e.isMounted()&&(e.setState({numImagesLoaded:e.state.numImagesLoaded+1}),0!==t||e.state.numImagesLoaded||(e.props.onFirstImageLoaded&&e.props.onFirstImageLoaded(),e.props.auto&&e.start()))};-1!==window.location.search.indexOf("throttle")?setTimeout(s,2e3):s()},componentDidMount:function(){this.preloadImages()},componentDidUpdate:function(t){!t.images.length&&this.props.images.length&&this.preloadImages(),this.props.stop?this.stop():this.props.auto&&this.start()},componentWillUnmount:function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},mouseLeaveHandler:function(){this.props.auto||this.stop()},mouseEnterHandler:function(){this.props.auto||this.start()},setCurrentImgUrlCallback:function(t){var e=this.props.setCurrentImgUrlCallback;"function"==typeof e&&e(t)},start:function(){if(!this.timeout&&!this.props.stop){var t=void 0;t=this.props.firstDelay&&0===this.state.imageIndex?this.props.firstDelay:this.props.duration,this.timeout=setTimeout(this.nextImage,t)}},stop:function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},render:function(){var t=this.props,e=this.state.imageIndex,s=t.style||{},a=this.props.focalPoints,m=this.props.preloadImage,u={"image-rotator":!0};t.className&&(u[t.className]=!0);var p=void 0;if(!this.state.numImagesLoaded&&m)p=o.createElement(n,{key:"image-rotator-image-preload",isPreload:!0,duration:this.props.duration,index:0,url:m,numRotations:0}),this.setCurrentImgUrlCallback(m);else if(this.state.numImagesLoaded){var d=this.props.stop?"-stopped":"",h=t.images[e];p=o.createElement(n,{key:"image-rotator-image-"+e+d,duration:this.props.duration,index:e,url:h,numRotations:this.numRotations,focalPoint:a&&a[e]}),this.setCurrentImgUrlCallback(h)}return o.createElement("div",{id:t.id,key:t.id,className:i(u),style:s,onMouseEnter:this.mouseEnterHandler,onMouseLeave:this.mouseLeaveHandler},o.createElement(r,null,p),this.props.children)}});e.exports=m});C.r("akira/components/artwork/imageRotatorCard.jsx",function(e,t,r){"use strict";var a=e("prop-types"),o=e("react"),n=e("react-dom"),s=e("create-react-class"),i=e("classnames"),c=e("../../../utils/transition"),d=e("../../../components/CenteredImage.jsx"),l=s({displayName:"ImageRotatorCard",contextTypes:{models:a.object},componentDidMount:function(){c.show(n.findDOMNode(this),Object.assign({},c.presets.crossFadeIn,{duration:750}))},componentWillUnmount:function(){c.hide(n.findDOMNode(this),Object.assign({},c.presets.crossFadeOut,{duration:750}))},renderCentered:function(){var e=this.props,t=e.isPreload,r=e.focalPoint,a=e.url,n=i({"image-rotator-image":!0,"preload-image":t});return o.createElement(d,{focalPoint:r,url:a,className:n})},render:function(){var e=this.props,t=e.focalPoint,r=e.isPreload;if(t)return this.renderCentered();var a={backgroundImage:"url("+this.props.url+")"},n=r?"preload-image":"";return o.createElement("div",{className:"image-rotator-image "+n,style:a})}});t.exports=l});C.r("akira/components/bigRow/bigRow.jsx",function(e,t,i){"use strict";var o=e("prop-types"),s=e("react"),a=e("create-react-class"),n=e("classnames"),r=e("../../../utils/billboard"),l=e("../../../player/nfplayer/uiContext"),d=e("../../../player/nfplayer/uiLabel"),p=e("../controls/iconButton.jsx"),h=e("./../title/myListButton.jsx"),u=e("../../../player/nfplayer/NFPlayer.jsx"),c=e("../controls/playLink.jsx"),m=e("../../utils/akiraContextTypes"),y=e("../../../utils/cssAnimation"),f=e("../../utils/linkDefs.jsx"),g=e("../billboard/common/Title"),v=e("../../../utils/eventBus"),b=e("../../../player/nfplayer/common/playerInterfaceManager"),C=e("../billboard/supplementalAudioToggle.jsx"),I=e("../../../mdx2/hoc/mdxLoader.jsx"),P=e("../../../player/domains/videoPlayer/videoPlayerConstants"),V=P.playerIdentifier,w=e("../billboard/common/BillboardCTAs"),_=e("../../utils/windowVisibility.jsx"),x=e("../../utils/inViewport.jsx"),E=e("../../utils/browseVideoLogging.jsx"),L="discovery/akira/Billboard",R=n("bigRowItem"),B=n("video-component-container"),S=n("hashtag"),O=a({displayName:"BigRow",contextTypes:Object.assign({jsongDocument:o.object.isRequired,getI18nString:o.func.isRequired,getModelData:o.func.isRequired,models:o.object,playerApp:o.object.isRequired,routeHandler:o.object.isRequired,history:o.object.isRequired},m),getDefaultProps:function(){return{videoHasPlayed:!1,videoCompleted:!1,playerSessionId:V.BigRow}},getInitialState:function(){return this.scope={firstInViewport:null},{isMutedByDefault:!(!this.context.getModelData("truths").mdx2Enabled||!I.isCasting())}},shouldComponentUpdate:function(e,t){if(this.props.videoCompleted&&e.videoCompleted){if(!this.props.inViewport&&e.inViewport)return!0}else{if(this.props.isWindowVisible!==e.isWindowVisible)return!0;if(this.props.inViewport&&e.inViewport&&!e.videoHasPlayed)return!0;if(this.props.inViewport!==e.inViewport)return!0;if(this.props.videoCompleted!==e.videoCompleted)return!0;if(this.props.videoHasPlayed!==e.videoHasPlayed)return!0;if(this.props.inViewport&&this.player&&this.player.getPaused())return!0}return this.props.useAvailablePhase!==e.useAvailablePhase},componentDidMount:function(){this.addedContext=this._getContextForLogging(),this.props.videoHasPlayed||this.props.logPrepareStarted(this.props,this.addedContext),v.on("myList:remove:end",this.onMyListChange),v.on("myList:add:end",this.onMyListChange)},componentWillUnmount:function(){this.player=null,this.props.videoHasPlayed||this.props.logStartPlayCancel(this.props,"BLURRED"),v.removeListener("myList:remove:end",this.onMyListChange),v.removeListener("myList:add:end",this.onMyListChange)},componentWillUpdate:function(e){!this.props.inViewport&&e.inViewport&&this.props.logImpression(),this._playOrPauseVideoBasedOnViewport(e)},handleMoreInfo:function(){var e=f.getTitleRoute(this.context.models,this.context.isKidsPage).makePath({id:this.props.videoId});this.context.routeHandler.url!==e?this.context.history.pushState(e):window.scrollTo(0,0)},onPlayerReady:function(e){this.player=e},handlePlayerLoad:function(){this.props.videoHasPlayed||(this.props.logPrepareEnded(this.props,this.addedContext),this._playOrPauseVideoBasedOnViewport(this.props))},handleEnded:function(){this._endVideo(this._closeJawBoneAndFadeInButtons,!0)},handlePlayerError:function(e){this._handleError(e),this._setCompletedState(this.props.closeJaw)},handleAutoplayBlocked:function(){this._handleError(new Error("BigRow autoplay blocked")),this._setCompletedState(this.props.closeJaw)},onPlayerClosing:function(){this._setCompletedState(this.props.closeJaw)},onMyListChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.props.videoId===e.videoId&&this.forceUpdate()},_handleError:function(e){var t=void 0;t="string"==typeof e?e:this.props.loggingConstants.VIDEO_ERRORS.LOAD_ERROR,this.props.logStartPlayError(this.props,t)},_playOrPauseVideoBasedOnViewport:function(e){var t=e.videoCompleted,i=e.isWindowVisible,o=e.inViewport;if(!t&&this.player){var s=!this.player.getPaused();!i&&s?this._pauseOrCollapseVideoWithoutDelay():!s&&o&&i?this._playVideo():s&&!o&&this._pauseOrCollapseVideo()}},_playVideo:function(){this.props.logPrepareEnded(this.props,this.addedContext),this.props.logStartPlayStarted(this.props,this.addedContext),this.player&&this.player.isLoaded()&&(this.props.videoHasPlayed&&!this.player.getPaused()||(b.pauseAllPlayersExceptActive(V.BigRow,this.context.playerApp),this.props.openJaw(),this.props.setPlayState(),this.player.play(),this._fadeInVolume()))},_pauseOrCollapseVideo:function(){this._fadeOutVolume(this._pauseVideoFromScroll)},_pauseOrCollapseVideoWithoutDelay:function(){this._pauseVideo()},_resetAndCollapseVideo:function(e){this.props.videoHasPlayed&&this._endVideo(e)},_fadeOutVolume:function(e){r.fadeOutVolume(this.player,10,e,!0)},_fadeInVolume:function(){r.fadeInVolume(this.player,10,!0)},_pauseVideo:function(){this.player&&this.player.pause()},_pauseVideoFromScroll:function(){this._pauseVideo()},_endVideo:function(e,t){e=e||function(){};var i=this._buildEndedCallback(e);t?this._fadeOutVolume(i):this._buildSetCompletedStateCallback()()},_buildEndedCallback:function(e){return function(){this._fadeOutButtons(this._buildSetCompletedStateCallback(e))}.bind(this)},_buildSetCompletedStateCallback:function(e){return function(){this._setCompletedState(e),this._fadeOutVideoLogo()}.bind(this)},_closeJawBoneAndFadeInButtons:function(){this.props.closeJaw(),this._fadeInButtons()},_setCompletedState:function(e){this.props.setCompletedState(e)},_fadeOutButtons:function(e){var t=this.refs.buttonContainer;y.animateIt(t,[{opacity:1},{opacity:0}],{duration:500,fill:"forwards"},e)},_fadeInButtons:function(e){var t=this.refs.buttonContainer;setTimeout(function(){y.animateIt(t,[{opacity:0},{opacity:1}],{duration:500,fill:"forwards"},e)},500)},_fadeOutVideoLogo:function(e){var t=this.refs.logoDuringVideo;y.animateIt(t,[{opacity:1},{opacity:0}],{duration:500,fill:"forwards"},e)},_getContextForLogging:function(){return{rowNum:this.context.rowNum,rankNum:this.context.rankNum,trackId:this.context.trackId,requestId:this.context.requestId}},render:function(){var e=!this.props.videoHasPlayed||this.props.videoCompleted,t=n("static-image",{animate:e}),i=n("metadata",{animate:e}),o=n("playLink","btn-flat",{hide:!e&&!this.props.isNewsFeedRow,"btn-flat-primary":this.props.isNewsFeedRow}),a=n({"more-info-button":e,"more-info-button-hide":!e}),r=n("button-container","forward-leaning",{animate:this.props.videoHasPlayed||this.props.videoCompleted}),m=n("movable-container",{"horizontal-logo":this.props.usingHorizontalLogo}),y=n("logo-during-video",{animate:this.props.videoHasPlayed,hide:this.props.videoCompleted}),f={backgroundImage:"url("+this.props.staticImageUrl+")"},v=void 0,b=void 0,I=void 0,P=void 0,V=void 0,_=s.createElement(h,{ref:"myListButton",model:this.props.videoModel,videoId:this.props.videoId,useCapsForLabel:!1}),x=s.createElement(p,{extraClass:a,label:this.props.moreInfoCtaLabel,onClick:this.handleMoreInfo});if(this.props.isNewsFeedRow)if(this.props.trailerId){var E=s.createElement(c,{className:o,videoId:this.props.trailerId},s.createElement("div",{className:"playRing"},s.createElement("div",{className:"play icon-play"})),s.createElement("div",{className:"annotation"},this.props.primaryCtaLabel));V=s.createElement("div",null,E,x)}else V=s.createElement("div",null,_,x);else V=s.createElement(w,{billboardData:this.props.data,videoModel:this.props.videoModel,useAvailablePhase:this.props.useAvailablePhase,reverseButtonOrder:!0});var O=this.context.playerApp.getAPI().playerApp.getSupplementalVideoMuteState(this.state.isMutedByDefault);if(!this.props.videoCompleted){var k=this.context.jsongDocument.getValueSync(["videos",this.props.motionId,"playbackData",l.BIG_ROW])||{};v=s.createElement(u,{ref:"nfplayer",muted:O,controls:!1,uiLabel:d.BILLBOARD_BIG_ROW,videoId:this.props.motionId,onAutoplayBlocked:this.handleAutoplayBlocked,onPlayerClosing:this.onPlayerClosing,onPlayerEnd:this.handleEnded,onPlayerError:this.handlePlayerError,onPlayerLoad:this.handlePlayerLoad,onPlayerNotAvailable:this.onPlayerClosing,onPlayerReady:this.onPlayerReady,playbackData:{manifest:k&&k.manifest?k.manifest:void 0},trackId:this.context.trackId,onNotSupported:this.handlePlayerError,isImplicitAutoPlay:!0,playerSessionId:this.props.playerSessionId,staticConfiguration:{disableTrackStickiness:!0,enableTimedTextRendering:!0,focusOnMount:!1,preLoad:"auto",preventSVGDefinitionsRendering:!0,uiContext:l.BIG_ROW,respectBookmark:!1,smartSubtitles:!0}}),P=s.createElement(C,{audioOnLabel:this.context.getI18nString(L,"billboard.actions.audioOn"),audioOffLabel:this.context.getI18nString(L,"billboard.actions.audioOff"),className:"audio-btn",isMutedByDefault:this.state.isMutedByDefault})}return this.props.showLogoDuringVideo&&(I=s.createElement("img",{ref:"logoDuringVideo",className:y,src:this.props.logoUrl,title:this.props.videoTitle})),this.props.hashtag&&(b=s.createElement("div",{className:S},this.props.hashtag)),s.createElement("div",{ref:"bigRowItem",className:R},s.createElement("div",{ref:"staticImage",className:t,style:f,"aria-label":this.props.videoTitle?this.props.videoTitle:null}),s.createElement("div",{className:i},s.createElement("div",{className:m},s.createElement(g,{videoId:this.props.videoId,title:this.props.videoTitle,isRtl:this.context.isRtl,assets:this.props.assets}))),s.createElement("div",{className:B},I,v,s.createElement("div",{ref:"buttonContainer",className:r},V,P,b)))}});t.exports=_(x(E(O)))});C.r("akira/components/billboard/BillboardRow.js",function(e,t,i){"use strict";var o=e("prop-types"),s=e("react"),r=e("create-react-class"),a=e("lodash"),l=e("classnames"),n=e("shakti-platform/dist/ui/ShaktiProperties"),d=e("./factories/falcor"),c=e("./factories/billboards"),u=e("./BillboardType"),b=e("./common/helpers"),m=e("../controls/playbutton.jsx"),h=e("../../../common/imageExtension"),g=e("../../../utils/browserScroll"),p=e("../../utils/akiraContextTypes"),I=e("../../../utils/eventBus"),v=e("../../../utils/billboard"),f=e("../../../common/safeTimeout"),y=e("./common/ReportMetrics"),k=e("../../../components/presentationTracking/presentationTrackingContainer.jsx"),T=e("../../../components/presentationTracking/trackingComponents/noRowPresTracking"),S=n.get("oui.billboard.backgroundImageStartsPlayVideoIds"),x=S&&S.split(",").map(Number)||[],R=!n.get("netflix.ui.akira.originals.billboard.disableImpressionToken"),D=r({displayName:"BillboardRow",statics:{getPaths:function(e,t,i){var o=h.getExtensionForTransparentImage(e),s=[];s.push([["billboards",["length","trackIds","requestId"]],["billboards","billboards",{to:1},o,"data"],["billboards","billboards",{to:1},o,"playbackVideo","horizontalBackground","playbackData","motionBillboard"]]);var r=d(e,t,i);return s.push(r.map(function(e){return["billboards",{to:1},"reference"].concat(e)})),s.push(m.getPaths(e).map(function(e){return["billboards",{to:1},"reference"].concat(e)})),e.truths.data.volatileBillboardsEnabled&&s.push([["billboards","meta","expires"]]),a.flatten(s)}},childContextTypes:{requestId:o.string.isRequired,listId:o.string.isRequired,rowNum:o.number,rankNum:o.number,trackId:o.number,supplementalVideoId:o.number},contextTypes:Object.assign({getModelData:o.func.isRequired,models:o.object.isRequired,jsongDocument:o.object.isRequired,discoveryApp:o.object.isRequired},p),_videoId:null,disposeTimeout:null,getInitialState:function(){var e=this.getBillboardData(),t=b.getAvailabilityTimeRemaining(e),i=t<=0;return y.billboardGetInitialState(),{lolomoVisible:!0,hasScrolled:!1,useAvailablePhase:i}},getChildContext:function(){var e=this.getBillboardData();return{requestId:this.getRequestId(),listId:this.getId(),rowNum:this.props.rowNum,rankNum:0,trackId:this.getTrackId(),supplementalVideoId:a.get(e,"videoAssets.horizontalBackground.motionId")}},componentDidMount:function(){g.addEventListener("scroll",this.onScroll);var e=this.getBillboardData(),t=b.getAvailabilityTimeRemaining(e);if(t>0){var i=this;this.disposeTimeout=f(function(){i.setState({useAvailablePhase:!0})},t,3e4)}this.context.getModelData("truths").refreshBillboardOnTTL&&this.context.discoveryApp.getActionCreators().queueBillboardExpire({listId:this.getId(),listIndex:this.props.rowNum,lolomoId:this.context.lolomoId}),I.on("myList:remove:end",this.onMyListChange),I.on("myList:add:end",this.onMyListChange)},componentWillUnmount:function(){g.removeEventListener("scroll",this.onScroll),I.removeListener("myList:remove:end",this.onMyListChange),I.removeListener("myList:add:end",this.onMyListChange),this.disposeTimeout&&this.disposeTimeout()},getId:function(){return this.props.model.getValueSync(["id"])},getRequestId:function(){return this.props.model.getValueSync(["requestId"])},getTrackId:function(){var e=this.props.model.getValueSync(["trackIds"]),t=void 0;return e&&(t=e.trackId),t},onScroll:function(e){this.state.hasScrolled||(this.setLolomoVisibility(!0),this.setState({hasScrolled:!0}),g.removeEventListener("scroll",this.onScroll))},setLolomoVisibility:function(e){this.state.lolomoVisible!==e&&this.setState({lolomoVisible:e})},record:function(e,t,i){if(R){var o=t.impressionToken;e===v.RECORD_ACTION&&(o=t.actionToken),v.recordActionOrImpression(o,this.context.jsongDocument,e,i)}else{var s=t.awardTrackId,r=t.billboardTheme,a=t.billboardType;v.recordActionOrImpressionLegacy(this.context.jsongDocument,e,i,s,r,a)}},recordAction:function(e,t){this.record(v.RECORD_ACTION,e,t)},recordImpression:function(e,t){this.record(v.RECORD_IMPRESSION,e,t)},getProfilesData:function(){for(var e=this.context.jsongDocument,t=[],i=0;i<5;i++){var o=e.bind(["profilesList",i]);o&&t.push(o.getValueSync(["avatar","images","byWidth",320]))}return t},getBillboardData:function(){var e=h.getExtensionForTransparentImage(this.context.models),t=["billboards",0,e,"data"];return this.props.model.getValueSync(t)},backgroundImageStartsPlay:function(e){return-1!==x.indexOf(e)},shouldComponentUpdate:function(e,t){var i=this.state;return t.hasScrolled!==i.hasScrolled||t.useAvailablePhase!==i.useAvailablePhase||t.lolomoVisible!==i.lolomoVisible||t.isVisible!==i.isVisible},onMyListChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._videoId===e.videoId&&this.forceUpdate()},render:function(){var e=this.props,t=this.context.getModelData("truths"),i=e.model&&e.model.bind([0,"reference"]),o=this.getBillboardData(),r=this.state,n=e.forceStatic;if(!o)return s.createElement(k,{className:"billboard-row-no-draw-height"},s.createElement(T,{rank:0,row:this.props.rowNum,listId:this.getId(),trackId:this.getTrackId()}));var d=o&&o.id;this._videoId=d;var m=c(o,t),h=b.isMotionBillboardEnabled(n),g=this.backgroundImageStartsPlay(d),p=this.context.isRtl,I=o.assets||{},v=I.background||{},f="light"===v.tone,y=a.get(o,"assets.background.imageKey"),S=l({"billboard-row":!0,"dim-lolomo":!r.lolomoVisible}),x={billboard:!0,"billboard-pane":!0,"billboard-pane-main":!0,"episodic-billboard":u.isEpisodic(o),"billboard-originals":!0,"full-bleed-billboard":b.isFullBleed(p,o),"background-image-starts-play":g,"light-tone":f};return s.createElement("div",{className:S},s.createElement(m,{key:"bb-0",isMotionEnabled:h,imageKey:y,videoId:d,backgroundImageStartsPlay:g,videoModel:i,billboardData:o,profilesData:this.getProfilesData(),trackId:this.getTrackId(),billboardClasses:x,hasScrolled:r.hasScrolled,useAvailablePhase:r.useAvailablePhase,truths:t,setLolomoVisibility:this.setLolomoVisibility,recordAction:this.recordAction,recordImpression:this.recordImpression}))}});t.exports=D});C.r("akira/components/billboard/BillboardType.js",function(r,n,i){"use strict";var e={episodic:"episodic",standard:"standard",award:"award",countdown:"countdown",nsreShow:"nsreShow",nsreEpisodic:"nsreEpisodic",contentRefresh:"contentRefresh",trailer:"trailer",pitch:"pitch",genre:"genre",isTrailer:function(r){var n=r&&r.videoAssets&&r.videoAssets.horizontalBackground;return n&&n.isTrailer},isNSREEpisodic:function(r){return r.billboardType===e.nsreEpisodic},isNSREShow:function(r){return r.billboardType===e.nsreShow},isCountdown:function(r){return r.billboardType===e.countdown},isAward:function(r){return r.billboardType===e.award},isContentRefresh:function(r){return r.billboardType===e.contentRefresh},isPitch:function(r){return r.billboardType===e.pitch},isGenre:function(r){return r.billboardType===e.genre},isEpisodic:function(r){return r.billboardType===e.episodic}};n.exports=e});C.r("akira/components/billboard/billboardMotionNFPlayer.jsx",function(e,t,o){"use strict";var i=e("prop-types"),a=e("react"),s=e("create-react-class"),n=e("lodash"),r=e("classnames"),l=e("../../../player/entities/playContext"),d=e("../../../utils/billboard"),p=e("../../../player/nfplayer/NFPlayer.jsx"),u=e("../../utils/akiraContextTypes"),h=e("../../../player/nfplayer/uiContext"),y=e("../../../player/nfplayer/uiLabel"),c=e("./common/background/MotionBackground"),m=e("../../../player/nfplayer/common/playerInterfaceManager"),g=e("../../utils/inViewport.jsx"),f=e("../../../utils/shallowCompare"),b=e("./common/ReportMetrics"),v=e("./supplementalAudioToggle.jsx"),P=e("../../../player/domains/videoPlayer/videoPlayerConstants"),C=P.playerIdentifier,x=e("../../utils/windowVisibility.jsx"),I=e("../../utils/browseVideoLogging.jsx"),S=e("../../components/hoc/withUpdateDimensions.jsx"),T=e("../../../mdx2/hoc/mdxLoader.jsx"),O="discovery/akira/Billboard",V=function(){},B=g(S(I(x(s({displayName:"BillboardMotion",playCount:0,_hasLoggedImpression:!1,scope:{motionContainer:null},player:null,contextTypes:Object.assign({getI18nString:i.func.isRequired,getModelData:i.func.isRequired,playerApp:i.object.isRequired,jsongDocument:i.object.isRequired,listId:i.string.isRequired,rankNum:i.number.isRequired,rowNum:i.number.isRequired},u),getDefaultProps:function(){return{logStartPlayStarted:V,logStartPlayError:V,logStartPlayCancel:V,playerSessionId:C.MotionBillboard}},getInitialState:function(){var e=this.props,t=e.videoHasPlayed,o=e.limitVideoToOnePlay,i=e.audioOnByDefault,a=this.context.getModelData("truths").mdx2Enabled,s=o&&t,n=a&&T.isCasting(),r=l.playContextRecord({lolomoId:this.context.lolomoId,listId:this.context.listId,location:this.context.currentPage,rank:this.context.rankNum,requestId:this.context.requestId,row:this.context.rowNum,topNodeId:this.props.videoId,trackId:this.context.trackId,videoId:this.props.motionId});return{videoHasPlayed:t||!1,videoCompleted:s,videoCanPlayThrough:!1,isMutedByDefault:!(i&&!n),skipVideo:s,fadingAudio:!1,timedTextBoundsOverride:{bottom:100},playContext:r}},componentWillReceiveProps:function(e){e.motionId!==this.props.motionId&&this.setState({playContext:this.state.playContext.set("videoId",e.motionId)})},componentDidMount:function(){var e=this.props,t=e.videoHasPlayed;!(e.limitVideoToOnePlay&&t)&&(this.props.logStartPlayStarted(this.props),this.player&&this.player.isLoaded())},componentWillUnmount:function(){this.player=null,this.state.videoHasPlayed||this.props.logStartPlayCancel(this.props,"BLURRED")},componentWillUpdate:function(e,t){this._playOrPauseVideoBasedOnViewport(n.assign({},e,{videoCompleted:t.videoCompleted,videoCanPlayThrough:t.videoCanPlayThrough})),this.props.disableAutoplay===e.disableAutoplay||e.disableAutoplay||this.playVideo(e)},pauseVideo:function(e){if(this.player&&!this.state.fadingAudio){var t=this.player;this.props.fadeAudio&&!e?this._fadeOutVolume(this._endAudioFadeOut):t.pause()}},playVideo:function(e){var t=e||this.props,o=t.setVideoIsStarting,i=t.fadeAudio,a=t.disableAutoplay,s=this.state.videoHasPlayed;if(!a&&(s||(this.setState({videoHasPlayed:!0}),o&&o()),this.player)){var n=this.player;m.pauseAllPlayersExceptActive(C.MotionBillboard,this.context.playerApp),n.play(),i&&this._fadeInVolume()}},getTimedTextBounds:function(){var e=this.scope.motionContainer&&this.scope.motionContainer.offsetHeight,t=this.scope.motionContainer&&this.scope.motionContainer.offsetWidth,o=100;if(null!==e){var i=.258*e;t<799&&(o=40);return{bottom:Math.max(i,o)}}return null},setTimedTextBounds:function(){var e=this.props.getTimedTextBounds;if(!this.state.videoCompleted){var t=e?e():this.getTimedTextBounds();t&&t!==this.state.timedTextBoundsOverride&&this.setState({timedTextBoundsOverride:t})}},onPlayerReady:function(e){this.player=e},onPlayerPlaying:function(){this.props.onPlayerPlaying&&this.props.onPlayerPlaying()},handleReplayButtonClick:function(){this.player&&this.player.seek(0)},handleTimeout:function(){this.handleError(this.props.loggingConstants.VIDEO_ERRORS.TIMEOUT)},handleNotSupported:function(){var e=this,t=function(){e.handleError(e.props.loggingConstants.VIDEO_ERRORS.UNSUPPORTED)};"function"==typeof requestAnimationFrame?requestAnimationFrame(t):setTimeout(t,0)},handleClosed:function(){this._setCompletedState()},handleError:function(e){var t=void 0;t="string"==typeof e?e:this.props.loggingConstants.VIDEO_ERRORS.LOAD_ERROR,this.props.logStartPlayError(this.props,t),n.result(this,"player.pause"),this._setCompletedState(),this.props.onPlayerError&&this.props.onPlayerError(e)},handleCanPlayThrough:function(){var e=this.props,t=e.limitVideoToOnePlay,o=e.inViewport,i=this.state,a=i.videoCompleted,s=i.videoHasPlayed,r={inViewport:o,BBReportMetricsForced:this.context.getModelData("truths").BBReportMetricsForced};try{var l=this.context.playerApp.getAPI();r.xid=l.videoPlayer.getXidBySessionId(this.props.playerSessionId)}catch(e){r.noXID=!0}b.billboardLoaded(r),this.props.onPlayerLoad&&this.props.onPlayerLoad(),t&&s||a||(this.setState({videoCanPlayThrough:!0}),this._playOrPauseVideoBasedOnViewport(n.assign({},this.props,{videoCompleted:this.state.videoCompleted,videoCanPlayThrough:!0})))},handleEnded:function(){this._setCompletedState()},_playOrPauseVideoBasedOnViewport:function(e){var t=e.videoCompleted,o=e.isWindowVisible,i=e.inViewport,a=e.usePauseThreshold,s=e.videoCanPlayThrough;if(!t&&this.player&&s){var n=!this.player.getPaused(),r=!!this.player&&this.player.getCurrentTime()<15;o?!n&&i?a&&!r?this._setCompletedState():this.playVideo():n&&!i&&this.pauseVideo():n&&this.pauseVideo(!0)}},_setCompletedState:function(){var e=this.props.videoEnded;this.setState({videoCompleted:!0}),e&&e()},_fadeOutVolume:function(e){this.state.fadingAudio=!0,d.fadeOutVolume(this.player,50,e,!0)},_fadeInVolume:function(){d.fadeInVolume(this.player,100,!0,!0)},_endAudioFadeOut:function(){this.setState({fadingAudio:!1}),this.player&&this.player.pause()},_setContainerNode:function(e){this.scope.motionContainer=e},getUILabel:function(){return this.props.uiLabel||this.props.billboardData&&this.props.billboardData.uiLabel||y.BILLBOARD_STANDARD},shouldComponentUpdate:function(e,t){var o=f.state.call(this,e,t),i=this.props,a=this.state,s=!a.videoCompleted&&i.inViewport&&this.player&&this.player.getPaused();return o||!S.areRectsEqual(i.dimensions,e.dimensions)||!a.videoCompleted&&i.inViewport!==e.inViewport||i.isWindowVisible!==e.isWindowVisible||i.disableAutoplay!==e.disableAutoplay||!!s},handleAutoplayBlocked:function(){this.handleError(new Error("Browser blocked autoplay video due to security settings"))},render:function(){var e=this.props,t=this.context.getModelData("truths"),o=this.state,i=o.videoHasPlayed,s=o.videoCompleted,n=o.skipVideo,l=e.motionId,d=e.backgroundImageStartsPlay,u=e.forceStop,y=e.billboardData,m=i||s,g=this.player&&i&&!s,f=r({"billboard-motion":!0,"dismiss-mask":m,"dismiss-static":m&&g}),P=this.getUILabel(),C=void 0;if(!n&&!u&&!s){var x=this.context.playerApp.getAPI().playerApp.getSupplementalVideoMuteState(this.state.isMutedByDefault);b.billboardFirstRequestToPlay();var I=this.context.jsongDocument.getValueSync(["videos",l,"playbackData",h.MOTION_BILLBOARD])||{};C=a.createElement(p,{playContext:this.state.playContext,muted:x,timedTextBoundsOverride:this.state.timedTextBoundsOverride,controls:!1,uiLabel:P,videoId:l,onAutoplayBlocked:this.handleAutoplayBlocked,onPlayerError:this.handleError,onPlayerLoad:this.handleCanPlayThrough,onPlayerEnd:this.handleEnded,onPlayerReady:this.onPlayerReady,onPlayerPlaying:this.onPlayerPlaying,trackId:this.context.trackId,playerSessionId:this.props.playerSessionId,playbackData:{manifest:I&&I.manifest?I.manifest:void 0},onNotSupported:this.handleNotSupported,onPlayerClosed:this.handleClosed,onPlayerNotAvailable:this.handleClosed,isImplicitAutoPlay:!0,staticConfiguration:{disableTrackStickiness:!0,enableTimedTextRendering:!0,focusOnMount:!1,preLoad:"auto",preferUnletterboxedContent:t.preferUnletterboxedContent,preventSVGDefinitionsRendering:!0,respectBookmark:!1,rewindOnEnd:!0,smartSubtitles:!1,useVideoElementDimensions:!0,uiContext:h.MOTION_BILLBOARD}})}var S=[a.createElement(v,{audioOnLabel:this.context.getI18nString(O,"billboard.actions.audioOn"),audioOffLabel:this.context.getI18nString(O,"billboard.actions.audioOff"),key:"icon-button-audio",className:"audio-btn button-layer",isMutedByDefault:this.state.isMutedByDefault})];return e.embeddedComponents&&(S=S.concat(e.embeddedComponents)),a.createElement("div",{className:f,ref:this._setContainerNode},C,a.createElement(c,{billboardData:y,videoCompleted:s,embeddedComponent:S,setTimedTextBounds:this.setTimedTextBounds,dimensions:this.props.dimensions,backgroundImageStartsPlay:d}))}})))));t.exports=B});C.r("akira/components/billboard/clockFace.jsx",function(e,s,t){"use strict";var a=(e("prop-types"),e("react")),r=e("create-react-class"),i=e("classnames"),l=e("../../../utils/images"),p=e("lodash"),o=r({displayName:"ClockFace",render:function(){var e=this.props,s=e.unit,t=e.label,r=this.props.shouldUseSpritesheet?l.backgroundStyle(this.props.spriteUrl):{},o=p.padLeft(this.props.value,2,"0"),c=i({clockFaceContainer:!0,spritesheet:this.props.shouldUseSpritesheet,days:"days"===s,hours:"hours"===s,mins:"mins"===s,secs:"secs"===s}),h=i(["firstDigit",this.props.shouldUseSpritesheet?"value"+o[0]:void 0]),n=i(["secondDigit",this.props.shouldUseSpritesheet?"value"+o[1]:void 0]);return a.createElement("div",null,a.createElement("div",{className:c},a.createElement("span",{className:h,style:r},!this.props.shouldUseSpritesheet&&o[0]),a.createElement("span",{className:n,style:r},!this.props.shouldUseSpritesheet&&o[1]),a.createElement("div",{className:i(["clockFaceLabel"])},t)))}});s.exports=o});C.r("akira/components/billboard/common/BillboardBackground.js",function(o,e,a){"use strict";var r=o("react"),n=o("prop-types"),d=o("create-react-class"),l=o("./helpers"),i=o("../billboardMotionNFPlayer.jsx"),t=o("./background/HeroImage"),s=d({displayName:"BillboardBackground",propTypes:{billboardData:n.object.isRequired,rowModel:n.object,embeddedComponents:n.array,uiLabel:n.string,backgroundImageStartsPlay:n.bool,isMotionEnabled:n.bool,fadeAudio:n.bool,audioOnByDefault:n.bool,limitVideoToOnePlay:n.bool,usePauseThreshold:n.bool,onVideoStarted:n.func,onVideoEnded:n.func,getTimedTextBounds:n.func,onPlayerLoad:n.func,onPlayerPlaying:n.func,onPlayerError:n.func,playbackPaused:n.bool},onPlayerLoad:function(){this.props.onPlayerLoad&&this.props.onPlayerLoad()},onPlayerPlaying:function(){this.props.onPlayerPlaying&&this.props.onPlayerPlaying()},onPlayerError:function(o){this.props.onPlayerError&&this.props.onPlayerError(o)},render:function(){var o=this.props,e=this.props.billboardData,a=o.uiLabel||e.uiLabel,n=l.getMotionAsset(e),d=this.props.backgroundImageStartsPlay;return o.isMotionEnabled&&n?r.createElement(i,{billboardData:e,rowModel:o.rowModel,embeddedComponents:o.embeddedComponents,uiLabel:a,videoId:e.id,motionId:n.motionId,backgroundImageStartsPlay:d,fadeAudio:o.fadeAudio,limitVideoToOnePlay:o.limitVideoToOnePlay,audioOnByDefault:o.audioOnByDefault,usePauseThreshold:o.usePauseThreshold,setVideoIsStarting:o.onVideoStarted,videoEnded:o.onVideoEnded,getTimedTextBounds:o.getTimedTextBounds,inViewportSelector:".billboard",disableAutoplay:o.disableAutoplay,onPlayerLoad:this.onPlayerLoad,onPlayerPlaying:this.onPlayerPlaying,onPlayerError:this.onPlayerError}):r.createElement(t,{billboardData:e,embeddedComponents:o.embeddedComponents,backgroundImageStartsPlay:d})}});e.exports=s});C.r("akira/components/billboard/common/BillboardCTAs.js",function(a,e,i){"use strict";var t=a("prop-types"),o=a("react"),l=a("react-dom"),n=a("create-react-class"),s=a("classnames"),r=a("lodash"),c=a("../../../../utils/Routes"),d=a("../../title/myListButton.jsx"),b=a("../../controls/playbutton.jsx"),p=a("../../controls/flatButton.jsx"),u=a("../../controls/playLink.jsx"),y=a("../../../utils/linkDefs.jsx"),h=a("../../../utils/akiraContextTypes"),m=a("../../../../utils/cssAnimation"),f=a("../../../../components/presentationTracking/trackingComponents/logPresentationManually"),k="discovery/akira/Billboard",v=s("billboard-links","button-layer"),g=function(){},C={"billboard.actions.featured":"billboard.actions.featured","billboard.actions.play":"billboard.actions.play","billboard.actions.playVolume":"billboard.actions.playVolume","billboard.actions.playCollection":"billboard.actions.playCollection","billboard.actions.playSpecial":"billboard.actions.playSpecial","billboard.actions.playSet":"billboard.actions.playSet","billboard.actions.playBook":"billboard.actions.playBook","billboard.actions.playPart":"billboard.actions.playPart","billboard.actions.playSeries":"billboard.actions.playSeries","billboard.actions.playChapter":"billboard.actions.playChapter","billboard.actions.playSeason":"billboard.actions.playSeason","billboard.actions.playEpisode":"billboard.actions.playEpisode","billboard.actions.rewatchShow":"billboard.actions.rewatchShow","billboard.actions.continueWatching":"billboard.actions.continueWatching","billboard.actions.playTrailer":"billboard.actions.playTrailer","billboard.actions.listEpisodes":"billboard.actions.listEpisodes","billboard.actions.seeAll":"billboard.actions.seeAll","billboard.actions.info":"billboard.actions.info","billboard.actions.previous":"billboard.actions.previous","billboard.actions.next":"billboard.actions.next","billboard.actions.dot0":"billboard.actions.dot0","billboard.actions.dot1":"billboard.actions.dot1","billboard.actions.dot2":"billboard.actions.dot2"},A=Object.keys(C),S=n({displayName:"BillboardCTAs",statics:{__meta__:{strings:[{bundle:k,ids:A}]}},contextTypes:Object.assign({getI18nString:t.func.isRequired,history:t.object.isRequired,models:t.object.isRequired},h),onClickEpisodes:function(a,e){this.context.history.pushState(y.getEpisodeRoute(this.context).makePath({id:a})),e&&e.preventDefault()},onClickGenres:function(a,e){var i=this.props.logCommand("ViewTitlesCommand",{});this.context.history.pushState(y.genre(this.context).makePath({id:a})),e&&e.preventDefault(),i()},getInitialState:function(){return{useAvailablePhase:!!this.props.useAvailablePhase}},componentWillReceiveProps:function(a){!1===this.props.useAvailablePhase&&!0===a.useAvailablePhase&&this.animateLinks()},animateLinks:function(){if(this.props.skipAnimation)return void this.setState({useAvailablePhase:!0});var a=this;m.animate({target:l.findDOMNode(this.refs["ref-links"]),before:{opacity:1},opacity:0,duration:400,delay:0,callback:function(){a.setState({useAvailablePhase:!0}),m.animate({target:l.findDOMNode(a.refs["ref-links"]),before:{opacity:0},opacity:1,duration:400,delay:0,easing:"easeIn"})},easing:"easeIn"})},recordAction:function(){var a=this.props,e=a.recordAction,i=void 0===e?g:e,t=a.billboardData,o=void 0===t?{}:t;i(o,o.id)},getCTAs:function(a){return this.props.overrideCTAs?this.props.overrideCTAs:this.state.useAvailablePhase&&a.phase?a.phase.actions:r.filter(a.actions,function(a){return"available"!==a.billboardPhase})},render:function(){var a=this,e=a.props,i=e.billboardData,t=e.videoModel.getValueSync("summary"),l=e.videoModel.getValueSync("queue")||{},n=[],y=this.getCTAs(i);r.each(y,function(i,l){var s="nf-flat-button "+(0===l?" nf-flat-button-primary ":""),r=a.context.getI18nString(k,C["billboard.actions."+i.name],{sequenceNumber:i.sequenceNumber});"play"===i.type&&(t&&i.videoId===t.id?n.push(o.createElement(b,{key:l,model:e.videoModel,onClick:a.recordAction,isPlayable:!0,notPrimaryButton:!0,flatButton:!0},r)):n.push(o.createElement(u,{key:l,className:s+" playLink",onClick:a.recordAction,videoId:i.videoId},o.createElement("div",{className:"playRing nf-flat-button-icon"},o.createElement("div",{className:"play icon-play"})),o.createElement("div",{className:"annotation"},r)))),"gallery"===i.type&&n.push(o.createElement(p,{key:l,hrefLink:c.genre.makePath({id:i.galleryId}),onClick:a.onClickGenres.bind(a,i.galleryId),label:r})),"details"===i.type&&"listEpisodes"===i.name&&n.push(o.createElement(p,{key:l,hrefLink:c.titleShowEpisodes.makePath({id:t.id}),onClick:a.onClickEpisodes.bind(a,t.id),label:r,icon:"episodes"}))}),n.length<2&&n.push(o.createElement(d,{key:n.length,model:e.videoModel,videoId:i.id,inQueue:l.inQueue,onClick:a.recordAction,useCapsForLabel:!1})),e.reverseButtonOrder&&n.reverse();var h=s(v,"forward-leaning");return o.createElement("div",{key:"billboard-links",className:h,ref:"ref-links"},n)}});e.exports=f(S)});C.r("akira/components/billboard/common/EpisodeBug.js",function(e,t,a){"use strict";var i=e("prop-types"),s=e("react"),r=e("create-react-class"),l=e("classnames"),n=e("../BillboardType"),c=l("red-bar"),o=l("title-text-area"),d=l("vignette"),m=l("episodic-title"),p=l("title-area","meta-layer","mid"),u="discovery/akira/Common",b=r({displayName:"EpisodeBug",contextTypes:{getI18nString:i.func.isRequired},statics:{__meta__:{strings:[{bundle:u,ids:["episode.title.quoted"]}]}},render:function(){if(!n.isEpisodic(this.props.billboardData))return null;var e=this.props.billboardData,t=this.context.getI18nString(u,"episode.title.quoted",{TITLE:e.title});return s.createElement("div",{className:p},s.createElement("div",{className:o},s.createElement("div",{className:m},t),s.createElement("div",{className:c})),s.createElement("div",{className:d}))}});t.exports=b});C.r("akira/components/billboard/common/ReportMetrics.js",function(e,r,a){"use strict";function t(){return p&&p.freeze&&p.generateTimings}function i(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return k[e]=!0,function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(k[e])try{k[e]=!1,p&&p[e]&&p[e].start(),r&&o(a)}catch(e){}}}function o(e){if(t()){p.names.filter(function(e){return p[e]}).forEach(function(e){p[e].measure()}),p.freeze();var r=p.generateTimings();if(r){r[u]&&(r.hasProfileGate=!0),r[g]&&(r.prepareAttempted=!0),r[b]&&(r.prepareComplete=!0),r.version=p.version,r.fromStartToDomLoading=n();try{r.akiraScriptStart=Math.round(l("akiraScriptStart")),r.akiraScriptEnd=Math.round(l("akiraScriptEnd"))}catch(e){r.failedToGetInlineScriptTimes=!0}var a=d.assign({},r,e);window.netflix.player.log.info&&window.netflix.player.log.info(JSON.stringify(a,null,4)),s.emit("billboard:milestones",a);var i=f.getInstance();i&&c.getModelData("truths").isCl2LoggingEnabledForDiscoveryPlayback&&i.logEvent(m.BillboardUiMilestonesReported,{data:a})}}}function n(){return window.performance&&window.performance.timing?Math.round(window.performance.timing.domLoading-window.performance.timeOrigin):0}function l(e){var r=window.performance.getEntriesByName(e);if(r&&r[0]&&r[0].startTime)return r[0].startTime}var d=e("lodash"),p=e("./BillboardUIMilestone"),s=e("../../../../utils/eventBus"),f=e("shakti-platform/dist/ui/consolidatedLogging"),c=e("../../../../common/appContext"),m=e("shakti-platform/dist/ui/consolidatedLogging/constants/eventTypes"),u="profileGateDuration",g="prepareCalled",b="prepareGetMediaComplete",k={};r.exports={prepareCalled:i("prepareCalled"),prepareGetManifestComplete:i("prepareGetManifestComplete"),prepareGetHeadersComplete:i("prepareGetHeadersComplete"),prepareGetMediaComplete:i("prepareGetMediaComplete"),renderedProfileGate:i("renderedProfileGate"),closedProfileGate:i("closedProfileGate"),akiraBeforeFalcor:i("akiraBeforeFalcor"),akiraBeforeRender:i("akiraBeforeRender"),akiraAfterRender:i("akiraAfterRender"),billboardGetInitialState:i("billboardGetInitialState"),billboardFirstRequestToPlay:i("billboardFirstRequestToPlay"),cadmiumOrAkiraLoaded:i("cadmiumOrAkiraLoaded"),nfplayerBillboardStart:i("nfplayerBillboardStart"),billboardLoaded:i("billboardLoaded",!0)}});C.r("akira/components/billboard/common/Supplemental.js",function(e,s,l){"use strict";var a=(e("prop-types"),e("react")),p=e("create-react-class"),t=e("classnames"),i=e("../../../../utils/textUtils"),r=t("supplemental"),n=p({displayName:"Supplemental",render:function(){var e=this.props.billboardData,s=e.supplementalMessage;return this.props.useAvailablePhase&&e.phase&&(s=e.phase.supplementalMessage),this.props.ellipsizeLength&&(s=i.ellipsize(s,this.props.ellipsizeLength)),s?a.createElement("div",{key:"supplemental",className:r},s):null}});s.exports=n});C.r("akira/components/billboard/common/Synopsis.js",function(s,e,r){"use strict";var a=(s("prop-types"),s("react")),t=s("create-react-class"),i=s("classnames"),p=s("../../../../utils/textUtils");e.exports=t({displayName:"exports",render:function(){var s=this.props.synopsis,e=this.props.synopsisClasses,r=s;"ja"===this.props.userLanguage&&(r=p.ellipsize(s,200));var t=i("synopsis",e);return a.createElement("div",{key:"synopsis",className:t}," ",r," ")}})});C.r("akira/components/billboard/common/Title.js",function(t,e,s){"use strict";var i=(t("prop-types"),t("react")),l=t("create-react-class"),a=t("classnames"),r=t("../../../../utils/textUtils"),o=t("../../../../utils/images"),p=l({displayName:"Title",render:function(){var t=this.props.isRtl,e=this.props.assets||{},s=e.logo,l=a("billboard-title",{isRtl:t}),p=void 0,c=a({"title-logo":!!s,isRtl:t,title:!s},this.props.additionalClasses);return p=s&&t?i.createElement("div",{key:"titleLogo",className:c,style:o.backgroundStyle(s.url),title:this.props.title,"aria-label":this.props.title}):s?i.createElement("img",{key:"titleLogo",className:c,src:s.url,title:this.props.title,alt:this.props.title}):i.createElement("div",{key:"titleLogo",className:"title"},r.ellipsize(this.props.title,35)),this.props.doNotDisplayPT_ContentRefresh_Display_Refactor_Requirement?p:i.createElement("div",{className:l},p)}});e.exports=p});C.r("akira/components/billboard/common/background/HeroImage.js",function(e,t,s){"use strict";var i=e("prop-types"),r=e("react"),a=e("create-react-class"),n=e("classnames"),o=e("../../../controls/playLink.jsx"),c=e("../../../../../utils/imageLoadTracker"),l="discovery/akira/Billboard",d="billboard.actions.featured",h=["hero","static-image","image-layer"],m=n("hero-vignette vignette-layer"),g=n("hero-vignette-top vignette-layer"),p=n("billboard-play-hitzone play-hit-layer"),u=n("hero-image-wrapper"),v=n("embedded-components button-layer"),f=a({displayName:"HeroImage",contextTypes:{getI18nString:i.func.isRequired,renderTracker:i.object},statics:{__meta__:{strings:[{bundle:l,ids:[d]}]}},componentDidMount:function(){var e=this.context.renderTracker;if(e&&this.heroImage){var t=e.startSession("heroImage");c.trackByNodes([this.heroImage]).then(function(){e.endSession(t)}).catch(function(s){e.endSession(t,s)})}},getHeight:function(e){return e&&e.dimensions&&e.dimensions.height||0},componentWillReceiveProps:function(e){var t=this.props;if(t.setTimedTextBounds){var s=this.getHeight(e.dimensions)>0&&!this.updateOnce,i=this.getHeight(e)!==this.getHeight(t),r=this.refs&&this.refs.vignette;(i||s)&&r&&(this.updateOnce=!0,t.setTimedTextBounds(this.refs.vignette.offsetHeight))}},render:function(){var e=this,t=this.props,s=t.billboardData,i=s.assets||{},a=i.background||{},c=null;c=this.props.extraClasses?n(h,this.props.extraClasses):n(h);var f=[r.createElement("img",{key:"hero-image",className:c,src:a.url,alt:this.context.getI18nString(l,d),ref:function(t){e.heroImage=t}})];this.props.witholdVignette||f.push([[r.createElement("div",{key:"hero-vignette",ref:"vignette",className:m})],[r.createElement("div",{key:"hero-vignette-top",ref:"vignette",className:g})]]),this.props.backgroundImageStartsPlay&&f.push(r.createElement(o,{key:"background-play-link",videoId:s.id,className:p}));var b=null;return t.embeddedComponents&&(b=t.embeddedComponents),r.createElement("div",{className:u},f,r.createElement("div",{className:v},b))}});t.exports=f});C.r("akira/components/billboard/common/background/MotionBackground.js",function(e,o,a){"use strict";var t=(e("prop-types"),e("react")),n=e("create-react-class"),r=e("classnames"),d=e("./HeroImage"),s=r("motion-background-component","bottom-layer","full-screen"),m=r("embedded-components button-layer"),c=n({displayName:"MotionBackground",render:function(){var e=this.props,o=e.billboardData,a=e.backgroundImageStartsPlay,n=null;return e.embeddedComponent&&(n=e.embeddedComponent),t.createElement("div",{className:s},t.createElement(d,{billboardData:o,videoCompleted:e.videoCompleted,setTimedTextBounds:e.setTimedTextBounds,dimensions:e.dimensions,backgroundImageStartsPlay:a}),t.createElement("div",{className:m},n))}});o.exports=c});C.r("akira/components/billboard/common/helpers.js",function(e,t,i){"use strict";var a=e("shakti-platform/dist/ui/ShaktiProperties"),n=e("lodash"),o={getNewBadgeType:function(e){if(e.badgeKeys)return e.badgeKeys[0]},hasNewBadge:function(e){return!!o.getNewBadgeType(e)},hasSupplementalMessage:function(e){return!!e.supplementalMessage},isMotionBillboardEnabled:function(e){return a.get("netflix.ui.akira.originals.billboard.motionEnabled")&&!e},isMotionBillboard:function(e){return!!n.get(e,"videoAssets.horizontalBackground.motionId")},getMotionAsset:function(e){return e&&e.videoAssets&&e.videoAssets.horizontalBackground},getAvailabilityTimeRemaining:function(e){if(!e)return 0;var t=(new Date).getTime();return(e.availabilityDates&&e.availabilityDates.start||t)-t},isFullBleed:function(e,t){var i=t&&t.assets&&t.assets.background;return!e||Boolean(i&&i.rightToLeft&&"StoryArt"!==i.artWorkType)}};t.exports=o});C.r("akira/components/billboard/countdownClock.jsx",function(t,e,n){"use strict";var i=t("prop-types"),o=t("react"),s=t("create-react-class"),r=t("react-dom"),l=t("classnames"),a=t("./clockFace.jsx"),c=t("../../../common/position"),u=t("../../../utils/eventBus"),d=t("../../../utils/browserScroll"),h=t("../../../utils/images"),m=t("lodash"),p="discovery/akira/Billboard",w=s({displayName:"CountdownClock",contextTypes:{getI18nString:i.func.isRequired},getInitialState:function(){var t=this._formatTimeDelta(this._getDeltaFromCurrentTime());return t.timerEnded=this._getDeltaFromCurrentTime()<=0,t},componentDidMount:function(){d.addEventListener("scroll",this.onScroll),this._countdownInterval=null,u.on("window-visibility:changed",this._handleWindowVisibilityChange),this.state.timerEnded||this._beginCountdown()},componentWillUnmount:function(){u.removeListener("window-visibility:changed",this._handleWindowVisibilityChange),this._stopTimer(),d.removeEventListener("scroll",this.onScroll)},onScroll:function(){this._debouncedScroll()},_debouncedScroll:m.debounce(function(){"requestIdleCallback"in window?window.requestIdleCallback(this._pauseOrStartBasedOnViewport):this._pauseOrStartBasedOnViewport()},1e3),_pauseOrStartBasedOnViewport:function(){this._inViewport()?this._startTimer():this._stopTimer()},_inViewport:function(){var t=this.refs.countdownClock&&r.findDOMNode(this.refs.countdownClock);return c.isElementInViewport(t)},_handleWindowVisibilityChange:function(t){t?this._startTimer():this._stopTimer()},_startTimer:function(){this._countdownInterval||this.state.timerEnded||this._beginCountdown()},_stopTimer:function(){clearInterval(this._countdownInterval),this._countdownInterval=null},_beginCountdown:function(){var t=this;this._getDeltaFromCurrentTime()>0?this._countdownInterval=setInterval(function(){t._updateClock()},1e3):this._updateClock()},_updateClock:function(){var t=this._getDeltaFromCurrentTime();this.setState(this._formatTimeDelta(t)),t<=0&&(this.setState({timerEnded:!0}),this._stopTimer(),this.props.handleTimerEnd())},_getDeltaFromCurrentTime:function(){return this.props.targetTimestamp-(new Date).getTime()},_formatTimeDelta:function(t){return t<0&&(t=0),{days:Math.floor(t/864e5),hours:Math.floor(t/36e5%24),minutes:Math.floor(t/6e4%60),seconds:Math.floor(t/1e3%60)}},render:function(){var t=l(["countdownClockContainer"]),e=l(["clockFacesWrapper"]),n=this.props.spriteUrl,i=this.props.shouldUseSpritesheet;return o.createElement("div",null,o.createElement("div",{ref:"countdownClock",className:t},o.createElement("div",{className:e,style:h.backgroundStyle(n)},o.createElement(a,{unit:"days",label:this.context.getI18nString(p,"billboard.countdown.days"),value:this.state.days,spriteUrl:n,shouldUseSpritesheet:i}),o.createElement(a,{unit:"hours",label:this.context.getI18nString(p,"billboard.countdown.hours"),value:this.state.hours,spriteUrl:n,shouldUseSpritesheet:i}),o.createElement(a,{unit:"mins",label:this.context.getI18nString(p,"billboard.countdown.mins"),value:this.state.minutes,spriteUrl:n,shouldUseSpritesheet:i}),o.createElement(a,{unit:"secs",label:this.context.getI18nString(p,"billboard.countdown.secs"),value:this.state.seconds,spriteUrl:n,shouldUseSpritesheet:i}))))}});e.exports=w});C.r("akira/components/billboard/factories/billboards/Awards.js",function(a,e,r){"use strict";var o=a("react"),s=(a("prop-types"),a("create-react-class")),t=a("classnames"),l=a("../meta"),d=a("../../common/BillboardBackground"),i=s({displayName:"Awards",componentDidMount:function(){var a=this.props.billboardData;this.props.recordImpression(a,a.id)},render:function(){var a=this.props,e=a.billboardData,r=this.props.backgroundImageStartsPlay,s=e.assets,i=t(this.props.billboardClasses,"awards-billboard"),n=l(e);return o.createElement("div",{className:i},o.createElement(d,{billboardData:e,rowModel:a.rowModel,backgroundImageStartsPlay:r,isMotionEnabled:a.isMotionEnabled}),o.createElement("img",{className:"award-headline meta-layer",src:s.awardsHeadline.url,alt:""}),o.createElement(n,{videoModel:a.videoModel,billboardData:e,userLanguage:a.userLanguage,trackId:a.trackId,recordAction:a.recordAction}))}});e.exports=i});C.r("akira/components/billboard/factories/billboards/ContentRefresh.js",function(e,r,a){"use strict";var o=e("prop-types"),t=e("react"),s=e("create-react-class"),i=e("classnames"),l=e("../../common/BillboardBackground"),n=e("../meta"),c=i("billboard billboard-originals"),d=s({displayName:"ContentRefresh",contextTypes:{jsongDocument:o.object.isRequired,isRtl:o.bool.isRequired,models:o.object.isRequired,renderTracker:o.object},getClassNames:function(){return i(c)},componentDidMount:function(){var e=this.props.billboardData;this.props.recordImpression(e,e.id)},render:function(){var e=this.props,r=e.billboardData,a=n(r),o=t.createElement(a,{videoModel:e.videoModel,billboardData:r,useAvailablePhase:e.useAvailablePhase,recordAction:e.recordAction,trackId:e.trackId}),s=t.createElement(l,{billboardData:r,videoId:r.id});return t.createElement("div",{className:this.getClassNames()},s,o)}});r.exports=d});C.r("akira/components/billboard/factories/billboards/Countdown.js",function(e,a,t){"use strict";var o=(e("prop-types"),e("react")),i=e("create-react-class"),r=e("classnames"),n=e("../meta"),d=e("../../common/BillboardBackground"),s=e("../../common/helpers"),l=i({displayName:"Countdown",getInitialState:function(){return{timerEnd:s.getAvailabilityTimeRemaining(this.props.billboardData)<=0}},componentDidMount:function(){var e=this.props.billboardData;this.props.recordImpression(e,e.id)},onTimerEnd:function(){this.setState({timerEnd:!0})},render:function(){var e=this.props,a=e.billboardData,t=this.props.backgroundImageStartsPlay,i=r(this.props.billboardClasses,{"countdown-billboard":!0,"countdown-ended":this.state.timerEnd}),s=n(a);return o.createElement("div",{className:i},o.createElement(d,{billboardData:a,videoId:a.id,uiLabel:this.props.billboardData.uiLabel,onVideoStarted:this.setVideoIsStarting,onVideoEnded:this.videoEnded,fadeAudio:!0,audioOnByDefault:!0,isMotionEnabled:e.isMotionEnabled,usePauseThreshold:!1,backgroundImageStartsPlay:t}),o.createElement(s,{videoModel:e.videoModel,billboardData:a,userLanguage:e.userLanguage,trackId:e.trackId,useAvailablePhase:e.useAvailablePhase,recordAction:e.recordAction,onTimerEnd:this.onTimerEnd}))}});a.exports=l});C.r("akira/components/billboard/factories/billboards/Genre.jsx",function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=e("babel-runtime/helpers/classCallCheck"),o=i(r),s=e("babel-runtime/helpers/createClass"),l=i(s),n=e("babel-runtime/helpers/possibleConstructorReturn"),d=i(n),u=e("babel-runtime/helpers/inherits"),b=i(u),c=e("prop-types"),h=e("react"),p=e("classnames"),v=e("../meta"),f=e("../../common/BillboardBackground"),m=e("../../../../../player/nfplayer/uiLabel"),g=function(e){function t(e){(0,o.default)(this,t);var a=(0,d.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.setVideoIsStarting=function(){a.setState({videoStarted:!0})},a.videoEnded=function(){a.setState({videoFinished:!0})},a.state={videoStarted:!1,videoFinished:!1},a}return(0,b.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.billboardData;this.props.recordImpression(e,e.id)}},{key:"getUILabel",value:function(){return this.props.billboardData.uiLabel||m.BILLBOARD_STANDARD}},{key:"getClassNames",value:function(){var e=this.props,t={"trailer-billboard":!0};return p(e.billboardClasses,t)}},{key:"render",value:function(){var e=this.props,t=e.billboardData,a=e.backgroundImageStartsPlay,i=v(t),r=this.getClassNames();return h.createElement("div",{className:r},h.createElement(f,{billboardData:t,videoId:t.id,uiLabel:this.getUILabel(),onVideoStarted:this.setVideoIsStarting,onVideoEnded:this.videoEnded,isMotionEnabled:e.isMotionEnabled,backgroundImageStartsPlay:a,fadeAudio:!0,audioOnByDefault:!0,usePauseThreshold:!1}),h.createElement(i,{videoModel:e.videoModel,billboardData:t,userLanguage:e.userLanguage,useAvailablePhase:e.useAvailablePhase,recordAction:e.recordAction,videoStarted:this.state.videoStarted,videoFinished:this.state.videoFinished,trackId:e.trackId}))}}]),t}(h.Component);g.contextTypes={getModelData:c.func.isRequired},t.exports=g});C.r("akira/components/billboard/factories/billboards/Licensed.js",function(e,t,s){"use strict";var o=e("prop-types"),i=e("react"),a=e("react-dom"),n=e("create-react-class"),l=e("lodash"),r=e("../../../title/myListButton.jsx"),d=e("../../../title/videoMeta.jsx"),c=e("../../../controls/flatButton.jsx"),u=e("../../../controls/playbutton.jsx"),m=e("../../../../containers/episodesContainer"),p=e("../../../../../utils/transition"),b=e("../../../../../utils/textUtils"),g="discovery/akira/Common",h=e("classnames"),v=n({displayName:"Licensed",statics:{pql:{},__meta__:{strings:[{bundle:g,ids:["button.secondary.shortEpisodes"]},{bundle:"discovery/akira/Billboard",ids:["billboard.actions.featured"]}]}},contextTypes:{getI18nString:o.func.isRequired,isRtl:o.bool,jsongDocument:o.object.isRequired,models:o.object.isRequired},getInitialState:function(){return{currentPane:"main"}},componentDidMount:function(){this.props.recordImpression(this.props.billboardData,this.props.billboardData.id),p.skipFirst().show(a.findDOMNode(this),Object.assign({},p.presets.fadeIn,{duration:500}))},componentWillUnmount:function(){p.hide(a.findDOMNode(this),Object.assign({},p.presets.fadeOut,{duration:500}))},onClickPaneClose:function(){this.setState({currentPane:"main"})},onClickEpisodes:function(){this.recordAction(),this.setState({currentPane:"episodes"})},recordAction:function(){this.props.recordAction(this.props.billboardData,this.props.billboardData.id)},getCurrentPane:function(e){var t=void 0,s=null,o=h({"billboard-links":!0,"forward-leaning":!0});switch(this.state.currentPane){case"episodes":t=i.createElement("div",{className:"billboard-pane billboard-pane-episodes"},i.createElement("div",{className:"title"},e.title),i.createElement("div",{className:"close-button icon-close",onClick:this.onClickPaneClose}),i.createElement(m,{model:e.videoModel,useSlider:!0,showEpisodeSummary:!0,showEpisodeNumber:!0,showEpisodeDuration:!0}));break;default:e.seasonCount>0&&(s=i.createElement(c,{label:this.context.getI18nString(g,"button.secondary.shortEpisodes"),icon:"episodes",onClick:this.onClickEpisodes})),t=i.createElement("div",{className:"billboard-pane billboard-pane-main"},i.createElement("div",{className:"info"},i.createElement("div",null,i.createElement("img",{className:e.logoClass,src:e.logoUrl,title:e.title,alt:e.title}),i.createElement(d,{model:e.videoModel}),i.createElement("div",{className:"synopsis"},e.synopsis)),i.createElement("div",{className:o},i.createElement(u,{model:e.videoModel,onClick:this.recordAction,flatButton:!0}),i.createElement(r,{flatButton:!0,model:e.videoModel,videoId:e.id,inQueue:e.queue.inQueue,onClick:this.recordAction}),s)))}return t},getData:function(){var e=this.props,t=e.videoModel,s=e.billboardData,o=l.get(this.context.models,"geo.data.locale.language","en"),i={id:l.get(s,"id",0),synopsis:l.get(s,"synopsis",""),seasonCount:l.get(s,"seasons",0),title:l.get(s,"title",""),heroImageUrl:l.get(s,"assets.background.url",""),logoUrl:l.get(s,"assets.logo.url",""),logoType:l.get(s,"assets.logo.artWorkType",""),queue:t.getValueSync(["queue"])||!1};return"ja"===o&&(i.synopsis=b.ellipsize(i.synopsis,200)),i.logoClass="TITLE_TREATMENT"===i.logoType?"title-treatment":"title-card",i.videoModel=t,i},render:function(){var e=this.getData(),t=this.getCurrentPane(e),s="main"!==this.state.currentPane?"hero-faded":"",o=h("hero-vignette"),a=h("hero-vignette-top vignette-layer");return i.createElement("div",{className:"billboard slider-hover-trigger-layer"},i.createElement("img",{className:"hero "+s,src:e.heroImageUrl,alt:this.context.getI18nString("discovery/akira/Billboard","billboard.actions.featured")}),i.createElement("div",{className:a}),i.createElement("div",{className:o}),t)}});t.exports=v});C.r("akira/components/billboard/factories/billboards/NSREEpisodic.js",function(a,e,o){"use strict";var r=(a("prop-types"),a("react")),t=a("create-react-class"),s=a("classnames"),l=a("../../../../utils/akiraContextTypes"),i=a("../meta"),d=a("../../common/BillboardBackground"),n=t({displayName:"NSREEpisodic",contextTypes:l,componentDidMount:function(){var a=this.props.billboardData;this.props.recordImpression(a,a.ancestorId)},render:function(){var a=this.props,e=a.billboardData,o=a.backgroundImageStartsPlay,t=i(e);return this.props.billboardClasses["full-bleed-billboard"]=!1,r.createElement("div",{className:s(a.billboardClasses)},r.createElement(d,{billboardData:e,rowModel:a.rowModel,backgroundImageStartsPlay:o,isMotionEnabled:a.isMotionEnabled}),r.createElement(t,{videoModel:a.videoModel,billboardData:e,userLanguage:a.userLanguage,recordAction:a.recordAction,trackId:a.trackId}))}});e.exports=n});C.r("akira/components/billboard/factories/billboards/Standard.js",function(e,t,a){"use strict";var i=e("prop-types"),d=e("react"),o=e("create-react-class"),r=e("classnames"),s=e("../meta"),n=e("../../common/BillboardBackground"),l=e("../../../../../player/nfplayer/uiLabel"),c=e("../../../title/maturityRating.jsx"),u=o({displayName:"Standard",contextTypes:{getModelData:i.func.isRequired},componentDidMount:function(){var e=this.props.billboardData;this.props.recordImpression(e,e.id)},getInitialState:function(){return{videoStarted:!1,videoFinished:!1}},getUILabel:function(){return this.props.billboardData.uiLabel||l.BILLBOARD_STANDARD},getClassNames:function(){var e=this.props,t={"trailer-billboard":!0};return r(e.billboardClasses,t)},getEmbeddedMaturityIcon:function(){var e=this.props;return[d.createElement(c,{key:"maturity-icon",model:e.videoModel})]},setVideoIsStarting:function(){this.setState({videoStarted:!0})},videoEnded:function(){this.setState({videoFinished:!0})},render:function(){var e=this.props,t=e.billboardData,a=e.backgroundImageStartsPlay,i=s(t),o=this.getClassNames();return d.createElement("div",{className:o},d.createElement(n,{billboardData:t,videoId:t.id,embeddedComponents:this.getEmbeddedMaturityIcon(),uiLabel:this.getUILabel(),onVideoStarted:this.setVideoIsStarting,onVideoEnded:this.videoEnded,isMotionEnabled:e.isMotionEnabled,backgroundImageStartsPlay:a,fadeAudio:!0,audioOnByDefault:!0,usePauseThreshold:!1}),d.createElement(i,{videoModel:e.videoModel,billboardData:t,userLanguage:e.userLanguage,useAvailablePhase:e.useAvailablePhase,recordAction:e.recordAction,videoStarted:this.state.videoStarted,videoFinished:this.state.videoFinished,trackId:e.trackId}))}});t.exports=u});C.r("akira/components/billboard/factories/billboards/index.js",function(e,n,i){"use strict";function r(e){var n=function(n){return t.createElement(u,{className:"billboard-presentation-tracking"},t.createElement(E,{className:"billboard-presentation-tracking",imageKey:n.imageKey,videoId:n.videoId},t.createElement(k,{className:"billboard-presentation-tracking",imageKey:n.imageKey,videoId:n.videoId},t.createElement(e,n))))};return n.propTypes={imageKey:a.string.isRequired,videoId:a.number.isRequired},n}var t=e("react"),a=e("prop-types"),o=e("../../BillboardType"),s=e("./Standard"),d=e("./Countdown"),c=e("./Awards"),l=e("./ContentRefresh"),p=e("./Pitch.jsx"),g=e("./Genre.jsx"),m=e("./Licensed"),b=e("./NSREEpisodic"),u=e("../../../../../components/presentationTracking/presentationTrackingContainer.jsx"),E=e("../../../../../components/presentationTracking/trackingComponents/billboardPresTracking"),k=e("../../../../../components/presentationTracking/trackingComponents/boxartPresTracking"),C={Countdown:r(d),Awards:r(c),ContentRefresh:r(l),NSREEpisodic:r(b),Standard:r(s),Licensed:r(m),Genre:r(g)};n.exports=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.isCountdown(e)?C.Countdown:o.isAward(e)?C.Awards:o.isContentRefresh(e)?C.ContentRefresh:o.isNSREEpisodic(e)?C.NSREEpisodic:o.isPitch(e)&&n.pitchBillboardEnabled?(C.Pitch||(C.Pitch=r(p)),C.Pitch):o.isGenre(e)?C.Genre:e.isOriginal?C.Standard:C.Licensed}});C.r("akira/components/billboard/factories/falcor/getContentRefresh.js",function(e,t,o){"use strict";function r(e,t,o){var r=n(e);return[r.synopsis,r.titleTreatmentCropped,r.bb2OGLogoCropped,r.bgImages,r.queue,r.summary,r.episodeCount].concat(s.getPaths(e))}var s=e("../../../title/videoMeta.jsx"),n=e("./getContentRefreshPaths");t.exports=r});C.r("akira/components/billboard/factories/falcor/getContentRefreshPaths.js",function(e,o,t){"use strict";var n=e("../../../../../common/imageExtension");o.exports=function(e){var o=n.getExtensionForOpaqueImage(e),t=n.getExtensionForTransparentImage(e);return{titleTreatmentCropped:["titleTreatmentCropped","_Anyx130",t],bb2OGLogoCropped:["bb2OGLogoCropped","_Anyx108",t],bgImages:["BGImages",513,o],synopsis:["synopsis"],queue:["queue"],summary:["summary"],episodeCount:["episodeCount"]}}});C.r("akira/components/billboard/factories/falcor/getOriginals.js",function(t,e,n){"use strict";var o=t("../../../controls/playbutton.jsx"),r=t("../../../episode/episodeBadge.jsx");e.exports=function(t,e,n){return[["queue"]].concat(r.getPaths(t,e,n).map(function(t){return["current"].concat(t)})).concat(o.getPaths(t,e,n))}});C.r("akira/components/billboard/factories/falcor/index.js",function(t,n,r){"use strict";var e=t("./getContentRefresh"),o=t("./getOriginals");n.exports=function(t,n,r){return e(t,n,r).concat(o(t,n,r))}});C.r("akira/components/billboard/factories/meta/Awards.js",function(e,t,a){"use strict";var s=e("prop-types"),o=e("react"),r=e("create-react-class"),l=e("classnames"),i=e("../../common/Title"),c=e("../../common/Supplemental"),n=e("../../common/BillboardCTAs"),d=l("info meta-layer"),m=l("logo-and-text"),p=r({displayName:"Awards",contextTypes:{isRtl:s.bool},render:function(){var e=this.props.billboardData,t=this.props.userLanguage,a=e.assets||{};return o.createElement("div",{className:d},o.createElement("div",{className:m},o.createElement(i,{userLanguage:t,title:e.title,isRtl:this.context.isRtl,videoId:e.id,assets:a}),o.createElement(c,{billboardData:e})),o.createElement(n,{billboardData:e,videoModel:this.props.videoModel,recordAction:this.props.recordAction}))}});t.exports=p});C.r("akira/components/billboard/factories/meta/ContentRefresh.js",function(e,t,s){"use strict";function a(e){return[{ignoreBookmark:!1,type:"play",suppressPostPlay:!1,videoId:e,name:"play"}]}var n=e("prop-types"),r=e("react"),o=e("create-react-class"),i=e("classnames"),d=e("../../common/Title"),l=e("../../common/BillboardCTAs"),c=e("../../../../../components/string.jsx"),p=e("../falcor/getContentRefreshPaths"),m=e("../../../controls/mainViewLink.jsx"),u=e("../../../../../utils/Routes"),h="discovery/akira/Common",b=o({displayName:"ContentRefreshMeta",contextTypes:{isRtl:n.bool,getI18nString:n.func.isRequired},statics:{__meta__:{strings:[{bundle:h,ids:["button.secondary.shortEpisodes","see.all.recently.added","coming.soon.for","comingsoon","new.episodes","recently.added","play.button.annotation.play","added.in.the.last.day","added.in.the.last.week"]}]}},recordAction:function(){var e=this.props.billboardData&&this.props.billboardData.id;this.props.recordAction(this.props.billboardData,e)},renderLastAddedString:function(e,t){if(t>0&&t<7)return r.createElement(c,{bundle:h,stringKey:"added.in.the.last.day",stringParams:{numDays:t,lastAddedNum:e},dangerouslySetInnerHTML:!0});if(t>=7){var s=Math.floor(t/7);return r.createElement(c,{bundle:h,stringKey:"added.in.the.last.week",stringParams:{numWeeks:s,lastAddedNum:e},dangerouslySetInnerHTML:!0})}return null},renderRecentlyAddedMessage:function(e,t){var s=parseInt(e.recentlyAddedCutoffDays,10),n=e.numNewTitles||0,o=i({info:!0,"meta-layer":!0,"content-refresh":!0}),c=i({meta:!0,"content-refresh":!0}),p=i({recentlyAdded:!0,"supplemental-message":!0}),b={"row-chevron":!0};b[this.context.isRtl?"icon-akiraCaretLeft":"icon-akiraCaretRight"]=!0;var y=i({"content-refresh-link":!0}),f=r.createElement(m,{to:u.justAdded,className:y},this.context.getI18nString(h,"see.all.recently.added"),r.createElement("span",{className:i(b)})),g=r.createElement(l,{billboardTruths:this.props.billboardTruths,billboardData:this.props.billboardData,videoModel:this.props.videoModel,useAvailablePhase:this.props.useAvailablePhase,overrideCTAs:a(this.props.billboardData.ancestorId),recordAction:this.props.recordAction});return r.createElement("div",{className:o},r.createElement("div",{className:c},r.createElement("div",{className:p},this.renderLastAddedString(n,s)),f),t,r.createElement(d,{title:this.props.billboardData.title,isRtl:this.context.isRtl,additionalClasses:"title-treatment-content-refresh",doNotDisplayPT_ContentRefresh_Display_Refactor_Requirement:!0,videoId:this.props.billboardData.id,assets:this.props.billboardData.assets}),g)},getData:function(){var e=p(this.context.models);if(!e)return{};var t=this.props.billboardData,s=this.props.videoModel,a=t&&t.contentRefreshData||{},n={title:t.title,episodeCount:s.getValueSync(e.episodeCount)||0};return"recentlyAdded"===a.contentType&&(n.numNewTitles=a.totalNumVideos,n.newEpisodes=a.newEpisodes,n.recentlyAddedCutoffDays=a.recentlyAddedCutoffDays,n.contentType=a.contentType),n},render:function(){var e=this.getData(),t=e.episodeCount>1,s=null,a=null;return t&&"true"===e.newEpisodes&&(a=r.createElement("div",{className:i({"new-episodes-badge":!0}),dangerouslySetInnerHTML:{__html:this.context.getI18nString(h,"new.episodes")}})),s=this.renderRecentlyAddedMessage(e,a),r.createElement("div",{className:i("billboard-pane","billboard-pane-main","billboard-pane-content-refresh","meta-layer")},s)}});t.exports=b});C.r("akira/components/billboard/factories/meta/Countdown.js",function(e,t,a){"use strict";var i=e("prop-types"),o=e("react"),n=e("react-dom"),s=e("create-react-class"),r=e("classnames"),l=e("shakti-platform/dist/ui/ShaktiProperties"),c=e("../../common/Title"),d=e("../../common/Supplemental"),u=e("../../countdownClock.jsx"),m=e("../../common/BillboardCTAs"),p=e("../../../../../utils/cssAnimation"),b=l.get("oui.billboard.web.useSpriteForCountdownClockFace"),h=r("info meta-layer"),f=r("logo-and-text"),v=s({displayName:"Countdown",contextTypes:{isRtl:i.bool},getInitialState:function(){return{useAvailablePhase:this.props.useAvailablePhase}},onTimerEnd:function(){var e=this;e.animateOut(function(){e.animateIn(),e.setState({useAvailablePhase:!0}),e.props.onTimerEnd()})},animateOut:function(e){p.animate({target:n.findDOMNode(this.refs.info),before:{opacity:1},opacity:0,duration:1e3,delay:0,easing:"easeIn",callback:e})},animateIn:function(){p.animate({target:n.findDOMNode(this.refs.info),before:{opacity:0},opacity:1,duration:1e3,delay:0,easing:"easeIn"})},renderCountdownClock:function(e,t){var a=t.countdown&&t.countdown.url,i=a&&b,n=e.availabilityDates&&e.availabilityDates.start;return o.createElement(u,{targetTimestamp:n,shouldUseSpritesheet:i,spriteUrl:a,clockLabel:e.supplementalMessage,handleTimerEnd:this.onTimerEnd})},render:function(){var e=this.props.billboardData,t=this.props.userLanguage,a=e.assets||{};return o.createElement("div",{className:h,ref:"info"},o.createElement("div",{className:f},o.createElement(c,{userLanguage:t,title:e.title,isRtl:this.context.isRtl,videoId:e.id,assets:a}),o.createElement(d,{useAvailablePhase:this.props.useAvailablePhase,billboardData:e}),this.renderCountdownClock(e,a)),o.createElement(m,{billboardData:e,videoModel:this.props.videoModel,useAvailablePhase:this.state.useAvailablePhase,skipAnimation:!0,recordAction:this.props.recordAction}))}});t.exports=v});C.r("akira/components/billboard/factories/meta/NSREEpisodic.js",function(e,t,s){"use strict";var i=e("prop-types"),a=e("react"),o=e("create-react-class"),r=e("classnames"),n=e("../../common/Title"),l=e("../../common/Synopsis"),c=e("../../common/BillboardCTAs"),d=e("../../../episode/newBadge.jsx"),m=e("../../../../../utils/textUtils"),p=r("info meta-layer"),u=r("logo-and-text"),g=o({displayName:"NSREEpisodic",statics:{__meta__:{strings:[{bundle:"discovery/akira/Common",ids:["episode.title.quoted"]}]}},contextTypes:{getI18nString:i.func.isRequired,isRtl:i.bool},render:function(){var e=this.props.billboardData,t=this.props.userLanguage,s=e.assets||{},i={TITLE:e.title},o=this.context.getI18nString("discovery/akira/Common","episode.title.quoted",i),r=m.ellipsize(o,70);return a.createElement("div",{className:p},a.createElement("div",{className:u},a.createElement(n,{userLanguage:t,title:e.title,videoId:e.id,isRtl:this.context.isRtl,assets:s}),a.createElement(l,{userLanguage:t,synopsis:e.synopsis}),a.createElement("div",{className:"supplemental"},a.createElement(d,{newBadge:e.badgeKeys[0]}),a.createElement("span",{className:"episode-title"},r))),a.createElement(c,{billboardData:e,videoModel:this.props.videoModel,recordAction:this.props.recordAction}))}});t.exports=g});C.r("akira/components/billboard/factories/meta/Static.js",function(e,a,s){"use strict";var t=e("prop-types"),o=e("react"),l=e("create-react-class"),i=e("classnames"),r=e("../../common/Title"),n=e("../../common/Synopsis"),c=e("../../common/Supplemental"),p=e("../../common/BillboardCTAs"),m=e("../../common/helpers"),d=i("info meta-layer"),b=i("logo-and-text"),u=l({displayName:"Static",contextTypes:{isRtl:t.bool},render:function(){var e=this.props.billboardData,a=this.props.userLanguage,s=e.assets||{};return o.createElement("div",{className:d},o.createElement("div",{className:b},o.createElement(r,{userLanguage:a,title:e.title,isRtl:!m.isFullBleed(this.context.isRtl,this.props.billboardData),videoId:this.props.billboardData.id,assets:s}),o.createElement(c,{useAvailablePhase:this.props.useAvailablePhase,billboardData:e}),o.createElement(n,{userLanguage:a,synopsis:e.synopsis})),o.createElement(p,{billboardData:e,videoModel:this.props.videoModel,useAvailablePhase:this.props.useAvailablePhase,recordAction:this.props.recordAction}))}});a.exports=u});C.r("akira/components/billboard/factories/meta/Trailer.js",function(e,a,t){"use strict";var i=e("prop-types"),s=e("react"),n=e("react-dom"),o=e("create-react-class"),r=e("classnames"),l=e("../../common/Title"),d=e("../../common/Supplemental"),c=e("../../common/Synopsis"),m=e("../../../../../utils/cssAnimation"),p=e("../../common/BillboardCTAs"),u=e("../../common/EpisodeBug"),g=e("../../../episode/newBadge.jsx"),f=e("../../common/helpers"),v=r("fill-container"),y=r("logo-and-text meta-layer"),h=r("info meta-layer"),b=r("fade-container"),N=r("synopsis-fade-container"),E=r("trailer-vignette vignette-layer"),D=r("no-supplemental"),I=o({displayName:"Trailer",contextTypes:{models:i.object.isRequired,isRtl:i.bool},componentWillReceiveProps:function(e){this.props.videoStarted!==e.videoStarted&&e.videoStarted&&this.animateOut(),this.props.videoFinished!==e.videoFinished&&e.videoFinished&&this.animateIn()},animateIn:function(){m.animate({target:n.findDOMNode(this.refs[b]),opacity:1,duration:700,delay:0,easing:"easeIn"}),m.animate({target:n.findDOMNode(this.refs[N]),opacity:1,duration:700,delay:0,easing:"easeIn"}),m.animate({target:n.findDOMNode(this.refs[E]),opacity:0,duration:500,delay:0,easing:"easeIn"})},animateOut:function(){m.animate({target:n.findDOMNode(this.refs[b]),opacity:0,duration:2e3,delay:5e3,easing:"easeIn"}),m.animate({target:n.findDOMNode(this.refs[N]),opacity:0,duration:1500,delay:0,easing:"easeIn"}),m.animate({target:n.findDOMNode(this.refs[E]),opacity:1,duration:500,delay:0,easing:"easeIn"})},render:function(){var e=this.props,a=e.billboardData,t=e.userLanguage,i=a.assets||{},n=f.hasNewBadge(a),o=f.hasSupplementalMessage(a),r=o?void 0:D,m=n?s.createElement(g,{newBadge:f.getNewBadgeType(a)}):null,I=n?null:s.createElement(d,{useAvailablePhase:e.useAvailablePhase,billboardData:a});return s.createElement("div",{className:v},s.createElement("div",{className:h},s.createElement("div",{ref:E,className:E}),s.createElement("div",{className:y},s.createElement(l,{userLanguage:t,title:a.title,videoId:a.id,isRtl:this.context.isRtl,assets:i}),s.createElement(p,{billboardData:a,videoModel:e.videoModel,useAvailablePhase:e.useAvailablePhase,recordAction:e.recordAction}),s.createElement("div",{ref:b,className:b},I),s.createElement("div",{ref:N,className:N},s.createElement(c,{userLanguage:t,synopsisClasses:r,synopsis:a.synopsis}),m))),s.createElement(u,{billboardData:a}))}});a.exports=I});C.r("akira/components/billboard/factories/meta/index.js",function(e,a,r){"use strict";var t=e("../../BillboardType"),c=e("./Awards"),i=e("./Countdown"),s=e("./NSREEpisodic"),n=e("./Pitch"),o=e("./Trailer"),d=e("./Static"),l=e("./ContentRefresh");a.exports=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e&&e.billboardType,b=null;switch(r){case t.contentRefresh:b=l;break;case t.award:b=c;break;case t.countdown:b=i;break;case t.nsreEpisodic:b=s;break;case t.standard:case t.episodic:case t.genre:b=o;break;case t.pitch:b=a.pitchBillboardEnabled?n:d;break;default:b=d}return b}});C.r("akira/components/billboard/supplementalAudioToggle.jsx",function(e,t,a){"use strict";function o(e,t){return{muted:e.playerApp.getAPI().playerApp.getSupplementalVideoMuteState(t.isMutedByDefault)}}var p=e("react"),n=e("prop-types"),l=e("create-react-class"),r=e("../../../player/app/connect/connectToApps"),i=e("../../../akira/components/controls/iconButton.jsx"),u=l({displayName:"SupplementalAudioToggle",contextTypes:{playerApp:n.object.isRequired},handleAudioToggle:function(){var e=this.context.playerApp.getActionCreators();this.props.muted?e.playerUnmuteAll():e.playerMuteAll()},render:function(){var e=this.props,t=e.audioOnLabel,a=e.audioOffLabel,o=e.className,n=e.muted;return p.createElement(i,{key:"icon-button-audio",extraClass:o,icon:n?"audio-off":"audio-on",onClick:this.handleAudioToggle,ariaLabel:n?t:a})}});t.exports=r(o,void 0,void 0,{appKeys:["playerApp"]})(u)});C.r("akira/components/bob/bobCardAdultTallPanel.jsx",function(e,t,o){"use strict";var n=(e("prop-types"),e("react")),a=e("react-dom"),i=e("create-react-class"),s=e("classnames"),r=e("../title/videoMeta.jsx"),l=e("../title/myListButton.jsx"),c=e("../artwork/heroImages.jsx"),d=e("../controls/playbutton.jsx"),m=e("../controls/progress.jsx"),p=e("../controls/mainViewLink.jsx"),b=e("../../utils/linkDefs.jsx"),u=e("../episode/episodeBadge.jsx"),h=e("../../../common/svgIcon.jsx"),f=e("../../../utils/cssAnimation"),v=e("../../containers/jawbone/ContentWarningLink.jsx"),y=(e("../../entities/video.js").propType,i({displayName:"BobCardAdultTallPanel",node:null,componentDidMount:function(){this.openBOB()},openBOB:function(){var e=this.props.onBobOpen;this.setParentZIndex(4),f.animate({target:a.findDOMNode(this),before:{transformOrigin:"",scale:.8333333333,visibility:"visible",width:"120%",height:"120%",top:"-10%",left:"-10%"},scale:1,easing:"cubic-bezier(0.5, 0, 0.1, 1)",duration:400}),f.animate({target:a.findDOMNode(this.refs["title-art"]),opacity:0,duration:400,easing:"linear",after:{display:"none"}}),f.animate({target:a.findDOMNode(this.refs["jawbone-chevron"]),before:{translateY:"-10px",opacity:0},translateY:"0px",opacity:1,duration:400,delay:200,after:{reset:!0}}),"function"==typeof e&&e(1.2,400)},componentWillLeave:function(e){var t=this,o=this.props.onBobClose,n=!1;f.animate({target:a.findDOMNode(this),before:{transformOrigin:"50% 50% 0",duration:0},scale:.8333333333,duration:400,easing:"cubic-bezier(0.5, 0, 0.1, 1)",callback:function(){n||(n=!0,t.setParentZIndex(null),"function"==typeof e&&e())}}),"function"==typeof o&&o(400),this.setParentZIndex(2),setTimeout(function(){n||(n=!0,t.setParentZIndex(null),"function"==typeof e&&e())},420)},setParentZIndex:function(e){var t=this.props.getParentSliderItem(this.node);t&&f.css({target:t,zIndex:e})},onClickPlayHitZone:function(e){if(this.props.videoModel.isPlayable){var t=a.findDOMNode(this.refs.playButton);t instanceof HTMLElement&&t.click(),e.stopPropagation()}},onClickTitleLink:function(e){return e.stopPropagation(),!0},renderBackgroundImages:function(){var e=this.props,t=e.showRecentInterestingMoment,o=e.model,a=e.videoModel,i=e.titleCardImage;return n.createElement(c,{model:o,auto:!0,stop:!1,height:480,size:"_848x477",watched:t,className:"bob-background",firstDelay:2e3,duration:2e3,isStandalone:a.isStandalone,preloadImage:i,bookmarkPosition:a.bookmarkPosition,focalPointData:{containerWidth:342,imageWidth:1216}})},renderMainContent:function(){var e=this.props,t=e.model,o=e.resumeTitleText,a=e.showMetaData,i=e.showSynopsis,l=e.showProgressBar,c=e.videoModel,d=e.showNewEpisodeBadge;return n.createElement("div",{className:"bob-text"},n.createElement("div",{className:s("bob-main-text-area")},n.createElement("div",{className:"bob-title"},c.title),o&&n.createElement("div",{className:"watched-title"},d&&n.createElement(u,{model:t}),n.createElement("span",{dangerouslySetInnerHTML:{__html:o}})),a&&n.createElement(r,{model:t,suppressRatings:!0}),i&&n.createElement("div",{className:"synopsis"},c.synopsis),l&&n.createElement(m,{runtime:c.episodeRuntime,bookmarkPosition:c.episodeBookmark,current:!0,showSummary:!0})),n.createElement(v,{onClickJawHitZone:this.props.onClickJawHitZone,resumeTitleText:this.props.resumeTitleText,videoModel:this.props.videoModel}))},renderActions:function(){var e=this.props,t=e.model,o=e.showAddToMyList,a=e.videoModel,i=e.onMylistChange,s=a.queue&&a.queue.inQueue,r=[];return o&&r.push(n.createElement("div",{className:"mylist-container",key:"bobcard-mylist"},n.createElement(l,{model:t,videoId:a.id,onStateChange:i,inQueue:s,showToolTip:!0,svgButton:!1}))),n.createElement("div",{className:"bob-last-content"},n.createElement("div",{className:"bob-button-wrapper"},r))},renderHitZones:function(){var e=this.props,t=e.model,o=e.videoModel,a=e.showPlayButton,i=e.playbackQueryParams,r=e.onClickJawHitZone;return[n.createElement("div",{className:"bob-play-hitzone",onClick:this.onClickPlayHitZone},a&&n.createElement(d,{ref:"playButton",model:t,className:s("bob-play-center","bob-play-lowerTop"),tabIndex:0,key:"playbutton",playbackQueryParams:i})),n.createElement(p,{resolver:b.getTitleRoute,key:"jawbone-link",params:{id:o.id},className:s("bob-jaw-hitzone bob-jaw-hitzone-half"),onClick:r})]},render:function(){var e=this,t=this.props,o=t.videoModel.id,a=t.titleCardImage,i={"bob-card":!0,"bob-card-tall-panel":!0,"has-thumbs":!0};return n.createElement("div",{className:s(i),key:"bob-"+o.toString(),ref:function(t){e.node=t}},this.renderBackgroundImages(),n.createElement("div",{className:"bob-outline"}),n.createElement("div",{className:"bob-overlay",ref:"overlay"},this.renderHitZones(),n.createElement("div",{className:"bob-info",ref:"bobInfo"},n.createElement("div",{className:"bob-info-main"},this.renderMainContent(),this.renderActions()),n.createElement("div",{className:"bob-info-bottom"},n.createElement("div",{key:"chevron",className:"bob-jawbone-bottom-chevron",ref:"jawbone-chevron"},n.createElement(h,{name:"chevron-down"}))))),n.createElement("img",{src:a,ref:"title-art",className:"bob-title-art"}))}}));t.exports=y});C.r("akira/components/bob/bobCardKids.jsx",function(e,t,o){"use strict";var n=(e("prop-types"),e("react")),a=e("react-dom"),i=e("create-react-class"),r=e("classnames"),s=e("../artwork/heroImages.jsx"),l=e("../controls/playbutton.jsx"),c=e("../controls/progress.jsx"),d=e("../../../utils/cssAnimation"),m=e("../title/maturityRating.jsx"),b=e("../controls/mainViewLink.jsx"),p=e("../../utils/linkDefs.jsx"),u=(e("../../entities/video.js").propType,i({displayName:"BobCardKids",node:null,componentDidMount:function(){this.openBOB()},openBOB:function(){var e=this.props.onBobOpen;this.setParentZIndex(4),d.animate({target:a.findDOMNode(this),before:{transformOrigin:"",scale:.51282051282051,visibility:"visible",width:"195%",height:"195%",top:"-47.5%",left:"-47.5%"},scale:1,easing:"cubic-bezier(0.5, 0, 0.1, 1)",duration:400}),d.animate({target:a.findDOMNode(this.refs["title-art"]),opacity:0,duration:400,easing:"linear",after:{display:"none"}}),"function"==typeof e&&e(1.95,400)},componentWillLeave:function(e){var t=this,o=this.props.onBobClose,n=!1;d.animate({target:a.findDOMNode(this),before:{transformOrigin:"50% 50% 0",duration:0},scale:.51282051282051,duration:400,easing:"cubic-bezier(0.5, 0, 0.1, 1)",callback:function(){n||(n=!0,t.setParentZIndex(null),"function"==typeof e&&e())}}),d.animate({target:a.findDOMNode(this.refs["title-art"]),before:{display:"block"},opacity:1,duration:400}),"function"==typeof o&&o(400),this.setParentZIndex(2),setTimeout(function(){n||(n=!0,t.setParentZIndex(null),"function"==typeof e&&e())},420)},setParentZIndex:function(e){var t=this.props.getParentSliderItem(this.node);t&&d.css({target:t,zIndex:e})},onClickPlayHitZone:function(e){if(this.props.videoModel.isPlayable){var t=a.findDOMNode(this.refs.playButton);t instanceof HTMLElement&&t.click(),e.stopPropagation()}},onClickTitleLink:function(e){return e.stopPropagation(),!0},renderBackgroundImages:function(){var e=this.props,t=e.model,o=e.videoModel,a=e.titleCardImage;return n.createElement(s,{model:t,auto:!1,stop:!1,height:480,size:"_665x375",watched:!1,className:"bob-background",firstDelay:2e3,duration:2e3,isStandalone:o.isStandalone,preloadImage:a,bookmarkPosition:o.bookmarkPosition})},renderHitZones:function(){var e=this.props,t=e.model,o=e.showPlayButton,a=e.playbackQueryParams;return n.createElement("div",{className:"bob-play-hitzone",onClick:this.onClickPlayHitZone},o&&n.createElement(l,{ref:"playButton",model:t,className:r("bob-play-center","bob-play-lowerTop"),tabIndex:0,key:"playbutton",playbackQueryParams:a}))},render:function(){var e=this,t=this.props,o=t.videoModel,a=t.titleCardImage,i=t.episodesButtonText,s=t.showProgressBar,l=t.model,d=t.trackingInfo,u=o.id,f={"bob-card":!0},y={trackingInfo:d};return n.createElement("div",{className:r(f),key:"bob-"+u.toString(),ref:function(t){e.node=t}},this.renderBackgroundImages(),n.createElement("div",{className:"bob-outline"}),n.createElement("div",{className:"bob-overlay",ref:"overlay"},this.renderHitZones(),n.createElement("div",{className:"bob-info",ref:"bobInfo"},n.createElement("div",{className:"bob-info-main"},n.createElement("div",{className:"bob-text"},n.createElement("div",{className:"bob-title"},o.title)),n.createElement("div",{className:"bob-last-content"},n.createElement(m,{model:l}))),n.createElement("div",{className:"bob-info-bottom"},s&&n.createElement(c,{runtime:o.episodeRuntime,bookmarkPosition:o.episodeBookmark,current:!0}),!o.isStandalone&&n.createElement(b,{resolver:p.getTitleRoute,key:"title-link",className:"bob-episodes",onClick:this.onClickTitleLink,params:{id:o.id},historyState:y},i)))),n.createElement("img",{src:a,ref:"title-art",className:"bob-title-art"}))}}));t.exports=u});C.r("akira/components/bob/bobCardKidsTallPanel.jsx",function(e,t,a){"use strict";var n=(e("prop-types"),e("react")),o=e("react-dom"),i=e("create-react-class"),s=e("classnames"),r=e("../artwork/heroImages.jsx"),l=e("../controls/playbutton.jsx"),c=e("../controls/progress.jsx"),d=e("../controls/mainViewLink.jsx"),m=e("../../utils/linkDefs.jsx"),p=e("../episode/episodeBadge.jsx"),u=e("../../../utils/cssAnimation"),b=e("../title/videoMeta.jsx"),f=e("../../../utils/titles/interactiveTitles"),h=e("../../../utils/titles/interactiveFeatures"),y=(e("../../entities/video.js").propType,i({displayName:"BobCardKidsTallPanel",node:null,componentDidMount:function(){this.openBOB()},openBOB:function(){var e=this.props.onBobOpen;this.setParentZIndex(4),u.animate({target:o.findDOMNode(this),before:{transformOrigin:"",scale:.8333333333,visibility:"visible",width:"120%",height:"120%",top:"-10%",left:"-10%"},scale:1,easing:"cubic-bezier(0.5, 0, 0.1, 1)",duration:400}),u.animate({target:o.findDOMNode(this.refs["title-art"]),opacity:0,duration:400,easing:"linear",after:{display:"none"}}),"function"==typeof e&&e(1.2,400)},componentWillLeave:function(e){var t=this,a=this.props.onBobClose,n=!1;u.animate({target:o.findDOMNode(this),before:{transformOrigin:"50% 50% 0",duration:0},scale:.8333333333,duration:400,easing:"cubic-bezier(0.5, 0, 0.1, 1)",callback:function(){n||(n=!0,t.setParentZIndex(null),"function"==typeof e&&e())}}),"function"==typeof a&&a(400),this.setParentZIndex(2),setTimeout(function(){n||(n=!0,t.setParentZIndex(null),"function"==typeof e&&e())},420)},onClickPlayHitZone:function(e){if(this.props.videoModel.isPlayable){var t=o.findDOMNode(this.refs.playButton);t instanceof HTMLElement&&t.click(),e.stopPropagation()}},setParentZIndex:function(e){var t=this.props.getParentSliderItem(this.node);t&&u.css({target:t,zIndex:e})},onClickTitleLink:function(e){return e.stopPropagation(),!0},renderBackgroundImages:function(){var e=this.props,t=e.model,a=e.videoModel,o=e.titleCardImage;return n.createElement(r,{model:t,auto:!1,stop:!1,height:480,size:"_848x477",watched:!1,className:"bob-background",firstDelay:2e3,duration:2e3,isStandalone:a.isStandalone,preloadImage:o,bookmarkPosition:a.bookmarkPosition,focalPointData:{containerWidth:342,imageWidth:1216}})},renderMainContent:function(){var e=this.props,t=e.model,a=e.resumeTitleText,o=e.showMetaData,i=e.showSynopsis,s=e.showProgressBar,r=e.videoModel,l=e.showNewEpisodeBadge,d=!0,m=t&&t.getValueSync(["summary"]);return f.supportsInteractiveFeature(h.hideDetailedDurations,m)&&(d=!1),n.createElement("div",{className:"bob-text"},n.createElement("div",{className:"bob-title"},r.title),a&&n.createElement("div",{className:"watched-title"},l&&n.createElement(p,{model:t}),n.createElement("span",{dangerouslySetInnerHTML:{__html:a}})),o&&n.createElement(b,{model:t,suppressRatings:!0,suppressYear:!0,suppressDuration:!0}),i&&n.createElement("div",{className:"synopsis"},r.synopsis),s&&n.createElement(c,{runtime:r.episodeRuntime,bookmarkPosition:r.episodeBookmark,current:!0,showSummary:d}))},renderHitZones:function(){var e=this.props,t=e.model,a=e.showPlayButton,o=e.playbackQueryParams;return n.createElement("div",{className:"bob-play-hitzone",onClick:this.onClickPlayHitZone},a&&n.createElement(l,{ref:"playButton",model:t,className:s("bob-play-center","bob-play-lowerTop"),tabIndex:0,key:"playbutton",playbackQueryParams:o}))},render:function(){var e=this,t=this.props,a=t.videoModel,o=t.titleCardImage,i=t.episodesButtonText,r=a.id,l={"bob-card":!0,"bob-card-tall-panel":!0};return n.createElement("div",{className:s(l),key:"bob-"+r.toString(),ref:function(t){e.node=t}},this.renderBackgroundImages(),n.createElement("div",{className:"bob-outline"}),n.createElement("div",{className:"bob-overlay",ref:"overlay"},this.renderHitZones(),n.createElement("div",{className:"bob-info",ref:"bobInfo"},n.createElement("div",{className:"bob-info-main"},this.renderMainContent()),n.createElement("div",{className:"bob-info-bottom"},!a.isStandalone&&n.createElement(d,{resolver:m.getTitleRoute,key:"title-link",className:"bob-episodes",onClick:this.onClickTitleLink,params:{id:a.id}},i)))),n.createElement("img",{src:o,ref:"title-art",className:"bob-title-art"}))}}));t.exports=y});C.r("akira/components/bob/bobCardVideoMerch.jsx",function(e,t,a){"use strict";var o=e("babel-runtime/helpers/extends"),i=function(e){return e&&e.__esModule?e:{default:e}}(o),n=e("prop-types"),s=e("react"),r=e("react-dom"),l=e("shakti-platform/dist/ui/ShaktiProperties"),d=e("create-react-class"),c=e("classnames"),u=e("../title/videoMeta.jsx"),h=e("../title/myListButton.jsx"),m=e("../title/thumbs.jsx"),p=e("../title/globalSupplementalAudioToggle.jsx"),b=e("../artwork/heroImages.jsx"),v=e("../controls/playbutton.jsx"),y=e("../controls/progress.jsx"),M=e("../controls/mainViewLink.jsx"),f=e("../../containers/jawbone/ContentWarningLink.jsx"),g=e("../../utils/linkDefs.jsx"),I=e("../episode/episodeBadge.jsx"),P=e("../../../common/svgIcon.jsx"),S=e("../../../utils/cssAnimation"),E=e("../../../utils/mouseUtils.js"),k=e("react-transition-group/CSSTransitionGroup"),w=e("../../../player/entities/playContext"),N=w.playContextRecord,T=e("../../../player/videoMerch/VideoMerchStandardPlayer.jsx"),x=e("../../../player/nfplayer/uiLabel"),C=e("../../../player/domains/videoPlayer/videoPlayerConstants"),D=C.playerIdentifier,A=e("../../../utils/titles/interactiveTitles"),_=e("../../../utils/titles/interactiveFeatures"),B=(e("../../entities/video.js").propType,{PRE_PLAYBACK:0,IS_PLAYING:1,POST_PLAYBACK:2,NO_PLAYBACK:3}),L=d({displayName:"BobCardVideoMerch",containerNode:null,onGrowOverlayImage:null,mouseMoveEvents:{},_isMounted:!1,disableActionTimer:void 0,metaDataFadeDuration:0,contextTypes:{getModelData:n.func.isRequired,rowNum:n.number,rankNum:n.number,trackId:n.number,requestId:n.string},getPlayerSessionId:function(){return D.VideoMerchBob+"|"+String(this.props.videoModel.videoMerchId)},getInitialState:function(){return{isShowingMetaData:!0,actionsEnabled:!0,playerState:this.props.videoModel.hasVideoMerch?B.PRE_PLAYBACK:B.NO_PLAYBACK}},componentDidMount:function(){this._isMounted=!0,this.initializeMouseMoveHandlers(),this.metaDataFadeDuration=l.get("web.ui.akira.video.merch.bob.controls.fade.duration"),this.openBOB()},afterMetaDataFadeOut:function(){var e=this.props.showPlayerTimedText;!this.state.isShowingMetaData&&this._isMounted&&this.state.playerState===B.IS_PLAYING&&(this.setState({actionsEnabled:!1}),"function"==typeof e&&e())},showMetaData:function(){var e=this.props.hidePlayerTimedText;!this.state.isShowingMetaData&&this._isMounted&&(clearTimeout(this.disableActionTimer),this.setState({isShowingMetaData:!0,actionsEnabled:!0}),"function"==typeof e&&e())},hideMetaData:function(){this.state.isShowingMetaData&&this._isMounted&&this.state.playerState===B.IS_PLAYING&&(this.setState({isShowingMetaData:!1}),clearTimeout(this.disableActionTimer),this.disableActionTimer=setTimeout(this.afterMetaDataFadeOut,this.metaDataFadeDuration-400))},initializeMouseMoveHandlers:function(){var e=l.get("web.ui.akira.video.merch.bob.controls.fade.delay");this.mouseMoveEvents=E.getMouseMoveHandler(100,this.showMetaData,this.hideMetaData,e)},handleClick:function(e){this.showMetaData(),this.state.playerState===B.IS_PLAYING&&"function"==typeof this.mouseMoveEvents.startMouseMoveTimer&&this.mouseMoveEvents.startMouseMoveTimer(),this.state.actionsEnabled||e.stopPropagation()},handleVideoMerchPlayerStart:function(){this.state.playerState!==B.IS_PLAYING&&this.setState({playerState:B.IS_PLAYING}),"function"==typeof this.mouseMoveEvents.startMouseMoveTimer&&this.mouseMoveEvents.startMouseMoveTimer()},handleVideoMerchPlayerComplete:function(){"function"==typeof this.mouseMoveEvents.clearMouseMoveTimer&&this.mouseMoveEvents.clearMouseMoveTimer(),this.showMetaData(),this.setState({playerState:B.POST_PLAYBACK})},openBOB:function(){var e=this.props.onBobOpen;this.setParentZIndex(4),S.animate({target:r.findDOMNode(this),before:{transformOrigin:"",scale:.51282051282051,visibility:"visible",width:"197%",height:"195%",top:"-47.5%",left:"-48.5%"},scale:1,easing:"cubic-bezier(0.5, 0, 0.1, 1)",duration:400}),S.animate({target:r.findDOMNode(this.refs["jawbone-chevron"]),before:{translateY:"-10px",opacity:0},translateY:"0px",opacity:1,duration:400,delay:200,after:{reset:!0}}),S.animate({target:this.onGrowOverlayImage,opacity:0,duration:400,easing:"linear",after:{display:"none"}}),"function"==typeof e&&e(1.95,400)},componentWillLeave:function(e){var t=this;this._isMounted=!1;var a=this.props.onBobClose,o=!1;S.animate({target:r.findDOMNode(this),before:{transformOrigin:"50% 50% 0",duration:0},scale:.51282051282051,duration:400,easing:"cubic-bezier(0.5, 0, 0.1, 1)",callback:function(){o||(o=!0,t.setParentZIndex(null),"function"==typeof e&&e())}}),S.animate({target:this.onGrowOverlayImage,before:{display:"block"},opacity:1,duration:400}),"function"==typeof a&&a(400),this.setParentZIndex(2),setTimeout(function(){o||(o=!0,t.setParentZIndex(null),"function"==typeof e&&e())},420)},setParentZIndex:function(e){var t=this.props.getParentSliderItem(this.containerNode);t&&S.css({target:t,zIndex:e})},onClickPlayHitZone:function(e){if(this.props.videoModel.isPlayable){var t=r.findDOMNode(this.refs.playButton);t instanceof HTMLElement&&t.click(),e.stopPropagation()}},renderBackgroundImages:function(){var e=this.props,t=e.showRecentInterestingMoment,a=e.model,o=e.videoModel,i=e.titleCardImage;return s.createElement(b,{model:a,auto:!0,height:480,size:"_665x375",watched:t,className:c("bob-background"),duration:2e3,isStandalone:o.isStandalone,bookmarkPosition:o.bookmarkPosition,preloadImage:i})},renderMainContent:function(){var e=this.props,t=e.model,a=e.resumeTitleText,o=e.showMetaData,i=e.showSynopsis,n=e.showProgressBar,r=e.videoModel,l=e.showNewEpisodeBadge,d=e.playbackQueryParams,h=e.showPlayButton,m=!0,p=t&&t.getValueSync(["summary"]);return A.supportsInteractiveFeature(_.hideDetailedDurations,p)&&(m=!1),s.createElement("div",{className:c("bob-text",{"no-progress-summary":!m})},s.createElement("div",{className:c("bob-main-text-area")},s.createElement(v,{ref:"playButton",model:t,className:"bob-play-button",tabIndex:0,key:"playbutton",responsiveButton:!0,playbackQueryParams:d,style:{display:h?"block":"none"}}),s.createElement("div",{className:c("bob-title")},r.title),a&&s.createElement("div",{className:"watched-title"},l&&s.createElement(I,{model:t}),s.createElement("span",{dangerouslySetInnerHTML:{__html:a}})),o&&s.createElement(u,{model:t,videoModel:r,suppressYear:!0}),i&&s.createElement("div",{className:"synopsis"},r.synopsis),n&&s.createElement(y,{runtime:r.episodeRuntime,bookmarkPosition:r.episodeBookmark,current:!0,showSummary:m})),s.createElement(f,{onClickJawHitZone:this.props.onClickJawHitZone,resumeTitleText:this.props.resumeTitleText,videoModel:this.props.videoModel}))},renderActions:function(){var e=this.props,t=e.model,a=e.showAddToMyList,o=e.videoModel,i=e.onMylistChange,n=e.showThumbRatingIcons,r=e.showAudioToggle,l=o.queue&&o.queue.inQueue,d=[];return n&&d.push(s.createElement(m,{key:"bobcard-thumb",model:t,videoId:o.id,vertical:!0})),r&&this.state.playerState===B.IS_PLAYING&&d.push(s.createElement(p,{key:"audio-toggle"})),a&&d.push(s.createElement("div",{className:"mylist-container",key:"bobcard-mylist"},s.createElement(h,{model:t,videoId:o.id,onStateChange:i,inQueue:l,showToolTip:!0,svgButton:!0}))),s.createElement("div",{className:"bob-last-content"},s.createElement(k,{className:"bob-button-wrapper",transitionName:"bob-buttons-fade",transitionEnterTimeout:200,transitionLeaveTimeout:200},d))},renderVideoMerchPlayer:function(){var e=this.props,t=e.videoModel,a=e.onPlayerError;return t.hasVideoMerch?s.createElement(T,{videoStartTime:t.videoMerchStartTime||0,videoId:t.videoMerchId,playerSessionId:this.getPlayerSessionId(),uiLabel:x.VIDEO_MERCH_BOB_HORIZONTAL,trackId:this.context.trackId,playContextRecord:N({location:"VIDEO_MERCH",row:this.context.rowNum,rank:this.context.rankNum,requestId:this.context.requestId}),onPlayerError:a,onPlayerPlaying:this.handleVideoMerchPlayerStart,onPlaybackComplete:this.handleVideoMerchPlayerComplete}):null},renderHitZones:function(){var e=this.props,t=e.videoModel,a=e.onClickJawHitZone;return[s.createElement("div",{key:"playback-link",className:c("bob-play-hitzone"),onClick:this.onClickPlayHitZone}),s.createElement(M,{resolver:g.getTitleRoute,key:"jawbone-link",params:{id:t.id},className:c("bob-jaw-hitzone bob-jaw-hitzone-half"),onClick:a})]},render:function(){var e=this,t=this.props,a=t.videoModel.id,o=(t.titleCardImageHighRes,t.titleCardImage),n=this.state.playerState,r={"bob-card":!0,"has-thumbs":!0,"bob-card-video-merch-layout":!0},l={},d=n===B.POST_PLAYBACK||n===B.NO_PLAYBACK;"function"==typeof this.mouseMoveEvents.handleMouseMove&&n===B.IS_PLAYING&&(l.onMouseMove=this.mouseMoveEvents.handleMouseMove);var u=this.state.isShowingMetaData?{}:{transition:"opacity "+this.metaDataFadeDuration.toString()+"ms linear"};return s.createElement("div",{className:c(r),key:"bob-"+a.toString(),ref:function(t){e.containerNode=t}},!1,this.renderVideoMerchPlayer(),d&&this.renderBackgroundImages(),s.createElement("div",{className:"bob-outline"}),s.createElement("div",(0,i.default)({className:c("bob-overlay",!this.state.isShowingMetaData&&"bob-overlay-hidden"),style:u,ref:"overlay",onClickCapture:this.handleClick},l),this.renderHitZones(),s.createElement("div",{className:"bob-info",ref:"bobInfo"},s.createElement("div",{className:"bob-info-main"},this.renderMainContent(),this.renderActions()),s.createElement("div",{className:"bob-info-bottom"},s.createElement("div",{key:"chevron",className:"bob-jawbone-bottom-chevron",ref:"jawbone-chevron"},s.createElement(P,{name:"chevron-down"}))))),s.createElement("img",{src:o,className:"bob-title-art",ref:function(t){e.onGrowOverlayImage=t}}))}});t.exports=L});C.r("akira/components/character/character.jsx",function(e,a,t){"use strict";var r=e("babel-runtime/helpers/extends"),n=function(e){return e&&e.__esModule?e:{default:e}}(r),s=e("react"),o=e("create-react-class"),i=e("prop-types"),c=e("../controls/mainViewLink.jsx"),m=e("classnames"),l=e("../../../utils/Routes"),p=e("./characterImage.jsx"),d=e("./characterImagePaths"),u=e("../../../components/presentationTracking/trackingComponents/logPresentationManually"),h=e("../../../components/presentationTracking/trackingComponents/getTrackingInfoFromContext"),g=e("../../../components/presentationTracking/trackingComponents/kidsCharacterPresTracking"),k=function(e,a,t){var r=["summary"],n=p.getPaths(e,a,t);return r.concat(n)},C=o({displayName:"Character",childContextTypes:{rankNum:i.number},getChildContext:function(){return{rankNum:this.props.rankNum}},statics:{getPaths:k},endFocus:void 0,componentWillUnmount:function(){this.logCharacterFocusEnd()},render:function(){var e=this.props,a=e.id,t=e.imageType,r=e.model,o=e.sliderIndex,i="character-index-"+o%5,d=r.getValueSync("summary"),u=d&&d.name,h={"slider-refocus":!0,"character-link":!0},g={characterWrapper:!0},k={"aria-hidden":!this.props.itemTabbable,"aria-label":u,tabIndex:this.props.itemTabbable?0:-1};return g[i]=!0,s.createElement(c,(0,n.default)({to:l.kidsCharacter,params:{id:this.props.id},className:m(h)},k,{onClick:this.logCharacterFocus,onAfterNavigation:this.logCharacterFocusEnd}),s.createElement("div",{id:a,className:m(g)},s.createElement(p,{model:r,imageType:t})))},logCharacterFocus:function(){var e=this.props,a=e.model,t=e.imageType,r=a.getValueSync(["summary"]).id;this.endFocus=this.props.logFocus("kidsCharacter",this.props.getTrackingInfoFromContext({kidsCharacterId:r,videoId:r,image_key:d.getBoxart({model:a,imageType:t}).imageKey,rank:this.props.rankNum},Object.keys(g.trackedFields)))},logCharacterFocusEnd:function(){this.endFocus&&this.endFocus()}});a.exports=h(u(C))});C.r("akira/components/character/characterImage.jsx",function(e,a,t){"use strict";var r=e("prop-types"),c=e("react"),n=e("create-react-class"),s=e("../../../components/presentationTracking/trackingComponents/kidsCharacterPresTracking"),o=e("../../../components/presentationTracking/trackingComponents/getTrackingInfoFromContext"),i=e("./characterImagePaths"),m=i.getPaths,g=i.getBoxart,l=i.getFallbackUrl,p=n({displayName:"CharacterImage",contextTypes:{models:r.object.isRequired},statics:{getPaths:m},render:function(){var e=this.props,a=e.model,t=e.imageSize,r=e.imageType,n=e.characterId,o=g({model:a,imageSize:t,imageType:r,contextModels:this.context.models}),i=o?o.url:l(a),m=o?o.imageKey:void 0;if(!i)return null;var p={backgroundImage:"url("+i+")"};return c.createElement(s,{kidsCharacterId:n,imageKey:m},c.createElement("div",{className:"characterImage",style:p}))}});a.exports=o(p)});C.r("akira/components/character/characterImagePaths.js",function(e,a,r){"use strict";function t(e,a,r){var t=s.getExtensionForTransparentImage(e),n=r&&r.size||c,o=r&&r.imageType||"headshot";return[["artwork",i[o],t,n]]}function n(e){var a=e.model,r=e.imageSize,t=void 0===r?c:r,n=e.imageType,o=void 0===n?"headshot":n,g=e.contextModels,m=s.getExtensionForTransparentImage(g),u=i[o];return a&&a.getValueSync(["artwork",u,m,t])}function o(e){var a=e.getValueSync(["summary"]);return a&&a.images&&a.images[g]&&a.images[g].url||""}var s=e("../../../common/imageExtension"),c="_400x400",i={full:"character_square",headshot:"SQUAREHEADSHOT_1000x1000"},g="character_cdp300";a.exports={getPaths:t,getBoxart:n,getFallbackUrl:o}});C.r("akira/components/controls/breadCrumbs.jsx",function(e,r,s){"use strict";var t=(e("prop-types"),e("react")),a=e("create-react-class"),n=e("../controls/mainViewLink.jsx"),i=e("../../utils/akiraContextTypes"),l=e("../../utils/linkDefs.jsx"),u=a({displayName:"BreadCrumbs",contextTypes:i,statics:{getPaths:function(e,r,s){var t=[],a=void 0;if(s.breadCrumbs)for(a=0;a<s.breadCrumbs.length;a++){var n=parseInt(s.breadCrumbs[a],10);n>0&&t.push(["genres",n,"name"])}return[["genres",s.id,"name"]].concat(t)}},getBreadCrumbs:function(){var e=[],r=void 0;if(this.props.breadCrumbs)for(r=0;r<this.props.breadCrumbs.length;r++){var s=parseInt(this.props.breadCrumbs[r],10),a=s>0&&this.props.model.bind(["genres",s]),i=a&&a.getValueSync(["name"]);i&&e.push(t.createElement("li",{key:"breadCrumb"+r},t.createElement(n,{resolver:l.getGenreRoute,params:{id:s}},i)))}return e},render:function(){var e=this.props.model.bind(["genres",this.props.id]),r=e.getValueSync(["name"]);if(!r)return null;var s=this.getBreadCrumbs();return t.createElement("div",{className:"title"},s.length?t.createElement("div",{className:"breadCrumbs"},t.createElement("ul",null,s)):null,!this.props.hideTitle&&t.createElement("span",{className:"genreTitle"},r))}});r.exports=u});C.r("akira/components/controls/exitComponent.jsx",function(e,t,i){"use strict";var o=e("react"),r=e("create-react-class"),a=e("prop-types"),n=r({displayName:"ExitComponent",contextTypes:{getModelData:a.func.isRequired,getI18nString:a.func.isRequired},render:function(){var e="discovery/akira/Chrome";return this.context.getModelData("truths","showKidsLocalizationCell2")?e="discovery/akira/Chrome-8960-2":this.context.getModelData("truths","showKidsLocalizationCell3")&&(e="discovery/akira/Chrome-8960-3"),o.createElement("div",{className:"exit-kids",onClick:this.onExitComponentClicked},this.context.getI18nString(e,"header.exitkids"))}});t.exports=n});C.r("akira/components/controls/flatButton.jsx",function(t,e,n){"use strict";var a=t("babel-runtime/helpers/extends"),l=function(t){return t&&t.__esModule?t:{default:t}}(a),r=(t("prop-types"),t("react")),o=t("create-react-class"),s=t("lodash"),i=t("classnames"),u=t("../../../utils/keyboardEventsWrapper"),c={BORDERLESS:"borderless",FOCUSABLE_STATIC:"focusableStatic"},p=o({displayName:"FlatButton",statics:{styleTypes:c},getDefaultProps:function(){return{tabIndex:0}},resolveAriaAttributes:function(t){var e=this.props,n=e.tabIndex,a=e.ariaLabel,l=e.label,r=-1!==n?"link":null,o=t?l:null;return{"aria-label":a,"aria-labelledby":!a&&o?o.props.id||s.uniqueId("flatButtonLabel"):null,role:r}},renderIcon:function(){if(!this.props.icon)return null;var t=this.props,e=t.icon,n=t.isTooltip,a=i("nf-flat-button-icon","nf-flat-button-icon-"+e,{"empty-label":n});return r.createElement("span",{className:a,key:"icon"})},render:function(){var t=this.props,e=t.useSpan,n=t.tabIndex,a=t.isPrimaryBtn,o=t.onClick,s=t.label,p=t.styleType,b=t.isTooltip,f=t.icon,d=t.hrefLink,y=e?"span":"a",m=e?null:d||null,E=i("nf-icon-button","nf-flat-button",{"nf-flat-button-type-borderless":p===c.BORDERLESS,"nf-flat-button-type-focusable-static":p===c.FOCUSABLE_STATIC,"nf-flat-button-primary":a,"no-icon":!f}),S=i("nf-flat-button-text",{"nf-icon-button-tooltip":b}),h=r.isValidElement(s),x=this.resolveAriaAttributes(h),I=h&&"string"!=typeof s?r.cloneElement(s,{id:x["aria-labelledby"]}):s;return r.createElement(y,(0,l.default)({tabIndex:n,className:E},x,{onClick:o,onKeyDown:u.executeOnEnterOrSpace(o),href:m}),this.renderIcon(),r.createElement("span",{className:S,key:"label"},I))}});e.exports=p});C.r("akira/components/controls/iconButton.jsx",function(e,t,s){"use strict";var o=(e("prop-types"),e("react")),n=e("create-react-class"),r=e("react-dom"),i=e("classnames"),a=e("../../../utils/keyboardEventsWrapper"),p=n({displayName:"IconButton",getDefaultProps:function(){return{blurOnMouseLeave:!0}},getInitialState:function(){return{isHovered:!1}},onMouseEnter:function(){this.setState({isHovered:!0})},onMouseLeave:function(){this.setState({isHovered:!1}),this.refs.nfIconButton&&this.props.blurOnMouseLeave&&r.findDOMNode(this.refs.nfIconButton).blur()},render:function(){var e=i("nf-icon-button",this.props.extraClass,{hovered:this.state.isHovered}),t=i("nf-icon-button-icon","icon-button-"+this.props.icon+(this.state.isHovered?"-reverse":""),this.props.extraIconClass),s=i({"nf-icon-button-tooltip":this.props.tooltip,"nf-icon-button-label":!this.props.tooltip}),n=this.props.tabIndex||0,r=this.props.label?null:this.props.ariaLabel,p=[];return this.props.icon&&p.push(o.createElement("span",{key:"icon",role:"presentation",className:t})),this.props.label&&p.push(o.createElement("span",{key:"label",className:s,role:"status","aria-live":"assertive"},this.props.label)),p.push(this.props.children),o.createElement("a",{ref:"nfIconButton",role:"link",tabIndex:n,className:e,"aria-label":r,onClick:this.props.onClick,onKeyDown:a.executeOnEnterOrSpace(this.props.onClick),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:this.onMouseEnter,onBlur:this.onMouseLeave},p)}});t.exports=p});C.r("akira/components/controls/languageDropdown.jsx",function(e,t,a){"use strict";var n=e("prop-types"),s=e("react"),u=e("create-react-class"),r=e("lodash"),i=e("classnames"),o=e("./nfDropdown.jsx"),g=e("./mainViewLink.jsx"),l=e("../../utils/setDataAsProps.jsx"),d=e("../../../utils/Routes"),p={wrapper:i("languageDropDown"),submenu:i("sub-menu-link")},c=l(u({displayName:"LanguageDropDown",contextTypes:{getI18nString:n.func.isRequired},statics:{getPaths:function(e,t,a){var n=a.isAudio?"spokenAudioLanguages":"subtitleLanguages";return{myPaths:{languages:[n,{to:25},["id","name"]],defaultLanguageId:[n,"default"]},childrenPaths:[]}},AUDIO_LANGUAGE_DEFAULT_PATH:["spokenAudioLanguages","default"],SUBTITLE_LANGUAGE_DEFAULT_PATH:["subtitleLanguages","default"]},getDefaultProps:function(){return{lanugages:[]}},getSelectedLanguage:function(e){var t=this.props.id||this.props.defaultLanguageId;return r.find(e,function(e){return e.id===t})},getLabel:function(e){var t=this.getSelectedLanguage(e);return t?t.name:this.context.getI18nString("discovery/akira/Chrome","language.label.default")},getOptions:function(e){var t=this,a=this.props.isAudio?d.audio:d.subtitles;return e.filter(function(e){var t=e.id,a=e.name;return t&&a}).map(function(e){var n=e.id,u=e.name;return s.createElement(g,{to:a,params:n===t.props.defaultLanguageId?{}:{id:n},className:p.submenu},u)})},render:function(){var e=this.props.languages;return s.createElement("div",{className:p.wrapper},s.createElement(o,{options:this.getOptions(e),cols:1,defaultValue:this.getLabel(e)}))}}));t.exports=c});C.r("akira/components/controls/mainViewLink.jsx",function(e,t,r){"use strict";var s=e("babel-runtime/helpers/extends"),i=function(e){return e&&e.__esModule?e:{default:e}}(s),o=e("prop-types"),n=e("react"),a=e("create-react-class"),p=e("lodash"),l=e("shakti-platform/dist/ui/routing/Link"),c=a({displayName:"MainViewLink",contextTypes:{isKidsPage:o.bool,models:o.object.isRequired,routeHandler:o.object.isRequired},preventClick:!1,handleClick:function(e){var t=this;if(this.preventClick)return e.preventDefault(),void e.stopPropagation();this.preventClick=!0,setTimeout(function(){t.preventClick=!1},1e3),"function"==typeof this.props.onClick&&this.props.onClick(e,this.props)},render:function(){var e=this.props.resolver?this.props.resolver(this.context.models,this.context.isKidsPage):this.props.to,t=this.props.params||{},r=this.props.query;if(e){var s=null;try{return s=e.makePath(t,r),n.createElement(l,(0,i.default)({},p.omit(this.props,["resolver","to","params","query","startTime","episode","responsiveButton","replaceHistory","model","notPrimaryButton","flatButton","videoId","episodeId","ariaLabel"]),{href:s,onClick:this.handleClick}),this.props.children)}catch(e){var o=this.context.routeHandler&&this.context.routeHandler.path;throw e.message+=" with class "+(this.props.className||"")+". Current URL: "+o,e}}return this.props.href?n.createElement("a",p.omit(this.props,["resolver","to","params","query","onAfterNavigation"]),this.props.children):n.createElement("span",p.omit(this.props,["resolver","to","params","query","onAfterNavigation"]),this.props.children)}});t.exports=c});C.r("akira/components/controls/maturitySelector.jsx",function(e,t,r){"use strict";var s=e("babel-runtime/helpers/extends"),a=function(e){return e&&e.__esModule?e:{default:e}}(s),l=(e("prop-types"),e("react")),c=e("create-react-class"),n=c({displayName:"MaturitySelector",handleUpdate:function(){this.props.onChange(this.props.value,!this.props.checked)},render:function(){return this.props.label?l.createElement("li",{className:"ms"},l.createElement("input",(0,a.default)({},this.props,{type:"checkbox",id:"checkbox-"+this.props.reactKey})),l.createElement("label",{htmlFor:"checkbox-"+this.props.reactKey,onClick:this.handleUpdate}),l.createElement("span",{onClick:this.handleUpdate},this.props.label)):null}});t.exports=n});C.r("akira/components/controls/maturitySelectors.jsx",function(t,e,a){"use strict";var r=(t("prop-types"),t("react")),i=t("create-react-class"),n=t("./maturitySelector.jsx"),s=i({displayName:"MaturitySelectors",statics:{getPaths:function(t,e,a){return[["maturityRatings","summary"],["maturityRatings",{to:20},"summary"]]}},getInitialState:function(){return{ratings:[]}},filterByMaturity:function(t){var e=this.state.ratings,a=t.getValueSync(["maturity"]);return!a||!a.rating||!1!==e[a.rating.value]},handleMaturityChange:function(t,e){this.state.ratings[t]=e,this.props.onFilterChange(this.filterByMaturity)},render:function(){var t=this.props.model,e=t.bind(["maturityRatings"]),a=[],i=e.getValueSync(["summary"]);if(!i)return r.createElement("b",null);for(var s=0;s<Math.min(20,i.length);s++){var u=e.bind([s]),l=u.getValueSync(["summary"]);if(l){var c=l.value,m=l.value,y=void 0===this.state.ratings[c]||this.state.ratings[c];a.push(r.createElement(n,{key:"ms"+s,reactKey:"ms"+s,value:c,label:m,checked:y,onChange:this.handleMaturityChange}))}}return r.createElement("ul",{className:"maturitySelectors"},a)}});e.exports=s});C.r("akira/components/controls/menuCaret.jsx",function(e,t,r){"use strict";var n=e("react"),a=e("react-dom"),o=e("create-react-class"),s=e("../../../utils/transition"),c=o({displayName:"HeaderMenuCaret",componentDidMount:function(){s.show(a.findDOMNode(this),Object.assign({},s.presets.fadeInHover,{duration:150}))},render:function(){return n.createElement("div",{className:"callout-arrow"})}});t.exports=c});C.r("akira/components/controls/nfDropdown.jsx",function(e,t,s){"use strict";var o=e("babel-runtime/helpers/extends"),n=function(e){return e&&e.__esModule?e:{default:e}}(o),i=(e("prop-types"),e("react")),r=e("create-react-class"),a=e("react-dom"),p=e("classnames"),l=e("lodash"),c=e("./subMenu.jsx"),d=e("../../../utils/keyboardEventsWrapper"),h=r({displayName:"nfDropDown",getDefaultProps:function(){return{widthRestricted:!0,theme:"theme-lakira"}},getInitialState:function(){return{open:!1}},shouldComponentUpdate:function(e,t){var s=e.options&&e.options.length,o=this.props.options&&this.props.options.length;return e.isLoading!==this.props.isLoading||s!==o||t.open!==this.state.open},componentDidUpdate:function(){if(this.props.refocus){var e=a.findDOMNode(this.refs.dropdownlabel);e&&e.focus()}},close:function(e){document.removeEventListener("click",this.close),this.setState({open:!1})},handleClick:function(){this.setState({open:!0}),document.addEventListener("click",this.close)},handleSubMenuClick:function(){this.close()},render:function(){var e=this.props.theme,t=void 0,s=1,o={nfDropDown:!0,widthRestricted:this.props.widthRestricted,open:this.state.open},r=p({label:!0,loading:this.props.isLoading}),a=i.createElement("span",{className:"arrow"});return o[e]=!0,this.props.isLoading&&(t=""),this.props.label&&(t=this.props.label),this.props.defaultValue&&(t=this.props.defaultValue),this.props.cols&&(s=this.props.cols),i.createElement("div",(0,n.default)({},l.omit(this.props,["options","theme","widthRestricted"]),{className:p(o)}),i.createElement("div",{className:r,onClick:this.handleClick,onKeyDown:d.executeOnEnterOrSpace(this.handleClick),ref:"dropdownlabel",role:"button",tabIndex:0,"aria-haspopup":!0,"aria-expanded":this.state.open},t,a),this.state.open&&i.createElement(c,{items:this.props.options,cols:s,theme:e,onClick:this.handleSubMenuClick,showTopBar:!1}))}});t.exports=h});C.r("akira/components/controls/playLink.jsx",function(t,e,i){"use strict";var r=t("babel-runtime/helpers/extends"),o=function(t){return t&&t.__esModule?t:{default:t}}(r),s=t("../../../utils/eventBus"),a=t("../../../utils/titles/interactiveTitles"),n=t("./mainViewLink.jsx"),d=t("../../utils/linkDefs.jsx"),l=t("../../../common/playPrediction/playPredictionUtils"),p=t("prop-types"),c=t("react"),u=t("create-react-class"),h=t("../../utils/playLinkHelper"),m=t("lodash"),I=u({displayName:"PlayLink",contextTypes:{audioDescription:p.bool,currentPage:p.string,getI18nString:p.func.isRequired,getModelData:p.func.isRequired,history:p.object.isRequired,isKidsPage:p.bool,jsongDocument:p.object,listContext:p.string,listId:p.string,lolomoId:p.string,models:p.object,playerApp:p.object,rankNum:p.number.isRequired,requestId:p.string.isRequired,rowNum:p.number.isRequired,trackId:p.number},getDefaultProps:function(){return{playbackQueryParams:{}}},handleClick:function(t){var e=this.props,i=e.onBeforePlayCommand,r=e.onClick,o=e.replaceHistory;if(i)try{i()}catch(t){}var s=this.context,n=s.playerApp,d=s.jsongDocument,l=s.history,p=s.trackId,c=s.requestId,u=s.listId,m=s.lolomoId;if(r)try{r(t)}catch(t){}var I=d.getValueSync(["videos",this.props.videoId,"summary"]),y=a.isBranchingTitle(I),k=void 0!==this.props.rowNum?this.props.rowNum:this.context.rowNum,v=void 0!==this.props.rankNum?this.props.rankNum:this.context.rankNum;h.navigateToPlayer({videoId:this.props.episodeId||this.props.videoId,videoTrackingInfo:{trackId:p,rowNum:k,rankNum:v,requestId:c,listId:u,lolomoId:m},history:l,playerApp:n,isInteractiveTitle:y,event:t,replaceHistory:o,videoSummary:I})},handlerHover:function(){l.isPlayPredictionEnabled(this.context.getModelData("truths"))&&s.emit("play:focus",{videoId:this.props.videoId,episodeId:this.props.episodeId,trackId:this.context.trackId,rowNum:this.context.rowNum,rankNum:this.context.rankNum,listContext:this.context.listContext})},validateContext:function(){},render:function(){var t=this.context,e=t.trackId,i=t.rowNum,r=t.rankNum,s=t.requestId,a=t.listId,l=t.lolomoId;this.validateContext();var p=this.context.getModelData("browserInfo"),u=h.buildAkiraPlayerQuery({startTime:this.props.startTime,audioDescription:this.context.audioDescription,playbackQueryParams:this.props.playbackQueryParams,videoTrackingInfo:{trackId:e,rowNum:i,rankNum:r,requestId:s,listId:a,lolomoId:l}}),I=h.buildAkiraPlayerURL(this.props.episodeId||this.props.videoId,u);return p.isIOS||p.isAndroid?c.createElement("a",(0,o.default)({},this.props,{tabIndex:this.props.tabIndex,href:I}),this.props.children):c.createElement(n,(0,o.default)({},m.omit(this.props,["playbackQueryParams"]),{to:d.watchNow(this.context.models,this.context.isKidsPage),params:{id:this.props.episodeId||this.props.videoId},query:u,onClick:this.handleClick,onMouseEnter:this.handlerHover,tabIndex:this.props.tabIndex,role:"link","aria-label":this.props.ariaLabel||this.context.getI18nString("discovery/akira/Common","play.button.annotation.play")}),this.props.children)}});e.exports=I});C.r("akira/components/controls/playbutton.jsx",function(t,e,a){"use strict";var s=t("babel-runtime/helpers/extends"),n=function(t){return t&&t.__esModule?t:{default:t}}(s),i=t("prop-types"),o=t("react"),l=t("create-react-class"),r=t("./playLink.jsx"),p=t("../controls/flatButton.jsx"),u=t("../../utils/watched"),c=t("lodash"),m=t("../../../common/svgIcon.jsx"),y="discovery/akira/Common",d=l({displayName:"PlayButton",contextTypes:{getI18nString:i.func.isRequired},statics:{getPaths:function(t,e,a){return[["summary"],["availability"],["current","summary"]]},EPISODIC_TYPES:{show:!0,season:!0,series:!0}},getEpisodeId:function(){var t=this.props.episode||null,e=void 0,a=void 0,s=null;return t||(e=this.props.model.getValueSync(["summary"]))&&d.EPISODIC_TYPES[e.type]&&(t=this.props.model.bind(["current"])),t&&(a=t.getValueSync(["summary"]),s=(a||null)&&a.id),s},render:function(){var t=this.props.model,e=t.getValueSync("summary"),a=t.getValueSync("availability"),s=this.props.isPlayable,i=e&&e.id,l=c.assign({},c.omit(this.props,["isPlayable"]),{className:(this.props.className||"")+" playLink"}),d=this.props.children,h=null,b=d,g=this.props.ariaLabel,I=void 0;return a&&!a.isPlayable&&!s||!i?null:(b||(b=u.isInNextUpState(this.props.model)?this.context.getI18nString(y,"play.button.annotation.next.up"):u.isInResumeState(this.props.model)?this.context.getI18nString(y,"play.button.annotation.resume"):this.context.getI18nString(y,"play.button.annotation.play")),this.props.flatButton?I=o.createElement(p,{label:b,useSpan:!0,isPrimaryBtn:!this.props.notPrimaryButton,icon:"play",onClick:this.props.onClick,tabIndex:-1}):this.props.responsiveButton?I=o.createElement("span",{className:"play-button"},o.createElement(m,{name:"play-with-ring"})):(d||g||(g=b),I=o.createElement("div",{className:"playRing",onClick:this.props.onClick},o.createElement("div",{className:"play icon-play"})),h=d?o.createElement("div",{className:"annotation"},d):null),o.createElement(r,(0,n.default)({},l,{videoId:i,episodeId:this.getEpisodeId(),ariaLabel:g,playbackQueryParams:this.props.playbackQueryParams,"data-uia":"play-button"}),I,h))}});e.exports=d});C.r("akira/components/controls/progress.jsx",function(e,r,s){"use strict";var t=e("prop-types"),a=e("react"),n=e("create-react-class"),o=n({displayName:"Progress",contextTypes:{getI18nString:t.func.isRequired},render:function(){var e=parseInt(this.props.bookmarkPosition/60,10),r=parseInt(this.props.runtime/60,10);if(!this.props.runtime)return null;var s={width:parseInt(100*this.props.bookmarkPosition/this.props.runtime,10)+"%"};return a.createElement("div",{className:"progress"},a.createElement("span",{className:"progress-bar"},a.createElement("span",{role:"presentation",className:"progress-completed",style:s})),this.props.showSummary?a.createElement("span",{className:"summary"},this.context.getI18nString("discovery/akira/Common","progress.summary",{BOOKMARK:e,RUNTIME:r})):null)}});r.exports=o});C.r("akira/components/controls/subGenres.jsx",function(e,n,t){"use strict";var s=e("prop-types"),o=e("react"),r=e("create-react-class"),i=e("./nfDropdown.jsx"),a=e("./mainViewLink.jsx"),c=e("../../utils/linkDefs.jsx"),u=e("../../utils/setDataAsProps.jsx"),l=e("../../../components/presentationTracking/presentationTrackingContainer.jsx"),d=e("../../../components/presentationTracking/trackingComponents/categorySelectorPresTracking"),p=e("shakti-platform/dist/ui/consolidatedLogging/constants/appViewTypes"),m=e("shakti-platform/dist/ui/consolidatedLogging/constants/commandTypes"),g=e("../../../components/presentationTracking/trackingComponents/logPresentationManually"),h=g(u(r({displayName:"SubGenres",contextTypes:{getI18nString:s.func.isRequired,getModelData:s.func},statics:{getPaths:function(e,n,t){return{myPaths:{subgenres:["subgenres",{to:30},["id","name"]]},childrenPaths:[]}}},endFocus:void 0,endCommand:void 0,getDefaultProps:function(){return{breadCrumbs:[],cols:3}},logOptionClick:function(e){this.endFocus=this.props.logFocus(p.categorySelectorItem,{genreId:e}),this.endCommand=this.props.logCommand(m.SelectCommand)},logOptionClickAfterNavigation:function(){this.endFocus&&this.endFocus(),this.endCommand&&this.endCommand()},componentWillUnmount:function(){this.endFocus&&this.endFocus(),this.endCommand&&this.endCommand()},renderOptions:function(){var e=this;if(!this.props.breadCrumbs||!this.props.subgenres)return null;var n=this.props,t=n.breadCrumbs,s=n.subgenres,r=n.id,i={bc:t.concat(r).join(",")};return s.filter(function(e){return e.id}).map(function(n){return o.createElement(a,{resolver:c.getGenreRoute,params:{id:n.id},query:i,className:"sub-menu-link",onClick:function(){return e.logOptionClick(n.id)},onAfterNavigation:e.logOptionClickAfterNavigation},n.name)})},render:function(){if(!this.props.subgenres||!this.props.subgenres.length)return null;var e=this.context.getModelData("truths","hasAROGallery")?"genres":"subgenres",n=this.context.getI18nString("discovery/akira/Chrome",e);return o.createElement("div",{className:"subgenres"},o.createElement(l,null,o.createElement(d,null,o.createElement(i,{label:n,cols:this.props.cols,widthRestricted:!1,options:this.renderOptions()}))))}})));n.exports=h});C.r("akira/components/controls/subMenu.jsx",function(e,t,s){"use strict";var n=(e("prop-types"),e("react")),o=e("create-react-class"),i=e("react-dom"),r=e("classnames"),a=e("../../../utils/transition"),l=e("../../../common/position"),u=o({displayName:"SubMenu",NUM_COLS:4,statics:{DIRECTION_TOP:"top",DIRECTION_BOTTOM:"bottom",DIRECTION_CHANGE_THRESHOLD:80},getDefaultProps:function(){return{showTopBar:!0,theme:"theme-lakira"}},getInitialState:function(){return{menuDirection:"bottom"}},componentDidMount:function(){var e=i.findDOMNode(this);e&&a.show(e,Object.assign({},a.presets.fadeInHover,{duration:150})),this.defineDirection()},defineDirection:function(){var e=i.findDOMNode(this),t=l.getRect(e),s=l.getWindowRect(),n=t.bottom>s.bottom,o=t.top-t.height-80>s.top,r=n&&o?"top":"bottom";this.state.direction!==r&&(this.props.onDirectionChange&&this.props.onDirectionChange(r),this.setState({menuDirection:r}))},numColumns:function(){return this.props.cols||this.NUM_COLS},renderColumn:function(e,t,s){for(var o=Math.ceil(t/this.numColumns()),i=e*o,a=(e+1)*o,l=[],u=i;u<a;u++){var p=s[u];p&&l.push(n.createElement("li",{className:r("sub-menu-item"),key:"sub-menu-item-"+u},p))}var c="sub-menu-list"+(this.props.cols>1||t>o?" multi-column":"");return n.createElement("ul",{className:c,key:e},l)},renderSpecialColumn:function(e){var t=e.map(function(e,t){return n.createElement("li",{className:"sub-menu-item-special",key:"specialItem"+t},e)});return t.length>0?n.createElement("ul",{className:"sub-menu-list-special multi-column",key:"specialItems"},t):null},handleClick:function(e){this.props.onClick&&"A"===e.target.tagName?this.props.onClick(e):e.nativeEvent.stopImmediatePropagation()},render:function(){var e=this.props.theme,t=this.numColumns(),s=[];if(!this.props.items)return null;this.props.specialItems&&s.push(this.renderSpecialColumn(this.props.specialItems));var o=this.props.items.length;if(o>0)for(var i=0;i<t;i++)s.push(this.renderColumn(i,o,this.props.items));var a={"sub-menu":!0,"sub-menu-top":"top"===this.state.menuDirection};return a[e]=!0,this.props.styleClass&&(a[this.props.styleClass]=!0),n.createElement("div",{className:r(a),onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,onClick:this.handleClick},this.props.showTopBar&&this.props.showCalloutArrow?n.createElement("div",{className:"callout-arrow"}):null,this.props.showTopBar?n.createElement("div",{className:"topbar"}):null,s)}});t.exports=u});C.r("akira/components/controls/subMenuHOC.js",function(e,n,t){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(e){var n=l({displayName:"submenuHOC("+(e.displayName||"")+")",closeSubMenuTimeout:null,hoverInProgress:!1,hoverTimeout:null,isComponentMounted:!1,getInitialState:function(){return{subMenuOpen:!1,subMenuDirection:d.DIRECTION_BOTTOM}},componentDidMount:function(){this.isComponentMounted=!0},componentWillUnmount:function(){this.isComponentMounted=!1},toggleSubMenu:function(e){this.state.subMenuOpen?this.prepareToCloseSubMenu(e):this.prepareToOpenSubMenu(e)},addEventListeners:function(e,n,t,s,i,o){window.PointerEvent?(n.addEventListener("pointerenter",s||this.handleMouseEnter),n.addEventListener("pointerleave",t||this.handleMouseLeave),e.addEventListener("keydown",i||this.handleKeyDown),e.addEventListener("pointerdown",o||this.handleClick)):(n.addEventListener("mouseenter",s||this.handleMouseEnter),n.addEventListener("mouseleave",t||this.handleMouseLeave),e.addEventListener("keydown",i||this.handleKeyDown),e.addEventListener("click",o||this.handleClick))},removeEventListeners:function(e,n,t,s,i,o){window.PointerEvent?(n.removeEventListener("pointerenter",s||this.handleMouseEnter),n.removeEventListener("pointerleave",t||this.handleMouseLeave),e.removeEventListener("keydown",i||this.handleKeyDown),e.removeEventListener("pointerdown",o||this.handleClick)):(n.removeEventListener("mouseenter",s||this.handleMouseEnter),n.removeEventListener("mouseleave",t||this.handleMouseLeave),e.removeEventListener("keydown",i||this.handleKeyDown),e.removeEventListener("click",o||this.handleClick))},handleKeyDown:function(e){switch(e&&e.which){case c.ENTER:case c.SPACE:this.toggleSubMenu(e);break;case c.ESC:this.prepareToCloseSubMenu(e)}},_setHoverInProgress:function(){this.hoverInProgress=!0,this.hoverTimeout&&clearTimeout(this.hoverTimeout),this.hoverTimeout=setTimeout(function(){this.hoverInProgress=!1}.bind(this),p)},handleClick:function(e){this.hoverInProgress||this.toggleSubMenu(e)},handleMouseEnter:function(e){this.isTouchEvent(e)||(this._setHoverInProgress(),this.prepareToOpenSubMenu(e))},handleMouseLeave:function(e){this.isTouchEvent(e)||this.prepareToCloseSubMenu(e)},isTouchEvent:function(e){return e.pointerType&&"touch"===e.pointerType},openSubMenu:function(){b&&b.isComponentMounted&&b.closeSubMenu(),this.setCurrentOpenMenu(this),this.subMenuEntered(),this.setState({subMenuOpen:!0})},closeSubMenu:function(){this.setState({subMenuOpen:!1,subMenuDirection:d.DIRECTION_BOTTOM})},prepareToOpenSubMenu:function(e){this.clearTimeouts(),this.state.subMenuOpen||this.openSubMenu()},prepareToCloseSubMenu:function(e){this.clearTimeouts(),this.state.subMenuOpen&&(this.closeSubMenuTimeout=setTimeout(this.closeSubMenu,v))},clearTimeouts:function(){this.closeSubMenuTimeout&&clearTimeout(this.closeSubMenuTimeout)},subMenuEntered:function(){this.closeSubMenuTimeout&&clearTimeout(this.closeSubMenuTimeout)},handleMenuDirectionChange:function(e){this.setState({subMenuDirection:e})},setCurrentOpenMenu:function(e){b=e},render:function(){return a.createElement(e,(0,h.default)({},this.props,(0,u.default)({handleMouseLeave:this.handleMouseLeave,handleMouseEnter:this.handleMouseEnter,addEventListeners:this.addEventListeners,removeEventListeners:this.removeEventListeners,handleMenuDirectionChange:this.handleMenuDirectionChange,subMenuDirection:this.state.subMenuDirection,handleKeyDown:this.handleKeyDown,handleClick:this.handleClick,closeSubMenu:this.closeSubMenu,subMenuOpen:this.state.subMenuOpen},"subMenuDirection",this.state.subMenuDirection)))}});return M(n,e),n}var o=e("babel-runtime/helpers/defineProperty"),u=s(o),r=e("babel-runtime/helpers/extends"),h=s(r),a=e("react"),l=e("create-react-class"),c=e("../../../common/keyCodes"),d=e("./subMenu.jsx"),M=e("hoist-non-react-statics"),v=250,p=1e3,b=null;n.exports=i});C.r("akira/components/controls/svgButton.jsx",function(e,t,n){"use strict";var s=e("babel-runtime/helpers/extends"),a=function(e){return e&&e.__esModule?e:{default:e}}(s),l=(e("prop-types"),e("react")),r=e("create-react-class"),o=e("lodash"),i=e("classnames"),c=e("../../../utils/keyboardEventsWrapper"),u=e("../../../common/svgIcon.jsx"),p=e("../../../utils/shallowCompare"),d=r({displayName:"SvgButton",shouldComponentUpdate:p.pureRender,getInitialState:function(){return{clicked:!1}},handleClick:function(e){o.isFunction(this.props.onClick)&&this.props.onClick(e),this.setState({clicked:!0})},render:function(){var e=this.props,t=e.attributes,n=e.children,s=e.icon,r=e.label,o=e.showToolTip,p=e.extraClass,d=e.buttonStyle,h=this.props.tabIndex||0,b=r?null:this.props.ariaLabel,m=d||"simpleround",k=i("nf-svg-button-wrapper",p),v=i("nf-svg-button",{clicked:this.state.clicked},m),f=i({"nf-svg-button-tooltip":o,"nf-svg-button-label":!o}),C=[];return r&&C.push(l.createElement("span",{key:"label",className:f,role:"status","aria-live":"assertive"},r)),C.push(n),l.createElement("div",{ref:"nfSvgButton",className:k},l.createElement("a",(0,a.default)({role:"link"},t,{tabIndex:h,className:v,"aria-label":b,onClick:this.handleClick,onKeyDown:c.executeOnEnterOrSpace(this.handleClick)}),l.createElement(u,{attributes:t,name:s,key:s})),C)}});t.exports=d});C.r("akira/components/episode/episodeBadge.jsx",function(e,s,a){"use strict";var t=e("prop-types"),r=e("react"),n=e("create-react-class"),i=n({displayName:"EpisodeBadges",contextTypes:{getI18nString:t.func.isRequired},statics:{getPaths:function(e,s,a){return[[["summary","episodeBadges"]],["ancestor","summary"]]}},getData:function(){var e=this.props.model,s=e&&e.getValueSync(["current","episodeBadges"])||e&&e.getValueSync(["episodeBadges"])||[];return{isNSREShow:(e&&e.getValueSync(["current","ancestor","summary"])||e&&e.getValueSync(["ancestor","summary"])||{}).isNSRE,badge:s[0]||""}},render:function(){var e=this.getData(),s=this.props.badge||e.badge;return e.isNSREShow&&"new"===s.toLowerCase()?r.createElement("span",{className:"episode-badge "+s},this.context.getI18nString("discovery/akira/Billboard","billboard.episodeBadges.new")):null}});s.exports=i});C.r("akira/components/episode/newBadge.jsx",function(e,a,s){"use strict";var r=e("prop-types"),n=e("react"),t=e("create-react-class"),i=e("classnames"),o={new:"billboard.episodeBadges.new",new_episode:"billboard.episodeBadges.new_episode"},d=i("new-badge"),c=t({displayName:"NewBadge",contextTypes:{getI18nString:r.func.isRequired},render:function(){var e=this.props.newBadge;if(!e)return null;var a=this.context.getI18nString("discovery/akira/Billboard",o[e.toLowerCase()]);return n.createElement("span",{className:d},a)}});a.exports=c});C.r("node_modules/classnames/index.js",function(e,n,r){!function(){"use strict";function e(){for(var n=[],s=0;s<arguments.length;s++){var i=arguments[s];if(i){var o=typeof i;if("string"===o||"number"===o)n.push(i);else if(Array.isArray(i))n.push(e.apply(null,i));else if("object"===o)for(var t in i)r.call(i,t)&&i[t]&&n.push(t)}}return n.join(" ")}var r={}.hasOwnProperty;void 0!==n&&n.exports?n.exports=e:"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],function(){return e}):window.classNames=e}()});C.r("node_modules/create-react-class/factory.js",function(t,e,n){"use strict";function o(t){return t}function i(t,e,n){function i(t,e){var n=d.hasOwnProperty(e)?d[e]:null;A.hasOwnProperty(e)&&s("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",e),t&&s("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",e)}function c(t,n){if(n){s("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),s(!e(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var o=t.prototype,r=o.__reactAutoBindPairs;n.hasOwnProperty(p)&&D.mixins(t,n.mixins);for(var a in n)if(n.hasOwnProperty(a)&&a!==p){var c=n[a],u=o.hasOwnProperty(a);if(i(u,a),D.hasOwnProperty(a))D[a](t,c);else{var l=d.hasOwnProperty(a),m="function"==typeof c,y=m&&!l&&!u&&!1!==n.autobind;if(y)r.push(a,c),o[a]=c;else if(u){var h=d[a];s(l&&("DEFINE_MANY_MERGED"===h||"DEFINE_MANY"===h),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",h,a),"DEFINE_MANY_MERGED"===h?o[a]=E(o[a],c):"DEFINE_MANY"===h&&(o[a]=f(o[a],c))}else o[a]=c}}}else;}function u(t,e){if(e)for(var n in e){var o=e[n];if(e.hasOwnProperty(n)){var i=n in D;s(!i,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n);var r=n in t;if(r){var a=_.hasOwnProperty(n)?_[n]:null;return s("DEFINE_MANY_MERGED"===a,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),void(t[n]=E(t[n],o))}t[n]=o}}}function l(t,e){s(t&&e&&"object"==typeof t&&"object"==typeof e,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var n in e)e.hasOwnProperty(n)&&(s(void 0===t[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),t[n]=e[n]);return t}function E(t,e){return function(){var n=t.apply(this,arguments),o=e.apply(this,arguments);if(null==n)return o;if(null==o)return n;var i={};return l(i,n),l(i,o),i}}function f(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function m(t,e){var n=e.bind(t);return n}function y(t){for(var e=t.__reactAutoBindPairs,n=0;n<e.length;n+=2){var o=e[n],i=e[n+1];t[o]=m(t,i)}}function h(t){var e=o(function(t,o,i){this.__reactAutoBindPairs.length&&y(this),this.props=t,this.context=o,this.refs=a,this.updater=i||n,this.state=null;var r=this.getInitialState?this.getInitialState():null;s("object"==typeof r&&!Array.isArray(r),"%s.getInitialState(): must return an object or null",e.displayName||"ReactCompositeComponent"),this.state=r});e.prototype=new g,e.prototype.constructor=e,e.prototype.__reactAutoBindPairs=[],N.forEach(c.bind(null,e)),c(e,M),c(e,t),c(e,I),e.getDefaultProps&&(e.defaultProps=e.getDefaultProps()),s(e.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var i in d)e.prototype[i]||(e.prototype[i]=null);return e}var N=[],d={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},_={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},D={displayName:function(t,e){t.displayName=e},mixins:function(t,e){if(e)for(var n=0;n<e.length;n++)c(t,e[n])},childContextTypes:function(t,e){t.childContextTypes=r({},t.childContextTypes,e)},contextTypes:function(t,e){t.contextTypes=r({},t.contextTypes,e)},getDefaultProps:function(t,e){t.getDefaultProps?t.getDefaultProps=E(t.getDefaultProps,e):t.getDefaultProps=e},propTypes:function(t,e){t.propTypes=r({},t.propTypes,e)},statics:function(t,e){u(t,e)},autobind:function(){}},M={componentDidMount:function(){this.__isMounted=!0}},I={componentWillUnmount:function(){this.__isMounted=!1}},A={replaceState:function(t,e){this.updater.enqueueReplaceState(this,t,e)},isMounted:function(){return!!this.__isMounted}},g=function(){};return r(g.prototype,t.prototype,A),h}var r=t("object-assign"),a=t("fbjs/lib/emptyObject"),s=t("fbjs/lib/invariant"),p="mixins";e.exports=i});C.r("node_modules/create-react-class/index.js",function(e,t,a){"use strict";var r=e("react"),c=e("./factory");if(void 0===r)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var o=(new r.Component).updater;t.exports=c(r.Component,r.isValidElement,o)});C.r("node_modules/fbjs/lib/emptyFunction.js",function(t,n,u){"use strict";function r(t){return function(){return t}}var e=function(){};e.thatReturns=r,e.thatReturnsFalse=r(!1),e.thatReturnsTrue=r(!0),e.thatReturnsNull=r(null),e.thatReturnsThis=function(){return this},e.thatReturnsArgument=function(t){return t},n.exports=e});C.r("node_modules/fbjs/lib/emptyObject.js",function(e,s,t){"use strict";var o={};s.exports=o});C.r("node_modules/fbjs/lib/invariant.js",function(n,e,r){"use strict";function i(n,e,r,i,t,a,f,s){if(o(e),!n){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[r,i,t,a,f,s],l=0;u=new Error(e.replace(/%s/g,function(){return d[l++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}var o=function(n){};e.exports=i});C.r("node_modules/fbjs/lib/warning.js",function(n,s,t){"use strict";var e=n("./emptyFunction"),i=e;s.exports=i});C.r("node_modules/hoist-non-react-statics/index.js",function(t,e,r){"use strict";var o={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},s="function"==typeof Object.getOwnPropertySymbols;e.exports=function(t,e,r){if("string"!=typeof e){var p=Object.getOwnPropertyNames(e);s&&(p=p.concat(Object.getOwnPropertySymbols(e)));for(var a=0;a<p.length;++a)if(!(o[p[a]]||n[p[a]]||r&&r[p[a]]))try{t[p[a]]=e[p[a]]}catch(t){}}return t}});C.r("node_modules/object-assign/index.js",function(r,e,t){"use strict";function n(r){if(null===r||void 0===r)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}var o=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var r=new String("abc");if(r[5]="de","5"===Object.getOwnPropertyNames(r)[0])return!1;for(var e={},t=0;t<10;t++)e["_"+String.fromCharCode(t)]=t;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(r){return e[r]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(r){n[r]=r}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(r){return!1}}()?Object.assign:function(r,e){for(var t,a,s=n(r),f=1;f<arguments.length;f++){t=Object(arguments[f]);for(var u in t)c.call(t,u)&&(s[u]=t[u]);if(o){a=o(t);for(var b=0;b<a.length;b++)i.call(t,a[b])&&(s[a[b]]=t[a[b]])}}return s}});C.r("node_modules/prop-types/checkPropTypes.js",function(e,o,s){"use strict";function p(e,o,s,p,t){}o.exports=p});C.r("node_modules/prop-types/factory.js",function(r,t,e){"use strict";var o=r("./factoryWithTypeCheckers");t.exports=function(r){return o(r,!1)}});C.r("node_modules/prop-types/factoryWithThrowingShims.js",function(e,t,r){"use strict";var o=e("fbjs/lib/emptyFunction"),p=e("fbjs/lib/invariant"),n=e("./lib/ReactPropTypesSecret");t.exports=function(){function e(e,t,r,o,s,c){c!==n&&p(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return r.checkPropTypes=o,r.PropTypes=r,r}});C.r("node_modules/prop-types/factoryWithTypeCheckers.js",function(e,n,r){"use strict";var t=e("fbjs/lib/emptyFunction"),o=e("fbjs/lib/invariant"),i=e("fbjs/lib/warning"),u=e("object-assign"),a=e("./lib/ReactPropTypesSecret"),f=e("./checkPropTypes");n.exports=function(e,n){function r(e){var n=e&&(I&&e[I]||e[P]);if("function"==typeof n)return n}function c(e,n){return e===n?0!==e||1/e==1/n:e!==e&&n!==n}function l(e){this.message=e,this.stack=""}function s(e){function r(r,t,i,u,f,c,s){if(u=u||R,c=c||i,s!==a)if(n)o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else;return null==t[i]?r?new l(null===t[i]?"The "+f+" `"+c+"` is marked as required in `"+u+"`, but its value is `null`.":"The "+f+" `"+c+"` is marked as required in `"+u+"`, but its value is `undefined`."):null:e(t,i,u,f,c)}var t=r.bind(null,!1);return t.isRequired=r.bind(null,!0),t}function p(e){function n(n,r,t,o,i,u){var a=n[r];if(w(a)!==e)return new l("Invalid "+o+" `"+i+"` of type `"+T(a)+"` supplied to `"+t+"`, expected `"+e+"`.");return null}return s(n)}function y(e){function n(n,r,t,o,i){if("function"!=typeof e)return new l("Property `"+i+"` of component `"+t+"` has invalid PropType notation inside arrayOf.");var u=n[r];if(!Array.isArray(u)){return new l("Invalid "+o+" `"+i+"` of type `"+w(u)+"` supplied to `"+t+"`, expected an array.")}for(var f=0;f<u.length;f++){var c=e(u,f,t,o,i+"["+f+"]",a);if(c instanceof Error)return c}return null}return s(n)}function d(e){function n(n,r,t,o,i){if(!(n[r]instanceof e)){var u=e.name||R;return new l("Invalid "+o+" `"+i+"` of type `"+O(n[r])+"` supplied to `"+t+"`, expected instance of `"+u+"`.")}return null}return s(n)}function v(e){function n(n,r,t,o,i){for(var u=n[r],a=0;a<e.length;a++)if(c(u,e[a]))return null;return new l("Invalid "+o+" `"+i+"` of value `"+u+"` supplied to `"+t+"`, expected one of "+JSON.stringify(e)+".")}return Array.isArray(e)?s(n):t.thatReturnsNull}function b(e){function n(n,r,t,o,i){if("function"!=typeof e)return new l("Property `"+i+"` of component `"+t+"` has invalid PropType notation inside objectOf.");var u=n[r],f=w(u);if("object"!==f)return new l("Invalid "+o+" `"+i+"` of type `"+f+"` supplied to `"+t+"`, expected an object.");for(var c in u)if(u.hasOwnProperty(c)){var s=e(u,c,t,o,i+"."+c,a);if(s instanceof Error)return s}return null}return s(n)}function m(e){function n(n,r,t,o,i){for(var u=0;u<e.length;u++){if(null==(0,e[u])(n,r,t,o,i,a))return null}return new l("Invalid "+o+" `"+i+"` supplied to `"+t+"`.")}if(!Array.isArray(e))return t.thatReturnsNull;for(var r=0;r<e.length;r++){var o=e[r];if("function"!=typeof o)return i(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",k(o),r),t.thatReturnsNull}return s(n)}function h(e){function n(n,r,t,o,i){var u=n[r],f=w(u);if("object"!==f)return new l("Invalid "+o+" `"+i+"` of type `"+f+"` supplied to `"+t+"`, expected `object`.");for(var c in e){var s=e[c];if(s){var p=s(u,c,t,o,i+"."+c,a);if(p)return p}}return null}return s(n)}function g(e){function n(n,r,t,o,i){var f=n[r],c=w(f);if("object"!==c)return new l("Invalid "+o+" `"+i+"` of type `"+c+"` supplied to `"+t+"`, expected `object`.");var s=u({},n[r],e);for(var p in s){var y=e[p];if(!y)return new l("Invalid "+o+" `"+i+"` key `"+p+"` supplied to `"+t+"`.\nBad object: "+JSON.stringify(n[r],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var d=y(f,p,t,o,i+"."+p,a);if(d)return d}return null}return s(n)}function j(n){switch(typeof n){case"number":case"string":case"undefined":return!0;case"boolean":return!n;case"object":if(Array.isArray(n))return n.every(j);if(null===n||e(n))return!0;var t=r(n);if(!t)return!1;var o,i=t.call(n);if(t!==n.entries){for(;!(o=i.next()).done;)if(!j(o.value))return!1}else for(;!(o=i.next()).done;){var u=o.value;if(u&&!j(u[1]))return!1}return!0;default:return!1}}function x(e,n){return"symbol"===e||("Symbol"===n["@@toStringTag"]||"function"==typeof Symbol&&n instanceof Symbol)}function w(e){var n=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":x(n,e)?"symbol":n}function T(e){if(void 0===e||null===e)return""+e;var n=w(e);if("object"===n){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return n}function k(e){var n=T(e);switch(n){case"array":case"object":return"an "+n;case"boolean":case"date":case"regexp":return"a "+n;default:return n}}function O(e){return e.constructor&&e.constructor.name?e.constructor.name:R}var I="function"==typeof Symbol&&Symbol.iterator,P="@@iterator",R="<<anonymous>>",A={array:p("array"),bool:p("boolean"),func:p("function"),number:p("number"),object:p("object"),string:p("string"),symbol:p("symbol"),any:function(){return s(t.thatReturnsNull)}(),arrayOf:y,element:function(){function n(n,r,t,o,i){var u=n[r];if(!e(u)){return new l("Invalid "+o+" `"+i+"` of type `"+w(u)+"` supplied to `"+t+"`, expected a single ReactElement.")}return null}return s(n)}(),instanceOf:d,node:function(){function e(e,n,r,t,o){return j(e[n])?null:new l("Invalid "+t+" `"+o+"` supplied to `"+r+"`, expected a ReactNode.")}return s(e)}(),objectOf:b,oneOf:v,oneOfType:m,shape:h,exact:g};return l.prototype=Error.prototype,A.checkPropTypes=f,A.PropTypes=A,A}});C.r("node_modules/prop-types/index.js",function(o,e,i){e.exports=o("./factoryWithThrowingShims")()});C.r("node_modules/prop-types/lib/ReactPropTypesSecret.js",function(_,e,s){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"});C.r("node_modules/react/lib/KeyEscapeUtils.js",function(e,r,n){"use strict";function t(e){var r={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return r[e]})}function u(e){var r=/(=0|=2)/g,n={"=0":"=","=2":":"};return(""+("."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1))).replace(r,function(e){return n[e]})}var s={escape:t,unescape:u};r.exports=s});C.r("node_modules/react/lib/PooledClass.js",function(n,o,e){"use strict";var t=n("./reactProdInvariant"),r=(n("fbjs/lib/invariant"),function(n){var o=this;if(o.instancePool.length){var e=o.instancePool.pop();return o.call(e,n),e}return new o(n)}),l=function(n,o){var e=this;if(e.instancePool.length){var t=e.instancePool.pop();return e.call(t,n,o),t}return new e(n,o)},i=function(n,o,e){var t=this;if(t.instancePool.length){var r=t.instancePool.pop();return t.call(r,n,o,e),r}return new t(n,o,e)},a=function(n,o,e,t){var r=this;if(r.instancePool.length){var l=r.instancePool.pop();return r.call(l,n,o,e,t),l}return new r(n,o,e,t)},s=function(n){var o=this;n instanceof o||t("25"),n.destructor(),o.instancePool.length<o.poolSize&&o.instancePool.push(n)},c=r,u=function(n,o){var e=n;return e.instancePool=[],e.getPooled=o||c,e.poolSize||(e.poolSize=10),e.release=s,e},P={addPoolingTo:u,oneArgumentPooler:r,twoArgumentPooler:l,threeArgumentPooler:i,fourArgumentPooler:a};o.exports=P});C.r("node_modules/react/lib/React.js",function(e,t,a){"use strict";var n=e("object-assign"),r=e("./ReactBaseClasses"),o=e("./ReactChildren"),c=e("./ReactDOMFactories"),s=e("./ReactElement"),l=e("./ReactPropTypes"),i=e("./ReactVersion"),m=e("./createClass"),p=e("./onlyChild"),C=s.createElement,u=s.createFactory,E=s.cloneElement,d=n,y=function(e){return e},R={Children:{map:o.map,forEach:o.forEach,count:o.count,toArray:o.toArray,only:p},Component:r.Component,PureComponent:r.PureComponent,createElement:C,cloneElement:E,isValidElement:s.isValidElement,PropTypes:l,createClass:m,createFactory:u,createMixin:y,DOM:c,version:i,__spread:d};t.exports=R});C.r("node_modules/react/lib/ReactBaseClasses.js",function(t,e,o){"use strict";function p(t,e,o){this.props=t,this.context=e,this.refs=u,this.updater=o||a}function n(t,e,o){this.props=t,this.context=e,this.refs=u,this.updater=o||a}function r(){}var s=t("./reactProdInvariant"),i=t("object-assign"),a=t("./ReactNoopUpdateQueue"),u=(t("./canDefineProperty"),t("fbjs/lib/emptyObject"));t("fbjs/lib/invariant"),t("./lowPriorityWarning");p.prototype.isReactComponent={},p.prototype.setState=function(t,e){"object"!=typeof t&&"function"!=typeof t&&null!=t&&s("85"),this.updater.enqueueSetState(this,t),e&&this.updater.enqueueCallback(this,e,"setState")},p.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this),t&&this.updater.enqueueCallback(this,t,"forceUpdate")};r.prototype=p.prototype,n.prototype=new r,n.prototype.constructor=n,i(n.prototype,p.prototype),n.prototype.isPureReactComponent=!0,e.exports={Component:p,PureComponent:n}});C.r("node_modules/react/lib/ReactChildren.js",function(t,n,e){"use strict";function r(t){return(""+t).replace(g,"$&/")}function u(t,n){this.func=t,this.context=n,this.count=0}function l(t,n,e){var r=t.func,u=t.context;r.call(u,n,t.count++)}function o(t,n,e){if(null==t)return t;var r=u.getPooled(n,e);P(t,l,r),u.release(r)}function i(t,n,e,r){this.result=t,this.keyPrefix=n,this.func=e,this.context=r,this.count=0}function c(t,n,e){var u=t.result,l=t.keyPrefix,o=t.func,i=t.context,c=o.call(i,n,t.count++);Array.isArray(c)?s(c,u,e,x.thatReturnsArgument):null!=c&&(p.isValidElement(c)&&(c=p.cloneAndReplaceKey(c,l+(!c.key||n&&n.key===c.key?"":r(c.key)+"/")+e)),u.push(c))}function s(t,n,e,u,l){var o="";null!=e&&(o=r(e)+"/");var s=i.getPooled(n,o,u,l);P(t,c,s),i.release(s)}function a(t,n,e){if(null==t)return t;var r=[];return s(t,r,null,n,e),r}function f(t,n,e){return null}function h(t,n){return P(t,f,null)}function d(t){var n=[];return s(t,n,null,x.thatReturnsArgument),n}var y=t("./PooledClass"),p=t("./ReactElement"),x=t("fbjs/lib/emptyFunction"),P=t("./traverseAllChildren"),m=y.twoArgumentPooler,v=y.fourArgumentPooler,g=/\/+/g;u.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},y.addPoolingTo(u,m),i.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},y.addPoolingTo(i,v);var A={forEach:o,map:a,mapIntoWithKeyPrefixInternal:s,count:h,toArray:d};n.exports=A});C.r("node_modules/react/lib/ReactComponentTreeHook.js",function(e,n,t){"use strict";function r(e){var n=Function.prototype.toString,t=Object.prototype.hasOwnProperty,r=RegExp("^"+n.call(t).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");try{var o=n.call(e);return r.test(o)}catch(e){return!1}}function o(e){var n=l(e);if(n){var t=n.childIDs;f(e),t.forEach(o)}}function u(e,n,t){return"\n    in "+(e||"Unknown")+(n?" (at "+n.fileName.replace(/^.*[\\\/]/,"")+":"+n.lineNumber+")":t?" (created by "+t+")":"")}function a(e){return null==e?"#empty":"string"==typeof e||"number"==typeof e?"#text":"string"==typeof e.type?e.type:e.type.displayName||e.type.name||"Unknown"}function i(e){var n,t=C.getDisplayName(e),r=C.getElement(e),o=C.getOwnerID(e);return o&&(n=C.getDisplayName(o)),u(t,r&&r._source,n)}var c,l,f,p,s,m,d,y=e("./reactProdInvariant"),g=e("./ReactCurrentOwner"),v=(e("fbjs/lib/invariant"),e("fbjs/lib/warning"),"function"==typeof Array.from&&"function"==typeof Map&&r(Map)&&null!=Map.prototype&&"function"==typeof Map.prototype.keys&&r(Map.prototype.keys)&&"function"==typeof Set&&r(Set)&&null!=Set.prototype&&"function"==typeof Set.prototype.keys&&r(Set.prototype.keys));if(v){var D=new Map,I=new Set;c=function(e,n){D.set(e,n)},l=function(e){return D.get(e)},f=function(e){D.delete(e)},p=function(){return Array.from(D.keys())},s=function(e){I.add(e)},m=function(e){I.delete(e)},d=function(){return Array.from(I.keys())}}else{var b={},k={},S=function(e){return"."+e},h=function(e){return parseInt(e.substr(1),10)};c=function(e,n){var t=S(e);b[t]=n},l=function(e){var n=S(e);return b[n]},f=function(e){var n=S(e);delete b[n]},p=function(){return Object.keys(b).map(h)},s=function(e){var n=S(e);k[n]=!0},m=function(e){var n=S(e);delete k[n]},d=function(){return Object.keys(k).map(h)}}var N=[],C={onSetChildren:function(e,n){var t=l(e);t||y("144"),t.childIDs=n;for(var r=0;r<n.length;r++){var o=n[r],u=l(o);u||y("140"),null==u.childIDs&&"object"==typeof u.element&&null!=u.element&&y("141"),u.isMounted||y("71"),null==u.parentID&&(u.parentID=e),u.parentID!==e&&y("142",o,u.parentID,e)}},onBeforeMountComponent:function(e,n,t){c(e,{element:n,parentID:t,text:null,childIDs:[],isMounted:!1,updateCount:0})},onBeforeUpdateComponent:function(e,n){var t=l(e);t&&t.isMounted&&(t.element=n)},onMountComponent:function(e){var n=l(e);n||y("144"),n.isMounted=!0,0===n.parentID&&s(e)},onUpdateComponent:function(e){var n=l(e);n&&n.isMounted&&n.updateCount++},onUnmountComponent:function(e){var n=l(e);if(n){n.isMounted=!1;0===n.parentID&&m(e)}N.push(e)},purgeUnmountedComponents:function(){if(!C._preventPurging){for(var e=0;e<N.length;e++){o(N[e])}N.length=0}},isMounted:function(e){var n=l(e);return!!n&&n.isMounted},getCurrentStackAddendum:function(e){var n="";if(e){var t=a(e),r=e._owner;n+=u(t,e._source,r&&r.getName())}var o=g.current,i=o&&o._debugID;return n+=C.getStackAddendumByID(i)},getStackAddendumByID:function(e){for(var n="";e;)n+=i(e),e=C.getParentID(e);return n},getChildIDs:function(e){var n=l(e);return n?n.childIDs:[]},getDisplayName:function(e){var n=C.getElement(e);return n?a(n):null},getElement:function(e){var n=l(e);return n?n.element:null},getOwnerID:function(e){var n=C.getElement(e);return n&&n._owner?n._owner._debugID:null},getParentID:function(e){var n=l(e);return n?n.parentID:null},getSource:function(e){var n=l(e),t=n?n.element:null;return null!=t?t._source:null},getText:function(e){var n=C.getElement(e);return"string"==typeof n?n:"number"==typeof n?""+n:null},getUpdateCount:function(e){var n=l(e);return n?n.updateCount:0},getRootIDs:d,getRegisteredIDs:p,pushNonStandardWarningStack:function(e,n){if("function"==typeof console.reactStack){var t=[],r=g.current,o=r&&r._debugID;try{for(e&&t.push({name:o?C.getDisplayName(o):null,fileName:n?n.fileName:null,lineNumber:n?n.lineNumber:null});o;){var u=C.getElement(o),a=C.getParentID(o),i=C.getOwnerID(o),c=i?C.getDisplayName(i):null,l=u&&u._source;t.push({name:c,fileName:l?l.fileName:null,lineNumber:l?l.lineNumber:null}),o=a}}catch(e){}console.reactStack(t)}},popNonStandardWarningStack:function(){"function"==typeof console.reactStackEnd&&console.reactStackEnd()}};n.exports=C});C.r("node_modules/react/lib/ReactCurrentOwner.js",function(r,e,t){"use strict";var n={current:null};e.exports=n});C.r("node_modules/react/lib/ReactDOMFactories.js",function(e,t,a){"use strict";var r=e("./ReactElement"),i=r.createFactory,o={a:i("a"),abbr:i("abbr"),address:i("address"),area:i("area"),article:i("article"),aside:i("aside"),audio:i("audio"),b:i("b"),base:i("base"),bdi:i("bdi"),bdo:i("bdo"),big:i("big"),blockquote:i("blockquote"),body:i("body"),br:i("br"),button:i("button"),canvas:i("canvas"),caption:i("caption"),cite:i("cite"),code:i("code"),col:i("col"),colgroup:i("colgroup"),data:i("data"),datalist:i("datalist"),dd:i("dd"),del:i("del"),details:i("details"),dfn:i("dfn"),dialog:i("dialog"),div:i("div"),dl:i("dl"),dt:i("dt"),em:i("em"),embed:i("embed"),fieldset:i("fieldset"),figcaption:i("figcaption"),figure:i("figure"),footer:i("footer"),form:i("form"),h1:i("h1"),h2:i("h2"),h3:i("h3"),h4:i("h4"),h5:i("h5"),h6:i("h6"),head:i("head"),header:i("header"),hgroup:i("hgroup"),hr:i("hr"),html:i("html"),i:i("i"),iframe:i("iframe"),img:i("img"),input:i("input"),ins:i("ins"),kbd:i("kbd"),keygen:i("keygen"),label:i("label"),legend:i("legend"),li:i("li"),link:i("link"),main:i("main"),map:i("map"),mark:i("mark"),menu:i("menu"),menuitem:i("menuitem"),meta:i("meta"),meter:i("meter"),nav:i("nav"),noscript:i("noscript"),object:i("object"),ol:i("ol"),optgroup:i("optgroup"),option:i("option"),output:i("output"),p:i("p"),param:i("param"),picture:i("picture"),pre:i("pre"),progress:i("progress"),q:i("q"),rp:i("rp"),rt:i("rt"),ruby:i("ruby"),s:i("s"),samp:i("samp"),script:i("script"),section:i("section"),select:i("select"),small:i("small"),source:i("source"),span:i("span"),strong:i("strong"),style:i("style"),sub:i("sub"),summary:i("summary"),sup:i("sup"),table:i("table"),tbody:i("tbody"),td:i("td"),textarea:i("textarea"),tfoot:i("tfoot"),th:i("th"),thead:i("thead"),time:i("time"),title:i("title"),tr:i("tr"),track:i("track"),u:i("u"),ul:i("ul"),var:i("var"),video:i("video"),wbr:i("wbr"),circle:i("circle"),clipPath:i("clipPath"),defs:i("defs"),ellipse:i("ellipse"),g:i("g"),image:i("image"),line:i("line"),linearGradient:i("linearGradient"),mask:i("mask"),path:i("path"),pattern:i("pattern"),polygon:i("polygon"),polyline:i("polyline"),radialGradient:i("radialGradient"),rect:i("rect"),stop:i("stop"),svg:i("svg"),text:i("text"),tspan:i("tspan")};t.exports=o});C.r("node_modules/react/lib/ReactElement.js",function(e,r,n){"use strict";function t(e){return void 0!==e.ref}function o(e){return void 0!==e.key}var l=e("object-assign"),f=e("./ReactCurrentOwner"),i=(e("fbjs/lib/warning"),e("./canDefineProperty"),Object.prototype.hasOwnProperty),u=e("./ReactElementSymbol"),c={key:!0,ref:!0,__self:!0,__source:!0},a=function(e,r,n,t,o,l,f){var i={$$typeof:u,type:e,key:r,ref:n,props:f,_owner:l};return i};a.createElement=function(e,r,n){var l,u={},s=null,p=null;if(null!=r){t(r)&&(p=r.ref),o(r)&&(s=""+r.key),void 0===r.__self?null:r.__self,void 0===r.__source?null:r.__source;for(l in r)i.call(r,l)&&!c.hasOwnProperty(l)&&(u[l]=r[l])}var y=arguments.length-2;if(1===y)u.children=n;else if(y>1){for(var d=Array(y),_=0;_<y;_++)d[_]=arguments[_+2];u.children=d}if(e&&e.defaultProps){var v=e.defaultProps;for(l in v)void 0===u[l]&&(u[l]=v[l])}return a(e,s,p,0,0,f.current,u)},a.createFactory=function(e){var r=a.createElement.bind(null,e);return r.type=e,r},a.cloneAndReplaceKey=function(e,r){return a(e.type,r,e.ref,e._self,e._source,e._owner,e.props)},a.cloneElement=function(e,r,n){var u,s=l({},e.props),p=e.key,y=e.ref,d=(e._self,e._source,e._owner);if(null!=r){t(r)&&(y=r.ref,d=f.current),o(r)&&(p=""+r.key);var _;e.type&&e.type.defaultProps&&(_=e.type.defaultProps);for(u in r)i.call(r,u)&&!c.hasOwnProperty(u)&&(void 0===r[u]&&void 0!==_?s[u]=_[u]:s[u]=r[u])}var v=arguments.length-2;if(1===v)s.children=n;else if(v>1){for(var h=Array(v),b=0;b<v;b++)h[b]=arguments[b+2];s.children=h}return a(e.type,p,y,0,0,d,s)},a.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===u},r.exports=a});C.r("node_modules/react/lib/ReactElementSymbol.js",function(e,o,t){"use strict";var l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;o.exports=l});C.r("node_modules/react/lib/ReactElementValidator.js",function(e,r,t){"use strict";function n(){if(c.current){var e=c.current.getName();if(e)return" Check the render method of `"+e+"`."}return""}function o(e){if(null!==e&&void 0!==e&&void 0!==e.__source){var r=e.__source;return" Check your code at "+r.fileName.replace(/^.*[\\\/]/,"")+":"+r.lineNumber+"."}return""}function a(e){var r=n();if(!r){var t="string"==typeof e?e:e.displayName||e.name;t&&(r=" Check the top-level render call using <"+t+">.")}return r}function i(e,r){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;var t=v.uniqueKey||(v.uniqueKey={}),n=a(r);if(!t[n]){t[n]=!0;e&&e._owner&&e._owner!==c.current&&" It was passed a child from "+e._owner.getName()+"."}}}function l(e,r){if("object"==typeof e)if(Array.isArray(e))for(var t=0;t<e.length;t++){var n=e[t];p.isValidElement(n)&&i(n,r)}else if(p.isValidElement(e))e._store&&(e._store.validated=!0);else if(e){var o=d(e);if(o&&o!==e.entries)for(var a,l=o.call(e);!(a=l.next()).done;)p.isValidElement(a.value)&&i(a.value,r)}}function u(e){var r=e.type;if("function"==typeof r){var t=r.displayName||r.name;r.propTypes&&s(r.propTypes,e.props,"prop",t,e,null),r.getDefaultProps}}var c=e("./ReactCurrentOwner"),f=e("./ReactComponentTreeHook"),p=e("./ReactElement"),s=e("./checkReactTypeSpec"),d=(e("./canDefineProperty"),e("./getIteratorFn")),v=(e("fbjs/lib/warning"),e("./lowPriorityWarning"),{}),y={createElement:function(e,r,t){var a="string"==typeof e||"function"==typeof e;if(!a&&"function"!=typeof e&&"string"!=typeof e){var i="";(void 0===e||"object"==typeof e&&null!==e&&0===Object.keys(e).length)&&(i+=" You likely forgot to export your component from the file it's defined in.");var c=o(r);i+=c||n(),i+=f.getCurrentStackAddendum();var s=null!==r&&void 0!==r&&void 0!==r.__source?r.__source:null;f.pushNonStandardWarningStack(!0,s),f.popNonStandardWarningStack()}var d=p.createElement.apply(this,arguments);if(null==d)return d;if(a)for(var v=2;v<arguments.length;v++)l(arguments[v],e);return u(d),d},createFactory:function(e){var r=y.createElement.bind(null,e);return r.type=e,r},cloneElement:function(e,r,t){for(var n=p.cloneElement.apply(this,arguments),o=2;o<arguments.length;o++)l(arguments[o],n.type);return u(n),n}};r.exports=y});C.r("node_modules/react/lib/ReactNoopUpdateQueue.js",function(e,n,t){"use strict";var u=(e("fbjs/lib/warning"),{isMounted:function(e){return!1},enqueueCallback:function(e,n){},enqueueForceUpdate:function(e){},enqueueReplaceState:function(e,n){},enqueueSetState:function(e,n){}});n.exports=u});C.r("node_modules/react/lib/ReactPropTypeLocationNames.js",function(e,o,t){"use strict";var r={};o.exports=r});C.r("node_modules/react/lib/ReactPropTypes.js",function(e,t,r){"use strict";var s=e("./ReactElement"),o=s.isValidElement,a=e("prop-types/factory");t.exports=a(o)});C.r("node_modules/react/lib/ReactPropTypesSecret.js",function(_,e,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"});C.r("node_modules/react/lib/ReactVersion.js",function(e,s,t){"use strict";s.exports="15.6.2"});C.r("node_modules/react/lib/canDefineProperty.js",function(e,r,t){"use strict";var n=!1;r.exports=n});C.r("node_modules/react/lib/checkReactTypeSpec.js",function(e,r,a){"use strict";function n(e,r,a,n,i,f){for(var p in e)if(e.hasOwnProperty(p)){var l;try{"function"!=typeof e[p]&&t("84",n||"React class",c[a],p),l=e[p](r,p,n,a,null,s)}catch(e){l=e}if(l instanceof Error&&!(l.message in o)){o[l.message]=!0}}}var t=e("./reactProdInvariant"),c=e("./ReactPropTypeLocationNames"),s=e("./ReactPropTypesSecret");e("fbjs/lib/invariant"),e("fbjs/lib/warning");"undefined"!=typeof process&&process.env;var o={};r.exports=n});C.r("node_modules/react/lib/createClass.js",function(e,t,a){"use strict";var s=e("./ReactBaseClasses"),c=s.Component,o=e("./ReactElement"),r=o.isValidElement,l=e("./ReactNoopUpdateQueue"),n=e("create-react-class/factory");t.exports=n(c,r,l)});C.r("node_modules/react/lib/getIteratorFn.js",function(t,o,r){"use strict";function e(t){var o=t&&(n&&t[n]||t[i]);if("function"==typeof o)return o}var n="function"==typeof Symbol&&Symbol.iterator,i="@@iterator";o.exports=e});C.r("node_modules/react/lib/lowPriorityWarning.js",function(r,i,n){"use strict";var o=function(){};i.exports=o});C.r("node_modules/react/lib/onlyChild.js",function(n,t,e){"use strict";function i(n){return a.isValidElement(n)||r("143"),n}var r=n("./reactProdInvariant"),a=n("./ReactElement");n("fbjs/lib/invariant");t.exports=i});C.r("node_modules/react/lib/reactProdInvariant.js",function(r,e,o){"use strict";function n(r){for(var e=arguments.length-1,o="Minified React error #"+r+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+r,n=0;n<e;n++)o+="&args[]="+encodeURIComponent(arguments[n+1]);o+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var t=new Error(o);throw t.name="Invariant Violation",t.framesToPop=1,t}e.exports=n});C.r("node_modules/react/lib/traverseAllChildren.js",function(e,r,t){"use strict";function n(e,r){return e&&"object"==typeof e&&null!=e.key?s.escape(e.key):r.toString(36)}function a(e,r,t,i){var b=typeof e;if("undefined"!==b&&"boolean"!==b||(e=null),null===e||"string"===b||"number"===b||"object"===b&&e.$$typeof===o)return t(i,e,""===r?u+n(e,0):r),1;var v,j,y=0,d=""===r?u:r+f;if(Array.isArray(e))for(var p=0;p<e.length;p++)v=e[p],j=d+n(v,p),y+=a(v,j,t,i);else{var g=c(e);if(g){var k,m=g.call(e);if(g!==e.entries)for(var h=0;!(k=m.next()).done;)v=k.value,j=d+n(v,h++),y+=a(v,j,t,i);else for(;!(k=m.next()).done;){var w=k.value;w&&(v=w[1],j=d+s.escape(w[0])+f+n(v,0),y+=a(v,j,t,i))}}else if("object"===b){var x="",A=String(e);l("31","[object Object]"===A?"object with keys {"+Object.keys(e).join(", ")+"}":A,x)}}return y}function i(e,r,t){return null==e?0:a(e,"",r,t)}var l=e("./reactProdInvariant"),o=(e("./ReactCurrentOwner"),e("./ReactElementSymbol")),c=e("./getIteratorFn"),s=(e("fbjs/lib/invariant"),e("./KeyEscapeUtils")),u=(e("fbjs/lib/warning"),"."),f=":";r.exports=i});C.r("node_modules/react/react.js",function(e,t,c){"use strict";t.exports=e("./lib/React")});C.r("node_modules/shakti-platform/dist/ui/consolidatedLogging/constants/actionTypes.js",function(e,t,i){"use strict";var a={AcceptTermsOfUse:"AcceptTermsOfUse",AddCachedVideo:"AddCachedVideo",AddProfile:"AddProfile",AddToPlaylist:"AddToPlaylist",AppExperience:"AppExperience",AssetPreload:"AssetPreload",CloseApp:"CloseApp",ConnectWithLineAccount:"ConnectWithLineAccount",Countdown:"Countdown",CreateAccount:"CreateAccount",DebugSession:"DebugSession",DeleteProfile:"DeleteProfile",Download:"Download",EditProfile:"EditProfile",Focus:"Focus",IkoVideoSegment:"iko.VideoSegment",LoadConfigurationService:"LoadConfigurationService",LoadDownloadService:"LoadDownloadService",LoadIdentityService:"LoadIdentityService",LoadNrdService:"LoadNrdService",Log:"Log",Navigate:"Navigate",NavigationLevel:"NavigationLevel",NotifyUms:"NotifyUms",Play:"Play",PrepareOnramp:"PrepareOnramp",PreparePlay:"PreparePlay",Presentation:"Presentation",ProcessStateTransition:"ProcessStateTransition",ProfileGuid:"ProfileGuid",RegisterForPushNotifications:"RegisterForPushNotifications",RemoveCachedVideo:"RemoveCachedVideo",RemoveFromPlaylist:"RemoveFromPlaylist",RemoveFromViewingActivity:"RemoveFromViewingActivity",RenderNavigationLevel:"RenderNavigationLevel",RequestImeCandidateList:"RequestImeCandidateList",RequestSharedCredentials:"RequestSharedCredentials",Search:"Search",SelectPlan:"SelectPlan",SelectProfile:"SelectProfile",SetStarRating:"SetStarRating",SetThumbRating:"SetThumbRating",Share:"Share",SignIn:"SignIn",SignOut:"SignOut",StartAppExperience:"StartAppExperience",StartMembership:"StartMembership",StartPlay:"StartPlay",SubmitOnrampResults:"SubmitOnrampResults",ThrottleSearch:"ThrottleSearch",UpdateCommunicationPreferences:"www.UpdateCommunicationPreferences",UpdateSubtitlePreferences:"www.UpdateSubtitlePreferences",UpdateTestParticipation:"UpdateTestParticipation",UserInteraction:"UserInteraction",ValidateInput:"ValidateInput",ValidateMemberId:"ValidateMemberId",ValidatePin:"ValidatePin",VisitorDeviceId:"VisitorDeviceId",VoiceInputDeviceListening:"VoiceInputDeviceListening",VoiceInputUserSpeaking:"VoiceInputUserSpeaking"};t.exports=a});C.r("node_modules/shakti-platform/dist/ui/consolidatedLogging/constants/eventTypes.js",function(e,t,d){"use strict";var i={LoggerInitialized:"LoggerInitialized",LastAppCrashed:"LastAppCrashed",Presented:"Presented",ExceptionOccurred:"ExceptionOccurred",VolumeChanged:"VolumeChanged",TestAllocationsIgnored:"TestAllocationsIgnored",PushNotificationReceived:"PushNotificationReceived",PushNotificationPresented:"PushNotificationPresented",PushNotificationResolved:"PushNotificationResolved",AppHeartbeat:"AppHeartbeat",BoxartRenderEnded:"BoxartRenderEnded",DebugEvent:"DebugEvent",ServerDiscovered:"ServerDiscovered",NrdFeaturesReported:"NrdFeaturesReported",NrdPreAppTileGroupsUpdated:"NrdPreAppTileGroupsUpdated",NrdSystemCommandReceived:"NrdSystemCommandReceived",CadmiumPlaybackMetricsReported:"CadmiumPlaybackMetricsReported",AdtechTrackingPixelRequested:"www.AdtechTrackingPixelRequested",BillboardUiMilestonesReported:"www.BillboardUiMilestonesReported"};t.exports=i});C.r("node_modules/shakti-platform/dist/ui/ShaktiProperties.js",function(e,t,i){"use strict";t.exports={_client:null,setClient:function(e){this._client=e},_clientCheck:function(){if(!this._client)throw new Error("attempting to use ShaktiProperties before the properties client has been initialized.\nThis may mean you should defer your require until needed vs at the top of file.")},get:function(e){return this._clientCheck(),this._client.get(e)},getRawValue:function(e){return this._clientCheck(),this._client.getRawValue(e)},isReady:function(){return null!==this._client}}});C.r("utils/fonts/fontConfig.js",function(t,e,i){"use strict";var n=t("shakti-platform/dist/ui/ShaktiProperties"),o={family:"NKufi",text:"",weight:"normal",predicate:function(t){return t.isArabicAndWebFontsEnabled},timeout:n.get("web.ui.fonts.nkufi.timeout.ms"),version:3},s={family:"NKufi",text:"",weight:"bold",predicate:function(t){return t.isArabicAndWebFontsEnabled},timeout:n.get("web.ui.fonts.nkufi.timeout.ms"),version:3},u={family:"Netflix Sans",weight:"normal",predicate:function(t){return t.useNetflixSansWebFont},timeout:n.get("web.ui.fonts.netflix.sans.timeout.ms"),version:2},f={family:"Netflix Sans",weight:"bold",predicate:function(t){return t.useNetflixSansWebFont},timeout:n.get("web.ui.fonts.netflix.sans.timeout.ms"),version:2},r=[o,s,u,f];e.exports=r});C.r("utils/cookieUtils.js",function(t,e,i){"use strict";var n={NEVER:"NEVER"},o={NEVER:new Date((new Date).getFullYear()+10,1,1),CLEAR:new Date(1970,1,1)};e.exports={EXPIRES:n,EXPIRY_TIMES:o,ROOT_PATH:"/",TOP_DOMAIN:".netflix.com",millisFromNow:function(t){return new Date(Date.now()+t)},set:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.NEVER,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.TOP_DOMAIN,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.ROOT_PATH,l=t+"="+encodeURIComponent(e);i===n.NEVER?i=o.NEVER:i instanceof Date||(i=null),l+="; expires="+(i?i.toUTCString():null),l+="; path="+(void 0!==r?r:"/"),void 0!==s&&(l+="; domain="+s),document.cookie=l},setObj:function(t,e,i,n,o){this.set(t,JSON.stringify(e),i,n,o)},get:function(t){var e=void 0,i=void 0,n=void 0,o=void 0,s=void 0,r=document.cookie.split(";");for(e=0;e<r.length;e++)if(i=r[e],s=i.indexOf("="),n=i.substr(0,s),o=i.substr(s+1),(n=n.replace(/^\s+|\s+$/g,""))===t)return decodeURIComponent(o);return null},getObj:function(t){return JSON.parse(this.get(t))},clear:function(t,e,i){this.set(t,"",o.CLEAR,e||this.TOP_DOMAIN,i||this.ROOT_PATH)},clearAll:function(){var t=void 0,e=void 0,i=void 0,n=void 0,o=document.cookie.split(";");for(t=0;t<o.length;t++)e=o[t],i=e.indexOf("="),n=i>-1?e.substr(0,i):e,this.clear(n)}}});C.r("utils/fonts/fontKey.js",function(e,t,o){"use strict";function r(e,t){var o=e.family.toLowerCase().replace(" ","-");return e.weight&&(o+="-"+e.weight),e.style&&(o+="-"+e.style),(e.version||t)&&(o+="-"+("number"==typeof t?t:e.version)),o.toLowerCase()+"-loaded"}t.exports=r});C.r("utils/fonts/fontCookies.js",function(o,e,t){"use strict";function i(o){var e=o.family.toLowerCase()+"Loaded",t=o.version-1,i=void 0;for(r.get(e)&&r.clear(e,r.TOP_DOMAIN);t>0;t--)i=s(o,t),r.get(i)&&r.clear(i,r.TOP_DOMAIN);r.set(s(o),!0,r.EXPIRES.NEVER,r.TOP_DOMAIN)}function n(o,e){return"true"===e.get(s(o))}var r=o("../cookieUtils"),s=o("./fontKey");e.exports={setLoadedFontCookie:i,getLoadedFontCookie:n}});C.r("utils/fonts/fontClasses.js",function(e,t,o){"use strict";function n(e){return e.family.replace(" ","-").toLowerCase()+"-font-loaded"}function r(e,t){return a.reduce(function(o,r){var a=!t.useManualFontDetection||i.getLoadedFontCookie(r,e),s=!r.predicate||r.predicate(t);return a&&s&&(o[n(r)]=!0),o},{})}var i=e("./fontCookies"),a=e("./fontConfig");t.exports=r});C.r("akira/components/hoc/detectFonts.jsx",function(e,t,n){"use strict";function o(e){var t=r({displayName:"DetectFonts",contextTypes:{cookies:i.object.isRequired,getModelData:i.func.isRequired,logger:i.object.isRequired},_resourceTimingId:void 0,componentDidMount:function(){var e=this,t=this.context.getModelData("truths"),n=t.useManualFontDetection,o=this.context.logger,s=void 0;n&&(s=o.startSession(d.DebugSession,{detectFontsManually:n}),a({callback:function(t,n){t&&e.forceUpdate(),s&&o.endSession(s,{results:n,success:t})},cookies:this.context.cookies,truths:t})),this.logFontResourceTiming(n)},logFontResourceTiming:function(e){var t=this.context.logger;window.performance&&window.performance.getEntriesByType&&(this._resourceTimingId=setTimeout(function(){try{var n=window.performance.getEntriesByType("resource").filter(function(e){return e.name.indexOf("woff")>-1}).map(function(e){return e.toJSON()}).reduce(function(e,t){var n=t.name;return delete t.name,e[n]=t,e},{});t.logEvent(f.DebugEvent,{fontData:{woffResourceEntries:n,fontsDetectedManually:e}})}catch(e){}},g))},componentWillUnmount:function(){clearTimeout(this._resourceTimingId)},render:function(){var t=this.context.getModelData("truths"),n=t.useWebFonts;if(!n)return s.createElement(e,this.props);var o=l(n?u(this.context.cookies,t):{});return s.createElement("div",{className:o},s.createElement(e,this.props))}});return c(t,e),t}var s=e("react"),i=e("prop-types"),r=e("create-react-class"),c=e("hoist-non-react-statics"),a=e("../../../utils/fonts/fontDetection"),u=e("../../../utils/fonts/fontClasses"),l=e("classnames"),d=e("shakti-platform/dist/ui/consolidatedLogging/constants/actionTypes"),f=e("shakti-platform/dist/ui/consolidatedLogging/constants/eventTypes"),g=5e3;t.exports=o});C.r("akira/components/hoc/detectFontsWrapper.jsx",function(t,e,n){"use strict";var r=t("./detectFonts.jsx");e.exports=r.stub?function(t){return t}:r});C.r("akira/components/hoc/withUpdateDimensions.jsx",function(t,i,n){"use strict";function e(t){f.push(t)}function s(t){f=f.filter(function(i){return i!==t})}function o(t){t()}function a(t,i){var n=l({displayName:t.displayName?"withUpdateDimensions("+t.displayName+")":"withUpdateDimensions()",_childCmp:null,componentDidMount:function(){e(this.updateDimensions),this.updateDimensions()},componentWillMount:function(){this._childCmp=null},componentWillUnmount:function(){s(this.updateDimensions)},getInitialState:function(){return{dimensions:void 0}},setComponentRef:function(t){this._childCmp=t},render:function(){return h.createElement(t,(0,u.default)({},this.props,this.state,{ref:this.setComponentRef,updateDimensions:this.updateDimensions}),this.props.children)},updateDimensions:function(){var t=this._childCmp&&m.findDOMNode(this._childCmp);if(t&&!(t instanceof Text)){var n=t.getBoundingClientRect();c.isEqual(this.state.dimensions,n)||(i?this.setState(c.assign(i(c.assign({},this.state,{dimensions:n}),t,this._childCmp,this),{dimensions:n})):this.setState({dimensions:n}))}}});return p(n,t),n}var d=t("babel-runtime/helpers/extends"),u=function(t){return t&&t.__esModule?t:{default:t}}(d),c=t("lodash"),r=t("shakti-platform/dist/ui/utils/inNode"),h=(t("prop-types"),t("react")),l=t("create-react-class"),m=t("react-dom"),p=t("hoist-non-react-statics"),f=[],D=c.debounce(function(t){f.forEach(o)},16,{maxWait:16,leading:!0,trailing:!0});r||function(){window.addEventListener("resize",D),window.addEventListener("scroll",D)}(),a.areRectsEqual=function(t,i){return!t==!i&&(void 0===t||void 0===i||t.width===i.width&&t.height===i.height)},i.exports=a});C.r("akira/components/loader/loadingBox.jsx",function(s,a,e){"use strict";var t=(s("prop-types"),s("react")),r=s("create-react-class"),n=s("classnames"),o=r({displayName:"LoadingBox",render:function(){var s=this.props.pulsate,a=this.props.displayWhenNotPulsing,e=this.props.boxClassNames,r=this.props.delay+"s",o=s?{WebkitAnimationDelay:r,AnimationDelay:r}:{};return e.pulsate=s&&a,e["pulsate-transparent"]=s&&!a,e["no-pulsate"]=!s&&a,t.createElement("div",{className:n(e),style:o})}});a.exports=o});C.r("akira/components/loader/loadingGallery.jsx",function(e,a,t){"use strict";var n=(e("prop-types"),e("react")),o=e("create-react-class"),s=e("classnames"),l=e("./loadingTitle.jsx"),r=e("../../utils/akiraContextTypes"),i=o({displayName:"LoadingGallery",contextTypes:r,render:function(){for(var e=[],a=[],t={rowContainer:!0},o=0,r=this.context.columnsInRow||6,i={6:[0,1,2,4,2,4,3],5:[0,1,6,1,6,1,1],4:[0,1,4,1,6,0,1],3:[0,1,4,1,6,0,1],2:[0,1,4,1,6,0,1]},c=0,d=0,m=0;m<24;m++){var p="";d++===i[r][c]&&(p=2*Math.random()+m%6,c++,d=0,c>5&&(c=1)),e.push(n.createElement(l,{delay:p,pulsate:!d,displayWhenNotPulsing:!1,key:"loading-box-"+m})),m%this.context.columnsInRow==this.context.columnsInRow-1&&(a.push(n.createElement("div",{className:s(t),key:"loadingRow-"+o},e)),e=[],o++)}return n.createElement("div",{key:"loading-boxes",className:"galleryLoader"},a)}});a.exports=i});C.r("akira/components/loader/loadingRow.jsx",function(e,a,l){"use strict";var s=(e("prop-types"),e("react")),t=e("create-react-class"),o=e("classnames"),r=e("./loadingSpinner.jsx"),n=e("./loadingTitle.jsx"),i=t({displayName:"LoadingRow",render:function(){for(var e={lolomoRow:!0,lolomoRow_title_card:!0,lolomoPreview:!0},a={rowTitle:!0,pulsate:this.props.pulsateHeader},l=[],t=0;t<7;t++)l.push(s.createElement(n,{delay:.2*t,pulsate:this.props.pulsateTitles,displayWhenNotPulsing:!0,key:"loading-row-"+t}));return s.createElement("div",{className:o(e)},!this.props.hideRowHeader&&s.createElement("div",{className:"rowHeader"},s.createElement("span",{className:o(a)},"")),s.createElement("div",{className:"rowContent"},s.createElement("div",{className:"slider"},l)),this.props.showSpinner?s.createElement("div",{className:"lolomoSpinLoader"},s.createElement(r,null)):null)}});a.exports=i});C.r("akira/components/loader/loadingSpinner.jsx",function(e,a,n){"use strict";var r=(e("prop-types"),e("react")),s=e("create-react-class"),i=e("../../../utils/cssAnimation"),t=s({displayName:"LoadingSpinner",render:function(){var e=this.props.delay+"s",a=this.props.delay?i.getAnimationStyle({keyframes:{delay:e}}):{};return r.createElement("span",{className:"icon-spinner akira-spinner","aria-hidden":"true",style:a})}});a.exports=t});C.r("akira/components/loader/loadingTitle.jsx",function(s,a,e){"use strict";var t=(s("prop-types"),s("react")),l=s("create-react-class"),i=s("./loadingBox.jsx"),r=s("classnames"),o=l({displayName:"LoadingTitle",render:function(){var s={smallTitleCard:!0,loadingTitle:!0},a={"ratio-16x9":!0};return this.props.className&&(s[this.props.className]=!0),t.createElement("div",{className:r(s)},t.createElement(i,{boxClassNames:a,delay:this.props.delay,pulsate:this.props.pulsate,displayWhenNotPulsing:this.props.displayWhenNotPulsing}))}});a.exports=o});C.r("akira/components/notifications/notification-element-builders.jsx",function(e,t,a){"use strict";function s(){return n.createElement("div",{className:"play-action"},n.createElement("div",{className:"playable-icon"},n.createElement("div",{className:"playRing"},n.createElement("div",{className:"play icon-play"}))))}var i=e("lodash"),n=e("react"),l=e("../../../utils/images").srcsetBuilder,m=e("classnames"),r=e("./notification-link-wrapper.jsx"),c=e("./relativeTime.jsx"),g=function(e){var t=e.source,a=e.image,s=e.sizes;return n.createElement("div",{className:m("multi-landing-stack-space-holder")},n.createElement("div",{className:m("multi-landing-stack multi-landing-stack-1")}),n.createElement("div",{className:m("multi-landing-stack multi-landing-stack-2")}),n.createElement(d,{source:t,sizes:s,image:a,additionalClasses:"multi-landing-stack multi-landing-stack-img"}))},d=function(e){var t=e.source,a=e.image,s=e.sizes,i=e.additionalClasses;return n.createElement("img",{className:m("title-card",i),src:t.src,srcSet:t.srcset,alt:a.altText,sizes:s})},o={image:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.sizes||"112px",m=i.get(e,"message.templateJSON.elements.image",{}),c=i.get(e,"message.messageGuid",-1),o=i.get(e,"trkIds.baseTrkId",-1),u=l(m.urls||{},t.size||112),p="notification-landing-page"===i.get(e,"message.templateJSON.landingPage.templateType",null),v=p?"MULTI_LANDING_PAGE":i.get(m,"target.type"),N=t.position||-1,k=p?g:d;return u.src?n.createElement(r,{className:"element image",msgguid:c,position:N,trackId:o,linkTarget:v,videoId:i.get(e,"message.templateJSON.videoId"),trackingInfo:t.trackingInfo,eventGuid:e.message.eventGuid},"PLAYBACK"===v?n.createElement(s,null):null,n.createElement(k,{source:u,image:m,sizes:a})):null},buttons:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return null},text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.get(e,"message.templateJSON.elements.text",{}),s=i.get(e,"message.created"),l=i.get(e,"message.messageGuid",""),m=i.get(e,"trkIds.baseTrkId",-1),g=t.position||0,d="notification-landing-page"===i.get(e,"message.templateJSON.landingPage.templateType",null),o=d?"MULTI_LANDING_PAGE":i.get(a,"target.type");return n.createElement(r,{className:"element text",msgguid:l,position:g,trackId:m,linkTarget:o,videoId:i.get(e,"message.templateJSON.videoId"),trackingInfo:t.trackingInfo,eventGuid:e.message.eventGuid},a.header?n.createElement("div",{className:"header"},a.header):null,a.body?n.createElement("div",{className:"body"},a.body):null,a.showTimestamp&&s?n.createElement("div",{className:"age"},n.createElement(c,{originTime:s})):null)}};t.exports=o});C.r("akira/components/notifications/notification-empty.jsx",function(t,e,a){"use strict";var i=(t("prop-types"),t("react")),n=t("create-react-class"),s=t("classnames"),r=n({displayName:"EmptyNotification",render:function(){var t=s({"empty-notification":!0});return i.createElement("div",{className:t},i.createElement("div",null,this.props.message))}});e.exports=r});C.r("akira/components/notifications/notification-image-text.jsx",function(t,i,n){"use strict";var o=t("prop-types"),e=t("react"),r=t("create-react-class"),a=t("lodash"),s=t("./notification-element-builders.jsx"),c=r({displayName:"NotificationImageText",childContextTypes:{rowNum:o.number,rankNum:o.number,trackId:o.number},getChildContext:function(){return{rowNum:-1,rankNum:-1,trackId:a.get(this.props.notification,"trkIds.baseTrkId",-1)}},render:function(){var t={position:this.props.position,trackingInfo:this.props.trackingInfo};return e.createElement("div",{className:"image-text-notification"},s.image(this.props.notification,t),s.text(this.props.notification,t),s.buttons(this.props.notification,t))}});i.exports=c});C.r("akira/components/notifications/notification-link-wrapper.jsx",function(i,t,o){"use strict";var n=(i("prop-types"),i("react")),s=i("create-react-class"),a=i("classnames"),e=i("../controls/playLink.jsx"),r=i("../controls/mainViewLink.jsx"),c=i("../../../utils/Routes"),l=i("../../../utils/eventBus"),d=i("../../utils/linkDefs.jsx"),p=i("../../../components/presentationTracking/trackingComponents/logPresentationManually"),m=i("shakti-platform/dist/ui/consolidatedLogging/constants/commandTypes"),u=function(i,t,o,n){l.emit("notifications:clicked",{position:i,trackId:t,messageGuid:o,titleId:n})},g={DISPLAY:function(i,t){var o=void 0,s=function(){u(i.position,i.trackId,i.msgguid,i.id),o&&o();var t=i.logFocus();o=i.logCommand(m.ViewDetailsCommand),t()},a=function(){o&&(o(),o=void 0)};return i.id?n.createElement(r,{resolver:d.getTitleRoute,params:{id:i.id},onClick:s,onAfterNavigation:a,className:i.className},t):this._NOT_A_LINK(i,t)},MULTI_LANDING_PAGE:function(i,t){var o=void 0,s=function(){u(i.position,i.trackId,i.msgguid,i.id),o&&o();var t=i.logFocus();o=i.logCommand(m.ViewDetailsCommand),t()},a=function(){o&&(o(),o=void 0)};return i.id?n.createElement(r,{to:c.notificationLanding,params:{eventGuid:i.eventGuid},onClick:s,onAfterNavigation:a,className:i.className},t):this._NOT_A_LINK(i,t)},PLAYBACK:function(i,t){var o=a(i.className,"playLink"),s=void 0,r=function(){s&&s(),s=i.logFocus()},c=function(){u(i.position,i.trackId,i.msgguid,i.id),s&&(s(),s=void 0)};return i.id?n.createElement(e,{videoId:i.id,row:i.row||-1,className:o,onClick:c,onBeforePlayCommand:r},t):this._NOT_A_LINK(i,t)},YOURACCOUNT:function(i,t){return n.createElement(r,{href:c.yourAccount.makePath(),className:i.className},t)},_NOT_A_LINK:function(i,t){return n.createElement("span",{className:i.className},t)}},f=p(s({displayName:"NotificationLink",logFocus:function(){return this.props.logFocus("notificationItem",this.props.trackingInfo)},render:function(){var i=a(this.props.className,"notification-link"),t={id:this.props.videoId,className:i,position:this.props.position,trackId:this.props.trackId,msgguid:this.props.msgguid,logFocus:this.logFocus,logCommand:this.props.logCommand,eventGuid:this.props.eventGuid};return this.props.linkTarget&&g.hasOwnProperty(this.props.linkTarget)?g[this.props.linkTarget](t,this.props.children):g._NOT_A_LINK({},this.props.children)}}));t.exports=f});C.r("akira/components/notifications/notifications.jsx",function(t,e,n){"use strict";var i=t("prop-types"),o=t("react"),s=t("create-react-class"),a=t("react-dom"),r=t("lodash"),c=t("classnames"),l=t("../controls/subMenuHOC"),u=t("../../utils/scrollLock"),f=t("../../../utils/eventBus"),m=t("./pill.jsx"),p=t("../controls/menuCaret.jsx"),d=t("../controls/subMenu.jsx"),h=t("./notification-image-text.jsx"),g=t("./notification-empty.jsx"),M=t("../../../components/presentationTracking/presentationTrackingContainer.jsx"),v=t("../../../components/presentationTracking/trackingComponents/notificationItemPresTracking"),E=t("../../../components/presentationTracking/trackingComponents/notificationSelectorPresTracking"),N="discovery/akira/Notifications",_=s({displayName:"Notifications",contextTypes:{getI18nString:i.func.isRequired},statics:{getPaths:function(){return[["notifications",["fullList","unreadCount","latestTimestamp"]]]},rootModelName:"notifications"},getInitialState:function(){return{readTimer:null,notificationsRead:!1}},_notificationBuilders:{empty:function(){return o.createElement(g,{message:this.context.getI18nString(N,"notifications.defaults.noRecentNotifications")})},"IMAGE-TEXT":function(t,e,n){return o.createElement(h,{notification:t,position:e,trackingInfo:n,timeFormatter:this._formatTimeDiff})}},_scrollLimit:void 0,_validateNotification:function(t){var e=this,n=r.get(t,"message.templateJSON.layout");return!(!n||!e._notificationBuilders.hasOwnProperty(n)||"function"!=typeof e._notificationBuilders[n])&&n},_generateNotificationList:function(t){var e=this,n=[];return r.forEach(t,function(t,i){var s=e._validateNotification(t);if(s){var a=r.get(t,"message.isRead",!0),l=c({notification:!0,"is-new":!a}),u=r.get(t,"message.templateJSON.videoId",null),f=r.get(t,"message.messageGuid",""),m=r.get(t,"message.templateJSON.trackingInfo",{videoId:u,messageGuid:f});n.push(o.createElement(v,{trackingInfo:m},o.createElement("li",{className:l,key:"notification-"+i,onClick:e._closeSubMenu},e._notificationBuilders[s].call(e,t,i,m))))}}),0===n.length&&n.push(o.createElement("li",{className:"notification",key:"notification-empty",onClick:e._closeSubMenu},e._notificationBuilders.empty.call(e))),[o.createElement(M,null,o.createElement(E,null,o.createElement("ul",{ref:"notifications-scroller",className:"notifications-container"},n)))]},_markNotificationsAsRead:function(){this.setState({readTimer:null});var t=this,e=this.props.model.pathEvaluator.bind(["notifications"]);e.getValueSync(["unreadCount"])&&this.props.model.pathEvaluator.call(["notifications","markRead"],[e.getValueSync(["latestTimestamp"])],[],[]).subscribe(function(e){t.forceUpdate()},function(e){t.forceUpdate()})},_emitNotificationsPanelEvent:function(t){var e=this,n=t?"notifications:open":"notifications:close",i=t?"notifications:readstart":"notifications:readend",o=this.props.model.pathEvaluator.bind(["notifications"]),s=o.getValueSync(["fullList"]),a=!!o.getValueSync(["unreadCount"]),c=!1,l=[];r.forEach(s,function(t,n){e._validateNotification(t)&&(l.push(t),c=!0)}),f.emit(n,{hasNotifications:c,hasUnreadNotifications:a}),r.forEach(l,function(t,e){var n=r.get(t,"message.isRead",!0),o=r.get(t,"message.templateJSON.videoId",null),s=r.get(t,"message.messageGuid","");f.emit(i,{position:e,isRead:n,messageGuid:s,titleId:o})})},_closeSubMenu:function(t){this.props.handleMouseLeave(t),this.state.notificationsRead&&this._markNotificationsAsRead(),this._emitNotificationsPanelEvent(!1)},_openSubMenu:function(t){this.props.handleMouseEnter(t),this._emitNotificationsPanelEvent(!0)},componentDidUpdate:function(t,e){var n=this;!0===this.props.subMenuOpen&&!1===t.subMenuOpen?n.state.readTimer||n.setState({readTimer:window.setTimeout(function(){n.setState({notificationsRead:!0}),n.forceUpdate()},3e3)}):!1===this.props.subMenuOpen&&!0===t.subMenuOpen&&(n.state.readTimer&&(window.clearTimeout(n.state.readTimer),n.setState({readTimer:null})),u.scrollUnlock(this._scrollLimit))},componentDidMount:function(){this.props.addEventListeners(a.findDOMNode(this.refs.menu),a.findDOMNode(this.refs.menuContainer),this._closeSubMenu,this._openSubMenu)},componentWillUnmount:function(){this.props.removeEventListeners(a.findDOMNode(this.refs.menu),a.findDOMNode(this.refs.menuContainer),this._closeSubMenu,this._openSubMenu),u.scrollUnlock(this._scrollLimit)},onMouseEnter:function(){this._scrollLimit=u.scrollLock(this.refs["notifications-scroller"])},onMouseLeave:function(){u.scrollUnlock(this._scrollLimit)},render:function(){var t=this.props.model.pathEvaluator.bind(["notifications"]),e=t.getValueSync(["fullList"]),n=t.getValueSync(["unreadCount"]),i=c({notifications:!0,"direction-top":this.props.subMenuDirection===d.DIRECTION_TOP});return o.createElement("span",{ref:"menuContainer",className:i},o.createElement("button",{ref:"menu",className:"notifications-menu","aria-haspopup":!0,"aria-expanded":this.props.subMenuOpen,"aria-label":this.context.getI18nString(N,"notifications.button.text")},o.createElement("span",{className:"icon-button-notification"}),n>0?o.createElement(m,{number:n}):null,this.props.subMenuOpen?o.createElement(p,null):null),this.props.subMenuOpen?o.createElement(d,{cols:1,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,showCalloutArrow:!1,onDirectionChange:this.props.handleMenuDirectionChange,items:this._generateNotificationList(e)}):null)}});e.exports=l(_)});C.r("akira/components/notifications/pill.jsx",function(t,e,r){"use strict";var s=(t("prop-types"),t("react")),n=t("create-react-class"),a=n({displayName:"Pill",getDefaultProps:function(){return{max:9}},makeContents:function(){return this.props.number>this.props.max?this.props.overflow||this.props.max+"+":this.props.number},render:function(){return s.createElement("span",{className:"notification-pill","aria-label":this.props.altText},this.makeContents())}});e.exports=a});C.r("akira/components/notifications/relativeTime.jsx",function(t,e,n){"use strict";var i=(t("prop-types"),t("react")),a=t("create-react-class"),r=t("../../../components/string.jsx"),s="discovery/akira/Notifications",o=function(t){return t instanceof Date?t.getTime():t},m=a({displayName:"RelativeTime",_formatTimeDiff:function(t,e){var n=Math.floor((e-t)/864e5),a=this._monthDiff(new Date(t),new Date(e));return n<0?"":n<1?i.createElement(r,{bundle:s,stringKey:"notifications.timestamp.today"}):n<7?i.createElement(r,{bundle:s,stringKey:"notifications.timestamp.daysAgo",stringParams:{num_days:n}}):0===a?i.createElement(r,{bundle:s,stringKey:"notifications.timestamp.weeksAgo",stringParams:{num_weeks:Math.floor(n/7)}}):i.createElement(r,{bundle:s,stringKey:"notifications.timestamp.monthsAgo",stringParams:{num_months:a}})},_monthDiff:function(t,e){return 12*(e.getUTCFullYear()-t.getUTCFullYear())+(e.getUTCMonth()-t.getUTCMonth())+(e.getUTCDate()>=t.getUTCDate()?0:-1)},render:function(){if(!this.props.originTime)return null;var t=o(this.props.originTime),e=o(this.props.now||new Date);return i.createElement("span",{className:"relative-time"},this._formatTimeDiff(t,e))}});e.exports=m});C.r("akira/components/profile/accountDropDown.jsx",function(e,t,n){"use strict";var i=e("prop-types"),o=e("react"),s=e("create-react-class"),r=e("react-dom"),a=e("classnames"),l=e("lodash"),u=e("../../../common/keyCodes"),c=e("../profile/profilesDropDown.jsx"),m=e("../controls/subMenu.jsx"),h=e("../controls/subMenuHOC"),p=e("./profile.jsx"),d=e("../../containers/header/dvdLink.jsx"),f=e("../../utils/akiraContextTypes"),x=e("../../../utils/eventBus"),k=e("../../../utils/Routes"),E=e("../../../utils/RouteHelpers"),b=e("../controls/exitComponent.jsx"),D=e("../../../utils/ab/kidsParityTest"),C=e("./accountDropDownMenu.jsx"),g="discovery/akira/Chrome",M=s({displayName:"AccountDropDown",contextTypes:Object.assign({getI18nString:i.func.isRequired,getModelData:i.func.isRequired,models:i.object.isRequired},f),statics:{getPaths:function(){return c.getPaths().concat([["profilesList","current","summary"],["profilesList","current","avatar","images","byWidth",32]])}},getSubMenuItems:function(){var e=this.props.model,t=l.get(this,"context.models.truths.data.currentProfileIsKids"),n={BUNDLE:g,BUNDLE_8960_2:"discovery/akira/Chrome-8960-2",BUNDLE_8960_3:"discovery/akira/Chrome-8960-3"},i="BUNDLE";return this.context.getModelData("truths","showKidsLocalizationCell2")?i="BUNDLE_8960_2":this.context.getModelData("truths","showKidsLocalizationCell3")&&(i="BUNDLE_8960_3"),[o.createElement(c,{key:"profiles",model:e}),o.createElement("ul",{className:"sub-menu-list responsive-links",key:"browse-account-menu",role:"list"},this.props.showKidsLink?o.createElement("li",{className:"sub-menu-item kids-responsive-link",role:"listitem"},o.createElement("a",{tabIndex:0,onClick:this.props.onKidsLinkClicked},this.context.getI18nString(l.get(n,i),"header.kids"))):null,this.props.showDVDLink?o.createElement("li",{className:"sub-menu-item dvd-link",role:"listitem"},o.createElement(d,null)):null),o.createElement("ul",{key:"account",className:"account-links sub-menu-list",role:"list","aria-label":this.context.getI18nString(g,"profiles.list.account.label")},o.createElement("li",{className:"sub-menu-item",role:"listitem"},o.createElement("a",{className:"sub-menu-link",href:k.yourAccount.makePath()},this.context.getI18nString(g,"account.your.account"))),!t&&o.createElement("li",{className:"sub-menu-item",role:"listitem"},o.createElement("a",{className:"sub-menu-link",href:k.help.makePath()},this.context.getI18nString(g,"account.help.center"))),o.createElement("li",{className:"sub-menu-item",role:"listitem"},o.createElement("a",{className:"sub-menu-link",href:k.signOut.makePath()},this.context.getI18nString(g,"account.sign.out"))))]},placeHolder:function(){return null},componentDidMount:function(){this.props.addEventListeners(r.findDOMNode(this.refs.menu),r.findDOMNode(this.refs.menuContainer),this._closeSubMenu,this._openSubMenu,this.onExitComponentKeyDown,this.onExitComponentClicked)},componentWillUnmount:function(){this.props.removeEventListeners(r.findDOMNode(this.refs.menu),r.findDOMNode(this.refs.menuContainer),this._closeSubMenu,this._openSubMenu,this.onExitComponentKeyDown,this.onExitComponentClicked)},_closeSubMenu:function(e){this.props.handleMouseLeave(e),x.emit("accountDropdown:close")},_openSubMenu:function(e){this.props.handleMouseEnter(e),x.emit("accountDropdown:open")},onExitComponentKeyDown:function(e){if(!D.kidsProfileWithoutParity(this.context.models))return void this.props.handleKeyDown();switch(e&&e.which){case u.ENTER:case u.SPACE:this.onExitComponentClicked()}},onExitComponentClicked:function(e){if(!D.kidsProfileWithoutParity(this.context.models))return void this.props.handleClick(e);this.context.profileManager.openProfileList()},handleLinkClick:function(e){e.preventDefault(),this.props.handleClick(e)},render:function(){var e=this.props.model,t=e.bind(["profilesList"]),n=t.bind(["current"]),i=this.context.isKidsPage,s=D.kidsProfileWithoutParity(this.context.models),r=this.context.getModelData("truths","showKidsExitButton"),l=this.context.getModelData("truths","showAdultExitButton"),u=this.context.getModelData("truths","showRedAdultButton"),c=l||r&&i,h=a({active:this.props.subMenuOpen&&!i,"account-menu-item":!0,"exit-button":c,"exit-button-red":u});if(!n)return this.placeHolder();var d=n.getValueSync(["summary"]),f=E.makeAccountDropdownButtonURL(i);if(!d)return null;var x=a({"account-dropdown-button":!0,"direction-top":this.props.subMenuDirection===m.DIRECTION_TOP});return o.createElement("div",{ref:"menuContainer",className:h},o.createElement("div",{ref:"menu",className:x},o.createElement("a",{href:f,onClickCapture:this.handleLinkClick,role:"button",tabIndex:0,"aria-haspopup":!0,"aria-expanded":this.props.subMenuOpen,"aria-label":this.context.getI18nString(g,"header.profile.altText",{profileName:d.profileName})},o.createElement(p,{useHeaderProfile:!0,avatarWidth:32,model:n,useHeaderCaret:this.props.subMenuOpen&&!i,hideProfileName:this.props.hideProfileName,showExitButton:c})),s?null:o.createElement("span",{className:"caret",role:"presentation"}),s?o.createElement(b,null):null),this.props.subMenuOpen&&!s?o.createElement(C,{onDirectionChange:this.props.handleMenuDirectionChange,onSelect:this.props.closeSubMenu},this.getSubMenuItems()):null)}});t.exports=h(M)});C.r("akira/components/profile/accountDropDownMenu.jsx",function(t,e,n){"use strict";var o=t("react"),i=t("create-react-class"),s=t("react-dom"),r=(t("prop-types"),t("classnames")),c=t("../../../utils/transition"),a=t("../../../common/position"),u=t("../controls/subMenu.jsx"),p=t("../../../components/presentationTracking/trackingComponents/accountDropdownPanelPresTracking"),d=i({displayName:"AccountDropDownMenu",getInitialState:function(){return{menuDirection:"bottom"}},componentDidMount:function(){c.show(s.findDOMNode(this),Object.assign({},c.presets.fadeInHover,{duration:150})),this.defineDirection()},componentWillUnmount:function(){c.hide(s.findDOMNode(this),Object.assign({},c.presets.fadeOut,{duration:150}))},defineDirection:function(){var t=s.findDOMNode(this),e=a.getRect(t),n=a.getWindowRect(),o=e.bottom>n.bottom,i=e.top-e.height-u.DIRECTION_CHANGE_THRESHOLD>n.top,r=o&&i?u.DIRECTION_TOP:u.DIRECTION_BOTTOM;this.state.direction!==r&&(this.props.onDirectionChange&&this.props.onDirectionChange(r),this.setState({menuDirection:r}))},render:function(){var t=r({"account-drop-down":!0,"sub-menu":!0,"theme-lakira":!0,"sub-menu-top":this.state.menuDirection===u.DIRECTION_TOP});return o.createElement("div",{className:t},o.createElement(p,null,o.createElement("div",{className:"topbar"}),this.props.children))}});e.exports=d});C.r("akira/components/profile/create/profileAvatar.jsx",function(e,r,a){"use strict";var t=(e("prop-types"),e("react")),o=e("create-react-class"),s=e("../../loader/loadingBox.jsx"),l=e("./profileImage.jsx"),i=o({displayName:"ProfileAvatar",render:function(){var e={loadingTitle:!0};return this.props.profileAvatarSrc?t.createElement(l,{profileAvatarSrc:this.props.profileAvatarSrc}):t.createElement(s,{boxClassNames:e,delay:0,pulsate:!0,displayWhenNotPulsing:!0})}});r.exports=i});C.r("akira/components/profile/create/profileImage.jsx",function(e,t,r){"use strict";var a=(e("prop-types"),e("react")),o=e("react-dom"),i=e("create-react-class"),c=e("../../../../utils/transition"),n=i({displayName:"ProfileImage",componentDidMount:function(){c.show(o.findDOMNode(this),{before:{opacity:0,scale:.6},opacity:1,scale:1,duration:400})},render:function(){return a.createElement("img",{src:this.props.profileAvatarSrc,alt:""})}});t.exports=n});C.r("akira/components/profile/create/profileTooltip.jsx",function(t,o,e){"use strict";var i=(t("prop-types"),t("react")),n=t("react-dom"),r=t("create-react-class"),a=t("../../../../utils/transition"),p=r({displayName:"ProfileTooltip",componentDidMount:function(){a.show(n.findDOMNode(this),{before:{opacity:0},opacity:1,duration:350,delay:400})},componentWillUnmount:function(){a.hide(n.findDOMNode(this),{opacity:0,duration:350,delay:100})},render:function(){return i.createElement("span",{className:"kids-profile-tooltip"},this.props.tooltipText)}});o.exports=p});C.r("akira/components/profile/lolopi.jsx",function(e,t,a){"use strict";var r=e("lodash"),i=e("react"),n=e("prop-types"),o=e("classnames"),s=e("shakti-platform/dist/ui/ShaktiProperties"),l=e("create-react-class"),c=e("../../containers/slider/slider.jsx"),d=e("./create/profileAvatar.jsx"),p=e("./lolopiIcon.jsx"),m=e("./lolopiConfirm.jsx"),f=e("../../redux/createActionGroup"),u=e("../../redux/profile/profileActions").TYPES,h=e("../../../components/presentationTracking/presentationTrackingContainer.jsx"),g=e("../../../components/presentationTracking/trackingComponents/logPresentationManually"),v="discovery/partials/profiles_gate",I=s.get("web.ui.profiles.max"),A={NARROW:4,MEDIUM:6,WIDE:8},E=l({displayName:"Lolopi",contextTypes:{profileManager:n.object,discoveryApp:n.object.isRequired,getModelData:n.func.isRequired,getI18nString:n.func.isRequired,getProfileEditInProgress:n.func.isRequired,setProfileEditInProgress:n.func,routeHandler:n.object.isRequired,columnsInRow:n.number,isRtl:n.bool,models:n.object},getDefaultProps:function(){return{lolopiData:{},deeplink:!1}},_preSelectedAvatar:null,endCommand:void 0,endFocus:void 0,getInitialState:function(){var e=this.context.getProfileEditInProgress();return{profileInEditProfileName:r.get(e,"profileName",null),profileInEditProfileGuid:r.get(e,"profileGuid",null),profileInEditAvatar:{src:r.get(e,"avatarSrc",null),name:r.get(e,"avatarName",null),trackingInfo:r.get(e,"trackingInfo",null)},currentAvatar:{src:r.get(e,"avatarSrc",null),name:r.get(e,"avatarName",null),trackingInfo:r.get(e,"trackingInfo",null)},avatarHasChanged:!1,avatarId:this.context.routeHandler.query.iconId||this.context.routeHandler.params.iconId||""}},componentDidMount:function(){this._preSelectedAvatar&&this.selectAvatar(this._preSelectedAvatar)},endLogging:function(){this.endCommand&&(this.endCommand(),delete this.endCommand),this.endFocus&&(this.endFocus(),delete this.endFocus)},componentWillUnmount:function(){this.endLogging()},saveFromDeeplink:function(){var e=this,t=this.state.profileInEditAvatar.name,a=this.state.profileInEditProfileGuid;f(this.context.discoveryApp.getActionCreators(),{start:u.editProfile,success:u.editProfileSuccess,failure:u.editProfileFailed}).dispatchStartAction({profileGuid:a,desiredSettings:{avatarName:t}}).wrapObservable(this.props.newProfile.call(["edit"],[null,null,null,t,null],[],[["profilesList","summary"],["profilesList",{to:I},"summary"],["profilesList",{to:I},"avatar","images","byWidth",320]])).subscribe(function(){e.context.profileManager.openProfileList()})},goBack:function(e){e.preventDefault(),this.endCommand=this.props.logCommand("BackCommand"),this.props.deeplink?this.context.profileManager.closeGate():this.context.profileManager.openEditProfile(this.props.newProfile),this.endLogging()},selectAvatar:function(e){this.endFocus=this.props.logFocus("profileAvatar",e.trackingInfo),this.setState({profileInEditAvatar:{name:e.id,src:e.url,trackingInfo:e.trackingInfo},avatarHasChanged:!0}),this.endLogging()},cancelProfileConfirm:function(){this.setState({profileInEditAvatar:{name:this.state.currentAvatar.name,src:this.state.currentAvatar.src,trackingInfo:null},avatarHasChanged:!1})},saveAvatar:function(e){var t=this.context.getProfileEditInProgress();t.avatarName=this.state.profileInEditAvatar.name,t.avatarSrc=this.state.profileInEditAvatar.src,t.trackingInfo=this.state.profileInEditAvatar.trackingInfo,this.endCommand=this.props.logCommand("ChangeValueCommand",{desiredValue:t.avatarName}),this.context.discoveryApp.getActionCreators().confirmAvatar({trackingInfo:t.trackingInfo}),this.context.setProfileEditInProgress(t),this.props.deeplink?(this.context.discoveryApp.getActionCreators().avatarDeeplink(),this.saveFromDeeplink()):this.context.profileManager.openEditProfile(this.props.newProfile),this.endLogging()},getSliderInfo:function(){return this.context.columnsInRow<3?{items:A.NARROW,clazz:"lolopi-row-narrow"}:this.context.columnsInRow<5?{items:A.MEDIUM,clazz:"lolopi-row-medium"}:{items:A.WIDE,clazz:"lolopi-row-wide"}},getAvatarRow:function(e,t){for(var a=[],r=this.getSliderInfo(),n=0;n<e.icons.length;n++){var o=this.state.avatarId,s=o,l=o.length>35,d=e.icons[n].id.indexOf(o)>=0;s&&l&&d&&(this._preSelectedAvatar=e.icons[n]),a.push(i.createElement(p,{onClick:this.selectAvatar,icon:e.icons[n],key:e.icons[n].id,currentAvatar:this.state.currentAvatar}))}return i.createElement("li",{className:"lolopi-row slider-hover-trigger-layer "+r.clazz,key:"lolopi-row-"+t},i.createElement(h,null,i.createElement("h2",{className:"row-header"},e.rowIcon?i.createElement("div",{className:"lolopi-row-icon",style:{backgroundImage:"url('"+e.rowIcon+"')"},"aria-label":e.rowTitle}):i.createElement("div",{className:"lolopi-row-text"},e.rowTitle)),i.createElement(c,{itemsInRow:r.items,totalItems:a.length,enableLooping:!0,enablePeek:!0,showEmptyHandles:!0,sliderHandleNextString:"See more icons",sliderHandlePrevString:"See previous icons"},a)))},renderLolopi:function(e){var t=this.state,a=t.profileInEditAvatar,r=t.profileInEditProfileName,n=this.context.isRtl,s=o({"close-button":!0,"icon-back":!0,"icon-reverse":n});return i.createElement("div",{className:o("centered-div","list-profiles-container"),ref:"centeredDiv",style:{opacity:0}},i.createElement("div",{className:"profile-lolopi-header",ref:"lolopi"},i.createElement("div",{className:"lolopi-go-back"},i.createElement("button",{className:"nf-modal-dismiss-btn",onClick:this.goBack,"aria-label":"close",tabIndex:"1"},i.createElement("span",{className:s})),i.createElement("div",{className:"lolopi-header"},i.createElement("h1",{className:"header-text"},this.context.getI18nString(v,"manageProfile.header")),i.createElement("h2",{className:"sub-header-text"},this.context.getI18nString(v,"manageProfile.choose.icon")))),i.createElement("div",{className:"lolopi-profile"},i.createElement("span",{className:"lolopi-profile-name"},r),i.createElement(d,{profileAvatarSrc:a.src}))),i.createElement("div",{className:"profile-lolopi-container",ref:"lolopi"},i.createElement("ul",{className:"list-container"},e)))},renderConfirm:function(){var e=this._preSelectedAvatar?this._preSelectedAvatar:this.state.profileInEditAvatar;return i.createElement(m,{currentAvatar:this.state.currentAvatar,selectedAvatar:e,cancelHandler:this.cancelProfileConfirm,saveHandler:this.saveAvatar})},render:function(){var e=this.props.lolopiData,t=this.state.avatarHasChanged,a=e&&e.length>0;if(!this.context.getModelData("truths","showLolopi")||!a)return null;for(var r=[],i=0;i<e.length;i++)r.push(this.getAvatarRow(e[i],i));return this._preSelectedAvatar||t?this.renderConfirm():this.renderLolopi(r)}});t.exports=g(E)});C.r("akira/components/profile/lolopiConfirm.jsx",function(e,t,n){"use strict";var a=e("react"),r=e("create-react-class"),l=e("prop-types"),i=e("classnames"),c="discovery/partials/profiles_gate",o=r({displayName:"LolopiConfirm",contextTypes:{getI18nString:l.func.isRequired,isRtl:l.bool},render:function(){var e=this.props,t=e.currentAvatar,n=e.selectedAvatar,r=this.context.isRtl,l=i("indicator-icon",{"icon-leftCaret":r,"icon-rightCaret":!r}),o=i({"profile-button":!0,"preferred-action":!0});return a.createElement("div",{className:i("centered-div","list-profiles-container"),ref:"centeredDiv",style:{opacity:0}},a.createElement("div",{className:"profile-lolopi-confirm",ref:"confirm-avatar"},a.createElement("h1",null,this.context.getI18nString(c,"manageProfile.change.icon")),a.createElement("div",{className:"lolopi-confirm-icons"},a.createElement("div",null,a.createElement("span",{className:"lolopi-icon",style:{backgroundImage:"url('"+t.src+"')"}}),a.createElement("span",null,this.context.getI18nString(c,"manageProfile.icon.current"))),a.createElement("span",{className:l}),a.createElement("div",null,a.createElement("span",{className:"lolopi-icon",style:{backgroundImage:"url('"+n.src+"')"}}),a.createElement("span",null,this.context.getI18nString(c,"manageProfile.icon.new")))),a.createElement("div",{className:"lolopi-confirm-buttons"},a.createElement("span",{className:o,onClick:this.props.saveHandler},a.createElement("span",null,this.context.getI18nString(c,"manageProfile.button.doit"))),a.createElement("span",{className:"profile-button",onClick:this.props.cancelHandler},a.createElement("span",null,this.context.getI18nString(c,"manageProfile.button.notyet"))))))}});t.exports=o});C.r("akira/components/profile/lolopiIcon.jsx",function(n,a,e){"use strict";var r=n("react"),t=n("create-react-class"),i=(n("prop-types"),n("classnames")),o=n("../../../components/presentationTracking/trackingComponents/lolopiPresTracking"),c=t({displayName:"LolopiIcon",clickAvatarClickHandler:function(n){var a=this;return function(){a.props.onClick(n)}},render:function(){var n=this.props,a=n.icon,e=n.itemTabbable,t=n.currentAvatar,c=t.name===a.id,l=i({"lolopi-icon":!0,"lolopi-icon-disabled":c});return r.createElement(o,{trackingInfo:a.trackingInfo},r.createElement("button",{className:l,tabIndex:e&&!c?0:-1,"aria-hidden":!(e&&!c),onClick:c?null:this.clickAvatarClickHandler(a),style:{backgroundImage:"url('"+a.url+"')"},"aria-label":a.title}))}});a.exports=c});C.r("akira/components/profile/profile.jsx",function(e,t,r){"use strict";var i=e("prop-types"),n=e("react"),s=e("create-react-class"),o=e("classnames"),a=e("../controls/menuCaret.jsx"),l=e("../loader/loadingSpinner.jsx"),c=e("../../utils/akiraContextTypes"),p=e("../../../common/keyCodes"),d=e("../../../common/svgIcon.jsx"),h=e("../../../utils/eventBus"),u=e("../../../utils/Routes"),m=e("../../../utils/consolidatedLogging/loggingEventRegistry"),f="discovery/akira/Chrome",g=s({displayName:"Profile",contextTypes:Object.assign({getI18nString:i.func.isRequired,getModelData:i.func.isRequired},c),handleProfileClick:function(e){if(e.preventDefault(),this.props.inEditMode)this.context.profileManager.openEditProfile(this.props.model);else{var t=this.props.model.getValueSync(["summary"])||{};h.emit(m.PROFILES_SWITCH,{selectedProfile:t.guid,event:e}),this.context.profileManager.switchProfile(this.props.model)}},handleKeyDown:function(e){switch(e&&e.which){case p.ENTER:this.handleProfileClick(e)}},handleHover:function(e){this.props.onHover&&this.props.onHover(this.props.id)},handleFocus:function(e){this.props.onFocus&&this.props.onFocus(this.props.id)},renderAvatar:function(e,t,r){if(r&&!this.props.useDiv)return n.createElement("img",{className:t,src:r,alt:""});if(r&&this.props.useDiv){var i={backgroundImage:"url("+r+")"};return n.createElement("div",{className:t,style:i}," ")}return null},renderProfile:function(e,t,r){return n.createElement("li",{className:"profile-link"},this.renderAvatar(e,t,r),e.profileName&&!this.props.loading?n.createElement("span",{className:"profile-name",dangerouslySetInnerHTML:{__html:e.profileName}}):null,this.props.loading&&!this.props.errorLoadingProfile?n.createElement(l,null):null)},renderLinkedProfile:function(e,t,r){var i=this.props.inEditMode?null:u.switchProfiles.makePath(null,{tkn:e.guid}),s=o("profile-link",{focused:this.props.focused});return e||(e={}),n.createElement("div",null,n.createElement("a",{className:s,role:"link",onClick:this.handleProfileClick,onKeyDown:this.handleKeyDown,onMouseOver:this.handleHover,onFocus:this.handleFocus,tabIndex:0,href:i},n.createElement("div",{className:o("avatar-wrapper")},this.renderAvatar(e,t,r),this.props.useHeaderCaret&&n.createElement(a,null),this.props.inEditMode&&n.createElement("div",{className:o("svg-edit-overlay")},n.createElement(d,{name:"edit"}))),n.createElement("span",{className:o("profile-name"),dangerouslySetInnerHTML:{__html:e.profileName}})),n.createElement("div",{className:o("profile-children")},this.props.children))},getProfileName:function(e){if(this.props.showExitButton){var t=this.context.getI18nString(f,"header.exit.profile.name",{profileName:e.profileName});return this.context.getModelData("truths","showSwitchButton")?t=this.context.getI18nString(f,"header.switch.profile.generic"):this.context.isKidsPage?t=this.context.getI18nString(f,"header.exitkids"):this.context.getModelData("truths","showAdultSwitchButton")&&(t=this.context.getI18nString(f,"header.switch.profile.generic")),n.createElement("span",{className:"profile-name",dangerouslySetInnerHTML:{__html:t}})}return this.props.hideProfileName?null:n.createElement("span",{className:"profile-name",dangerouslySetInnerHTML:{__html:e.profileName}})},renderHeaderProfile:function(e,t,r){return n.createElement("span",{className:"profile-link",role:"presentation"},this.props.useHeaderCaret?n.createElement("div",{className:"avatar-wrapper"},this.renderAvatar(e,t,r),n.createElement(a,null)):this.renderAvatar(e,t,r),this.getProfileName(e))},render:function(){var e=this.props.model,t=e.getValueSync(["summary"]),r=e.getValueSync(["avatar","images","byWidth",this.props.avatarWidth]),i=o({activeProfile:e.isActive,"profile-icon":!0,errorLoading:this.props.errorLoadingProfile,"profile-edit-mode":this.props.inEditMode});return this.props.useHeaderProfile?this.renderHeaderProfile(t,i,r):this.props.isClickable?this.renderLinkedProfile(t,i,r):this.renderProfile(t,i,r)}});t.exports=g});C.r("akira/components/profile/profileChoices.jsx",function(e,t,i){"use strict";var r=e("prop-types"),n=e("react"),o=e("react-dom"),s=e("create-react-class"),a=e("classnames"),l=e("shakti-platform/dist/ui/ShaktiProperties"),c=e("lodash"),d=e("../profile/profile.jsx"),f=e("../../../utils/profileManager"),p=e("../../../utils/eventBus"),m=e("../../../utils/transition"),u=e("../../../utils/Routes"),h=e("../controls/mainViewLink.jsx"),g=e("../../../utils/keyboardEventsWrapper"),E=e("../../../utils/consolidatedLogging/loggingEventRegistry"),v=l.get("web.ui.profiles.max"),P="discovery/akira/Chrome",y=s({displayName:"ProfileChoices",contextTypes:{getI18nString:r.func.isRequired,models:r.object.isRequired,profileManager:r.object.isRequired},statics:{getPaths:function(){return[["profilesList","summary"],["profilesList","current","summary"],["profilesList",{to:v},"summary"],["profilesList",{to:v},"avatar","images","byWidth",320]]}},componentDidMount:function(){p.emit("app:interactive");var e=this.props.model.getValueSync(["profilesList","current","summary"])||{};p.emit(E.PROFILES_LOADED,{currentProfile:e.guid})},componentWillUnmount:function(){m.hide(o.findDOMNode(this),{target:o.findDOMNode(this.refs.centeredDiv),scale:1,opacity:0,duration:350})},renderChooseableProfiles:function(){for(var e=this.props.model.getValueSync(["profilesList","summary"]),t=this.props.activeView===f.VIEWS.MANAGE_PROFILES,i=Math.min(e.length,10),r=[],o=0;o<i;o++){var s=this.props.model.bind(["profilesList",o]);s&&r.push(n.createElement("li",{className:a("profile"),key:"profile"+o,ref:"profile"+o},n.createElement(d,{useDiv:!0,isClickable:!0,avatarWidth:320,inEditMode:t,model:s})))}return r},handleAddProfile:function(e){this.context.profileManager.openCreateProfile(this.props.activeView),e.preventDefault()},renderAddProfile:function(){return n.createElement("li",null,n.createElement("a",{onClick:this.handleAddProfile,onKeyDown:g.executeOnEnterOrSpace(this.handleAddProfile),role:"link",tabIndex:0},n.createElement("div",{className:a("addProfileIcon","icon-tvuiAdd")}),n.createElement("span",{className:a("profile-name")},this.context.getI18nString(P,"add.profile"))))},onEditComplete:function(){c.get(this.context.models,"truths.data.isIELt12")||this.context.profileManager.setProfileEditStorageData()},onManageProfiles:function(){p.emit(E.MANAGE_PROFILES)},renderActionButton:function(){var e=this.props.activeView===f.VIEWS.LIST,t=u.manageProfiles.makePath(),i=u.profilesGate.makePath();return e?n.createElement(h,{href:t,onClick:this.onManageProfiles},this.context.getI18nString(P,"manage.profiles")):n.createElement(h,{href:i,onClick:this.onEditComplete},this.context.getI18nString(P,"manageProfile.button.done"))},render:function(){var e=this.props.model.getValueSync(["profilesList","summary"]),t=e.length<v,i=this.props.activeView===f.VIEWS.LIST,r=i?this.context.getI18nString(P,"whos.watching"):this.context.getI18nString(P,"edit.profiles"),o=a("profile-button",{"preferred-action":!i});return n.createElement("div",{className:a("centered-div","list-profiles-container"),ref:"centeredDiv"},n.createElement("div",{className:a("list-profiles"),ref:"listProfiles",key:"listProfiles"},n.createElement("div",{className:a("profile-gate-label")},r),n.createElement("ul",{className:a("choose-profile")},this.renderChooseableProfiles(),t&&this.renderAddProfile())),n.createElement("span",{className:o},this.renderActionButton()))}});t.exports=y});C.r("akira/components/profile/profileCreate.jsx",function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=e("babel-runtime/helpers/toConsumableArray"),o=r(a),s=e("babel-runtime/helpers/typeof"),n=r(s),l=e("prop-types"),c=e("react"),d=e("create-react-class"),p=e("react-dom"),f=e("lodash"),u=e("classnames"),h=e("../../../utils/transition"),m=e("../../../utils/XHR"),P=e("../../../common/keyCodes"),g=e("./create/profileTooltip.jsx"),v=e("../../../utils/profileManager"),w=e("../../../utils/pathEvaluatorUtils"),b=e("../../../utils/eventBus"),S=e("./create/profileAvatar.jsx"),N=e("../../../utils/keyboardEventsWrapper"),E=e("shakti-platform/dist/ui/utils/inNode"),k=e("../../../utils/lolomo/lolomoUtils"),A=e("../../../components/presentationTracking/trackingComponents/logPresentationManually"),x=e("../../redux/createActionGroup"),y=e("../../redux/profile/profileActions").TYPES,I=e("../../../utils/reactDOMHelpers"),K=I.getOptDOMNode,H=I.getOptHTMLElement,T="discovery/partials/profiles_gate",O=function(){},C=A(d({displayName:"ProfileCreate",contextTypes:{getI18nString:l.func.isRequired,history:l.object.isRequired,jsongDocument:l.object.isRequired,models:l.object.isRequired,profileManager:l.object.isRequired,routeHandler:l.object.isRequired,discoveryApp:l.object.isRequired},scope:{},getInitialState:function(){return{showKidsTooltip:!1,newProfileIsForAKid:this.props.createKidsProfile||!1,newProfileName:"",newProfileRequested:!1,newProfileAvatarSrc:null,newProfileAvatarName:null,attemptedInvalidNewProfile:!1,attemptedNewProfileTimeout:!1}},getAvatarsXHRSuccess:function(e){var t=this,i={newProfileAvatarSrc:null,newProfileAvatarName:null},r=new Image;if(null!==e&&"object"===(void 0===e?"undefined":(0,n.default)(e))&&e.avatars){var a=f.find(e.avatars,function(e){return e.isDefault});a&&(i={newProfileAvatarSrc:a.images&&a.images[320],newProfileAvatarName:a.name})}i.newProfileAvatarSrc&&i.newProfileAvatarName?(r.addEventListener("load",function e(){r.removeEventListener("load",e),t.setState(i)}),r.src=i.newProfileAvatarSrc,this.setState({newProfileAvatarName:i.newProfileAvatarName})):this.setState(i)},onSuccessAddProfile:function(e){var t=this;this.context.profileManager.setActiveView(v.VIEWS.RELOADING_PROFILES);var i=void 0,r=!1;this.props.nextView?(this.props.nextView!==v.VIEWS.LIST&&this.props.nextView!==v.VIEWS.MANAGE_PROFILES||(r=!0),i=this.props.nextView):(i=this.props.previousView,r=!0);var a=this.props.getPageChromePaths(),s=this.context.models,n={currentView:i},l=this.props.getProfilesGatePaths(s,null,n),c=[].concat(a,l),d=function(){t.context.profileManager.setActiveView(i)},p=function(){t.context.profileManager.switchProfile(t.context.jsongDocument.bind(["profiles",e.newProfiles[0].guid]))};if(r){var f;w.resetCache(this.props.model),(f=this.props.model).get.apply(f,(0,o.default)(c)).subscribe(O,d,d)}else{if("switchToKidsProfile"===i){var u;w.resetCache(this.props.model),(u=this.props.model).get.apply(u,(0,o.default)(c)).subscribe(O,p,p)}if("clearBillboardShowManage"===i){var h;k.clearAllLolomoCookies(),w.resetCache(this.props.model),(h=this.props.model).get.apply(h,(0,o.default)(c)).subscribe(O,d,d)}}},getAvatarsXHRError:function(){var e={newProfileAvatarSrc:null,newProfileAvatarName:null};this.isMounted()&&this.setState(e)},componentWillMount:function(){E||m.request({resource:"/profiles/avatars",query:{include:"available"},service:"api"}).subscribe(this.getAvatarsXHRSuccess,this.getAvatarsXHRError)},componentDidMount:function(){var e=this,t=p.findDOMNode(this);t instanceof HTMLElement&&h.show(t,{target:p.findDOMNode(this.refs.centeredDiv),before:{scale:1.1,opacity:0},scale:1,opacity:1,duration:450,delay:200},function(){H(e.refs["profile-name-entry"]).map(function(e){return e.focus()})}),b.emit("app:interactive"),this.scope.endPresentation=this.props.logPresentationStart("addProfile")},componentWillUnmount:function(){this.scope.endPresentation&&this.scope.endPresentation()},isValidData:function(){return""!==this.state.newProfileName},inputNameHandler:function(e){this.setState({newProfileName:e.target.value.trim()})},inputNameKeyDownHandler:function(e){e&&e.which===P.ENTER&&this.clickContinueHandler()},newProfileXHRError:function(){this.isMounted()&&this.setState({attemptedNewProfileTimeout:!0,attemptedInvalidNewProfile:!1})},createNewProfile:function(){if(this.isValidData()){this.state.attemptedNewProfileTimeout&&this.setState({attemptedNewProfileTimeout:!1});var e={name:this.state.newProfileName,avatarName:this.state.newProfileAvatarName,kids:this.state.newProfileIsForAKid};x(this.context.discoveryApp.getActionCreators(),{start:y.addProfile,success:y.addProfileSuccess,failure:y.addProfileFailed}).dispatchStartAction({desiredSettings:e}).wrapObservable(m.request({resource:"/profiles/create",service:"api",protocol:"https",method:"post",data:{profiles:JSON.stringify([{firstName:this.state.newProfileName,avatarName:this.state.newProfileAvatarName,jfk:this.state.newProfileIsForAKid}]),copyViewingHistory:this.props.copyViewingHistory,deleteViewingHistory:this.props.deleteViewingHistory},timeout:5e3,authorize:!0})).subscribe(this.onSuccessAddProfile,this.newProfileXHRError)}},clickContinueHandler:function(){this.isValidData()?this.createNewProfile():this.setState({attemptedNewProfileTimeout:!1,attemptedInvalidNewProfile:!0})},clickCancelHandler:function(){this.props.previousView===v.VIEWS.LIST?this.context.profileManager.openProfileList():this.props.previousView===v.VIEWS.CLOSED?this.context.profileManager.closeGate():this.context.profileManager.openEditList()},clickKidsLabelHandler:function(){this.props.createKidsProfile||this.setState({newProfileIsForAKid:!this.state.newProfileIsForAKid})},targetValidForTooltip:function(e){return K(this.refs["add-kids-profile"]).map(function(t){return t.contains(e)}).getOrElse(!1)||K(this.refs["add-kids-label"]).map(function(t){return t.contains(e)}).getOrElse(!1)||K(this.refs["add-kids-marker"]).map(function(t){return t.contains(e)}).getOrElse(!1)},mouseOverKidsLabel:function(e){this.getTooltip()&&this.targetValidForTooltip(e.target)&&(clearTimeout(this.scope.timeoutHideKidsLabel),this.state.showKidsTooltip||this.setState({showKidsTooltip:!0}))},mouseOutKidsLabel:function(e){var t=this;this.getTooltip()&&!this.targetValidForTooltip(e.relatedTarget)&&(clearTimeout(this.scope.timeoutHideKidsLabel),this.state.showKidsTooltip&&(this.scope.timeoutHideKidsLabel=setTimeout(function(){t.setState({showKidsTooltip:!1})},400)))},getTooltip:function(){var e=this.context.getI18nString(T,"addProfile.tooltip.kids");return e.indexOf("addProfile")<0&&e},render:function(){var e=this.getTooltip(),t=this.isValidData(),i=!t&&this.state.attemptedInvalidNewProfile,r=this.state.attemptedNewProfileTimeout,a=u({"profile-button":!0,"preferred-action":!0,"preferred-active":t}),o=u({"name-error":i}),s=u({"profile-metadata":!0,"profile-entry":!0,"is-kids-profile":this.props.createKidsProfile});return c.createElement("div",{className:"centered-div",ref:"centeredDiv",style:{opacity:0}},c.createElement("div",{className:"profile-actions-container",ref:"add-profile"},c.createElement("h1",null,this.props.createKidsProfile?this.context.getI18nString(T,"addProfile.kids.header"):this.context.getI18nString(T,"addProfile.header")),c.createElement("h2",null,this.context.getI18nString(T,"addProfile.subHeader")),c.createElement("div",{className:s},c.createElement("div",{className:"main-profile-avatar"},c.createElement(S,{profileAvatarSrc:this.state.newProfileAvatarSrc})),c.createElement("div",{className:"profile-add-parent"},c.createElement("div",{className:"profile-entry-inputs",onMouseOver:this.mouseOverKidsLabel,onMouseOut:this.mouseOutKidsLabel},c.createElement("input",{type:"text",id:"add-profile-name",className:o,ref:"profile-name-entry",placeholder:this.context.getI18nString(T,"addProfile.placeholder.name"),onChange:this.inputNameHandler,onKeyDown:this.inputNameKeyDownHandler}),c.createElement("label",{htmlFor:"add-profile-name",ref:"add-profile-name-label","aria-label":this.context.getI18nString(T,"addProfile.placeholder.name")}),c.createElement("input",{type:"checkbox",id:"add-kids-profile",ref:"add-kids-profile",checked:this.state.newProfileIsForAKid,onChange:O}),c.createElement("label",{htmlFor:"add-kids-profile",ref:"add-kids-label",onClick:this.clickKidsLabelHandler}),c.createElement("span",{className:"add-kids-marker",ref:"add-kids-marker",role:"checkbox","aria-checked":this.state.newProfileIsForAKid,tabIndex:0,onClick:this.clickKidsLabelHandler,onKeyDown:N.executeOnEnterOrSpace(this.clickKidsLabelHandler)},this.props.createKidsProfile?this.context.getI18nString(T,"addProfile.label.kids.forced"):this.context.getI18nString(T,"addProfile.label.kids")),e&&this.state.showKidsTooltip&&!this.props.createKidsProfile?c.createElement(g,{tooltipText:e}):null),i?c.createElement("p",{className:"profile-entry-error"},this.context.getI18nString(T,"addProfile.error.name")):null,r?c.createElement("p",{className:"profile-entry-error"},this.context.getI18nString(T,"addProfile.error.create")):null)),c.createElement("span",{className:a,tabIndex:0,role:"button",onClick:this.clickContinueHandler,onKeyDown:N.executeOnEnterOrSpace(this.clickContinueHandler)},c.createElement("span",null,this.context.getI18nString(T,"addProfile.button.continue"))),c.createElement("span",{className:"profile-button",tabIndex:0,role:"button",onClick:this.clickCancelHandler,onKeyDown:N.executeOnEnterOrSpace(this.clickCancelHandler)},c.createElement("span",null,this.context.getI18nString(T,"addProfile.button.cancel")))))}}));t.exports=C});C.r("akira/components/profile/profileDelete.jsx",function(e,t,i){"use strict";var r=e("prop-types"),a=e("react"),l=e("react-dom"),n=e("create-react-class"),s=e("classnames"),o=e("shakti-platform/dist/ui/ShaktiProperties"),c=e("../../../utils/transition"),p=e("../../../utils/eventBus"),d=e("../loader/loadingSpinner.jsx"),f=e("./create/profileAvatar.jsx"),u=e("../../../utils/htmlUtils"),m=e("../../redux/createActionGroup"),g=e("../../redux/profile/profileActions").TYPES,h="discovery/partials/profiles_gate",v=o.get("web.ui.profiles.max"),S=n({displayName:"ProfileDelete",contextTypes:{getI18nString:r.func.isRequired,pathEvaluator:r.object,profileManager:r.object.isRequired,discoveryApp:r.object.isRequired,getModelData:r.object.isRequired},getInitialState:function(){return{isSaving:!1}},componentDidMount:function(){c.show(l.findDOMNode(this),{target:l.findDOMNode(this.refs.centeredDiv),before:{scale:1.1,opacity:0},scale:1,opacity:1,duration:450,delay:200})},clickDeleteHandler:function(){var e=this,t=this.props.newProfile,i=t&&t.getValueSync(["summary"]).guid;this.setState({isSaving:!0}),m(this.context.discoveryApp.getActionCreators(),{start:g.deleteProfile,success:g.deleteProfileSuccess,failure:g.deleteProfileFailed}).dispatchStartAction({profileGuid:i}).wrapObservable(this.props.profileList.call(["profilesList","remove"],[i],[],[["profilesList","summary"],["profilesList",{to:v},"summary"],["profilesList",{to:v},"avatar","images","byWidth",320]])).subscribe(function(t){e.context.profileManager.openEditList(),p.emit("profile:deleteEnd",{profileGuid:i})})},clickKeepHandler:function(){this.context.profileManager.openEditProfile(this.props.newProfile)},render:function(){var e=this.props.newProfile,t=e&&e.getValueSync(["avatar","images","byWidth",320]),i=e&&u.unescapeHtmlCharacters(e.getValueSync(["summary"]).profileName),r=s({"profile-button":!0,"preferred-action":!0}),l=s({"profile-metadata":!0,"profile-entry":!0}),n=this.context.getModelData("truths").isWatchlistEnabled?"deleteProfile.warning.watchlist":"deleteProfile.warning";return a.createElement("div",{className:"centered-div",ref:"centeredDiv"},a.createElement("div",{className:"profile-actions-container",ref:"delete-profile"},this.state.isSaving?a.createElement("div",{className:"profileSavingMask",key:"profileSavingMask"},a.createElement(d,null)):null,a.createElement("h1",null,this.context.getI18nString(h,"deleteProfile.header")),a.createElement("div",{className:l},a.createElement("div",{className:"main-profile-avatar"},a.createElement(f,{profileAvatarSrc:t}),a.createElement("div",{className:"profile-name"},i)),a.createElement("div",{className:"profile-delete-warning"},this.context.getI18nString(h,n))),a.createElement("span",{className:r,onClick:this.clickKeepHandler},a.createElement("span",null,this.context.getI18nString(h,"deleteProfile.button.keep"))),a.createElement("span",{className:"profile-button",onClick:this.clickDeleteHandler},a.createElement("span",null,this.context.getI18nString(h,"deleteProfile.button.delete")))))}});t.exports=S});C.r("akira/components/profile/profileEdit.jsx",function(e,t,i){"use strict";var a=e("lodash"),r=e("prop-types"),n=e("react"),s=e("react-dom"),l=e("create-react-class"),o=e("classnames"),d=e("shakti-platform/dist/ui/ShaktiProperties"),c=e("../../../utils/transition"),u=e("../../../common/keyCodes"),f=e("./create/profileTooltip.jsx"),m=e("./profileLangDropdown.jsx"),p=e("./profileMaturityDropdown.jsx"),g=e("../loader/loadingSpinner.jsx"),h=e("./create/profileAvatar.jsx"),v=e("../../../utils/Routes"),P=e("../../../utils/htmlUtils"),y=e("../../../utils/eventBus"),S=e("../../../common/svgIcon.jsx"),w=e("../../../utils/lolomo/lolomoUtils"),k=e("../../redux/createActionGroup"),E=e("../../redux/profile/profileActions").TYPES,A="discovery/partials/profiles_gate",I=d.get("web.ui.profiles.max"),K=l({displayName:"ProfileEdit",contextTypes:{models:r.object.isRequired,discoveryApp:r.object.isRequired,getI18nString:r.func.isRequired,profileManager:r.object.isRequired,getModelData:r.func.isRequired,getProfileEditInProgress:r.func.isRequired,setProfileEditInProgress:r.func.isRequired},statics:{getPaths:function(e,t,i){return[].concat([["availableAvatarsList","summary"]],[["availableAvatarsList",{to:20},"summary"]],[["availableAvatarsList",{to:20},"images","byWidth",[320,50]]],[[{to:I},"avatar","summary"]],[[{to:I},"avatar","images","byWidth",50]],m.getPaths(e,t,i),p.getPaths(e,t,i)).map(function(e){return["profilesList"].concat(e)})}},getInitialState:function(){var e=this.context.getProfileEditInProgress();return{showKidsTooltip:!1,showKidsChangeWarning:!1,newProfileIsForAKid:a.get(e,"isKids",null),newProfileName:a.get(e,"profileName",null),newProfileRequested:!1,newProfileAvatarSrc:a.get(e,"avatarSrc",null),newProfileAvatarName:a.get(e,"avatarName",null),attemptedInvalidEditProfile:!1,attemptedInvalidNewProfile:!1,inAvatarEditMode:!1,isSaving:!1,errorString:""}},componentDidMount:function(){var e=this;c.show(s.findDOMNode(this),{target:s.findDOMNode(this.refs.centeredDiv),before:{scale:1.1,opacity:0},scale:1,opacity:1,duration:450,delay:200},function(){e.refs["profile-name-entry"]&&e.refs["profile-name-entry"].focus()})},isValidData:function(){return""!==this.state.newProfileName},inputNameHandler:function(e){this.setState({newProfileName:e.target.value,attemptedInvalidNewProfile:!1})},inputNameKeyDownHandler:function(e){e&&e.which===u.ENTER&&this.clickContinueHandler()},shouldReloadPage:function(e){return this.isActiveProfile()&&this.getInitialLanguage()!==e},clickContinueHandler:function(){var e=this;if(y.emit("profile:editStart"),this.isValidData()){var t=this.props.newProfile,i=t&&t.getValueSync(["summary"]).guid,a=this.state.newProfileName,r=this.state.newProfileAvatarName,n=this.state.newProfileIsForAKid,s=this.refs["language-dropdown"].getCurrentLanguage(),l=s!==this.getInitialLanguage()?s:null,o=this.hasMaturityChanged()?this.refs["maturity-dropdown"].getCurrentMaturityKey():null,d=void 0;null!==this.state.newProfileIsForAKid&&(d=this.state.newProfileIsForAKid?"jfk":"standard"),this.setState({isSaving:!0});var c=k(this.context.discoveryApp.getActionCreators(),{start:E.editProfile,success:E.editProfileSuccess,failure:E.editProfileFailed});c.dispatchStartAction({profileGuid:i,desiredSettings:{name:a,avatarName:r,kids:n,language:l,maturityLevel:o}}).wrapObservable(this.props.model.call(["profiles",i,"edit"],[a,d,l,r,o],[],[["profilesList","summary"],["profilesList",{to:I},"summary"],["profilesList",{to:I},"avatar","images","byWidth",320]])).subscribe(function(){if(e.props.newProfile.getValueSync(["editProfileResult"]).success)y.emit("profile:editEnd",{reason:"success",profileGuid:i,kid:n}),w.clearAllLolomoCookies(i),e.context.setProfileEditInProgress({}),e.shouldReloadPage(l,o)?location.href=v.manageProfiles.makePath():e.context.profileManager.openEditList();else{var t=e.props.newProfile.getValueSync(["editProfileResult"]).message,a=e.props.newProfile.getValueSync(["editProfileResult"]).errorType;t||"inappropriateAvatar"!==a||(t=e.context.getI18nString(A,"manageProfile.error.inappropriate.avatar")),c.dispatchFailureAction(),y.emit("profile:editEnd",{profileGuid:i,kid:e.getCurrentKidsSelection()}),e.setState({attemptedInvalidEditProfile:!0,attemptedInvalidNewProfile:!1,isSaving:!1,errorString:t})}})}else this.setState({attemptedInvalidEditProfile:!1,attemptedInvalidNewProfile:!0,errorString:""})},clickCancelHandler:function(){var e=this.props.newProfile,t=e&&e.getValueSync(["summary"]).guid;k(this.context.discoveryApp.getActionCreators(),{start:E.editProfile,cancel:E.editProfileCanceled}).dispatchStartAction({profileGuid:t,desiredSettings:{}}).dispatchCancelAction(),this.context.setProfileEditInProgress({}),this.context.profileManager.openEditList()},clickDeleteHandler:function(){var e=this.props.newProfile&&this.props.newProfile.getValueSync(["summary"]).guid;this.context.profileManager.openDeleteProfile(this.props.newProfile),y.emit("profile:deleteStart",{profileGuid:e})},clickKidsLabelHandler:function(){var e=!this.getCurrentKidsSelection(),t=!1;!e&&this.getInitialKidsSelection()&&(t=!0),this.setState({newProfileIsForAKid:e,showKidsChangeWarning:t}),this.refs["maturity-dropdown"].handleKidsLabelClick(!this.getCurrentKidsSelection())},checkKidsLabel:function(){this.setState({newProfileIsForAKid:!0})},clickAvatarIconHandler:function(e){this.setState({inAvatarEditMode:!1,newProfileAvatarSrc:e.getValueSync(["images","byWidth",320]),newProfileAvatarName:e.getValueSync(["summary"]).name})},dismissAvatarModal:function(e){this.state.inAvatarEditMode&&this.setState({inAvatarEditMode:!1})},clickAvatarEditIconHandle:function(){if(this.context.getModelData("truths","showLolopi")){var e=this.context.getProfileEditInProgress();e.profileName=this.getCurrentProfileName(),e.profileGuid=this.getCurrentProfileGuid(),e.isKids=this.state.newProfileIsForAKid,e.language=this.refs["language-dropdown"].getCurrentLanguage(),e.maturityLevel=this.refs["maturity-dropdown"].getCurrentMaturityKey(),e.maturityHasChanged=this.hasMaturityChanged(),e.avatarSrc=this.getCurrentAvatar(),this.context.setProfileEditInProgress(e),this.context.profileManager.openSelectAvatar(this.props.newProfile)}else this.setState({inAvatarEditMode:!0})},hasMaturityChanged:function(){return this.refs["maturity-dropdown"].getCurrentMaturityKey()!==this.getInitialMaturity()},targetValidForTooltip:function(e){return this.refs["add-kids-profile"]&&this.refs["add-kids-profile"].contains(e)||this.refs["add-kids-label"]&&this.refs["add-kids-label"].contains(e)||this.refs["add-kids-marker"]&&this.refs["add-kids-marker"].contains(e)},mouseOverKidsLabel:function(e){this.getTooltip()&&this.targetValidForTooltip(e.target)&&(clearTimeout(this.timeoutHideKidsLabel),this.state.showKidsTooltip||this.setState({showKidsTooltip:!0}))},mouseOutKidsLabel:function(e){var t=this;this.getTooltip()&&!this.targetValidForTooltip(e.relatedTarget)&&(clearTimeout(this.timeoutHideKidsLabel),this.state.showKidsTooltip&&(this.timeoutHideKidsLabel=setTimeout(function(){t.setState({showKidsTooltip:!1})},400)))},getTooltip:function(){var e=this.context.getI18nString(A,"manageProfile.tooltip.kids");return e.indexOf("addProfile")<0&&e},getInitialLanguage:function(){var e=this.props.newProfile;return e&&e.getValueSync(["summary"]).language},getInitialMaturity:function(){var e=this.props.newProfile;return e&&e.getValueSync(["summary"]).maturityLevel},getInitialKidsSelection:function(){var e=this.props.newProfile;return e&&e.getValueSync(["summary"]).isKids},getIsDefaultKidsProfile:function(){var e=this.props.newProfile;return e&&e.getValueSync(["summary"]).isDefaultKidsProfile},getCurrentProfileGuid:function(){var e=this.props.newProfile;return e&&e.getValueSync(["summary"]).guid},getCurrentProfileName:function(){if(null!==this.state.newProfileName)return this.state.newProfileName;var e=this.props.newProfile;return e&&P.unescapeHtmlCharacters(e.getValueSync(["summary"]).profileName)},getCurrentKidsSelection:function(){if(null!==this.state.newProfileIsForAKid)return this.state.newProfileIsForAKid;var e=this.props.newProfile;return e&&e.getValueSync(["summary"]).isKids},getCurrentAvatar:function(){var e=this.context.getProfileEditInProgress();if(e&&e.avatarSrc)return e.avatarSrc;if(this.state.newProfileAvatarSrc)return this.state.newProfileAvatarSrc;var t=this.props.newProfile;return t&&t.getValueSync(["avatar","images","byWidth",320])},isActiveProfile:function(){var e=this.props.newProfile;return e&&e.getValueSync(["summary"]).isActive},inAvatarEditMode:function(){return this.state.inAvatarEditMode},renderProfileAvatars:function(){var e=this.props.model.bind(["profilesList","availableAvatarsList"]),t=e&&e.getValueSync(["summary"]),i=t&&t.length||20,a=this.props.newProfile.bind(["avatar"]),r=a.getValueSync(["images","byWidth",50]),s=[];r&&s.push(n.createElement("li",{key:"avatar0",role:"listitem",onClick:this.clickAvatarClickHandler(a)},n.createElement(h,{profileAvatarSrc:r})));for(var l=0;l<Math.min(i,20);l++){var o=e.bind([l]);if(o){var d=o.getValueSync(["images","byWidth",50]);d&&s.push(n.createElement("li",{key:"avatar"+(l+1),role:"listitem",onClick:this.clickAvatarClickHandler(o)},n.createElement(h,{profileAvatarSrc:d})))}}return s},clickAvatarClickHandler:function(e){var t=this;return function(){t.clickAvatarIconHandler(e)}},render:function(){var e=this.context.getProfileEditInProgress(),t=this.getTooltip(),i=this.isValidData(),a=!i&&this.state.attemptedInvalidNewProfile,r=this.state.attemptedInvalidEditProfile,s=this.props.newProfile,l=this.getCurrentAvatar(),d=this.getCurrentKidsSelection(),c=this.getCurrentProfileName(),u=s&&s.getValueSync(["summary"]).isAccountOwner,v=e.language||this.getInitialLanguage(s),P=e.maturityLevel||this.getInitialMaturity(s),y=this.props.model.bind(["profilesList"]),w=this.state.inAvatarEditMode,k=o({"profile-button":!0,"preferred-action":!0}),E=o({"main-profile-avatar":!0}),I=o({"name-error":a}),K=this.context.getI18nString(A,"manageProfile.error.create");return this.state.errorString&&(K=this.state.errorString),n.createElement("div",{className:"centered-div",ref:"centeredDiv",onClick:this.dismissAvatarModal,style:{opacity:0}},n.createElement("div",{className:"profile-actions-container",ref:"edit-profile"},this.state.isSaving?n.createElement("div",{className:"profileSavingMask",key:"profileSavingMask"},n.createElement(g,null)):null,n.createElement("h1",null,this.context.getI18nString(A,"manageProfile.header")),n.createElement("div",{className:"profile-metadata profile-entry"},n.createElement("div",{className:E},n.createElement("div",{className:o("avatar-box")},n.createElement(h,{profileAvatarSrc:l}),n.createElement("div",{className:"avatar-edit-icon",onClick:this.clickAvatarEditIconHandle},n.createElement(S,{name:"edit"})))),n.createElement("div",{className:"profile-edit-parent"},n.createElement("div",{className:"profile-edit-inputs",onMouseOver:this.mouseOverKidsLabel,onMouseOut:this.mouseOutKidsLabel},n.createElement("input",{type:"text",value:c,className:I,ref:"profile-name-entry",placeholder:this.context.getI18nString(A,"manageProfile.placeholder.name"),onChange:this.inputNameHandler,onKeyDown:this.inputNameKeyDownHandler}),u&&!this.getInitialKidsSelection()||this.getIsDefaultKidsProfile()?null:n.createElement("span",null,n.createElement("input",{type:"checkbox",id:"add-kids-profile",ref:"add-kids-profile",checked:d,onChange:this.NOOP}),n.createElement("label",{htmlFor:"add-kids-profile",ref:"add-kids-label",onClick:this.clickKidsLabelHandler}),n.createElement("span",{className:"add-kids-marker",ref:"add-kids-marker",onClick:this.clickKidsLabelHandler},this.context.getI18nString(A,"manageProfile.label.kids")),t&&this.state.showKidsTooltip?n.createElement(f,{tooltipText:t}):null)),a?n.createElement("p",{className:"profile-entry-error"},this.context.getI18nString(A,"manageProfile.error.name")):null,r?n.createElement("p",{className:"profile-entry-error"},K):null,n.createElement("div",{className:"profile-entry-dropdowns"},n.createElement(m,{ref:"language-dropdown",model:y,language:v}),n.createElement(p,{ref:"maturity-dropdown",model:y,onselectKidsMaturity:this.checkKidsLabel,initialMaturityKey:P,isKid:d,isOwner:u})),this.state.showKidsChangeWarning?n.createElement("p",{className:"profile-kids-warning profile-kids-change-warning"},this.context.getI18nString(A,"manageProfile.kids.change.warning")):null,this.getIsDefaultKidsProfile()?n.createElement("p",{className:"profile-kids-warning"},this.context.getI18nString(A,"manageProfile.default.warning")):null)),w?n.createElement("ul",{className:"avatar-container"},this.renderProfileAvatars()):null,n.createElement("span",{className:k,onClick:this.clickContinueHandler},n.createElement("span",null,this.context.getI18nString(A,"manageProfile.button.save"))),n.createElement("span",{className:"profile-button",onClick:this.clickCancelHandler},n.createElement("span",null,this.context.getI18nString(A,"manageProfile.button.cancel"))),u?null:n.createElement("span",{className:"profile-button",onClick:this.clickDeleteHandler},n.createElement("span",null,this.context.getI18nString(A,"manageProfile.button.delete")))))}});t.exports=K});C.r("akira/components/profile/profileLangDropdown.jsx",function(e,n,t){"use strict";var a=e("prop-types"),r=e("react"),i=e("create-react-class"),o=e("../controls/nfDropdown.jsx"),s=e("lodash"),g=e("../../../utils/keyboardEventsWrapper"),l=i({displayName:"ProfileLangDropDown",contextTypes:{getI18nString:a.func.isRequired,models:a.object.isRequired},statics:{getPaths:function(e,n,t){return[["languages"]]}},getInitialState:function(){return{langIndex:void 0}},getUserLanguage:function(){var e=this,n=this.props.model,t=n.getValueSync(["languages"]),a=[];return s.forEach(t,function(n,t){var i=n&&n.id,o=n&&n.label;if(i&&o){var s=r.createElement("a",{className:"user-lang-link",key:i,tabIndex:0,role:"link",onClick:e.dropDownClickHandler(t),onKeyDown:g.executeOnEnterOrSpace(e.dropDownClickHandler(t))},o);a.push(s)}}),a},dropDownClickHandler:function(e){var n=this;return function(){n.handleLanguageDropDownChange(e)}},handleLanguageDropDownChange:function(e){this.setState({langIndex:e})},getInitialLanguageIndex:function(){var e=this.getUserLanguage(),n=this.props.language;n.indexOf("-")<0&&(n=n+"-"+s.get(this.context.models,"geo.data.requestCountry.id","US"));for(var t=0;t<e.length;t++){if(e[t].key===n)return t}return-1},getUserSelectedLanguage:function(){var e=this.state.langIndex;if(void 0===e)return null;var n=this.getUserLanguage();return n[e]&&n[e].key},getCurrentLanguage:function(){var e=this.getUserLanguage(),n=void 0!==this.state.langIndex?this.state.langIndex:this.getInitialLanguageIndex();return n>=0&&e[n]?e[n].key:void 0},render:function(){var e=this.getUserLanguage(),n=void 0!==this.state.langIndex?e[this.state.langIndex]:e[this.getInitialLanguageIndex()];return r.createElement("div",{className:"profileDropDown"},r.createElement("div",{className:"profileDropDown-label"},this.context.getI18nString("discovery/partials/profiles_gate","languageSelection.dropDownHeader")),r.createElement(o,{options:e,cols:2,widthRestricted:!1,defaultValue:n}))}});n.exports=l});C.r("akira/components/profile/profileLoad.jsx",function(e,r,t){"use strict";var i=e("prop-types"),n=e("react"),o=e("react-dom"),a=e("create-react-class"),l=e("classnames"),s=e("../profile/profile.jsx"),c=e("../../../utils/transition"),p=e("../../../utils/eventBus"),d="discovery/partials/profiles_gate",f=a({displayName:"ProfileLoad",contextTypes:{getI18nString:i.func.isRequired,profileManager:i.object.isRequired},componentDidMount:function(){var e=o.findDOMNode(this);e&&(c.show(e,{target:o.findDOMNode(this.refs.loadingProfileWrapper),before:{scale:.6,opacity:0},scale:.4,opacity:1,duration:450}),p.emit("app:interactive"))},componentWillUnmount:function(){var e=o.findDOMNode(this);e&&c.hide(e,{target:o.findDOMNode(this.refs.loadingProfileWrapper),scale:.6,opacity:0,duration:350})},handleRetry:function(){this.context.profileManager.switchProfile(this.props.newProfile)},renderLoadingError:function(){var e=l({"profile-load-error":!0,"show-error":this.props.errorLoadingProfile});return n.createElement("p",{className:e},this.context.getI18nString(d,"switch.error"),n.createElement("span",{className:"profile-button",onClick:this.handleRetry},n.createElement("span",null,this.context.getI18nString(d,"switch.button.tryAgain"))))},render:function(){var e=this.props.newProfile;return e?n.createElement("div",{ref:"centeredDiv",className:l({"centered-div":!0,"loading-wrapper":!0})},n.createElement("div",null,n.createElement("div",{ref:"loadingProfileWrapper",className:l({"loading-profile-wrapper":!0})},n.createElement("ul",null,n.createElement(s,{useDiv:!0,linked:!1,loading:!0,avatarWidth:320,errorLoadingProfile:this.props.errorLoadingProfile,model:e}))),this.renderLoadingError())):null}});r.exports=f});C.r("akira/components/profile/profileMaturityDropdown.jsx",function(t,e,r){"use strict";var i=t("prop-types"),n=t("react"),a=t("create-react-class"),s=t("../controls/nfDropdown.jsx"),o=t("../../../utils/keyboardEventsWrapper"),u="discovery/partials/profiles_gate",l={LITTLE_KIDS:"maturityRating.LITTLE_KIDS",OLDER_KIDS:"maturityRating.OLDER_KIDS",TEENS:"maturityRating.TEENS",ADULTS:"maturityRating.ADULTS",dropDownHeader:"maturityRating.dropDownHeader"},d=a({displayName:"ProfileLangDropDown",contextTypes:{getI18nString:i.func.isRequired},statics:{getPaths:function(t,e,r){return[["maturityRatings"]]}},getInitialState:function(){return{maturityIndex:void 0}},getMaturityLabels:function(){var t=[],e=this.getMaturityModel();if(e)for(var r=0;r<=e.length;r++)t.push(this.context.getI18nString(u,l[e[r]]));return t},getMaturityModel:function(){var t=this.props.model,e=t&&t.getValueSync(["maturityRatings"]);return e&&e.ratingsList},getMaturityOptions:function(){var t=this.getMaturityModel(),e=this.props.isOwner&&!this.props.isKid?2:0,r=this.props.isKid?1:3,i=this.getMaturityLabels(),a=[];if(t)for(var s=e;s<=r;s++){var u=i[s];if(u){var l=n.createElement("a",{className:"user-lang-link",role:"link",tabIndex:0,key:s,onClick:this.dropDownClickHandler(s),onKeyDown:o.executeOnEnterOrSpace(this.dropDownClickHandler(s))},u);a.push(l)}}return a},handleKidsLabelClick:function(t){var e=t?1:3;this.setState({maturityIndex:e}),this.forceUpdate()},dropDownClickHandler:function(t){var e=this;return function(){e.handleMaturityDropDownChange(t)}},handleMaturityDropDownChange:function(t){this.setState({maturityIndex:t}),t<=1&&this.props.onselectKidsMaturity()},getCurrentMaturityIndex:function(){var t=this.getMaturityModel();return void 0!==this.state.maturityIndex?this.state.maturityIndex:t&&t.indexOf(this.props.initialMaturityKey)},getCurrentMaturityKey:function(){var t=this.getMaturityModel();return t&&t[this.getCurrentMaturityIndex()]},getCurrentMaturityLabel:function(){if(void 0===this.state.maturityIndex)return this.context.getI18nString(u,l[this.props.initialMaturityKey]);var t=this.getMaturityModel(),e=t&&t[this.getCurrentMaturityIndex()];return e?this.context.getI18nString(u,l[e]):this.context.getI18nString(u,l[this.props.initialMaturityKey])},render:function(){var t=this.getMaturityOptions(),e=this.getCurrentMaturityLabel();return n.createElement("div",{className:"profileDropDown"},n.createElement("div",{className:"profileDropDown-label"},this.context.getI18nString(u,"maturityRating.dropDownHeader")),n.createElement(s,{options:t,cols:1,widthRestricted:!0,defaultValue:e}))}});e.exports=d});C.r("common/keyCodes.js",function(U,N,M){"use strict";var F={BACKSPACE:8,SPACE:32,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS:20,ESC:27,PGUP:33,PGDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INS:45,DEL:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,NUM0:96,NUM1:97,NUM2:98,NUM3:99,NUM4:100,NUM5:101,NUM6:102,NUM7:103,NUM8:104,NUM9:105,MULTIPLY:106,PLUS:107,MINUS:109,DOT:110,NUMSLASH:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,EQUAL:187,COMMA:188,FSLASH:191,BSLASH:220};N.exports=F});C.r("components/focusTrap.jsx",function(e,t,n){"use strict";function s(e){for(var t=[],n=e.length,s=0,o=n;s<o;s++){var a=e[s].nodeType;8!==a&&3!==a&&t.push(e[s])}return t}function o(e,t){return s(t?e.childNodes:e.getElementsByTagName("*"))}function a(e){if(e.hasAttribute("tabindex")){var t=e.getAttribute("tabindex");if(!isNaN(t))return!0}var n=e.nodeName;return d.test(n)?"hidden"!==e.type.toLowerCase()&&!e.disabled:"A"===n&&!!e.href}function r(e){return o(e).filter(a)}var u=(e("prop-types"),e("react")),i=e("create-react-class"),c=e("react-dom"),l=e("../common/keyCodes"),f=e("classnames"),d=/input|select|textarea|button/i,p=i({displayName:"FocusTrap",getDefaultProps:function(){return{autoFocus:!1,element:"div"}},updateFocusableElements:function(){this.focusableElements=r(c.findDOMNode(this))},componentDidUpdate:function(){this.updateFocusableElements()},componentDidMount:function(){var e=void 0;this.updateFocusableElements(),document.addEventListener("keydown",this.onKeyDown,!0),this.props.autoFocus&&(e=this.focusableElements[0])&&e.focus&&e.focus()},componentWillUnmount:function(){document.removeEventListener("keydown",this.onKeyDown,!0),this.focusableElements=null},onKeyDown:function(e){var t=c.findDOMNode(this),n=e.keyCode,s=l.TAB===n,o=e.shiftKey,a=this.focusableElements.length,r=this.focusableElements[0],u=this.focusableElements[a-1],i=this.focusableElements[a-2];s&&(o?r===e.target?(e.preventDefault(),u&&u.focus()):u===e.target&&(e.preventDefault(),i&&i.focus()):u!==e.target&&t.contains(e.target)||(e.preventDefault(),r&&r.focus()))},render:function(){var e=this.props,t=e.className,n=e.children,s=e.ariaLabel,o=e.ariaRole,a=this.props.element;return u.createElement(a,{"aria-label":s,role:o,className:f("focus-trap-wrapper",t),tabIndex:0},n)}});t.exports=p});C.r("node_modules/fbjs/lib/EventListener.js",function(e,t,n){"use strict";var r=e("./emptyFunction"),i={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:r}},registerDefault:function(){}};t.exports=i});C.r("node_modules/fbjs/lib/ExecutionEnvironment.js",function(e,n,o){"use strict";var t=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:t,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:t&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:t&&!!window.screen,isInWorker:!t};n.exports=i});C.r("node_modules/fbjs/lib/camelize.js",function(e,r,n){"use strict";function t(e){return e.replace(o,function(e,r){return r.toUpperCase()})}var o=/-(.)/g;r.exports=t});C.r("node_modules/fbjs/lib/camelizeStyleName.js",function(e,s,r){"use strict";function t(e){return c(e.replace(i,"ms-"))}var c=e("./camelize"),i=/^-ms-/;s.exports=t});C.r("node_modules/fbjs/lib/containsNode.js",function(o,n,t){"use strict";function e(o,n){return!(!o||!n)&&(o===n||!i(o)&&(i(n)?e(o,n.parentNode):"contains"in o?o.contains(n):!!o.compareDocumentPosition&&!!(16&o.compareDocumentPosition(n))))}var i=o("./isTextNode");n.exports=e});C.r("node_modules/fbjs/lib/createArrayFromMixed.js",function(r,e,t){"use strict";function n(r){var e=r.length;if((Array.isArray(r)||"object"!=typeof r&&"function"!=typeof r)&&a(!1),"number"!=typeof e&&a(!1),0===e||e-1 in r||a(!1),"function"==typeof r.callee&&a(!1),r.hasOwnProperty)try{return Array.prototype.slice.call(r)}catch(r){}for(var t=Array(e),n=0;n<e;n++)t[n]=r[n];return t}function o(r){return!!r&&("object"==typeof r||"function"==typeof r)&&"length"in r&&!("setInterval"in r)&&"number"!=typeof r.nodeType&&(Array.isArray(r)||"callee"in r||"item"in r)}function i(r){return o(r)?Array.isArray(r)?r.slice():n(r):[r]}var a=r("./invariant");e.exports=i});C.r("node_modules/fbjs/lib/createNodesFromMarkup.js",function(r,e,a){"use strict";function t(r){var e=r.match(d);return e&&e[1].toLowerCase()}function n(r,e){var a=c;c||l(!1);var n=t(r),i=n&&s(n);if(i){a.innerHTML=i[1]+r+i[2];for(var d=i[0];d--;)a=a.lastChild}else a.innerHTML=r;var u=a.getElementsByTagName("script");u.length&&(e||l(!1),o(u).forEach(e));for(var m=Array.from(a.childNodes);a.lastChild;)a.removeChild(a.lastChild);return m}var i=r("./ExecutionEnvironment"),o=r("./createArrayFromMixed"),s=r("./getMarkupWrap"),l=r("./invariant"),c=i.canUseDOM?document.createElement("div"):null,d=/^\s*<(\w+)/;e.exports=n});C.r("node_modules/fbjs/lib/focusNode.js",function(o,s,c){"use strict";function t(o){try{o.focus()}catch(o){}}s.exports=t});C.r("node_modules/fbjs/lib/getActiveElement.js",function(e,t,n){"use strict";function o(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}t.exports=o});C.r("node_modules/fbjs/lib/getMarkupWrap.js",function(t,e,o){"use strict";function l(t){return r||n(!1),b.hasOwnProperty(t)||(t="*"),i.hasOwnProperty(t)||(r.innerHTML="*"===t?"<link />":"<"+t+"></"+t+">",i[t]=!r.firstChild),i[t]?b[t]:null}var a=t("./ExecutionEnvironment"),n=t("./invariant"),r=a.canUseDOM?document.createElement("div"):null,i={},p=[1,'<select multiple="true">',"</select>"],d=[1,"<table>","</table>"],s=[3,"<table><tbody><tr>","</tr></tbody></table>"],c=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],b={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:p,option:p,caption:d,colgroup:d,tbody:d,tfoot:d,thead:d,td:s,th:s};["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"].forEach(function(t){b[t]=c,i[t]=!0}),e.exports=l});C.r("node_modules/fbjs/lib/getUnboundedScrollPosition.js",function(e,o,n){"use strict";function t(e){return e.Window&&e instanceof e.Window?{x:e.pageXOffset||e.document.documentElement.scrollLeft,y:e.pageYOffset||e.document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}o.exports=t});C.r("node_modules/fbjs/lib/hyphenate.js",function(e,r,t){"use strict";function n(e){return e.replace(o,"-$1").toLowerCase()}var o=/([A-Z])/g;r.exports=n});C.r("node_modules/fbjs/lib/hyphenateStyleName.js",function(e,t,n){"use strict";function s(e){return r(e).replace(a,"-ms-")}var r=e("./hyphenate"),a=/^ms-/;t.exports=s});C.r("node_modules/fbjs/lib/isNode.js",function(e,o,n){"use strict";function t(e){var o=e?e.ownerDocument||e:document,n=o.defaultView||window;return!(!e||!("function"==typeof n.Node?e instanceof n.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}o.exports=t});C.r("node_modules/fbjs/lib/isTextNode.js",function(e,o,s){"use strict";function n(e){return t(e)&&3==e.nodeType}var t=e("./isNode");o.exports=n});C.r("node_modules/fbjs/lib/memoizeStringOnly.js",function(n,r,t){"use strict";function e(n){var r={};return function(t){return r.hasOwnProperty(t)||(r[t]=n.call(this,t)),r[t]}}r.exports=e});C.r("node_modules/fbjs/lib/performance.js",function(e,n,o){"use strict";var r,i=e("./ExecutionEnvironment");i.canUseDOM&&(r=window.performance||window.msPerformance||window.webkitPerformance),n.exports=r||{}});C.r("node_modules/fbjs/lib/performanceNow.js",function(n,o,r){"use strict";var e,t=n("./performance");e=t.now?function(){return t.now()}:function(){return Date.now()},o.exports=e});C.r("node_modules/fbjs/lib/shallowEqual.js",function(t,e,r){"use strict";function n(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!==t&&e!==e}function o(t,e){if(n(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var r=Object.keys(t),o=Object.keys(e);if(r.length!==o.length)return!1;for(var u=0;u<r.length;u++)if(!l.call(e,r[u])||!n(t[r[u]],e[r[u]]))return!1;return!0}var l=Object.prototype.hasOwnProperty;e.exports=o});C.r("node_modules/react-dom/index.js",function(e,t,o){"use strict";t.exports=e("./lib/ReactDOM")});C.r("node_modules/react-dom/lib/ARIADOMPropertyConfig.js",function(a,r,i){"use strict";var e={Properties:{"aria-current":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},DOMAttributeNames:{},DOMPropertyNames:{}};r.exports=e});C.r("node_modules/react-dom/lib/AutoFocusUtils.js",function(o,e,t){"use strict";var s=o("./ReactDOMComponentTree"),n=o("fbjs/lib/focusNode"),c={focusDOMComponent:function(){n(s.getNodeFromInstance(this))}};e.exports=c});C.r("node_modules/react-dom/lib/BeforeInputEventPlugin.js",function(t,o,e){"use strict";function n(t){return(t.ctrlKey||t.altKey||t.metaKey)&&!(t.ctrlKey&&t.altKey)}function r(t){switch(t){case"topCompositionStart":return U.compositionStart;case"topCompositionEnd":return U.compositionEnd;case"topCompositionUpdate":return U.compositionUpdate}}function i(t,o){return"topKeyDown"===t&&o.keyCode===h}function p(t,o){switch(t){case"topKeyUp":return-1!==w.indexOf(o.keyCode);case"topKeyDown":return o.keyCode!==h;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function a(t){var o=t.detail;return"object"==typeof o&&"data"in o?o.data:null}function s(t,o,e,n){var s,u;if(v?s=r(t):S?p(t,e)&&(s=U.compositionEnd):i(t,e)&&(s=U.compositionStart),!s)return null;b&&(S||s!==U.compositionStart?s===U.compositionEnd&&S&&(u=S.getData()):S=f.getPooled(n));var c=C.getPooled(s,o,e,n);if(u)c.data=u;else{var d=a(e);null!==d&&(c.data=d)}return l.accumulateTwoPhaseDispatches(c),c}function u(t,o){switch(t){case"topCompositionEnd":return a(o);case"topKeyPress":return o.which!==D?null:(g=!0,P);case"topTextInput":var e=o.data;return e===P&&g?null:e;default:return null}}function c(t,o){if(S){if("topCompositionEnd"===t||!v&&p(t,o)){var e=S.getData();return f.release(S),S=null,e}return null}switch(t){case"topPaste":return null;case"topKeyPress":return o.which&&!n(o)?String.fromCharCode(o.which):null;case"topCompositionEnd":return b?null:o.data;default:return null}}function d(t,o,e,n){var r;if(!(r=K?u(t,e):c(t,e)))return null;var i=y.getPooled(U.beforeInput,o,e,n);return i.data=r,l.accumulateTwoPhaseDispatches(i),i}var l=t("./EventPropagators"),m=t("fbjs/lib/ExecutionEnvironment"),f=t("./FallbackCompositionState"),C=t("./SyntheticCompositionEvent"),y=t("./SyntheticInputEvent"),w=[9,13,27,32],h=229,v=m.canUseDOM&&"CompositionEvent"in window,E=null;m.canUseDOM&&"documentMode"in document&&(E=document.documentMode);var K=m.canUseDOM&&"TextEvent"in window&&!E&&!function(){var t=window.opera;return"object"==typeof t&&"function"==typeof t.version&&parseInt(t.version(),10)<=12}(),b=m.canUseDOM&&(!v||E&&E>8&&E<=11),D=32,P=String.fromCharCode(D),U={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:["topBlur","topCompositionEnd","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:["topBlur","topCompositionStart","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:["topBlur","topCompositionUpdate","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]}},g=!1,S=null,M={eventTypes:U,extractEvents:function(t,o,e,n){return[s(t,o,e,n),d(t,o,e,n)]}};o.exports=M});C.r("node_modules/react-dom/lib/CSSProperty.js",function(o,r,t){"use strict";function e(o,r){return o+r.charAt(0).toUpperCase()+r.substring(1)}var i={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},n=["Webkit","ms","Moz","O"];Object.keys(i).forEach(function(o){n.forEach(function(r){i[e(r,o)]=i[o]})});var d={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},a={isUnitlessNumber:i,shorthandPropertyExpansions:d};r.exports=a});C.r("node_modules/react-dom/lib/CSSPropertyOperations.js",function(e,t,r){"use strict";var n=e("./CSSProperty"),a=e("fbjs/lib/ExecutionEnvironment"),o=(e("./ReactInstrumentation"),e("fbjs/lib/camelizeStyleName"),e("./dangerousStyleValue")),s=e("fbjs/lib/hyphenateStyleName"),l=e("fbjs/lib/memoizeStringOnly"),i=(e("fbjs/lib/warning"),l(function(e){return s(e)})),f=!1,c="cssFloat";if(a.canUseDOM){var u=document.createElement("div").style;try{u.font=""}catch(e){f=!0}void 0===document.documentElement.style.cssFloat&&(c="styleFloat")}var y={createMarkupForStyles:function(e,t){var r="";for(var n in e)if(e.hasOwnProperty(n)){var a=0===n.indexOf("--"),s=e[n];null!=s&&(r+=i(n)+":",r+=o(n,s,t,a)+";")}return r||null},setValueForStyles:function(e,t,r){var a=e.style;for(var s in t)if(t.hasOwnProperty(s)){var l=0===s.indexOf("--"),i=o(s,t[s],r,l);if("float"!==s&&"cssFloat"!==s||(s=c),l)a.setProperty(s,i);else if(i)a[s]=i;else{var u=f&&n.shorthandPropertyExpansions[s];if(u)for(var y in u)a[y]="";else a[s]=""}}}};t.exports=y});C.r("node_modules/react-dom/lib/CallbackQueue.js",function(t,n,s){"use strict";function l(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var c=t("./reactProdInvariant"),o=t("./PooledClass"),i=(t("fbjs/lib/invariant"),function(){function t(n){l(this,t),this._callbacks=null,this._contexts=null,this._arg=n}return t.prototype.enqueue=function(t,n){this._callbacks=this._callbacks||[],this._callbacks.push(t),this._contexts=this._contexts||[],this._contexts.push(n)},t.prototype.notifyAll=function(){var t=this._callbacks,n=this._contexts,s=this._arg;if(t&&n){t.length!==n.length&&c("24"),this._callbacks=null,this._contexts=null;for(var l=0;l<t.length;l++)t[l].call(n[l],s);t.length=0,n.length=0}},t.prototype.checkpoint=function(){return this._callbacks?this._callbacks.length:0},t.prototype.rollback=function(t){this._callbacks&&this._contexts&&(this._callbacks.length=t,this._contexts.length=t)},t.prototype.reset=function(){this._callbacks=null,this._contexts=null},t.prototype.destructor=function(){this.reset()},t}());n.exports=o.addPoolingTo(i)});C.r("node_modules/react-dom/lib/ChangeEventPlugin.js",function(e,t,n){"use strict";function o(e,t,n){var o=P.getPooled(_.change,e,t,n);return o.type="change",w.accumulateTwoPhaseDispatches(o),o}function u(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function a(e){var t=o(k,e,I(e));M.batchedUpdates(r,t)}function r(e){b.enqueueEvents(e),b.processEventQueue(!1)}function c(e,t){x=e,k=t,x.attachEvent("onchange",a)}function p(){x&&(x.detachEvent("onchange",a),x=null,k=null)}function i(e,t){var n=D.updateValueIfChanged(e),o=!0===t.simulated&&K._allowSimulatedPassThrough;if(n||o)return e}function l(e,t){if("topChange"===e)return t}function d(e,t,n){"topFocus"===e?(p(),c(t,n)):"topBlur"===e&&p()}function s(e,t){x=e,k=t,x.attachEvent("onpropertychange",v)}function f(){x&&(x.detachEvent("onpropertychange",v),x=null,k=null)}function v(e){"value"===e.propertyName&&i(k,e)&&a(e)}function h(e,t,n){"topFocus"===e?(f(),s(t,n)):"topBlur"===e&&f()}function g(e,t,n){if("topSelectionChange"===e||"topKeyUp"===e||"topKeyDown"===e)return i(k,n)}function m(e){var t=e.nodeName;return t&&"input"===t.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function E(e,t,n){if("topClick"===e)return i(t,n)}function C(e,t,n){if("topInput"===e||"topChange"===e)return i(t,n)}function y(e,t){if(null!=e){var n=e._wrapperState||t._wrapperState;if(n&&n.controlled&&"number"===t.type){var o=""+t.value;t.getAttribute("value")!==o&&t.setAttribute("value",o)}}}var b=e("./EventPluginHub"),w=e("./EventPropagators"),S=e("fbjs/lib/ExecutionEnvironment"),T=e("./ReactDOMComponentTree"),M=e("./ReactUpdates"),P=e("./SyntheticEvent"),D=e("./inputValueTracking"),I=e("./getEventTarget"),N=e("./isEventSupported"),U=e("./isTextInputElement"),_={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:["topBlur","topChange","topClick","topFocus","topInput","topKeyDown","topKeyUp","topSelectionChange"]}},x=null,k=null,B=!1;S.canUseDOM&&(B=N("change")&&(!document.documentMode||document.documentMode>8));var F=!1;S.canUseDOM&&(F=N("input")&&(!document.documentMode||document.documentMode>9));var K={eventTypes:_,_allowSimulatedPassThrough:!0,_isInputEventSupported:F,extractEvents:function(e,t,n,a){var r,c,p=t?T.getNodeFromInstance(t):window;if(u(p)?B?r=l:c=d:U(p)?F?r=C:(r=g,c=h):m(p)&&(r=E),r){var i=r(e,t,n);if(i){return o(i,n,a)}}c&&c(e,p,t),"topBlur"===e&&y(t,p)}};t.exports=K});C.r("node_modules/react-dom/lib/DOMChildrenOperations.js",function(e,r,n){"use strict";function t(e,r){return Array.isArray(r)&&(r=r[1]),r?r.nextSibling:e.firstChild}function o(e,r,n){d.insertTreeBefore(e,r,n)}function a(e,r,n){Array.isArray(r)?c(e,r[0],r[1],n):p(e,r,n)}function i(e,r){if(Array.isArray(r)){var n=r[1];r=r[0],s(e,r,n),e.removeChild(n)}e.removeChild(r)}function c(e,r,n,t){for(var o=r;;){var a=o.nextSibling;if(p(e,o,t),o===n)break;o=a}}function s(e,r,n){for(;;){var t=r.nextSibling;if(t===n)break;e.removeChild(t)}}function f(e,r,n){var t=e.parentNode,o=e.nextSibling;o===r?n&&p(t,document.createTextNode(n),o):n?(N(o,n),s(t,o,r)):s(t,e,r)}var d=e("./DOMLazyTree"),u=e("./Danger"),l=(e("./ReactDOMComponentTree"),e("./ReactInstrumentation"),e("./createMicrosoftUnsafeLocalFunction")),T=e("./setInnerHTML"),N=e("./setTextContent"),p=l(function(e,r,n){e.insertBefore(r,n)}),b=u.dangerouslyReplaceNodeWithMarkup,m={dangerouslyReplaceNodeWithMarkup:b,replaceDelimitedText:f,processUpdates:function(e,r){for(var n=0;n<r.length;n++){var c=r[n];switch(c.type){case"INSERT_MARKUP":o(e,c.content,t(e,c.afterNode));break;case"MOVE_EXISTING":a(e,c.fromNode,t(e,c.afterNode));break;case"SET_MARKUP":T(e,c.content);break;case"TEXT_CONTENT":N(e,c.content);break;case"REMOVE_NODE":i(e,c.fromNode)}}}};r.exports=m});C.r("node_modules/react-dom/lib/DOMLazyTree.js",function(e,n,t){"use strict";function o(e){if(m){var n=e.node,t=e.children;if(t.length)for(var o=0;o<t.length;o++)p(n,t[o],null);else null!=e.html?s(n,e.html):null!=e.text&&h(n,e.text)}}function d(e,n){e.parentNode.replaceChild(n.node,e),o(n)}function r(e,n){m?e.children.push(n):e.node.appendChild(n.node)}function u(e,n){m?e.html=n:s(e.node,n)}function i(e,n){m?e.text=n:h(e.node,n)}function l(){return this.node.nodeName}function a(e){return{node:e,children:[],html:null,text:null,toString:l}}var c=e("./DOMNamespaces"),s=e("./setInnerHTML"),f=e("./createMicrosoftUnsafeLocalFunction"),h=e("./setTextContent"),m="undefined"!=typeof document&&"number"==typeof document.documentMode||"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent&&/\bEdge\/\d/.test(navigator.userAgent),p=f(function(e,n,t){11===n.node.nodeType||1===n.node.nodeType&&"object"===n.node.nodeName.toLowerCase()&&(null==n.node.namespaceURI||n.node.namespaceURI===c.html)?(o(n),e.insertBefore(n.node,t)):(e.insertBefore(n.node,t),o(n))});a.insertTreeBefore=p,a.replaceChildWithTree=d,a.queueChild=r,a.queueHTML=u,a.queueText=i,n.exports=a});C.r("node_modules/react-dom/lib/DOMNamespaces.js",function(t,w,s){"use strict";var h={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};w.exports=h});C.r("node_modules/react-dom/lib/DOMProperty.js",function(t,e,u){"use strict";function r(t,e){return(t&e)===e}var a=t("./reactProdInvariant"),o=(t("fbjs/lib/invariant"),{MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(t){var e=o,u=t.Properties||{},i=t.DOMAttributeNamespaces||{},n=t.DOMAttributeNames||{},A=t.DOMPropertyNames||{},_=t.DOMMutationMethods||{};t.isCustomAttribute&&s._isCustomAttributeFunctions.push(t.isCustomAttribute);for(var E in u){s.properties.hasOwnProperty(E)&&a("48",E);var O=E.toLowerCase(),F=u[E],m={attributeName:O,attributeNamespace:null,propertyName:E,mutationMethod:null,mustUseProperty:r(F,e.MUST_USE_PROPERTY),hasBooleanValue:r(F,e.HAS_BOOLEAN_VALUE),hasNumericValue:r(F,e.HAS_NUMERIC_VALUE),hasPositiveNumericValue:r(F,e.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:r(F,e.HAS_OVERLOADED_BOOLEAN_VALUE)};if(m.hasBooleanValue+m.hasNumericValue+m.hasOverloadedBooleanValue<=1||a("50",E),n.hasOwnProperty(E)){var p=n[E];m.attributeName=p}i.hasOwnProperty(E)&&(m.attributeNamespace=i[E]),A.hasOwnProperty(E)&&(m.propertyName=A[E]),_.hasOwnProperty(E)&&(m.mutationMethod=_[E]),s.properties[E]=m}}}),i=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",s={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:i,ATTRIBUTE_NAME_CHAR:i+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(t){for(var e=0;e<s._isCustomAttributeFunctions.length;e++){if((0,s._isCustomAttributeFunctions[e])(t))return!0}return!1},injection:o};e.exports=s});C.r("node_modules/react-dom/lib/DOMPropertyOperations.js",function(e,t,r){"use strict";function o(e){return!!l.hasOwnProperty(e)||!s.hasOwnProperty(e)&&(n.test(e)?(l[e]=!0,!0):(s[e]=!0,!1))}function u(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&t<1||e.hasOverloadedBooleanValue&&!1===t}var a=e("./DOMProperty"),i=(e("./ReactDOMComponentTree"),e("./ReactInstrumentation"),e("./quoteAttributeValueForBrowser")),n=(e("fbjs/lib/warning"),new RegExp("^["+a.ATTRIBUTE_NAME_START_CHAR+"]["+a.ATTRIBUTE_NAME_CHAR+"]*$")),s={},l={},p={createMarkupForID:function(e){return a.ID_ATTRIBUTE_NAME+"="+i(e)},setAttributeForID:function(e,t){e.setAttribute(a.ID_ATTRIBUTE_NAME,t)},createMarkupForRoot:function(){return a.ROOT_ATTRIBUTE_NAME+'=""'},setAttributeForRoot:function(e){e.setAttribute(a.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(e,t){var r=a.properties.hasOwnProperty(e)?a.properties[e]:null;if(r){if(u(r,t))return"";var o=r.attributeName;return r.hasBooleanValue||r.hasOverloadedBooleanValue&&!0===t?o+'=""':o+"="+i(t)}return a.isCustomAttribute(e)?null==t?"":e+"="+i(t):null},createMarkupForCustomAttribute:function(e,t){return o(e)&&null!=t?e+"="+i(t):""},setValueForProperty:function(e,t,r){var o=a.properties.hasOwnProperty(t)?a.properties[t]:null;if(o){var i=o.mutationMethod;if(i)i(e,r);else{if(u(o,r))return void this.deleteValueForProperty(e,t);if(o.mustUseProperty)e[o.propertyName]=r;else{var n=o.attributeName,s=o.attributeNamespace;s?e.setAttributeNS(s,n,""+r):o.hasBooleanValue||o.hasOverloadedBooleanValue&&!0===r?e.setAttribute(n,""):e.setAttribute(n,""+r)}}}else if(a.isCustomAttribute(t))return void p.setValueForAttribute(e,t,r)},setValueForAttribute:function(e,t,r){if(o(t)){null==r?e.removeAttribute(t):e.setAttribute(t,""+r)}},deleteValueForAttribute:function(e,t){e.removeAttribute(t)},deleteValueForProperty:function(e,t){var r=a.properties.hasOwnProperty(t)?a.properties[t]:null;if(r){var o=r.mutationMethod;if(o)o(e,void 0);else if(r.mustUseProperty){var u=r.propertyName;r.hasBooleanValue?e[u]=!1:e[u]=""}else e.removeAttribute(r.attributeName)}else a.isCustomAttribute(t)&&e.removeAttribute(t)}};t.exports=p});C.r("node_modules/react-dom/lib/Danger.js",function(e,r,n){"use strict";var a=e("./reactProdInvariant"),i=e("./DOMLazyTree"),t=e("fbjs/lib/ExecutionEnvironment"),o=e("fbjs/lib/createNodesFromMarkup"),s=e("fbjs/lib/emptyFunction"),l=(e("fbjs/lib/invariant"),{dangerouslyReplaceNodeWithMarkup:function(e,r){if(t.canUseDOM||a("56"),r||a("57"),"HTML"===e.nodeName&&a("58"),"string"==typeof r){var n=o(r,s)[0];e.parentNode.replaceChild(n,e)}else i.replaceChildWithTree(e,r)}});r.exports=l});C.r("node_modules/react-dom/lib/DefaultEventPluginOrder.js",function(e,n,t){"use strict";var l=["ResponderEventPlugin","SimpleEventPlugin","TapEventPlugin","EnterLeaveEventPlugin","ChangeEventPlugin","SelectEventPlugin","BeforeInputEventPlugin"];n.exports=l});C.r("node_modules/react-dom/lib/EnterLeaveEventPlugin.js",function(e,t,o){"use strict";var n=e("./EventPropagators"),r=e("./ReactDOMComponentTree"),u=e("./SyntheticMouseEvent"),a={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},s={eventTypes:a,extractEvents:function(e,t,o,s){if("topMouseOver"===e&&(o.relatedTarget||o.fromElement))return null;if("topMouseOut"!==e&&"topMouseOver"!==e)return null;var l;if(s.window===s)l=s;else{var i=s.ownerDocument;l=i?i.defaultView||i.parentWindow:window}var v,d;if("topMouseOut"===e){v=t;var m=o.relatedTarget||o.toElement;d=m?r.getClosestInstanceFromNode(m):null}else v=null,d=t;if(v===d)return null;var p=null==v?l:r.getNodeFromInstance(v),c=null==d?l:r.getNodeFromInstance(d),g=u.getPooled(a.mouseLeave,v,o,s);g.type="mouseleave",g.target=p,g.relatedTarget=c;var M=u.getPooled(a.mouseEnter,d,o,s);return M.type="mouseenter",M.target=c,M.relatedTarget=p,n.accumulateEnterLeaveDispatches(g,M,v,d),[g,M]}};t.exports=s});C.r("node_modules/react-dom/lib/EventPluginHub.js",function(e,t,n){"use strict";function r(e){return"button"===e||"input"===e||"select"===e||"textarea"===e}function i(e,t,n){switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":return!(!n.disabled||!r(t));default:return!1}}var u=e("./reactProdInvariant"),o=e("./EventPluginRegistry"),s=e("./EventPluginUtils"),a=e("./ReactErrorUtils"),c=e("./accumulateInto"),l=e("./forEachAccumulated"),v=(e("fbjs/lib/invariant"),{}),f=null,d=function(e,t){e&&(s.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},p=function(e){return d(e,!0)},g=function(e){return d(e,!1)},E=function(e){return"."+e._rootNodeID},P={injection:{injectEventPluginOrder:o.injectEventPluginOrder,injectEventPluginsByName:o.injectEventPluginsByName},putListener:function(e,t,n){"function"!=typeof n&&u("94",t,typeof n);var r=E(e);(v[t]||(v[t]={}))[r]=n;var i=o.registrationNameModules[t];i&&i.didPutListener&&i.didPutListener(e,t,n)},getListener:function(e,t){var n=v[t];if(i(t,e._currentElement.type,e._currentElement.props))return null;var r=E(e);return n&&n[r]},deleteListener:function(e,t){var n=o.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t);var r=v[t];if(r){delete r[E(e)]}},deleteAllListeners:function(e){var t=E(e);for(var n in v)if(v.hasOwnProperty(n)&&v[n][t]){var r=o.registrationNameModules[n];r&&r.willDeleteListener&&r.willDeleteListener(e,n),delete v[n][t]}},extractEvents:function(e,t,n,r){for(var i,u=o.plugins,s=0;s<u.length;s++){var a=u[s];if(a){var l=a.extractEvents(e,t,n,r);l&&(i=c(i,l))}}return i},enqueueEvents:function(e){e&&(f=c(f,e))},processEventQueue:function(e){var t=f;f=null,e?l(t,p):l(t,g),f&&u("95"),a.rethrowCaughtError()},__purge:function(){v={}},__getListenerBank:function(){return v}};t.exports=P});C.r("node_modules/react-dom/lib/EventPluginRegistry.js",function(e,n,r){"use strict";function i(){if(o)for(var e in l){var n=l[e],r=o.indexOf(e);if(r>-1||s("96",e),!u.plugins[r]){n.extractEvents||s("97",e),u.plugins[r]=n;var i=n.eventTypes;for(var a in i)t(i[a],n,a)||s("98",a,e)}}}function t(e,n,r){u.eventNameDispatchConfigs.hasOwnProperty(r)&&s("99",r),u.eventNameDispatchConfigs[r]=e;var i=e.phasedRegistrationNames;if(i){for(var t in i)if(i.hasOwnProperty(t)){var o=i[t];a(o,n,r)}return!0}return!!e.registrationName&&(a(e.registrationName,n,r),!0)}function a(e,n,r){u.registrationNameModules[e]&&s("100",e),u.registrationNameModules[e]=n,u.registrationNameDependencies[e]=n.eventTypes[r].dependencies}var s=e("./reactProdInvariant"),o=(e("fbjs/lib/invariant"),null),l={},u={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(e){o&&s("101"),o=Array.prototype.slice.call(e),i()},injectEventPluginsByName:function(e){var n=!1;for(var r in e)if(e.hasOwnProperty(r)){var t=e[r];l.hasOwnProperty(r)&&l[r]===t||(l[r]&&s("102",r),l[r]=t,n=!0)}n&&i()},getPluginModuleForEvent:function(e){var n=e.dispatchConfig;if(n.registrationName)return u.registrationNameModules[n.registrationName]||null;if(void 0!==n.phasedRegistrationNames){var r=n.phasedRegistrationNames;for(var i in r)if(r.hasOwnProperty(i)){var t=u.registrationNameModules[r[i]];if(t)return t}}return null},_resetEventPlugins:function(){o=null;for(var e in l)l.hasOwnProperty(e)&&delete l[e];u.plugins.length=0;var n=u.eventNameDispatchConfigs;for(var r in n)n.hasOwnProperty(r)&&delete n[r];var i=u.registrationNameModules;for(var t in i)i.hasOwnProperty(t)&&delete i[t]}};n.exports=u});C.r("node_modules/react-dom/lib/EventPluginUtils.js",function(e,t,n){"use strict";function r(e){return"topMouseUp"===e||"topTouchEnd"===e||"topTouchCancel"===e}function s(e){return"topMouseMove"===e||"topTouchMove"===e}function a(e){return"topMouseDown"===e||"topTouchStart"===e}function o(e,t,n,r){var s=e.type||"unknown-event";e.currentTarget=I.getNodeFromInstance(r),t?v.invokeGuardedCallbackWithCatch(s,n,e):v.invokeGuardedCallback(s,n,e),e.currentTarget=null}function i(e,t){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var s=0;s<n.length&&!e.isPropagationStopped();s++)o(e,t,n[s],r[s]);else n&&o(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null}function c(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}function u(e){var t=c(e);return e._dispatchInstances=null,e._dispatchListeners=null,t}function l(e){var t=e._dispatchListeners,n=e._dispatchInstances;Array.isArray(t)&&f("103"),e.currentTarget=t?I.getNodeFromInstance(n):null;var r=t?t(e):null;return e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,r}function p(e){return!!e._dispatchListeners}var d,h,f=e("./reactProdInvariant"),v=e("./ReactErrorUtils"),g=(e("fbjs/lib/invariant"),e("fbjs/lib/warning"),{injectComponentTree:function(e){d=e},injectTreeTraversal:function(e){h=e}}),I={isEndish:r,isMoveish:s,isStartish:a,executeDirectDispatch:l,executeDispatchesInOrder:i,executeDispatchesInOrderStopAtTrue:u,hasDispatches:p,getInstanceFromNode:function(e){return d.getInstanceFromNode(e)},getNodeFromInstance:function(e){return d.getNodeFromInstance(e)},isAncestor:function(e,t){return h.isAncestor(e,t)},getLowestCommonAncestor:function(e,t){return h.getLowestCommonAncestor(e,t)},getParentInstance:function(e){return h.getParentInstance(e)},traverseTwoPhase:function(e,t,n){return h.traverseTwoPhase(e,t,n)},traverseEnterLeave:function(e,t,n,r,s){return h.traverseEnterLeave(e,t,n,r,s)},injection:g};t.exports=I});C.r("node_modules/react-dom/lib/EventPropagators.js",function(t,a,e){"use strict";function s(t,a,e){var s=a.dispatchConfig.phasedRegistrationNames[e];return v(t,s)}function n(t,a,e){var n=s(t,e,a);n&&(e._dispatchListeners=l(e._dispatchListeners,n),e._dispatchInstances=l(e._dispatchInstances,t))}function i(t){t&&t.dispatchConfig.phasedRegistrationNames&&f.traverseTwoPhase(t._targetInst,n,t)}function c(t){if(t&&t.dispatchConfig.phasedRegistrationNames){var a=t._targetInst,e=a?f.getParentInstance(a):null;f.traverseTwoPhase(e,n,t)}}function r(t,a,e){if(e&&e.dispatchConfig.registrationName){var s=e.dispatchConfig.registrationName,n=v(t,s);n&&(e._dispatchListeners=l(e._dispatchListeners,n),e._dispatchInstances=l(e._dispatchInstances,t))}}function o(t){t&&t.dispatchConfig.registrationName&&r(t._targetInst,null,t)}function u(t){m(t,i)}function h(t){m(t,c)}function p(t,a,e,s){f.traverseEnterLeave(e,s,r,t,a)}function g(t){m(t,o)}var d=t("./EventPluginHub"),f=t("./EventPluginUtils"),l=t("./accumulateInto"),m=t("./forEachAccumulated"),v=(t("fbjs/lib/warning"),d.getListener),_={accumulateTwoPhaseDispatches:u,accumulateTwoPhaseDispatchesSkipTarget:h,accumulateDirectDispatches:g,accumulateEnterLeaveDispatches:p};a.exports=_});C.r("node_modules/react-dom/lib/FallbackCompositionState.js",function(t,e,o){"use strict";function s(t){this._root=t,this._startText=this.getText(),this._fallbackText=null}var l=t("object-assign"),i=t("./PooledClass"),a=t("./getTextContentAccessor");l(s.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[a()]},getData:function(){if(this._fallbackText)return this._fallbackText;var t,e,o=this._startText,s=o.length,l=this.getText(),i=l.length;for(t=0;t<s&&o[t]===l[t];t++);var a=s-t;for(e=1;e<=a&&o[s-e]===l[i-e];e++);var r=e>1?1-e:void 0;return this._fallbackText=l.slice(t,r),this._fallbackText}}),i.addPoolingTo(s),e.exports=s});C.r("node_modules/react-dom/lib/HTMLDOMPropertyConfig.js",function(e,t,a){"use strict";var r=e("./DOMProperty"),o=r.injection.MUST_USE_PROPERTY,i=r.injection.HAS_BOOLEAN_VALUE,n=r.injection.HAS_NUMERIC_VALUE,l=r.injection.HAS_POSITIVE_NUMERIC_VALUE,s=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE,c={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+r.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:i,allowTransparency:0,alt:0,as:0,async:i,autoComplete:0,autoPlay:i,capture:i,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:o|i,cite:0,classID:0,className:0,cols:l,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:i,controlsList:0,coords:0,crossOrigin:0,data:0,dateTime:0,default:i,defer:i,dir:0,disabled:i,download:s,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:i,formTarget:0,frameBorder:0,headers:0,height:0,hidden:i,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:i,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:o|i,muted:o|i,name:0,nonce:0,noValidate:i,open:i,optimum:0,pattern:0,placeholder:0,playsInline:i,poster:0,preload:0,profile:0,radioGroup:0,readOnly:i,referrerPolicy:0,rel:0,required:i,reversed:i,role:0,rows:l,rowSpan:n,sandbox:0,scope:0,scoped:i,scrolling:0,seamless:i,selected:o|i,shape:0,size:l,sizes:0,span:l,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:n,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:0,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,typeof:0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:i,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{},DOMMutationMethods:{value:function(e,t){if(null==t)return e.removeAttribute("value");"number"!==e.type||!1===e.hasAttribute("value")?e.setAttribute("value",""+t):e.validity&&!e.validity.badInput&&e.ownerDocument.activeElement!==e&&e.setAttribute("value",""+t)}}};t.exports=c});C.r("node_modules/react-dom/lib/KeyEscapeUtils.js",function(e,r,n){"use strict";function t(e){var r={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return r[e]})}function u(e){var r=/(=0|=2)/g,n={"=0":"=","=2":":"};return(""+("."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1))).replace(r,function(e){return n[e]})}var s={escape:t,unescape:u};r.exports=s});C.r("node_modules/react-dom/lib/LinkedValueUtils.js",function(e,n,r){"use strict";function a(e){null!=e.checkedLink&&null!=e.valueLink&&o("87")}function t(e){a(e),(null!=e.value||null!=e.onChange)&&o("88")}function l(e){a(e),(null!=e.checked||null!=e.onChange)&&o("89")}function i(e){if(e){var n=e.getName();if(n)return" Check the render method of `"+n+"`."}return""}var o=e("./reactProdInvariant"),u=e("./ReactPropTypesSecret"),d=e("prop-types/factory"),c=e("react/lib/React"),h=d(c.isValidElement),f=(e("fbjs/lib/invariant"),e("fbjs/lib/warning"),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),s={value:function(e,n,r){return!e[n]||f[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,n,r){return!e[n]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:h.func},k={},g={checkPropTypes:function(e,n,r){for(var a in s){if(s.hasOwnProperty(a))var t=s[a](n,a,e,"prop",null,u);if(t instanceof Error&&!(t.message in k)){k[t.message]=!0;i(r)}}},getValue:function(e){return e.valueLink?(t(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(l(e),e.checkedLink.value):e.checked},executeOnChange:function(e,n){return e.valueLink?(t(e),e.valueLink.requestChange(n.target.value)):e.checkedLink?(l(e),e.checkedLink.requestChange(n.target.checked)):e.onChange?e.onChange.call(void 0,n):void 0}};n.exports=g});C.r("node_modules/react-dom/lib/PooledClass.js",function(n,o,e){"use strict";var t=n("./reactProdInvariant"),r=(n("fbjs/lib/invariant"),function(n){var o=this;if(o.instancePool.length){var e=o.instancePool.pop();return o.call(e,n),e}return new o(n)}),l=function(n,o){var e=this;if(e.instancePool.length){var t=e.instancePool.pop();return e.call(t,n,o),t}return new e(n,o)},i=function(n,o,e){var t=this;if(t.instancePool.length){var r=t.instancePool.pop();return t.call(r,n,o,e),r}return new t(n,o,e)},a=function(n,o,e,t){var r=this;if(r.instancePool.length){var l=r.instancePool.pop();return r.call(l,n,o,e,t),l}return new r(n,o,e,t)},s=function(n){var o=this;n instanceof o||t("25"),n.destructor(),o.instancePool.length<o.poolSize&&o.instancePool.push(n)},c=r,u=function(n,o){var e=n;return e.instancePool=[],e.getPooled=o||c,e.poolSize||(e.poolSize=10),e.release=s,e},P={addPoolingTo:u,oneArgumentPooler:r,twoArgumentPooler:l,threeArgumentPooler:i,fourArgumentPooler:a};o.exports=P});C.r("node_modules/react-dom/lib/ReactBrowserEventEmitter.js",function(t,e,o){"use strict";function n(t){return Object.prototype.hasOwnProperty.call(t,g)||(t[g]=v++,l[t[g]]={}),l[t[g]]}var a,r=t("object-assign"),p=t("./EventPluginRegistry"),i=t("./ReactEventEmitterMixin"),s=t("./ViewportMetrics"),u=t("./getVendorPrefixedEventName"),c=t("./isEventSupported"),l={},d=!1,v=0,E={topAbort:"abort",topAnimationEnd:u("animationend")||"animationend",topAnimationIteration:u("animationiteration")||"animationiteration",topAnimationStart:u("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:u("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},g="_reactListenersID"+String(Math.random()).slice(2),m=r({},i,{ReactEventListener:null,injection:{injectReactEventListener:function(t){t.setHandleTopLevel(m.handleTopLevel),m.ReactEventListener=t}},setEnabled:function(t){m.ReactEventListener&&m.ReactEventListener.setEnabled(t)},isEnabled:function(){return!(!m.ReactEventListener||!m.ReactEventListener.isEnabled())},listenTo:function(t,e){for(var o=e,a=n(o),r=p.registrationNameDependencies[t],i=0;i<r.length;i++){var s=r[i];a.hasOwnProperty(s)&&a[s]||("topWheel"===s?c("wheel")?m.ReactEventListener.trapBubbledEvent("topWheel","wheel",o):c("mousewheel")?m.ReactEventListener.trapBubbledEvent("topWheel","mousewheel",o):m.ReactEventListener.trapBubbledEvent("topWheel","DOMMouseScroll",o):"topScroll"===s?c("scroll",!0)?m.ReactEventListener.trapCapturedEvent("topScroll","scroll",o):m.ReactEventListener.trapBubbledEvent("topScroll","scroll",m.ReactEventListener.WINDOW_HANDLE):"topFocus"===s||"topBlur"===s?(c("focus",!0)?(m.ReactEventListener.trapCapturedEvent("topFocus","focus",o),m.ReactEventListener.trapCapturedEvent("topBlur","blur",o)):c("focusin")&&(m.ReactEventListener.trapBubbledEvent("topFocus","focusin",o),m.ReactEventListener.trapBubbledEvent("topBlur","focusout",o)),a.topBlur=!0,a.topFocus=!0):E.hasOwnProperty(s)&&m.ReactEventListener.trapBubbledEvent(s,E[s],o),a[s]=!0)}},trapBubbledEvent:function(t,e,o){return m.ReactEventListener.trapBubbledEvent(t,e,o)},trapCapturedEvent:function(t,e,o){return m.ReactEventListener.trapCapturedEvent(t,e,o)},supportsEventPageXY:function(){if(!document.createEvent)return!1;var t=document.createEvent("MouseEvent");return null!=t&&"pageX"in t},ensureScrollValueMonitoring:function(){if(void 0===a&&(a=m.supportsEventPageXY()),!a&&!d){var t=s.refreshScrollValues;m.ReactEventListener.monitorScrollValue(t),d=!0}}});e.exports=m});C.r("node_modules/react-dom/lib/ReactChildReconciler.js",function(n,e,t){"use strict";function o(n,e,t,o){var r=void 0===n[t];null!=e&&r&&(n[t]=i(e,!0))}var r=n("./ReactReconciler"),i=n("./instantiateReactComponent"),a=(n("./KeyEscapeUtils"),n("./shouldUpdateReactComponent")),u=n("./traverseAllChildren");n("fbjs/lib/warning");"undefined"!=typeof process&&process.env;var l={instantiateChildren:function(n,e,t,r){if(null==n)return null;var i={};return u(n,o,i),i},updateChildren:function(n,e,t,o,u,l,s,c,p){if(e||n){var d,f;for(d in e)if(e.hasOwnProperty(d)){f=n&&n[d];var m=f&&f._currentElement,v=e[d];if(null!=f&&a(m,v))r.receiveComponent(f,v,u,c),e[d]=f;else{f&&(o[d]=r.getHostNode(f),r.unmountComponent(f,!1));var C=i(v,!0);e[d]=C;var h=r.mountComponent(C,u,l,s,c,p);t.push(h)}}for(d in n)!n.hasOwnProperty(d)||e&&e.hasOwnProperty(d)||(f=n[d],o[d]=r.getHostNode(f),r.unmountComponent(f,!1))}},unmountChildren:function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var o=n[t];r.unmountComponent(o,e)}}};e.exports=l});C.r("node_modules/react-dom/lib/ReactComponentBrowserEnvironment.js",function(e,r,o){"use strict";var s=e("./DOMChildrenOperations"),n=e("./ReactDOMIDOperations"),t={processChildrenUpdates:n.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:s.dangerouslyReplaceNodeWithMarkup};r.exports=t});C.r("node_modules/react-dom/lib/ReactComponentEnvironment.js",function(e,n,r){"use strict";var t=e("./reactProdInvariant"),i=(e("fbjs/lib/invariant"),!1),o={replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){i&&t("104"),o.replaceNodeWithMarkup=e.replaceNodeWithMarkup,o.processChildrenUpdates=e.processChildrenUpdates,i=!0}}};n.exports=o});C.r("node_modules/react-dom/lib/ReactCompositeComponent.js",function(t,e,n){"use strict";function o(t){}function i(t){return!(!t.prototype||!t.prototype.isReactComponent)}function r(t){return!(!t.prototype||!t.prototype.isPureReactComponent)}var s=t("./reactProdInvariant"),a=t("object-assign"),p=t("react/lib/React"),l=t("./ReactComponentEnvironment"),c=t("react/lib/ReactCurrentOwner"),u=t("./ReactErrorUtils"),h=t("./ReactInstanceMap"),d=(t("./ReactInstrumentation"),t("./ReactNodeTypes")),m=t("./ReactReconciler"),_=t("fbjs/lib/emptyObject"),C=(t("fbjs/lib/invariant"),t("fbjs/lib/shallowEqual")),f=t("./shouldUpdateReactComponent"),g=(t("fbjs/lib/warning"),{ImpureClass:0,PureClass:1,StatelessFunctional:2});o.prototype.render=function(){var t=h.get(this)._currentElement.type,e=t(this.props,this.context,this.updater);return e};var v=1,y={construct:function(t){this._currentElement=t,this._rootNodeID=0,this._compositeType=null,this._instance=null,this._hostParent=null,this._hostContainerInfo=null,this._updateBatchNumber=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedNodeType=null,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null,this._calledComponentWillUnmount=!1},mountComponent:function(t,e,n,a){this._context=a,this._mountOrder=v++,this._hostParent=e,this._hostContainerInfo=n;var l,c=this._currentElement.props,u=this._processContext(a),d=this._currentElement.type,m=t.getUpdateQueue(),C=i(d),f=this._constructComponent(C,c,u,m);C||null!=f&&null!=f.render?r(d)?this._compositeType=g.PureClass:this._compositeType=g.ImpureClass:(l=f,null===f||!1===f||p.isValidElement(f)||s("105",d.displayName||d.name||"Component"),f=new o(d),this._compositeType=g.StatelessFunctional);f.props=c,f.context=u,f.refs=_,f.updater=m,this._instance=f,h.set(f,this);var y=f.state;void 0===y&&(f.state=y=null),("object"!=typeof y||Array.isArray(y))&&s("106",this.getName()||"ReactCompositeComponent"),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var x;return x=f.unstable_handleError?this.performInitialMountWithErrorHandling(l,e,n,t,a):this.performInitialMount(l,e,n,t,a),f.componentDidMount&&t.getReactMountReady().enqueue(f.componentDidMount,f),x},_constructComponent:function(t,e,n,o){return this._constructComponentWithoutOwner(t,e,n,o)},_constructComponentWithoutOwner:function(t,e,n,o){var i=this._currentElement.type;return t?new i(e,n,o):i(e,n,o)},performInitialMountWithErrorHandling:function(t,e,n,o,i){var r,s=o.checkpoint();try{r=this.performInitialMount(t,e,n,o,i)}catch(a){o.rollback(s),this._instance.unstable_handleError(a),this._pendingStateQueue&&(this._instance.state=this._processPendingState(this._instance.props,this._instance.context)),s=o.checkpoint(),this._renderedComponent.unmountComponent(!0),o.rollback(s),r=this.performInitialMount(t,e,n,o,i)}return r},performInitialMount:function(t,e,n,o,i){var r=this._instance,s=0;r.componentWillMount&&(r.componentWillMount(),this._pendingStateQueue&&(r.state=this._processPendingState(r.props,r.context))),void 0===t&&(t=this._renderValidatedComponent());var a=d.getType(t);this._renderedNodeType=a;var p=this._instantiateReactComponent(t,a!==d.EMPTY);this._renderedComponent=p;var l=m.mountComponent(p,o,e,n,this._processChildContext(i),s);return l},getHostNode:function(){return m.getHostNode(this._renderedComponent)},unmountComponent:function(t){if(this._renderedComponent){var e=this._instance;if(e.componentWillUnmount&&!e._calledComponentWillUnmount)if(e._calledComponentWillUnmount=!0,t){var n=this.getName()+".componentWillUnmount()";u.invokeGuardedCallback(n,e.componentWillUnmount.bind(e))}else e.componentWillUnmount();this._renderedComponent&&(m.unmountComponent(this._renderedComponent,t),this._renderedNodeType=null,this._renderedComponent=null,this._instance=null),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=0,this._topLevelWrapper=null,h.remove(e)}},_maskContext:function(t){var e=this._currentElement.type,n=e.contextTypes;if(!n)return _;var o={};for(var i in n)o[i]=t[i];return o},_processContext:function(t){var e=this._maskContext(t);return e},_processChildContext:function(t){var e,n=this._currentElement.type,o=this._instance;if(o.getChildContext&&(e=o.getChildContext()),e){"object"!=typeof n.childContextTypes&&s("107",this.getName()||"ReactCompositeComponent");for(var i in e)i in n.childContextTypes||s("108",this.getName()||"ReactCompositeComponent",i);return a({},t,e)}return t},_checkContextTypes:function(t,e,n){},receiveComponent:function(t,e,n){var o=this._currentElement,i=this._context;this._pendingElement=null,this.updateComponent(e,o,t,i,n)},performUpdateIfNecessary:function(t){null!=this._pendingElement?m.receiveComponent(this,this._pendingElement,t,this._context):null!==this._pendingStateQueue||this._pendingForceUpdate?this.updateComponent(t,this._currentElement,this._currentElement,this._context,this._context):this._updateBatchNumber=null},updateComponent:function(t,e,n,o,i){var r=this._instance;null==r&&s("136",this.getName()||"ReactCompositeComponent");var a,p=!1;this._context===i?a=r.context:(a=this._processContext(i),p=!0);var l=e.props,c=n.props;e!==n&&(p=!0),p&&r.componentWillReceiveProps&&r.componentWillReceiveProps(c,a);var u=this._processPendingState(c,a),h=!0;this._pendingForceUpdate||(r.shouldComponentUpdate?h=r.shouldComponentUpdate(c,u,a):this._compositeType===g.PureClass&&(h=!C(l,c)||!C(r.state,u))),this._updateBatchNumber=null,h?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,c,u,a,t,i)):(this._currentElement=n,this._context=i,r.props=c,r.state=u,r.context=a)},_processPendingState:function(t,e){var n=this._instance,o=this._pendingStateQueue,i=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!o)return n.state;if(i&&1===o.length)return o[0];for(var r=a({},i?o[0]:n.state),s=i?1:0;s<o.length;s++){var p=o[s];a(r,"function"==typeof p?p.call(n,r,t,e):p)}return r},_performComponentUpdate:function(t,e,n,o,i,r){var s,a,p,l=this._instance,c=Boolean(l.componentDidUpdate);c&&(s=l.props,a=l.state,p=l.context),l.componentWillUpdate&&l.componentWillUpdate(e,n,o),this._currentElement=t,this._context=r,l.props=e,l.state=n,l.context=o,this._updateRenderedComponent(i,r),c&&i.getReactMountReady().enqueue(l.componentDidUpdate.bind(l,s,a,p),l)},_updateRenderedComponent:function(t,e){var n=this._renderedComponent,o=n._currentElement,i=this._renderValidatedComponent(),r=0;if(f(o,i))m.receiveComponent(n,i,t,this._processChildContext(e));else{var s=m.getHostNode(n);m.unmountComponent(n,!1);var a=d.getType(i);this._renderedNodeType=a;var p=this._instantiateReactComponent(i,a!==d.EMPTY);this._renderedComponent=p;var l=m.mountComponent(p,t,this._hostParent,this._hostContainerInfo,this._processChildContext(e),r);this._replaceNodeWithMarkup(s,l,n)}},_replaceNodeWithMarkup:function(t,e,n){l.replaceNodeWithMarkup(t,e,n)},_renderValidatedComponentWithoutOwnerOrContext:function(){var t=this._instance;return t.render()},_renderValidatedComponent:function(){var t;if(this._compositeType!==g.StatelessFunctional){c.current=this;try{t=this._renderValidatedComponentWithoutOwnerOrContext()}finally{c.current=null}}else t=this._renderValidatedComponentWithoutOwnerOrContext();return null===t||!1===t||p.isValidElement(t)||s("109",this.getName()||"ReactCompositeComponent"),t},attachRef:function(t,e){var n=this.getPublicInstance();null==n&&s("110");var o=e.getPublicInstance();(n.refs===_?n.refs={}:n.refs)[t]=o},detachRef:function(t){delete this.getPublicInstance().refs[t]},getName:function(){var t=this._currentElement.type,e=this._instance&&this._instance.constructor;return t.displayName||e&&e.displayName||t.name||e&&e.name||null},getPublicInstance:function(){var t=this._instance;return this._compositeType===g.StatelessFunctional?null:t},_instantiateReactComponent:null};e.exports=y});C.r("node_modules/react-dom/lib/ReactDOM.js",function(e,n,t){"use strict";var o=e("./ReactDOMComponentTree"),r=e("./ReactDefaultInjection"),c=e("./ReactMount"),d=e("./ReactReconciler"),a=e("./ReactUpdates"),_=e("./ReactVersion"),s=e("./findDOMNode"),i=e("./getHostComponentFromComposite"),u=e("./renderSubtreeIntoContainer");e("fbjs/lib/warning");r.inject();var O={findDOMNode:s,render:c.render,unmountComponentAtNode:c.unmountComponentAtNode,version:_,unstable_batchedUpdates:a.batchedUpdates,unstable_renderSubtreeIntoContainer:u};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:o.getClosestInstanceFromNode,getNodeFromInstance:function(e){return e._renderedComponent&&(e=i(e)),e?o.getNodeFromInstance(e):null}},Mount:c,Reconciler:d});n.exports=O});C.r("node_modules/react-dom/lib/ReactDOMComponent.js",function(e,t,r){"use strict";function n(e){if(e){var t=e._currentElement._owner||null;if(t){var r=t.getName();if(r)return" This DOM node was rendered by `"+r+"`."}}return""}function a(e,t){t&&(J[e._tag]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&m("137",e._tag,e._currentElement._owner?" Check the render method of "+e._currentElement._owner.getName()+".":""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&m("60"),"object"==typeof t.dangerouslySetInnerHTML&&V in t.dangerouslySetInnerHTML||m("61")),null!=t.style&&"object"!=typeof t.style&&m("62",n(e)))}function s(e,t,r,n){if(!(n instanceof L)){var a=e._hostContainerInfo,s=a._node&&a._node.nodeType===z,o=s?a._node:a._ownerDocument;j(t,o),n.getReactMountReady().enqueue(i,{inst:e,registrationName:t,listener:r})}}function i(){var e=this;R.putListener(e.inst,e.registrationName,e.listener)}function o(){var e=this;E.postMountWrapper(e)}function l(){var e=this;T.postMountWrapper(e)}function u(){var e=this;I.postMountWrapper(e)}function p(){N.track(this)}function h(){var e=this;e._rootNodeID||m("63");var t=A(e);switch(t||m("64"),e._tag){case"iframe":case"object":e._wrapperState.listeners=[S.trapBubbledEvent("topLoad","load",t)];break;case"video":case"audio":e._wrapperState.listeners=[];for(var r in Z)Z.hasOwnProperty(r)&&e._wrapperState.listeners.push(S.trapBubbledEvent(r,Z[r],t));break;case"source":e._wrapperState.listeners=[S.trapBubbledEvent("topError","error",t)];break;case"img":e._wrapperState.listeners=[S.trapBubbledEvent("topError","error",t),S.trapBubbledEvent("topLoad","load",t)];break;case"form":e._wrapperState.listeners=[S.trapBubbledEvent("topReset","reset",t),S.trapBubbledEvent("topSubmit","submit",t)];break;case"input":case"select":case"textarea":e._wrapperState.listeners=[S.trapBubbledEvent("topInvalid","invalid",t)]}}function c(){D.postUpdateWrapper(this)}function d(e){X.call(Q,e)||(K.test(e)||m("65",e),Q[e]=!0)}function _(e,t){return e.indexOf("-")>=0||null!=t.is}function g(e){var t=e.type;d(t),this._currentElement=e,this._tag=t.toLowerCase(),this._namespaceURI=null,this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._hostNode=null,this._hostParent=null,this._rootNodeID=0,this._domID=0,this._hostContainerInfo=null,this._wrapperState=null,this._topLevelWrapper=null,this._flags=0}var m=e("./reactProdInvariant"),y=e("object-assign"),f=e("./AutoFocusUtils"),v=e("./CSSPropertyOperations"),b=e("./DOMLazyTree"),M=e("./DOMNamespaces"),C=e("./DOMProperty"),P=e("./DOMPropertyOperations"),R=e("./EventPluginHub"),w=e("./EventPluginRegistry"),S=e("./ReactBrowserEventEmitter"),O=e("./ReactDOMComponentFlags"),k=e("./ReactDOMComponentTree"),E=e("./ReactDOMInput"),I=e("./ReactDOMOption"),D=e("./ReactDOMSelect"),T=e("./ReactDOMTextarea"),H=(e("./ReactInstrumentation"),e("./ReactMultiChild")),L=e("./ReactServerRenderingTransaction"),F=(e("fbjs/lib/emptyFunction"),e("./escapeTextContentForBrowser")),N=(e("fbjs/lib/invariant"),e("./isEventSupported"),e("fbjs/lib/shallowEqual"),e("./inputValueTracking")),q=(e("./validateDOMNesting"),e("fbjs/lib/warning"),O),x=R.deleteListener,A=k.getNodeFromInstance,j=S.listenTo,W=w.registrationNameModules,B={string:!0,number:!0},V="__html",U={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null},z=11,Z={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},$={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},G={listing:!0,pre:!0,textarea:!0},J=y({menuitem:!0},$),K=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Q={},X={}.hasOwnProperty,Y=1;g.displayName="ReactDOMComponent",g.Mixin={mountComponent:function(e,t,r,n){this._rootNodeID=Y++,this._domID=r._idCounter++,this._hostParent=t,this._hostContainerInfo=r;var s=this._currentElement.props;switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":this._wrapperState={listeners:null},e.getReactMountReady().enqueue(h,this);break;case"input":E.mountWrapper(this,s,t),s=E.getHostProps(this,s),e.getReactMountReady().enqueue(p,this),e.getReactMountReady().enqueue(h,this);break;case"option":I.mountWrapper(this,s,t),s=I.getHostProps(this,s);break;case"select":D.mountWrapper(this,s,t),s=D.getHostProps(this,s),e.getReactMountReady().enqueue(h,this);break;case"textarea":T.mountWrapper(this,s,t),s=T.getHostProps(this,s),e.getReactMountReady().enqueue(p,this),e.getReactMountReady().enqueue(h,this)}a(this,s);var i,c;null!=t?(i=t._namespaceURI,c=t._tag):r._tag&&(i=r._namespaceURI,c=r._tag),(null==i||i===M.svg&&"foreignobject"===c)&&(i=M.html),i===M.html&&("svg"===this._tag?i=M.svg:"math"===this._tag&&(i=M.mathml)),this._namespaceURI=i;var d;if(e.useCreateElement){var _,g=r._ownerDocument;if(i===M.html)if("script"===this._tag){var m=g.createElement("div"),y=this._currentElement.type;m.innerHTML="<"+y+"></"+y+">",_=m.removeChild(m.firstChild)}else _=s.is?g.createElement(this._currentElement.type,s.is):g.createElement(this._currentElement.type);else _=g.createElementNS(i,this._currentElement.type);k.precacheNode(this,_),this._flags|=q.hasCachedChildNodes,this._hostParent||P.setAttributeForRoot(_),this._updateDOMProperties(null,s,e);var v=b(_);this._createInitialChildren(e,s,n,v),d=v}else{var C=this._createOpenTagMarkupAndPutListeners(e,s),R=this._createContentMarkup(e,s,n);d=!R&&$[this._tag]?C+"/>":C+">"+R+"</"+this._currentElement.type+">"}switch(this._tag){case"input":e.getReactMountReady().enqueue(o,this),s.autoFocus&&e.getReactMountReady().enqueue(f.focusDOMComponent,this);break;case"textarea":e.getReactMountReady().enqueue(l,this),s.autoFocus&&e.getReactMountReady().enqueue(f.focusDOMComponent,this);break;case"select":case"button":s.autoFocus&&e.getReactMountReady().enqueue(f.focusDOMComponent,this);break;case"option":e.getReactMountReady().enqueue(u,this)}return d},_createOpenTagMarkupAndPutListeners:function(e,t){var r="<"+this._currentElement.type;for(var n in t)if(t.hasOwnProperty(n)){var a=t[n];if(null!=a)if(W.hasOwnProperty(n))a&&s(this,n,a,e);else{"style"===n&&(a&&(a=this._previousStyleCopy=y({},t.style)),a=v.createMarkupForStyles(a,this));var i=null;null!=this._tag&&_(this._tag,t)?U.hasOwnProperty(n)||(i=P.createMarkupForCustomAttribute(n,a)):i=P.createMarkupForProperty(n,a),i&&(r+=" "+i)}}return e.renderToStaticMarkup?r:(this._hostParent||(r+=" "+P.createMarkupForRoot()),r+=" "+P.createMarkupForID(this._domID))},_createContentMarkup:function(e,t,r){var n="",a=t.dangerouslySetInnerHTML;if(null!=a)null!=a.__html&&(n=a.__html);else{var s=B[typeof t.children]?t.children:null,i=null!=s?null:t.children;if(null!=s)n=F(s);else if(null!=i){var o=this.mountChildren(i,e,r);n=o.join("")}}return G[this._tag]&&"\n"===n.charAt(0)?"\n"+n:n},_createInitialChildren:function(e,t,r,n){var a=t.dangerouslySetInnerHTML;if(null!=a)null!=a.__html&&b.queueHTML(n,a.__html);else{var s=B[typeof t.children]?t.children:null,i=null!=s?null:t.children;if(null!=s)""!==s&&b.queueText(n,s);else if(null!=i)for(var o=this.mountChildren(i,e,r),l=0;l<o.length;l++)b.queueChild(n,o[l])}},receiveComponent:function(e,t,r){var n=this._currentElement;this._currentElement=e,this.updateComponent(t,n,e,r)},updateComponent:function(e,t,r,n){var s=t.props,i=this._currentElement.props;switch(this._tag){case"input":s=E.getHostProps(this,s),i=E.getHostProps(this,i);break;case"option":s=I.getHostProps(this,s),i=I.getHostProps(this,i);break;case"select":s=D.getHostProps(this,s),i=D.getHostProps(this,i);break;case"textarea":s=T.getHostProps(this,s),i=T.getHostProps(this,i)}switch(a(this,i),this._updateDOMProperties(s,i,e),this._updateDOMChildren(s,i,e,n),this._tag){case"input":E.updateWrapper(this),N.updateValueIfChanged(this);break;case"textarea":T.updateWrapper(this);break;case"select":e.getReactMountReady().enqueue(c,this)}},_updateDOMProperties:function(e,t,r){var n,a,i;for(n in e)if(!t.hasOwnProperty(n)&&e.hasOwnProperty(n)&&null!=e[n])if("style"===n){var o=this._previousStyleCopy;for(a in o)o.hasOwnProperty(a)&&(i=i||{},i[a]="");this._previousStyleCopy=null}else W.hasOwnProperty(n)?e[n]&&x(this,n):_(this._tag,e)?U.hasOwnProperty(n)||P.deleteValueForAttribute(A(this),n):(C.properties[n]||C.isCustomAttribute(n))&&P.deleteValueForProperty(A(this),n);for(n in t){var l=t[n],u="style"===n?this._previousStyleCopy:null!=e?e[n]:void 0;if(t.hasOwnProperty(n)&&l!==u&&(null!=l||null!=u))if("style"===n)if(l?l=this._previousStyleCopy=y({},l):this._previousStyleCopy=null,u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(i=i||{},i[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(i=i||{},i[a]=l[a])}else i=l;else if(W.hasOwnProperty(n))l?s(this,n,l,r):u&&x(this,n);else if(_(this._tag,t))U.hasOwnProperty(n)||P.setValueForAttribute(A(this),n,l);else if(C.properties[n]||C.isCustomAttribute(n)){var p=A(this);null!=l?P.setValueForProperty(p,n,l):P.deleteValueForProperty(p,n)}}i&&v.setValueForStyles(A(this),i,this)},_updateDOMChildren:function(e,t,r,n){var a=B[typeof e.children]?e.children:null,s=B[typeof t.children]?t.children:null,i=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,o=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,l=null!=a?null:e.children,u=null!=s?null:t.children,p=null!=a||null!=i,h=null!=s||null!=o;null!=l&&null==u?this.updateChildren(null,r,n):p&&!h&&this.updateTextContent(""),null!=s?a!==s&&this.updateTextContent(""+s):null!=o?i!==o&&this.updateMarkup(""+o):null!=u&&this.updateChildren(u,r,n)},getHostNode:function(){return A(this)},unmountComponent:function(e){switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":var t=this._wrapperState.listeners;if(t)for(var r=0;r<t.length;r++)t[r].remove();break;case"input":case"textarea":N.stopTracking(this);break;case"html":case"head":case"body":m("66",this._tag)}this.unmountChildren(e),k.uncacheNode(this),R.deleteAllListeners(this),this._rootNodeID=0,this._domID=0,this._wrapperState=null},getPublicInstance:function(){return A(this)}},y(g.prototype,g.Mixin,H.Mixin),t.exports=g});C.r("node_modules/react-dom/lib/ReactDOMComponentFlags.js",function(e,o,s){"use strict";var t={hasCachedChildNodes:1};o.exports=t});C.r("node_modules/react-dom/lib/ReactDOMComponentTree.js",function(e,o,n){"use strict";function t(e,o){return 1===e.nodeType&&e.getAttribute(_)===String(o)||8===e.nodeType&&e.nodeValue===" react-text: "+o+" "||8===e.nodeType&&e.nodeValue===" react-empty: "+o+" "}function r(e){for(var o;o=e._renderedComponent;)e=o;return e}function a(e,o){var n=r(e);n._hostNode=o,o[p]=n}function d(e){var o=e._hostNode;o&&(delete o[p],e._hostNode=null)}function i(e,o){if(!(e._flags&N.hasCachedChildNodes)){var n=e._renderedChildren,d=o.firstChild;e:for(var i in n)if(n.hasOwnProperty(i)){var s=n[i],c=r(s)._domID;if(0!==c){for(;null!==d;d=d.nextSibling)if(t(d,c)){a(s,d);continue e}h("32",c)}}e._flags|=N.hasCachedChildNodes}}function s(e){if(e[p])return e[p];for(var o=[];!e[p];){if(o.push(e),!e.parentNode)return null;e=e.parentNode}for(var n,t;e&&(t=e[p]);e=o.pop())n=t,o.length&&i(t,e);return n}function c(e){var o=s(e);return null!=o&&o._hostNode===e?o:null}function u(e){if(void 0===e._hostNode&&h("33"),e._hostNode)return e._hostNode;for(var o=[];!e._hostNode;)o.push(e),e._hostParent||h("34"),e=e._hostParent;for(;o.length;e=o.pop())i(e,e._hostNode);return e._hostNode}var h=e("./reactProdInvariant"),l=e("./DOMProperty"),f=e("./ReactDOMComponentFlags"),_=(e("fbjs/lib/invariant"),l.ID_ATTRIBUTE_NAME),N=f,p="__reactInternalInstance$"+Math.random().toString(36).slice(2),v={getClosestInstanceFromNode:s,getInstanceFromNode:c,getNodeFromInstance:u,precacheChildNodes:i,precacheNode:a,uncacheNode:d};o.exports=v});C.r("node_modules/react-dom/lib/ReactDOMContainerInfo.js",function(e,n,o){"use strict";function t(e,n){var o={_topLevelWrapper:e,_idCounter:1,_ownerDocument:n?n.nodeType===a?n:n.ownerDocument:null,_node:n,_tag:n?n.nodeName.toLowerCase():null,_namespaceURI:n?n.namespaceURI:null};return o}var a=(e("./validateDOMNesting"),9);n.exports=t});C.r("node_modules/react-dom/lib/ReactDOMEmptyComponent.js",function(t,e,n){"use strict";var o=t("object-assign"),r=t("./DOMLazyTree"),i=t("./ReactDOMComponentTree"),s=function(t){this._currentElement=null,this._hostNode=null,this._hostParent=null,this._hostContainerInfo=null,this._domID=0};o(s.prototype,{mountComponent:function(t,e,n,o){var s=n._idCounter++;this._domID=s,this._hostParent=e,this._hostContainerInfo=n;var u=" react-empty: "+this._domID+" ";if(t.useCreateElement){var c=n._ownerDocument,a=c.createComment(u);return i.precacheNode(this,a),r(a)}return t.renderToStaticMarkup?"":"\x3c!--"+u+"--\x3e"},receiveComponent:function(){},getHostNode:function(){return i.getNodeFromInstance(this)},unmountComponent:function(){i.uncacheNode(this)}}),e.exports=s});C.r("node_modules/react-dom/lib/ReactDOMFeatureFlags.js",function(e,t,r){"use strict";var s={useCreateElement:!0,useFiber:!1};t.exports=s});C.r("node_modules/react-dom/lib/ReactDOMIDOperations.js",function(e,o,r){"use strict";var s=e("./DOMChildrenOperations"),t=e("./ReactDOMComponentTree"),n={dangerouslyProcessChildrenUpdates:function(e,o){var r=t.getNodeFromInstance(e);s.processUpdates(r,o)}};o.exports=n});C.r("node_modules/react-dom/lib/ReactDOMInput.js",function(e,a,t){"use strict";function l(){this._rootNodeID&&p.updateWrapper(this)}function n(e){return"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}function r(e){var a=this._currentElement.props,t=c.executeOnChange(a,e);s.asap(l,this);var n=a.name;if("radio"===a.type&&null!=n){for(var r=i.getNodeFromInstance(this),o=r;o.parentNode;)o=o.parentNode;for(var d=o.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),p=0;p<d.length;p++){var f=d[p];if(f!==r&&f.form===r.form){var v=i.getInstanceFromNode(f);v||u("90"),s.asap(l,v)}}}return t}var u=e("./reactProdInvariant"),o=e("object-assign"),d=e("./DOMPropertyOperations"),c=e("./LinkedValueUtils"),i=e("./ReactDOMComponentTree"),s=e("./ReactUpdates"),p=(e("fbjs/lib/invariant"),e("fbjs/lib/warning"),{getHostProps:function(e,a){var t=c.getValue(a),l=c.getChecked(a);return o({type:void 0,step:void 0,min:void 0,max:void 0},a,{defaultChecked:void 0,defaultValue:void 0,value:null!=t?t:e._wrapperState.initialValue,checked:null!=l?l:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange})},mountWrapper:function(e,a){var t=a.defaultValue;e._wrapperState={initialChecked:null!=a.checked?a.checked:a.defaultChecked,initialValue:null!=a.value?a.value:t,listeners:null,onChange:r.bind(e),controlled:n(a)}},updateWrapper:function(e){var a=e._currentElement.props,t=a.checked;null!=t&&d.setValueForProperty(i.getNodeFromInstance(e),"checked",t||!1);var l=i.getNodeFromInstance(e),n=c.getValue(a);if(null!=n)if(0===n&&""===l.value)l.value="0";else if("number"===a.type){var r=parseFloat(l.value,10)||0;(n!=r||n==r&&l.value!=n)&&(l.value=""+n)}else l.value!==""+n&&(l.value=""+n);else null==a.value&&null!=a.defaultValue&&l.defaultValue!==""+a.defaultValue&&(l.defaultValue=""+a.defaultValue),null==a.checked&&null!=a.defaultChecked&&(l.defaultChecked=!!a.defaultChecked)},postMountWrapper:function(e){var a=e._currentElement.props,t=i.getNodeFromInstance(e);switch(a.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":t.value="",t.value=t.defaultValue;break;default:t.value=t.value}var l=t.name;""!==l&&(t.name=""),t.defaultChecked=!t.defaultChecked,t.defaultChecked=!t.defaultChecked,""!==l&&(t.name=l)}});a.exports=p});C.r("node_modules/react-dom/lib/ReactDOMInvalidARIAHook.js",function(o,e,n){"use strict";var t=o("./DOMProperty"),r=(o("react/lib/ReactComponentTreeHook"),o("fbjs/lib/warning"),new RegExp("^(aria)-["+t.ATTRIBUTE_NAME_CHAR+"]*$"),{onBeforeMountComponent:function(o,e){},onBeforeUpdateComponent:function(o,e){}});e.exports=r});C.r("node_modules/react-dom/lib/ReactDOMNullInputValuePropHook.js",function(e,o,n){"use strict";function t(e,o){null!=o&&("input"!==o.type&&"textarea"!==o.type&&"select"!==o.type||null==o.props||null!==o.props.value||l||(l=!0))}var l=(e("react/lib/ReactComponentTreeHook"),e("fbjs/lib/warning"),!1),p={onBeforeMountComponent:function(e,o){t(e,o)},onBeforeUpdateComponent:function(e,o){t(e,o)}};o.exports=p});C.r("node_modules/react-dom/lib/ReactDOMOption.js",function(e,t,r){"use strict";function n(e){var t="";return a.Children.forEach(e,function(e){null!=e&&("string"==typeof e||"number"==typeof e?t+=e:c||(c=!0))}),t}var l=e("object-assign"),a=e("react/lib/React"),o=e("./ReactDOMComponentTree"),u=e("./ReactDOMSelect"),c=(e("fbjs/lib/warning"),!1),i={mountWrapper:function(e,t,r){var l=null;if(null!=r){var a=r;"optgroup"===a._tag&&(a=a._hostParent),null!=a&&"select"===a._tag&&(l=u.getSelectValueContext(a))}var o=null;if(null!=l){var c;if(c=null!=t.value?t.value+"":n(t.children),o=!1,Array.isArray(l)){for(var i=0;i<l.length;i++)if(""+l[i]===c){o=!0;break}}else o=""+l===c}e._wrapperState={selected:o}},postMountWrapper:function(e){var t=e._currentElement.props;if(null!=t.value){o.getNodeFromInstance(e).setAttribute("value",t.value)}},getHostProps:function(e,t){var r=l({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(r.selected=e._wrapperState.selected);var a=n(t.children);return a&&(r.children=a),r}};t.exports=i});C.r("node_modules/react-dom/lib/ReactDOMSelect.js",function(e,t,a){"use strict";function l(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=p.getValue(e);null!=t&&n(this,Boolean(e.multiple),t)}}function n(e,t,a){var l,n,r=o.getNodeFromInstance(e).options;if(t){for(l={},n=0;n<a.length;n++)l[""+a[n]]=!0;for(n=0;n<r.length;n++){var i=l.hasOwnProperty(r[n].value);r[n].selected!==i&&(r[n].selected=i)}}else{for(l=""+a,n=0;n<r.length;n++)if(r[n].value===l)return void(r[n].selected=!0);r.length&&(r[0].selected=!0)}}function r(e){var t=this._currentElement.props,a=p.executeOnChange(t,e);return this._rootNodeID&&(this._wrapperState.pendingUpdate=!0),u.asap(l,this),a}var i=e("object-assign"),p=e("./LinkedValueUtils"),o=e("./ReactDOMComponentTree"),u=e("./ReactUpdates"),s=(e("fbjs/lib/warning"),!1),d={getHostProps:function(e,t){return i({},t,{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){var a=p.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=a?a:t.defaultValue,listeners:null,onChange:r.bind(e),wasMultiple:Boolean(t.multiple)},void 0===t.value||void 0===t.defaultValue||s||(s=!0)},getSelectValueContext:function(e){return e._wrapperState.initialValue},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var a=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var l=p.getValue(t);null!=l?(e._wrapperState.pendingUpdate=!1,n(e,Boolean(t.multiple),l)):a!==Boolean(t.multiple)&&(null!=t.defaultValue?n(e,Boolean(t.multiple),t.defaultValue):n(e,Boolean(t.multiple),t.multiple?[]:""))}};t.exports=d});C.r("node_modules/react-dom/lib/ReactDOMSelection.js",function(e,t,n){"use strict";function o(e,t,n,o){return e===n&&t===o}function r(e){var t=document.selection,n=t.createRange(),o=n.text.length,r=n.duplicate();r.moveToElementText(e),r.setEndPoint("EndToStart",n);var a=r.text.length;return{start:a,end:a+o}}function a(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,r=t.anchorOffset,a=t.focusNode,s=t.focusOffset,d=t.getRangeAt(0);try{d.startContainer.nodeType,d.endContainer.nodeType}catch(e){return null}var c=o(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),i=c?0:d.toString().length,f=d.cloneRange();f.selectNodeContents(e),f.setEnd(d.startContainer,d.startOffset);var l=o(f.startContainer,f.startOffset,f.endContainer,f.endOffset),u=l?0:f.toString().length,g=u+i,v=document.createRange();v.setStart(n,r),v.setEnd(a,s);var m=v.collapsed;return{start:m?g:u,end:m?u:g}}function s(e,t){var n,o,r=document.selection.createRange().duplicate();void 0===t.end?(n=t.start,o=n):t.start>t.end?(n=t.end,o=t.start):(n=t.start,o=t.end),r.moveToElementText(e),r.moveStart("character",n),r.setEndPoint("EndToStart",r),r.moveEnd("character",o-n),r.select()}function d(e,t){if(window.getSelection){var n=window.getSelection(),o=e[f()].length,r=Math.min(t.start,o),a=void 0===t.end?r:Math.min(t.end,o);if(!n.extend&&r>a){var s=a;a=r,r=s}var d=i(e,r),c=i(e,a);if(d&&c){var l=document.createRange();l.setStart(d.node,d.offset),n.removeAllRanges(),r>a?(n.addRange(l),n.extend(c.node,c.offset)):(l.setEnd(c.node,c.offset),n.addRange(l))}}}var c=e("fbjs/lib/ExecutionEnvironment"),i=e("./getNodeForCharacterOffset"),f=e("./getTextContentAccessor"),l=c.canUseDOM&&"selection"in document&&!("getSelection"in window),u={getOffsets:l?r:a,setOffsets:l?s:d};t.exports=u});C.r("node_modules/react-dom/lib/ReactDOMTextComponent.js",function(t,e,n){"use strict";var o=t("./reactProdInvariant"),i=t("object-assign"),r=t("./DOMChildrenOperations"),s=t("./DOMLazyTree"),c=t("./ReactDOMComponentTree"),m=t("./escapeTextContentForBrowser"),a=(t("fbjs/lib/invariant"),t("./validateDOMNesting"),function(t){this._currentElement=t,this._stringText=""+t,this._hostNode=null,this._hostParent=null,this._domID=0,this._mountIndex=0,this._closingComment=null,this._commentNodes=null});i(a.prototype,{mountComponent:function(t,e,n,o){var i=n._idCounter++,r=" react-text: "+i+" ";if(this._domID=i,this._hostParent=e,t.useCreateElement){var a=n._ownerDocument,h=a.createComment(r),u=a.createComment(" /react-text "),l=s(a.createDocumentFragment());return s.queueChild(l,s(h)),this._stringText&&s.queueChild(l,s(a.createTextNode(this._stringText))),s.queueChild(l,s(u)),c.precacheNode(this,h),this._closingComment=u,l}var d=m(this._stringText);return t.renderToStaticMarkup?d:"\x3c!--"+r+"--\x3e"+d+"\x3c!-- /react-text --\x3e"},receiveComponent:function(t,e){if(t!==this._currentElement){this._currentElement=t;var n=""+t;if(n!==this._stringText){this._stringText=n;var o=this.getHostNode();r.replaceDelimitedText(o[0],o[1],n)}}},getHostNode:function(){var t=this._commentNodes;if(t)return t;if(!this._closingComment)for(var e=c.getNodeFromInstance(this),n=e.nextSibling;;){if(null==n&&o("67",this._domID),8===n.nodeType&&" /react-text "===n.nodeValue){this._closingComment=n;break}n=n.nextSibling}return t=[this._hostNode,this._closingComment],this._commentNodes=t,t},unmountComponent:function(){this._closingComment=null,this._commentNodes=null,c.uncacheNode(this)}}),e.exports=a});C.r("node_modules/react-dom/lib/ReactDOMTextarea.js",function(e,a,t){"use strict";function n(){this._rootNodeID&&s.updateWrapper(this)}function l(e){var a=this._currentElement.props,t=i.executeOnChange(a,e);return p.asap(n,this),t}var r=e("./reactProdInvariant"),u=e("object-assign"),i=e("./LinkedValueUtils"),o=e("./ReactDOMComponentTree"),p=e("./ReactUpdates"),s=(e("fbjs/lib/invariant"),e("fbjs/lib/warning"),{getHostProps:function(e,a){return null!=a.dangerouslySetInnerHTML&&r("91"),u({},a,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue,onChange:e._wrapperState.onChange})},mountWrapper:function(e,a){var t=i.getValue(a),n=t;if(null==t){var u=a.defaultValue,o=a.children;null!=o&&(null!=u&&r("92"),Array.isArray(o)&&(o.length<=1||r("93"),o=o[0]),u=""+o),null==u&&(u=""),n=u}e._wrapperState={initialValue:""+n,listeners:null,onChange:l.bind(e)}},updateWrapper:function(e){var a=e._currentElement.props,t=o.getNodeFromInstance(e),n=i.getValue(a);if(null!=n){var l=""+n;l!==t.value&&(t.value=l),null==a.defaultValue&&(t.defaultValue=l)}null!=a.defaultValue&&(t.defaultValue=a.defaultValue)},postMountWrapper:function(e){var a=o.getNodeFromInstance(e),t=a.textContent;t===e._wrapperState.initialValue&&(a.value=t)}});a.exports=s});C.r("node_modules/react-dom/lib/ReactDOMTreeTraversal.js",function(r,t,e){"use strict";function n(r,t){"_hostNode"in r||f("33"),"_hostNode"in t||f("33");for(var e=0,n=r;n;n=n._hostParent)e++;for(var o=0,a=t;a;a=a._hostParent)o++;for(;e-o>0;)r=r._hostParent,e--;for(;o-e>0;)t=t._hostParent,o--;for(var s=e;s--;){if(r===t)return r;r=r._hostParent,t=t._hostParent}return null}function o(r,t){"_hostNode"in r||f("35"),"_hostNode"in t||f("35");for(;t;){if(t===r)return!0;t=t._hostParent}return!1}function a(r){return"_hostNode"in r||f("36"),r._hostParent}function s(r,t,e){for(var n=[];r;)n.push(r),r=r._hostParent;var o;for(o=n.length;o-- >0;)t(n[o],"captured",e);for(o=0;o<n.length;o++)t(n[o],"bubbled",e)}function h(r,t,e,o,a){for(var s=r&&t?n(r,t):null,h=[];r&&r!==s;)h.push(r),r=r._hostParent;for(var f=[];t&&t!==s;)f.push(t),t=t._hostParent;var u;for(u=0;u<h.length;u++)e(h[u],"bubbled",o);for(u=f.length;u-- >0;)e(f[u],"captured",a)}var f=r("./reactProdInvariant");r("fbjs/lib/invariant");t.exports={isAncestor:o,getLowestCommonAncestor:n,getParentInstance:a,traverseTwoPhase:s,traverseEnterLeave:h}});C.r("node_modules/react-dom/lib/ReactDOMUnknownPropertyHook.js",function(n,o,e){"use strict";function t(n,o){null!=o&&"string"==typeof o.type&&(o.type.indexOf("-")>=0||o.props.is||i(n,o))}var r,i=(n("./DOMProperty"),n("./EventPluginRegistry"),n("react/lib/ReactComponentTreeHook"),n("fbjs/lib/warning"),function(n,o){var e=[];for(var t in o.props){r(o.type,t,n)||e.push(t)}e.map(function(n){return"`"+n+"`"}).join(", ");1===e.length||e.length}),p={onBeforeMountComponent:function(n,o){t(n,o)},onBeforeUpdateComponent:function(n,o){t(n,o)}};o.exports=p});C.r("node_modules/react-dom/lib/ReactDebugTool.js",function(n,e,o){"use strict";function t(n,e,o,t,r,i,u,a){try{e.call(o,t,r,i,u,a)}catch(e){k[n]=!0}}function r(n,e,o,r,i,u){for(var a=0;a<H.length;a++){var f=H[a],c=f[n];c&&t(n,c,f,e,o,r,i,u)}}function i(){v.purgeUnmountedComponents(),h.clearHistory()}function u(n){return n.reduce(function(n,e){var o=v.getOwnerID(e),t=v.getParentID(e);return n[e]={displayName:v.getDisplayName(e),text:v.getText(e),updateCount:v.getUpdateCount(e),childIDs:v.getChildIDs(e),ownerID:o||t&&v.getOwnerID(t)||0,parentID:t},n},{})}function a(){var n=U,e=E,o=h.getHistory();if(0===B)return U=0,E=[],void i();if(e.length||o.length){var t=v.getRegisteredIDs();b.push({duration:D()-n,measurements:e||[],operations:o||[],treeSnapshot:u(t)})}i(),U=D(),E=[]}function f(n){arguments.length>1&&void 0!==arguments[1]&&arguments[1]}function c(n,e){0!==B&&(w&&!x&&(x=!0),M=D(),P=0,S=n,w=e)}function s(n,e){0!==B&&(w===e||x||(x=!0),T&&E.push({timerType:e,instanceID:n,duration:D()-M-P}),M=0,P=0,S=null,w=null)}function l(){var n={startTime:M,nestedFlushStartTime:D(),debugID:S,timerType:w};I.push(n),M=0,P=0,S=null,w=null}function p(){var n=I.pop(),e=n.startTime,o=n.nestedFlushStartTime,t=n.debugID,r=n.timerType,i=D()-o;M=e,P+=i,S=t,w=r}function m(n){if(!T||!O)return!1;var e=v.getElement(n);return null!=e&&"object"==typeof e&&!("string"==typeof e.type)}function d(n,e){if(m(n)){var o=n+"::"+e;F=D(),performance.mark(o)}}function g(n,e){if(m(n)){var o=n+"::"+e,t=v.getDisplayName(n)||"Unknown";if(D()-F>.1){var r=t+" ["+e+"]";performance.measure(r,o)}performance.clearMarks(o),r&&performance.clearMeasures(r)}}var C=n("./ReactInvalidSetStateWarningHook"),h=n("./ReactHostOperationHistoryHook"),v=n("react/lib/ReactComponentTreeHook"),y=n("fbjs/lib/ExecutionEnvironment"),D=n("fbjs/lib/performanceNow"),H=(n("fbjs/lib/warning"),[]),k={},T=!1,b=[],I=[],B=0,E=[],U=0,S=null,M=0,P=0,w=null,x=!1,F=0,O="undefined"!=typeof performance&&"function"==typeof performance.mark&&"function"==typeof performance.clearMarks&&"function"==typeof performance.measure&&"function"==typeof performance.clearMeasures,j={addHook:function(n){H.push(n)},removeHook:function(n){for(var e=0;e<H.length;e++)H[e]===n&&(H.splice(e,1),e--)},isProfiling:function(){return T},beginProfiling:function(){T||(T=!0,b.length=0,a(),j.addHook(h))},endProfiling:function(){T&&(T=!1,a(),j.removeHook(h))},getFlushHistory:function(){return b},onBeginFlush:function(){B++,a(),l(),r("onBeginFlush")},onEndFlush:function(){a(),B--,p(),r("onEndFlush")},onBeginLifeCycleTimer:function(n,e){f(n),r("onBeginLifeCycleTimer",n,e),d(n,e),c(n,e)},onEndLifeCycleTimer:function(n,e){f(n),s(n,e),g(n,e),r("onEndLifeCycleTimer",n,e)},onBeginProcessingChildContext:function(){r("onBeginProcessingChildContext")},onEndProcessingChildContext:function(){r("onEndProcessingChildContext")},onHostOperation:function(n){f(n.instanceID),r("onHostOperation",n)},onSetState:function(){r("onSetState")},onSetChildren:function(n,e){f(n),e.forEach(f),r("onSetChildren",n,e)},onBeforeMountComponent:function(n,e,o){f(n),f(o,!0),r("onBeforeMountComponent",n,e,o),d(n,"mount")},onMountComponent:function(n){f(n),g(n,"mount"),r("onMountComponent",n)},onBeforeUpdateComponent:function(n,e){f(n),r("onBeforeUpdateComponent",n,e),d(n,"update")},onUpdateComponent:function(n){f(n),g(n,"update"),r("onUpdateComponent",n)},onBeforeUnmountComponent:function(n){f(n),r("onBeforeUnmountComponent",n),d(n,"unmount")},onUnmountComponent:function(n){f(n),g(n,"unmount"),r("onUnmountComponent",n)},onTestEvent:function(){r("onTestEvent")}};j.addDevtool=j.addHook,j.removeDevtool=j.removeHook,j.addHook(C),j.addHook(v),/[?&]react_perf\b/.test(y.canUseDOM&&window.location.href||"")&&j.beginProfiling(),e.exports=j});C.r("node_modules/react-dom/lib/ReactDefaultBatchingStrategy.js",function(t,i,a){"use strict";function e(){this.reinitializeTransaction()}var n=t("object-assign"),s=t("./ReactUpdates"),c=t("./Transaction"),r=t("fbjs/lib/emptyFunction"),o={initialize:r,close:function(){l.isBatchingUpdates=!1}},p={initialize:r,close:s.flushBatchedUpdates.bind(s)},d=[p,o];n(e.prototype,c,{getTransactionWrappers:function(){return d}});var u=new e,l={isBatchingUpdates:!1,batchedUpdates:function(t,i,a,e,n,s){var c=l.isBatchingUpdates;return l.isBatchingUpdates=!0,c?t(i,a,e,n,s):u.perform(t,null,i,a,e,n,s)}};i.exports=l});C.r("node_modules/react-dom/lib/ReactDefaultInjection.js",function(e,n,t){"use strict";function o(){R||(R=!0,j.EventEmitter.injectReactEventListener(s),j.EventPluginHub.injectEventPluginOrder(a),j.EventPluginUtils.injectComponentTree(E),j.EventPluginUtils.injectTreeTraversal(P),j.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:M,EnterLeaveEventPlugin:l,ChangeEventPlugin:c,SelectEventPlugin:O,BeforeInputEventPlugin:r}),j.HostComponent.injectGenericComponentClass(g),j.HostComponent.injectTextComponentClass(m),j.DOMProperty.injectDOMPropertyConfig(i),j.DOMProperty.injectDOMPropertyConfig(p),j.DOMProperty.injectDOMPropertyConfig(y),j.EmptyComponent.injectEmptyComponentFactory(function(e){return new v(e)}),j.Updates.injectReconcileTransaction(D),j.Updates.injectBatchingStrategy(C),j.Component.injectEnvironment(u))}var i=e("./ARIADOMPropertyConfig"),r=e("./BeforeInputEventPlugin"),c=e("./ChangeEventPlugin"),a=e("./DefaultEventPluginOrder"),l=e("./EnterLeaveEventPlugin"),p=e("./HTMLDOMPropertyConfig"),u=e("./ReactComponentBrowserEnvironment"),g=e("./ReactDOMComponent"),E=e("./ReactDOMComponentTree"),v=e("./ReactDOMEmptyComponent"),P=e("./ReactDOMTreeTraversal"),m=e("./ReactDOMTextComponent"),C=e("./ReactDefaultBatchingStrategy"),s=e("./ReactEventListener"),j=e("./ReactInjection"),D=e("./ReactReconcileTransaction"),y=e("./SVGDOMPropertyConfig"),O=e("./SelectEventPlugin"),M=e("./SimpleEventPlugin"),R=!1;n.exports={inject:o}});C.r("node_modules/react-dom/lib/ReactElementSymbol.js",function(e,o,t){"use strict";var l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;o.exports=l});C.r("node_modules/react-dom/lib/ReactEmptyComponent.js",function(t,n,e){"use strict";var o,c={injectEmptyComponentFactory:function(t){o=t}},r={create:function(t){return o(t)}};r.injection=c,n.exports=r});C.r("node_modules/react-dom/lib/ReactErrorUtils.js",function(r,t,a){"use strict";function l(r,t,a){try{t(a)}catch(r){null===o&&(o=r)}}var o=null,n={invokeGuardedCallback:l,invokeGuardedCallbackWithCatch:l,rethrowCaughtError:function(){if(o){var r=o;throw o=null,r}}};t.exports=n});C.r("node_modules/react-dom/lib/ReactEventEmitterMixin.js",function(e,t,n){"use strict";function u(e){i.enqueueEvents(e),i.processEventQueue(!1)}var i=e("./EventPluginHub"),o={handleTopLevel:function(e,t,n,o){u(i.extractEvents(e,t,n,o))}};t.exports=o});C.r("node_modules/react-dom/lib/ReactEventListener.js",function(e,n,t){"use strict";function o(e){for(;e._hostParent;)e=e._hostParent;var n=u.getNodeFromInstance(e),t=n.parentNode;return u.getClosestInstanceFromNode(t)}function l(e,n){this.topLevelType=e,this.nativeEvent=n,this.ancestors=[]}function a(e){var n=p(e.nativeEvent),t=u.getClosestInstanceFromNode(n),l=t;do{e.ancestors.push(l),l=l&&o(l)}while(l);for(var a=0;a<e.ancestors.length;a++)t=e.ancestors[a],f._handleTopLevel(e.topLevelType,t,e.nativeEvent,p(e.nativeEvent))}function s(e){e(b(window))}var i=e("object-assign"),r=e("fbjs/lib/EventListener"),d=e("fbjs/lib/ExecutionEnvironment"),c=e("./PooledClass"),u=e("./ReactDOMComponentTree"),v=e("./ReactUpdates"),p=e("./getEventTarget"),b=e("fbjs/lib/getUnboundedScrollPosition");i(l.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),c.addPoolingTo(l,c.twoArgumentPooler);var f={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:d.canUseDOM?window:null,setHandleTopLevel:function(e){f._handleTopLevel=e},setEnabled:function(e){f._enabled=!!e},isEnabled:function(){return f._enabled},trapBubbledEvent:function(e,n,t){return t?r.listen(t,n,f.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,n,t){return t?r.capture(t,n,f.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var n=s.bind(null,e);r.listen(window,"scroll",n)},dispatchEvent:function(e,n){if(f._enabled){var t=l.getPooled(e,n);try{v.batchedUpdates(a,t)}finally{l.release(t)}}}};n.exports=f});C.r("node_modules/react-dom/lib/ReactFeatureFlags.js",function(e,o,r){"use strict";var s={logTopLevelRenders:!1};o.exports=s});C.r("node_modules/react-dom/lib/ReactHostComponent.js",function(n,t,e){"use strict";function o(n){return a||c("111",n.type),new a(n)}function r(n){return new s(n)}function i(n){return n instanceof s}var c=n("./reactProdInvariant"),a=(n("fbjs/lib/invariant"),null),s=null,u={injectGenericComponentClass:function(n){a=n},injectTextComponentClass:function(n){s=n}},l={createInternalComponent:o,createInstanceForText:r,isTextComponent:i,injection:u};t.exports=l});C.r("node_modules/react-dom/lib/ReactHostOperationHistoryHook.js",function(t,o,n){"use strict";var r=[],e={onHostOperation:function(t){r.push(t)},clearHistory:function(){e._preventClearing||(r=[])},getHistory:function(){return r}};o.exports=e});C.r("node_modules/react-dom/lib/ReactInjection.js",function(t,n,e){"use strict";var o=t("./DOMProperty"),i=t("./EventPluginHub"),c=t("./EventPluginUtils"),r=t("./ReactComponentEnvironment"),m=t("./ReactEmptyComponent"),p=t("./ReactBrowserEventEmitter"),s=t("./ReactHostComponent"),E=t("./ReactUpdates"),a={Component:r.injection,DOMProperty:o.injection,EmptyComponent:m.injection,EventPluginHub:i.injection,EventPluginUtils:c.injection,EventEmitter:p.injection,HostComponent:s.injection,Updates:E.injection};n.exports=a});C.r("node_modules/react-dom/lib/ReactInputSelection.js",function(e,t,n){"use strict";function o(e){return i(document.documentElement,e)}var a=e("./ReactDOMSelection"),i=e("fbjs/lib/containsNode"),c=e("fbjs/lib/focusNode"),l=e("fbjs/lib/getActiveElement"),s={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=l();return{focusedElem:e,selectionRange:s.hasSelectionCapabilities(e)?s.getSelection(e):null}},restoreSelection:function(e){var t=l(),n=e.focusedElem,a=e.selectionRange;t!==n&&o(n)&&(s.hasSelectionCapabilities(n)&&s.setSelection(n,a),c(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=a.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,o=t.end;if(void 0===o&&(o=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(o,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var i=e.createTextRange();i.collapse(!0),i.moveStart("character",n),i.moveEnd("character",o-n),i.select()}else a.setOffsets(e,t)}};t.exports=s});C.r("node_modules/react-dom/lib/ReactInstanceMap.js",function(n,t,e){"use strict";var a={remove:function(n){n._reactInternalInstance=void 0},get:function(n){return n._reactInternalInstance},has:function(n){return void 0!==n._reactInternalInstance},set:function(n,t){n._reactInternalInstance=t}};t.exports=a});C.r("node_modules/react-dom/lib/ReactInstrumentation.js",function(t,e,o){"use strict";var n=null;e.exports={debugTool:n}});C.r("node_modules/react-dom/lib/ReactInvalidSetStateWarningHook.js",function(n,t,o){"use strict";var e,i,s=(n("fbjs/lib/warning"),{onBeginProcessingChildContext:function(){e=!0},onEndProcessingChildContext:function(){e=!1},onSetState:function(){i()}});t.exports=s});C.r("node_modules/react-dom/lib/ReactMarkupChecksum.js",function(e,r,t){"use strict";var a=e("./adler32"),u=/\/?>/,c=/^<\!\-\-/,n={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var r=a(e);return c.test(e)?e:e.replace(u," "+n.CHECKSUM_ATTR_NAME+'="'+r+'"$&')},canReuseMarkup:function(e,r){var t=r.getAttribute(n.CHECKSUM_ATTR_NAME);return t=t&&parseInt(t,10),a(e)===t}};r.exports=n});C.r("node_modules/react-dom/lib/ReactMount.js",function(e,t,n){"use strict";function r(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length===t.length?-1:n}function o(e){return e?e.nodeType===S?e.documentElement:e.firstChild:null}function a(e){return e.getAttribute&&e.getAttribute(U)||""}function i(e,t,n,r,o){var a;if(b.logTopLevelRenders){var i=e._currentElement.props.child,c=i.type;a="React mount: "+("string"==typeof c?c:c.displayName||c.name),console.time(a)}var u=E.mountComponent(e,n,null,h(e,t),o,0);a&&console.timeEnd(a),e._renderedComponent._topLevelWrapper=e,B._mountImageIntoNode(u,t,e,r,n)}function c(e,t,n,r){var o=y.ReactReconcileTransaction.getPooled(!n&&T.useCreateElement);o.perform(i,null,e,t,o,n,r),y.ReactReconcileTransaction.release(o)}function u(e,t,n){for(E.unmountComponent(e,n),t.nodeType===S&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function l(e){var t=o(e);if(t){var n=_.getInstanceFromNode(t);return!(!n||!n._hostParent)}}function s(e){return!(!e||e.nodeType!==L&&e.nodeType!==S&&e.nodeType!==k)}function d(e){var t=o(e),n=t&&_.getInstanceFromNode(t);return n&&!n._hostParent?n:null}function p(e){var t=d(e);return t?t._hostContainerInfo._topLevelWrapper:null}var m=e("./reactProdInvariant"),f=e("./DOMLazyTree"),C=e("./DOMProperty"),v=e("react/lib/React"),R=e("./ReactBrowserEventEmitter"),_=(e("react/lib/ReactCurrentOwner"),e("./ReactDOMComponentTree")),h=e("./ReactDOMContainerInfo"),T=e("./ReactDOMFeatureFlags"),b=e("./ReactFeatureFlags"),I=e("./ReactInstanceMap"),g=(e("./ReactInstrumentation"),e("./ReactMarkupChecksum")),E=e("./ReactReconciler"),M=e("./ReactUpdateQueue"),y=e("./ReactUpdates"),A=e("fbjs/lib/emptyObject"),N=e("./instantiateReactComponent"),D=(e("fbjs/lib/invariant"),e("./setInnerHTML")),O=e("./shouldUpdateReactComponent"),U=(e("fbjs/lib/warning"),C.ID_ATTRIBUTE_NAME),F=C.ROOT_ATTRIBUTE_NAME,L=1,S=9,k=11,P={},w=1,j=function(){this.rootID=w++};j.prototype.isReactComponent={},j.prototype.render=function(){return this.props.child},j.isReactTopLevelWrapper=!0;var B={TopLevelWrapper:j,_instancesByReactRootID:P,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,r,o){return B.scrollMonitor(r,function(){M.enqueueElementInternal(e,t,n),o&&M.enqueueCallbackInternal(e,o)}),e},_renderNewRootComponent:function(e,t,n,r){s(t)||m("37"),R.ensureScrollValueMonitoring();var o=N(e,!1);y.batchedUpdates(c,o,t,n,r);var a=o._instance.rootID;return P[a]=o,o},renderSubtreeIntoContainer:function(e,t,n,r){return null!=e&&I.has(e)||m("38"),B._renderSubtreeIntoContainer(e,t,n,r)},_renderSubtreeIntoContainer:function(e,t,n,r){M.validateCallback(r,"ReactDOM.render"),v.isValidElement(t)||m("39","string"==typeof t?" Instead of passing a string like 'div', pass React.createElement('div') or <div />.":"function"==typeof t?" Instead of passing a class like Foo, pass React.createElement(Foo) or <Foo />.":null!=t&&void 0!==t.props?" This may be caused by unintentionally loading two independent copies of React.":"");var i,c=v.createElement(j,{child:t});if(e){var u=I.get(e);i=u._processChildContext(u._context)}else i=A;var s=p(n);if(s){var d=s._currentElement,f=d.props.child;if(O(f,t)){var C=s._renderedComponent.getPublicInstance(),R=r&&function(){r.call(C)};return B._updateRootComponent(s,c,i,n,R),C}B.unmountComponentAtNode(n)}var _=o(n),h=_&&!!a(_),T=l(n),b=h&&!s&&!T,g=B._renderNewRootComponent(c,n,b,i)._renderedComponent.getPublicInstance();return r&&r.call(g),g},render:function(e,t,n){return B._renderSubtreeIntoContainer(null,e,t,n)},unmountComponentAtNode:function(e){s(e)||m("40");var t=p(e);if(!t){l(e),1===e.nodeType&&e.hasAttribute(F);return!1}return delete P[t._instance.rootID],y.batchedUpdates(u,t,e,!1),!0},_mountImageIntoNode:function(e,t,n,a,i){if(s(t)||m("41"),a){var c=o(t);if(g.canReuseMarkup(e,c))return void _.precacheNode(n,c);var u=c.getAttribute(g.CHECKSUM_ATTR_NAME);c.removeAttribute(g.CHECKSUM_ATTR_NAME);var l=c.outerHTML;c.setAttribute(g.CHECKSUM_ATTR_NAME,u);var d=e,p=r(d,l),C=" (client) "+d.substring(p-20,p+20)+"\n (server) "+l.substring(p-20,p+20);t.nodeType===S&&m("42",C)}if(t.nodeType===S&&m("43"),i.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);f.insertTreeBefore(t,e,null)}else D(t,e),_.precacheNode(n,t.firstChild)}};t.exports=B});C.r("node_modules/react-dom/lib/ReactMultiChild.js",function(n,e,t){"use strict";function r(n,e,t){return{type:"INSERT_MARKUP",content:n,fromIndex:null,fromNode:null,toIndex:t,afterNode:e}}function o(n,e,t){return{type:"MOVE_EXISTING",content:null,fromIndex:n._mountIndex,fromNode:f.getHostNode(n),toIndex:t,afterNode:e}}function i(n,e){return{type:"REMOVE_NODE",content:null,fromIndex:n._mountIndex,fromNode:e,toIndex:null,afterNode:null}}function d(n){return{type:"SET_MARKUP",content:n,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function u(n){return{type:"TEXT_CONTENT",content:n,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function l(n,e){return e&&(n=n||[],n.push(e)),n}function h(n,e){c.processChildrenUpdates(n,e)}var a=n("./reactProdInvariant"),c=n("./ReactComponentEnvironment"),f=(n("./ReactInstanceMap"),n("./ReactInstrumentation"),n("react/lib/ReactCurrentOwner"),n("./ReactReconciler")),s=n("./ReactChildReconciler"),m=(n("fbjs/lib/emptyFunction"),n("./flattenChildren")),C=(n("fbjs/lib/invariant"),{Mixin:{_reconcilerInstantiateChildren:function(n,e,t){return s.instantiateChildren(n,e,t)},_reconcilerUpdateChildren:function(n,e,t,r,o,i){var d,u=0;return d=m(e,u),s.updateChildren(n,d,t,r,o,this,this._hostContainerInfo,i,u),d},mountChildren:function(n,e,t){var r=this._reconcilerInstantiateChildren(n,e,t);this._renderedChildren=r;var o=[],i=0;for(var d in r)if(r.hasOwnProperty(d)){var u=r[d],l=0,h=f.mountComponent(u,e,this,this._hostContainerInfo,t,l);u._mountIndex=i++,o.push(h)}return o},updateTextContent:function(n){var e=this._renderedChildren;s.unmountChildren(e,!1);for(var t in e)e.hasOwnProperty(t)&&a("118");h(this,[u(n)])},updateMarkup:function(n){var e=this._renderedChildren;s.unmountChildren(e,!1);for(var t in e)e.hasOwnProperty(t)&&a("118");h(this,[d(n)])},updateChildren:function(n,e,t){this._updateChildren(n,e,t)},_updateChildren:function(n,e,t){var r=this._renderedChildren,o={},i=[],d=this._reconcilerUpdateChildren(r,n,i,o,e,t);if(d||r){var u,a=null,c=0,s=0,m=0,C=null;for(u in d)if(d.hasOwnProperty(u)){var _=r&&r[u],I=d[u];_===I?(a=l(a,this.moveChild(_,C,c,s)),s=Math.max(_._mountIndex,s),_._mountIndex=c):(_&&(s=Math.max(_._mountIndex,s)),a=l(a,this._mountChildAtIndex(I,i[m],C,c,e,t)),m++),c++,C=f.getHostNode(I)}for(u in o)o.hasOwnProperty(u)&&(a=l(a,this._unmountChild(r[u],o[u])));a&&h(this,a),this._renderedChildren=d}},unmountChildren:function(n){var e=this._renderedChildren;s.unmountChildren(e,n),this._renderedChildren=null},moveChild:function(n,e,t,r){if(n._mountIndex<r)return o(n,e,t)},createChild:function(n,e,t){return r(t,e,n._mountIndex)},removeChild:function(n,e){return i(n,e)},_mountChildAtIndex:function(n,e,t,r,o,i){return n._mountIndex=r,this.createChild(n,t,e)},_unmountChild:function(n,e){var t=this.removeChild(n,e);return n._mountIndex=null,t}}});e.exports=C});C.r("node_modules/react-dom/lib/ReactNodeTypes.js",function(e,t,n){"use strict";var i=e("./reactProdInvariant"),r=e("react/lib/React"),a=(e("fbjs/lib/invariant"),{HOST:0,COMPOSITE:1,EMPTY:2,getType:function(e){return null===e||!1===e?a.EMPTY:r.isValidElement(e)?"function"==typeof e.type?a.COMPOSITE:a.HOST:void i("26",e)}});t.exports=a});C.r("node_modules/react-dom/lib/ReactOwner.js",function(t,e,n){"use strict";function o(t){return!(!t||"function"!=typeof t.attachRef||"function"!=typeof t.detachRef)}var a=t("./reactProdInvariant"),c=(t("fbjs/lib/invariant"),{addComponentAsRefTo:function(t,e,n){o(n)||a("119"),n.attachRef(e,t)},removeComponentAsRefFrom:function(t,e,n){o(n)||a("120");var c=n.getPublicInstance();c&&c.refs[e]===t.getPublicInstance()&&n.detachRef(e)}});e.exports=c});C.r("node_modules/react-dom/lib/ReactPropTypeLocationNames.js",function(e,o,t){"use strict";var r={};o.exports=r});C.r("node_modules/react-dom/lib/ReactPropTypesSecret.js",function(_,e,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"});C.r("node_modules/react-dom/lib/ReactReconcileTransaction.js",function(t,e,n){"use strict";function i(t){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=a.getPooled(null),this.useCreateElement=t}var o=t("object-assign"),a=t("./CallbackQueue"),c=t("./PooledClass"),r=t("./ReactBrowserEventEmitter"),u=t("./ReactInputSelection"),s=(t("./ReactInstrumentation"),t("./Transaction")),l=t("./ReactUpdateQueue"),d={initialize:u.getSelectionInformation,close:u.restoreSelection},R={initialize:function(){var t=r.isEnabled();return r.setEnabled(!1),t},close:function(t){r.setEnabled(t)}},f={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},h=[d,R,f],p={getTransactionWrappers:function(){return h},getReactMountReady:function(){return this.reactMountReady},getUpdateQueue:function(){return l},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(t){this.reactMountReady.rollback(t)},destructor:function(){a.release(this.reactMountReady),this.reactMountReady=null}};o(i.prototype,s,p),c.addPoolingTo(i),e.exports=i});C.r("node_modules/react-dom/lib/ReactReconciler.js",function(e,t,n){"use strict";function r(){o.attachRefs(this,this._currentElement)}var o=e("./ReactRef"),u=(e("./ReactInstrumentation"),e("fbjs/lib/warning"),{mountComponent:function(e,t,n,o,u,c){var a=e.mountComponent(t,n,o,u,c);return e._currentElement&&null!=e._currentElement.ref&&t.getReactMountReady().enqueue(r,e),a},getHostNode:function(e){return e.getHostNode()},unmountComponent:function(e,t){o.detachRefs(e,e._currentElement),e.unmountComponent(t)},receiveComponent:function(e,t,n,u){var c=e._currentElement;if(t!==c||u!==e._context){var a=o.shouldUpdateRefs(c,t);a&&o.detachRefs(e,c),e.receiveComponent(t,n,u),a&&e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(r,e)}},performUpdateIfNecessary:function(e,t,n){e._updateBatchNumber===n&&e.performUpdateIfNecessary(t)}});t.exports=u});C.r("node_modules/react-dom/lib/ReactRef.js",function(e,n,o){"use strict";function t(e,n,o){"function"==typeof e?e(n.getPublicInstance()):l.addComponentAsRefTo(n,e,o)}function f(e,n,o){"function"==typeof e?e(null):l.removeComponentAsRefFrom(n,e,o)}var l=e("./ReactOwner"),u={};u.attachRefs=function(e,n){if(null!==n&&"object"==typeof n){var o=n.ref;null!=o&&t(o,e,n._owner)}},u.shouldUpdateRefs=function(e,n){var o=null,t=null;null!==e&&"object"==typeof e&&(o=e.ref,t=e._owner);var f=null,l=null;return null!==n&&"object"==typeof n&&(f=n.ref,l=n._owner),o!==f||"string"==typeof f&&l!==t},u.detachRefs=function(e,n){if(null!==n&&"object"==typeof n){var o=n.ref;null!=o&&f(o,e,n._owner)}},n.exports=u});C.r("node_modules/react-dom/lib/ReactServerRenderingTransaction.js",function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.useCreateElement=!1,this.updateQueue=new a(this)}var i=e("object-assign"),o=e("./PooledClass"),u=e("./Transaction"),a=(e("./ReactInstrumentation"),e("./ReactServerUpdateQueue")),c=[],s={enqueue:function(){}},d={getTransactionWrappers:function(){return c},getReactMountReady:function(){return s},getUpdateQueue:function(){return this.updateQueue},destructor:function(){},checkpoint:function(){},rollback:function(){}};i(r.prototype,u,d),o.addPoolingTo(r),t.exports=r});C.r("node_modules/react-dom/lib/ReactServerUpdateQueue.js",function(t,e,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=t("./ReactUpdateQueue"),i=(t("fbjs/lib/warning"),function(){function t(e){a(this,t),this.transaction=e}return t.prototype.isMounted=function(t){return!1},t.prototype.enqueueCallback=function(t,e,n){this.transaction.isInTransaction()&&o.enqueueCallback(t,e,n)},t.prototype.enqueueForceUpdate=function(t){this.transaction.isInTransaction()&&o.enqueueForceUpdate(t)},t.prototype.enqueueReplaceState=function(t,e){this.transaction.isInTransaction()&&o.enqueueReplaceState(t,e)},t.prototype.enqueueSetState=function(t,e){this.transaction.isInTransaction()&&o.enqueueSetState(t,e)},t}());e.exports=i});C.r("node_modules/react-dom/lib/ReactUpdateQueue.js",function(e,n,t){"use strict";function a(e){r.enqueueUpdate(e)}function u(e){var n=typeof e;if("object"!==n)return n;var t=e.constructor&&e.constructor.name||n,a=Object.keys(e);return a.length>0&&a.length<20?t+" (keys: "+a.join(", ")+")":t}function l(e,n){var t=i.get(e);if(!t){return null}return t}var c=e("./reactProdInvariant"),i=(e("react/lib/ReactCurrentOwner"),e("./ReactInstanceMap")),r=(e("./ReactInstrumentation"),e("./ReactUpdates")),o=(e("fbjs/lib/invariant"),e("fbjs/lib/warning"),{isMounted:function(e){var n=i.get(e);return!!n&&!!n._renderedComponent},enqueueCallback:function(e,n,t){o.validateCallback(n,t);var u=l(e);if(!u)return null;u._pendingCallbacks?u._pendingCallbacks.push(n):u._pendingCallbacks=[n],a(u)},enqueueCallbackInternal:function(e,n){e._pendingCallbacks?e._pendingCallbacks.push(n):e._pendingCallbacks=[n],a(e)},enqueueForceUpdate:function(e){var n=l(e,"forceUpdate");n&&(n._pendingForceUpdate=!0,a(n))},enqueueReplaceState:function(e,n,t){var u=l(e,"replaceState");u&&(u._pendingStateQueue=[n],u._pendingReplaceState=!0,void 0!==t&&null!==t&&(o.validateCallback(t,"replaceState"),u._pendingCallbacks?u._pendingCallbacks.push(t):u._pendingCallbacks=[t]),a(u))},enqueueSetState:function(e,n){var t=l(e,"setState");if(t){(t._pendingStateQueue||(t._pendingStateQueue=[])).push(n),a(t)}},enqueueElementInternal:function(e,n,t){e._pendingElement=n,e._context=t,a(e)},validateCallback:function(e,n){e&&"function"!=typeof e&&c("122",n,u(e))}});n.exports=o});C.r("node_modules/react-dom/lib/ReactUpdates.js",function(e,n,t){"use strict";function a(){B.ReactReconcileTransaction&&C||u("123")}function c(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=p.getPooled(),this.reconcileTransaction=B.ReactReconcileTransaction.getPooled(!0)}function i(e,n,t,c,i,o){return a(),C.batchedUpdates(e,n,t,c,i,o)}function o(e,n){return e._mountOrder-n._mountOrder}function r(e){var n=e.dirtyComponentsLength;n!==R.length&&u("124",n,R.length),R.sort(o),T++;for(var t=0;t<n;t++){var a=R[t],c=a._pendingCallbacks;a._pendingCallbacks=null;var i;if(f.logTopLevelRenders){var r=a;a._currentElement.type.isReactTopLevelWrapper&&(r=a._renderedComponent),i="React update: "+r.getName(),console.time(i)}if(g.performUpdateIfNecessary(a,e.reconcileTransaction,T),i&&console.timeEnd(i),c)for(var l=0;l<c.length;l++)e.callbackQueue.enqueue(c[l],a.getPublicInstance())}}function l(e){if(a(),!C.isBatchingUpdates)return void C.batchedUpdates(l,e);R.push(e),null==e._updateBatchNumber&&(e._updateBatchNumber=T+1)}function s(e,n){m(C.isBatchingUpdates,"ReactUpdates.asap: Can't enqueue an asap callback in a context whereupdates are not being batched."),v.enqueue(e,n),y=!0}var u=e("./reactProdInvariant"),d=e("object-assign"),p=e("./CallbackQueue"),h=e("./PooledClass"),f=e("./ReactFeatureFlags"),g=e("./ReactReconciler"),b=e("./Transaction"),m=e("fbjs/lib/invariant"),R=[],T=0,v=p.getPooled(),y=!1,C=null,U={initialize:function(){this.dirtyComponentsLength=R.length},close:function(){this.dirtyComponentsLength!==R.length?(R.splice(0,this.dirtyComponentsLength),_()):R.length=0}},k={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},P=[U,k];d(c.prototype,b,{getTransactionWrappers:function(){return P},destructor:function(){this.dirtyComponentsLength=null,p.release(this.callbackQueue),this.callbackQueue=null,B.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,n,t){return b.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,n,t)}}),h.addPoolingTo(c);var _=function(){for(;R.length||y;){if(R.length){var e=c.getPooled();e.perform(r,null,e),c.release(e)}if(y){y=!1;var n=v;v=p.getPooled(),n.notifyAll(),p.release(n)}}},L={injectReconcileTransaction:function(e){e||u("126"),B.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e||u("127"),"function"!=typeof e.batchedUpdates&&u("128"),"boolean"!=typeof e.isBatchingUpdates&&u("129"),C=e}},B={ReactReconcileTransaction:null,batchedUpdates:i,enqueueUpdate:l,flushBatchedUpdates:_,injection:L,asap:s};n.exports=B});C.r("node_modules/react-dom/lib/ReactVersion.js",function(e,o,s){"use strict";o.exports="15.6.2"});C.r("node_modules/react-dom/lib/SVGDOMPropertyConfig.js",function(e,t,i){"use strict";var n={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},r={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering",in:0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlns:0,xmlnsXlink:"xmlns:xlink",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"},o={Properties:{},DOMAttributeNamespaces:{xlinkActuate:n.xlink,xlinkArcrole:n.xlink,xlinkHref:n.xlink,xlinkRole:n.xlink,xlinkShow:n.xlink,xlinkTitle:n.xlink,xlinkType:n.xlink,xmlBase:n.xml,xmlLang:n.xml,xmlSpace:n.xml},DOMAttributeNames:{}};Object.keys(r).forEach(function(e){o.Properties[e]=0,r[e]&&(o.DOMAttributeNames[e]=r[e])}),t.exports=o});C.r("node_modules/react-dom/lib/SelectEventPlugin.js",function(e,t,n){"use strict";function o(e){if("selectionStart"in e&&s.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function c(e,t){if(v||null==m||m!==i())return null;var n=o(m);if(!h||!d(h,n)){h=n;var c=a.getPooled(b.select,g,e,t);return c.type="select",c.target=m,l.accumulateTwoPhaseDispatches(c),c}return null}var l=e("./EventPropagators"),u=e("fbjs/lib/ExecutionEnvironment"),r=e("./ReactDOMComponentTree"),s=e("./ReactInputSelection"),a=e("./SyntheticEvent"),i=e("fbjs/lib/getActiveElement"),p=e("./isTextInputElement"),d=e("fbjs/lib/shallowEqual"),f=u.canUseDOM&&"documentMode"in document&&document.documentMode<=11,b={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:["topBlur","topContextMenu","topFocus","topKeyDown","topKeyUp","topMouseDown","topMouseUp","topSelectionChange"]}},m=null,g=null,h=null,v=!1,w=!1,E={eventTypes:b,extractEvents:function(e,t,n,o){if(!w)return null;var l=t?r.getNodeFromInstance(t):window;switch(e){case"topFocus":(p(l)||"true"===l.contentEditable)&&(m=l,g=t,h=null);break;case"topBlur":m=null,g=null,h=null;break;case"topMouseDown":v=!0;break;case"topContextMenu":case"topMouseUp":return v=!1,c(n,o);case"topSelectionChange":if(f)break;case"topKeyDown":case"topKeyUp":return c(n,o)}return null},didPutListener:function(e,t,n){"onSelect"===t&&(w=!0)}};t.exports=E});C.r("node_modules/react-dom/lib/SimpleEventPlugin.js",function(e,t,a){"use strict";function o(e){return"."+e._rootNodeID}function n(e){return"button"===e||"input"===e||"select"===e||"textarea"===e}var c=e("./reactProdInvariant"),s=e("fbjs/lib/EventListener"),r=e("./EventPropagators"),p=e("./ReactDOMComponentTree"),i=e("./SyntheticAnimationEvent"),u=e("./SyntheticClipboardEvent"),d=e("./SyntheticEvent"),l=e("./SyntheticFocusEvent"),v=e("./SyntheticKeyboardEvent"),g=e("./SyntheticMouseEvent"),h=e("./SyntheticDragEvent"),E=e("./SyntheticTouchEvent"),y=e("./SyntheticTransitionEvent"),b=e("./SyntheticUIEvent"),m=e("./SyntheticWheelEvent"),S=e("fbjs/lib/emptyFunction"),C=e("./getEventCharCode"),k=(e("fbjs/lib/invariant"),{}),D={};["abort","animationEnd","animationIteration","animationStart","blur","canPlay","canPlayThrough","click","contextMenu","copy","cut","doubleClick","drag","dragEnd","dragEnter","dragExit","dragLeave","dragOver","dragStart","drop","durationChange","emptied","encrypted","ended","error","focus","input","invalid","keyDown","keyPress","keyUp","load","loadedData","loadedMetadata","loadStart","mouseDown","mouseMove","mouseOut","mouseOver","mouseUp","paste","pause","play","playing","progress","rateChange","reset","scroll","seeked","seeking","stalled","submit","suspend","timeUpdate","touchCancel","touchEnd","touchMove","touchStart","transitionEnd","volumeChange","waiting","wheel"].forEach(function(e){var t=e[0].toUpperCase()+e.slice(1),a="on"+t,o="top"+t,n={phasedRegistrationNames:{bubbled:a,captured:a+"Capture"},dependencies:[o]};k[e]=n,D[o]=n});var f={},P={eventTypes:k,extractEvents:function(e,t,a,o){var n=D[e];if(!n)return null;var s;switch(e){case"topAbort":case"topCanPlay":case"topCanPlayThrough":case"topDurationChange":case"topEmptied":case"topEncrypted":case"topEnded":case"topError":case"topInput":case"topInvalid":case"topLoad":case"topLoadedData":case"topLoadedMetadata":case"topLoadStart":case"topPause":case"topPlay":case"topPlaying":case"topProgress":case"topRateChange":case"topReset":case"topSeeked":case"topSeeking":case"topStalled":case"topSubmit":case"topSuspend":case"topTimeUpdate":case"topVolumeChange":case"topWaiting":s=d;break;case"topKeyPress":if(0===C(a))return null;case"topKeyDown":case"topKeyUp":s=v;break;case"topBlur":case"topFocus":s=l;break;case"topClick":if(2===a.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":s=g;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":s=h;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":s=E;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":s=i;break;case"topTransitionEnd":s=y;break;case"topScroll":s=b;break;case"topWheel":s=m;break;case"topCopy":case"topCut":case"topPaste":s=u}s||c("86",e);var p=s.getPooled(n,t,a,o);return r.accumulateTwoPhaseDispatches(p),p},didPutListener:function(e,t,a){if("onClick"===t&&!n(e._tag)){var c=o(e),r=p.getNodeFromInstance(e);f[c]||(f[c]=s.listen(r,"click",S))}},willDeleteListener:function(e,t){if("onClick"===t&&!n(e._tag)){var a=o(e);f[a].remove(),delete f[a]}}};t.exports=P});C.r("node_modules/react-dom/lib/SyntheticAnimationEvent.js",function(n,e,t){"use strict";function l(n,e,t,l){return i.call(this,n,e,t,l)}var i=n("./SyntheticEvent"),a={animationName:null,elapsedTime:null,pseudoElement:null};i.augmentClass(l,a),e.exports=l});C.r("node_modules/react-dom/lib/SyntheticClipboardEvent.js",function(t,a,n){"use strict";function i(t,a,n,i){return r.call(this,t,a,n,i)}var r=t("./SyntheticEvent"),o={clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}};r.augmentClass(i,o),a.exports=i});C.r("node_modules/react-dom/lib/SyntheticCompositionEvent.js",function(t,n,e){"use strict";function i(t,n,e,i){return o.call(this,t,n,e,i)}var o=t("./SyntheticEvent"),s={data:null};o.augmentClass(i,s),n.exports=i});C.r("node_modules/react-dom/lib/SyntheticDragEvent.js",function(t,e,n){"use strict";function r(t,e,n,r){return s.call(this,t,e,n,r)}var s=t("./SyntheticMouseEvent"),a={dataTransfer:null};s.augmentClass(r,a),e.exports=r});C.r("node_modules/react-dom/lib/SyntheticEvent.js",function(t,e,n){"use strict";function r(t,e,n,r){this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n;var a=this.constructor.Interface;for(var s in a)if(a.hasOwnProperty(s)){var i=a[s];i?this[s]=i(n):"target"===s?this.target=r:this[s]=n[s]}var u=null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue;return this.isDefaultPrevented=u?o.thatReturnsTrue:o.thatReturnsFalse,this.isPropagationStopped=o.thatReturnsFalse,this}var a=t("object-assign"),s=t("./PooledClass"),o=t("fbjs/lib/emptyFunction"),i=(t("fbjs/lib/warning"),["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"]),u={type:null,target:null,currentTarget:o.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};a(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=o.thatReturnsTrue)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=o.thatReturnsTrue)},persist:function(){this.isPersistent=o.thatReturnsTrue},isPersistent:o.thatReturnsFalse,destructor:function(){var t=this.constructor.Interface;for(var e in t)this[e]=null;for(var n=0;n<i.length;n++)this[i[n]]=null}}),r.Interface=u,r.augmentClass=function(t,e){var n=this,r=function(){};r.prototype=n.prototype;var o=new r;a(o,t.prototype),t.prototype=o,t.prototype.constructor=t,t.Interface=a({},n.Interface,e),t.augmentClass=n.augmentClass,s.addPoolingTo(t,s.fourArgumentPooler)},s.addPoolingTo(r,s.fourArgumentPooler),e.exports=r});C.r("node_modules/react-dom/lib/SyntheticFocusEvent.js",function(t,e,n){"use strict";function r(t,e,n,r){return s.call(this,t,e,n,r)}var s=t("./SyntheticUIEvent"),c={relatedTarget:null};s.augmentClass(r,c),e.exports=r});C.r("node_modules/react-dom/lib/SyntheticInputEvent.js",function(t,n,e){"use strict";function s(t,n,e,s){return u.call(this,t,n,e,s)}var u=t("./SyntheticEvent"),a={data:null};u.augmentClass(s,a),n.exports=s});C.r("node_modules/react-dom/lib/SyntheticKeyboardEvent.js",function(e,t,n){"use strict";function l(e,t,n,l){return y.call(this,e,t,n,l)}var y=e("./SyntheticUIEvent"),o=e("./getEventCharCode"),r=e("./getEventKey"),u=e("./getEventModifierState"),i={key:r,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:u,charCode:function(e){return"keypress"===e.type?o(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?o(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};y.augmentClass(l,i),t.exports=l});C.r("node_modules/react-dom/lib/SyntheticMouseEvent.js",function(e,t,n){"use strict";function l(e,t,n,l){return r.call(this,e,t,n,l)}var r=e("./SyntheticUIEvent"),u=e("./ViewportMetrics"),i=e("./getEventModifierState"),c={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:i,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+u.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+u.currentScrollTop}};r.augmentClass(l,c),t.exports=l});C.r("node_modules/react-dom/lib/SyntheticTouchEvent.js",function(t,e,l){"use strict";function n(t,e,l,n){return u.call(this,t,e,l,n)}var u=t("./SyntheticUIEvent"),c=t("./getEventModifierState"),i={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:c};u.augmentClass(n,i),e.exports=n});C.r("node_modules/react-dom/lib/SyntheticTransitionEvent.js",function(e,t,n){"use strict";function l(e,t,n,l){return s.call(this,e,t,n,l)}var s=e("./SyntheticEvent"),i={propertyName:null,elapsedTime:null,pseudoElement:null};s.augmentClass(l,i),t.exports=l});C.r("node_modules/react-dom/lib/SyntheticUIEvent.js",function(t,e,n){"use strict";function i(t,e,n,i){return r.call(this,t,e,n,i)}var r=t("./SyntheticEvent"),u=t("./getEventTarget"),o={view:function(t){if(t.view)return t.view;var e=u(t);if(e.window===e)return e;var n=e.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(t){return t.detail||0}};r.augmentClass(i,o),e.exports=i});C.r("node_modules/react-dom/lib/SyntheticWheelEvent.js",function(e,t,l){"use strict";function n(e,t,l,n){return a.call(this,e,t,l,n)}var a=e("./SyntheticMouseEvent"),i={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};a.augmentClass(n,i),t.exports=n});C.r("node_modules/react-dom/lib/Transaction.js",function(i,t,a){"use strict";var n=i("./reactProdInvariant"),r=(i("fbjs/lib/invariant"),{}),s={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(i,t,a,r,s,l,e,c){this.isInTransaction()&&n("27");var o,h;try{this._isInTransaction=!0,o=!0,this.initializeAll(0),h=i.call(t,a,r,s,l,e,c),o=!1}finally{try{if(o)try{this.closeAll(0)}catch(i){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return h},initializeAll:function(i){for(var t=this.transactionWrappers,a=i;a<t.length;a++){var n=t[a];try{this.wrapperInitData[a]=r,this.wrapperInitData[a]=n.initialize?n.initialize.call(this):null}finally{if(this.wrapperInitData[a]===r)try{this.initializeAll(a+1)}catch(i){}}}},closeAll:function(i){this.isInTransaction()||n("28");for(var t=this.transactionWrappers,a=i;a<t.length;a++){var s,l=t[a],e=this.wrapperInitData[a];try{s=!0,e!==r&&l.close&&l.close.call(this,e),s=!1}finally{if(s)try{this.closeAll(a+1)}catch(i){}}}this.wrapperInitData.length=0}};t.exports=s});C.r("node_modules/react-dom/lib/ViewportMetrics.js",function(r,e,c){"use strict";var o={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(r){o.currentScrollLeft=r.x,o.currentScrollTop=r.y}};e.exports=o});C.r("node_modules/react-dom/lib/accumulateInto.js",function(r,a,n){"use strict";function t(r,a){return null==a&&i("30"),null==r?a:Array.isArray(r)?Array.isArray(a)?(r.push.apply(r,a),r):(r.push(a),r):Array.isArray(a)?[r].concat(a):[r,a]}var i=r("./reactProdInvariant");r("fbjs/lib/invariant");a.exports=t});C.r("node_modules/react-dom/lib/adler32.js",function(r,o,t){"use strict";function e(r){for(var o=1,t=0,e=0,c=r.length,d=-4&c;e<d;){for(var n=Math.min(e+4096,d);e<n;e+=4)t+=(o+=r.charCodeAt(e))+(o+=r.charCodeAt(e+1))+(o+=r.charCodeAt(e+2))+(o+=r.charCodeAt(e+3));o%=a,t%=a}for(;e<c;e++)t+=o+=r.charCodeAt(e);return o%=a,t%=a,o|t<<16}var a=65521;o.exports=e});C.r("node_modules/react-dom/lib/checkReactTypeSpec.js",function(e,r,a){"use strict";function n(e,r,a,n,i,f){for(var p in e)if(e.hasOwnProperty(p)){var l;try{"function"!=typeof e[p]&&t("84",n||"React class",c[a],p),l=e[p](r,p,n,a,null,s)}catch(e){l=e}if(l instanceof Error&&!(l.message in o)){o[l.message]=!0}}}var t=e("./reactProdInvariant"),c=e("./ReactPropTypeLocationNames"),s=e("./ReactPropTypesSecret");e("fbjs/lib/invariant"),e("fbjs/lib/warning");"undefined"!=typeof process&&process.env;var o={};r.exports=n});C.r("node_modules/react-dom/lib/createMicrosoftUnsafeLocalFunction.js",function(n,e,o){"use strict";var c=function(n){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,o,c,t){MSApp.execUnsafeLocalFunction(function(){return n(e,o,c,t)})}:n};e.exports=c});C.r("node_modules/react-dom/lib/dangerousStyleValue.js",function(r,e,t){"use strict";function n(r,e,t,n){if(null==e||"boolean"==typeof e||""===e)return"";var i=isNaN(e);if(n||i||0===e||o.hasOwnProperty(r)&&o[r])return""+e;if("string"==typeof e){e=e.trim()}return e+"px"}var i=r("./CSSProperty"),o=(r("fbjs/lib/warning"),i.isUnitlessNumber);e.exports=n});C.r("node_modules/react-dom/lib/escapeTextContentForBrowser.js",function(e,r,t){"use strict";function n(e){var r=""+e,t=o.exec(r);if(!t)return r;var n,a="",s=0,c=0;for(s=t.index;s<r.length;s++){switch(r.charCodeAt(s)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 39:n="&#x27;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}c!==s&&(a+=r.substring(c,s)),c=s+1,a+=n}return c!==s?a+r.substring(c,s):a}function a(e){return"boolean"==typeof e||"number"==typeof e?""+e:n(e)}var o=/["'&<>]/;r.exports=a});C.r("node_modules/react-dom/lib/findDOMNode.js",function(e,n,t){"use strict";function r(e){if(null==e)return null;if(1===e.nodeType)return e;var n=a.get(e);if(n)return n=c(n),n?i.getNodeFromInstance(n):null;"function"==typeof e.render?o("44"):o("45",Object.keys(e))}var o=e("./reactProdInvariant"),i=(e("react/lib/ReactCurrentOwner"),e("./ReactDOMComponentTree")),a=e("./ReactInstanceMap"),c=e("./getHostComponentFromComposite");e("fbjs/lib/invariant"),e("fbjs/lib/warning");n.exports=r});C.r("node_modules/react-dom/lib/flattenChildren.js",function(e,n,r){"use strict";function t(e,n,r,t){if(e&&"object"==typeof e){var i=e,l=void 0===i[r];l&&null!=n&&(i[r]=n)}}function i(e,n){if(null==e)return e;var r={};return l(e,t,r),r}var l=(e("./KeyEscapeUtils"),e("./traverseAllChildren"));e("fbjs/lib/warning");"undefined"!=typeof process&&process.env,n.exports=i});C.r("node_modules/react-dom/lib/forEachAccumulated.js",function(r,c,o){"use strict";function a(r,c,o){Array.isArray(r)?r.forEach(c,o):r&&c.call(o,r)}c.exports=a});C.r("node_modules/react-dom/lib/getEventCharCode.js",function(e,o,r){"use strict";function t(e){var o,r=e.keyCode;return"charCode"in e?0===(o=e.charCode)&&13===r&&(o=13):o=r,o>=32||13===o?o:0}o.exports=t});C.r("node_modules/react-dom/lib/getEventKey.js",function(e,r,t){"use strict";function o(e){if(e.key){var r=i[e.key]||e.key;if("Unidentified"!==r)return r}if("keypress"===e.type){var t=n(e);return 13===t?"Enter":String.fromCharCode(t)}return"keydown"===e.type||"keyup"===e.type?a[e.keyCode]||"Unidentified":""}var n=e("./getEventCharCode"),i={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};r.exports=o});C.r("node_modules/react-dom/lib/getEventModifierState.js",function(t,e,r){"use strict";function i(t){var e=this,r=e.nativeEvent;if(r.getModifierState)return r.getModifierState(t);var i=o[t];return!!i&&!!r[i]}function n(t){return i}var o={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};e.exports=n});C.r("node_modules/react-dom/lib/getEventTarget.js",function(e,n,t){"use strict";function r(e){var n=e.target||e.srcElement||window;return n.correspondingUseElement&&(n=n.correspondingUseElement),3===n.nodeType?n.parentNode:n}n.exports=r});C.r("node_modules/react-dom/lib/getHostComponentFromComposite.js",function(e,o,n){"use strict";function r(e){for(var o;(o=e._renderedNodeType)===t.COMPOSITE;)e=e._renderedComponent;return o===t.HOST?e._renderedComponent:o===t.EMPTY?null:void 0}var t=e("./ReactNodeTypes");o.exports=r});C.r("node_modules/react-dom/lib/getIteratorFn.js",function(t,o,r){"use strict";function e(t){var o=t&&(n&&t[n]||t[i]);if("function"==typeof o)return o}var n="function"==typeof Symbol&&Symbol.iterator,i="@@iterator";o.exports=e});C.r("node_modules/react-dom/lib/getNodeForCharacterOffset.js",function(t,e,n){"use strict";function r(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function o(t){for(;t;){if(t.nextSibling)return t.nextSibling;t=t.parentNode}}function i(t,e){for(var n=r(t),i=0,f=0;n;){if(3===n.nodeType){if(f=i+n.textContent.length,i<=e&&f>=e)return{node:n,offset:e-i};i=f}n=r(o(n))}}e.exports=i});C.r("node_modules/react-dom/lib/getTextContentAccessor.js",function(t,n,e){"use strict";function o(){return!r&&c.canUseDOM&&(r="textContent"in document.documentElement?"textContent":"innerText"),r}var c=t("fbjs/lib/ExecutionEnvironment"),r=null;n.exports=o});C.r("node_modules/react-dom/lib/getVendorPrefixedEventName.js",function(n,i,t){"use strict";function e(n,i){var t={};return t[n.toLowerCase()]=i.toLowerCase(),t["Webkit"+n]="webkit"+i,t["Moz"+n]="moz"+i,t["ms"+n]="MS"+i,t["O"+n]="o"+i.toLowerCase(),t}function a(n){if(m[n])return m[n];if(!r[n])return n;var i=r[n];for(var t in i)if(i.hasOwnProperty(t)&&t in s)return m[n]=i[t];return""}var o=n("fbjs/lib/ExecutionEnvironment"),r={animationend:e("Animation","AnimationEnd"),animationiteration:e("Animation","AnimationIteration"),animationstart:e("Animation","AnimationStart"),transitionend:e("Transition","TransitionEnd")},m={},s={};o.canUseDOM&&(s=document.createElement("div").style,"AnimationEvent"in window||(delete r.animationend.animation,delete r.animationiteration.animation,delete r.animationstart.animation),"TransitionEvent"in window||delete r.transitionend.transition),i.exports=a});C.r("node_modules/react-dom/lib/inputValueTracking.js",function(e,t,r){"use strict";function n(e){var t=e.type,r=e.nodeName;return r&&"input"===r.toLowerCase()&&("checkbox"===t||"radio"===t)}function a(e){return e._wrapperState.valueTracker}function o(e,t){e._wrapperState.valueTracker=t}function c(e){e._wrapperState.valueTracker=null}function u(e){var t;return e&&(t=n(e)?""+e.checked:e.value),t}var i=e("./ReactDOMComponentTree"),f={_getTrackerFromNode:function(e){return a(i.getInstanceFromNode(e))},track:function(e){if(!a(e)){var t=i.getNodeFromInstance(e),r=n(t)?"checked":"value",u=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),f=""+t[r];t.hasOwnProperty(r)||"function"!=typeof u.get||"function"!=typeof u.set||(Object.defineProperty(t,r,{enumerable:u.enumerable,configurable:!0,get:function(){return u.get.call(this)},set:function(e){f=""+e,u.set.call(this,e)}}),o(e,{getValue:function(){return f},setValue:function(e){f=""+e},stopTracking:function(){c(e),delete t[r]}}))}},updateValueIfChanged:function(e){if(!e)return!1;var t=a(e);if(!t)return f.track(e),!0;var r=t.getValue(),n=u(i.getNodeFromInstance(e));return n!==r&&(t.setValue(n),!0)},stopTracking:function(e){var t=a(e);t&&t.stopTracking()}};t.exports=f});C.r("node_modules/react-dom/lib/instantiateReactComponent.js",function(t,e,n){"use strict";function o(t){if(t){var e=t.getName();if(e)return" Check the render method of `"+e+"`."}return""}function r(t){return"function"==typeof t&&void 0!==t.prototype&&"function"==typeof t.prototype.mountComponent&&"function"==typeof t.prototype.receiveComponent}function i(t,e){var n;if(null===t||!1===t)n=f.create(i);else if("object"==typeof t){var a=t,c=a.type;if("function"!=typeof c&&"string"!=typeof c){var y="";y+=o(a._owner),p("130",null==c?c:typeof c,y)}"string"==typeof a.type?n=u.createInternalComponent(a):r(a.type)?(n=new a.type(a),n.getHostNode||(n.getHostNode=n.getNativeNode)):n=new s(a)}else"string"==typeof t||"number"==typeof t?n=u.createInstanceForText(t):p("131",typeof t);return n._mountIndex=0,n._mountImage=null,n}var p=t("./reactProdInvariant"),a=t("object-assign"),c=t("./ReactCompositeComponent"),f=t("./ReactEmptyComponent"),u=t("./ReactHostComponent"),s=(t("react/lib/getNextDebugID"),t("fbjs/lib/invariant"),t("fbjs/lib/warning"),function(t){this.construct(t)});a(s.prototype,c,{_instantiateReactComponent:i}),e.exports=i});C.r("node_modules/react-dom/lib/isEventSupported.js",function(e,t,n){"use strict";function i(e,t){if(!r.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,i=n in document;if(!i){var u=document.createElement("div");u.setAttribute(n,"return;"),i="function"==typeof u[n]}return!i&&o&&"wheel"===e&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i}var o,r=e("fbjs/lib/ExecutionEnvironment");r.canUseDOM&&(o=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")),t.exports=i});C.r("node_modules/react-dom/lib/isTextInputElement.js",function(e,t,a){"use strict";function r(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!o[e.type]:"textarea"===t}var o={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};t.exports=r});C.r("node_modules/react-dom/lib/quoteAttributeValueForBrowser.js",function(e,r,t){"use strict";function o(e){return'"'+n(e)+'"'}var n=e("./escapeTextContentForBrowser");r.exports=o});C.r("node_modules/react-dom/lib/reactProdInvariant.js",function(r,e,o){"use strict";function n(r){for(var e=arguments.length-1,o="Minified React error #"+r+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+r,n=0;n<e;n++)o+="&args[]="+encodeURIComponent(arguments[n+1]);o+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var t=new Error(o);throw t.name="Invariant Violation",t.framesToPop=1,t}e.exports=n});C.r("node_modules/react-dom/lib/renderSubtreeIntoContainer.js",function(e,r,t){"use strict";var n=e("./ReactMount");r.exports=n.renderSubtreeIntoContainer});C.r("node_modules/react-dom/lib/setInnerHTML.js",function(e,n,t){"use strict";var i,r=e("fbjs/lib/ExecutionEnvironment"),s=e("./DOMNamespaces"),a=/^[ \r\n\t\f]/,l=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,o=e("./createMicrosoftUnsafeLocalFunction"),c=o(function(e,n){if(e.namespaceURI!==s.svg||"innerHTML"in e)e.innerHTML=n;else{i=i||document.createElement("div"),i.innerHTML="<svg>"+n+"</svg>";for(var t=i.firstChild;t.firstChild;)e.appendChild(t.firstChild)}});if(r.canUseDOM){var d=document.createElement("div");d.innerHTML=" ",""===d.innerHTML&&(c=function(e,n){if(e.parentNode&&e.parentNode.replaceChild(e,e),a.test(n)||"<"===n[0]&&l.test(n)){e.innerHTML=String.fromCharCode(65279)+n;var t=e.firstChild;1===t.data.length?e.removeChild(t):t.deleteData(0,1)}else e.innerHTML=n}),d=null}n.exports=c});C.r("node_modules/react-dom/lib/setTextContent.js",function(e,n,t){"use strict";var o=e("fbjs/lib/ExecutionEnvironment"),i=e("./escapeTextContentForBrowser"),r=e("./setInnerHTML"),d=function(e,n){if(n){var t=e.firstChild;if(t&&t===e.lastChild&&3===t.nodeType)return void(t.nodeValue=n)}e.textContent=n};o.canUseDOM&&("textContent"in document.documentElement||(d=function(e,n){if(3===e.nodeType)return void(e.nodeValue=n);r(e,i(n))})),n.exports=d});C.r("node_modules/react-dom/lib/shouldUpdateReactComponent.js",function(e,t,n){"use strict";function r(e,t){var n=null===e||!1===e,r=null===t||!1===t;if(n||r)return n===r;var o=typeof e,u=typeof t;return"string"===o||"number"===o?"string"===u||"number"===u:"object"===u&&e.type===t.type&&e.key===t.key}t.exports=r});C.r("node_modules/react-dom/lib/traverseAllChildren.js",function(e,r,t){"use strict";function n(e,r){return e&&"object"==typeof e&&null!=e.key?s.escape(e.key):r.toString(36)}function a(e,r,t,i){var b=typeof e;if("undefined"!==b&&"boolean"!==b||(e=null),null===e||"string"===b||"number"===b||"object"===b&&e.$$typeof===o)return t(i,e,""===r?u+n(e,0):r),1;var v,j,y=0,d=""===r?u:r+f;if(Array.isArray(e))for(var p=0;p<e.length;p++)v=e[p],j=d+n(v,p),y+=a(v,j,t,i);else{var g=c(e);if(g){var m,k=g.call(e);if(g!==e.entries)for(var h=0;!(m=k.next()).done;)v=m.value,j=d+n(v,h++),y+=a(v,j,t,i);else for(;!(m=k.next()).done;){var w=m.value;w&&(v=w[1],j=d+s.escape(w[0])+f+n(v,0),y+=a(v,j,t,i))}}else if("object"===b){var x="",A=String(e);l("31","[object Object]"===A?"object with keys {"+Object.keys(e).join(", ")+"}":A,x)}}return y}function i(e,r,t){return null==e?0:a(e,"",r,t)}var l=e("./reactProdInvariant"),o=(e("react/lib/ReactCurrentOwner"),e("./ReactElementSymbol")),c=e("./getIteratorFn"),s=(e("fbjs/lib/invariant"),e("./KeyEscapeUtils")),u=(e("fbjs/lib/warning"),"."),f=":";r.exports=i});C.r("node_modules/react-dom/lib/validateDOMNesting.js",function(i,s,t){"use strict";var e=(i("object-assign"),i("fbjs/lib/emptyFunction")),n=(i("fbjs/lib/warning"),e);s.exports=n});C.r("node_modules/react/lib/getNextDebugID.js",function(e,t,r){"use strict";function n(){return u++}var u=1;t.exports=n});C.r("akira/components/profile/profileWarningOverlay.jsx",function(e,t,n){"use strict";var r=e("react"),i=e("prop-types"),a=e("create-react-class"),o=e("../../../components/focusTrap.jsx"),c="discovery/warnings",s=a({displayName:"ProfileWarningOverlay",contextTypes:{getICUString:i.func.isRequired,discoveryApp:i.object.isRequired},shouldComponentUpdate:function(){return!1},componentDidMount:function(){var e=document.body;e&&e.style&&(e.style.overflow="hidden")},handleRefreshButtonClick:function(){var e=this.context.discoveryApp.getActionCreators();e&&e.receiveProfileWarningRefresh&&e.receiveProfileWarningRefresh()},render:function(){return r.createElement(o,{autoFocus:!0},r.createElement("div",{className:"ProfileWarning--container"},r.createElement("div",{className:"ProfileWarning--message-container"},r.createElement("h2",{className:"ProfileWarning--title"},this.context.getICUString(c,"profile.mismatch.title")),r.createElement("p",{className:"ProfileWarning--message"},this.context.getICUString(c,"profile.mismatch.message")),r.createElement("div",{className:"ProfileWarning--action-container"},r.createElement("button",{"aria-label":this.context.getICUString(c,"profile.mismatch.action"),type:"button",tabIndex:0,className:"ProfileWarning--action-button-refresh",onClick:this.handleRefreshButtonClick},this.context.getICUString(c,"profile.mismatch.action"))))))}});t.exports=s});C.r("akira/components/profile/profilesDropDown.jsx",function(e,t,i){"use strict";var r=e("prop-types"),s=e("react"),a=e("create-react-class"),l=e("./profile.jsx"),o=e("shakti-platform/dist/ui/ShaktiProperties"),n=e("../../../utils/Routes"),m=e("lodash"),c=o.get("web.ui.profiles.max"),u=a({displayName:"ProfilesDropDown",contextTypes:{getI18nString:r.func.isRequired,models:r.object.isRequired},statics:{getPaths:function(e,t,i){return[["profilesList","summary"],["profilesList",{to:c},["summary","precacheConfig"]],["profilesList",{to:c},"avatar","images","byWidth",32]]}},renderProfiles:function(){for(var e=this.props.model.bind(["profilesList"]),t=e.getValueSync(["summary"]),i=[],r=0;r<Math.min(t.length,c);r++){var a=e.bind([r]);if(a){a.getValueSync(["summary"]).isActive||i.push(s.createElement("li",{className:"sub-menu-item profile",key:"profile"+r,role:"listitem"},s.createElement(l,{isClickable:!0,avatarWidth:32,model:a})))}}return i},render:function(){var e=this.renderProfiles(),t=m.get(this,"context.models.truths.data.currentProfileIsKids"),i=o.get("netflix.ui.akira.manageProfile.enabled")||!1,r=n.profilesManage.makePath();return s.createElement("ul",{className:"sub-menu-list profiles",role:"list","aria-label":this.context.getI18nString("discovery/akira/Chrome","profiles.list.profiles.label")},e,!t&&s.createElement("li",{className:"sub-menu-item profile-link",role:"listitem"},s.createElement("a",{className:"sub-menu-link",href:i?r:"/EditProfiles"},this.context.getI18nString("discovery/akira/Chrome","manage.profiles"))))}});t.exports=u});C.r("akira/components/profile/profilesGate.jsx",function(e,t,i){"use strict";var r=e("prop-types"),o=e("react"),s=e("create-react-class"),a=e("nf-cons-log"),n=e("./profileChoices.jsx"),l=e("./profileLoad.jsx"),d=e("./profileCreate.jsx"),c=e("./teenProfileCreate.jsx"),p=e("../../containers/profileEditContainer"),f=e("../../containers/lolopiContainer"),g=e("./profileDelete.jsx"),u=e("../../../utils/profileManager"),E=e("../../../utils/dynamicMessages/dynamicMessages"),m=e("../../../components/presentationTracking/trackingComponents/logPresentationManually"),P=e("../billboard/common/ReportMetrics"),h=s({displayName:"ProfilesGate",contextTypes:{getModelData:r.func.isRequired,routeHandler:r.object.isRequired,jsongDocument:r.object.isRequired,models:r.object},childContextTypes:{getProfileEditInProgress:r.func,setProfileEditInProgress:r.func},getChildContext:function(){return{getProfileEditInProgress:this.getProfileEditInProgress,setProfileEditInProgress:this.setProfileEditInProgress}},logNavigationLevelEnd:void 0,statics:{getPaths:function(e,t,i){switch(i&&i.currentView){case u.VIEWS.LIST:case u.VIEWS.MANAGE_PROFILES:case u.VIEWS.RELOADING_PROFILES:return n.getPaths(e,t,i);default:return[["profilesList","summary"],["profilesList",{to:10},"summary"],["profilesList",{to:10},"avatar","images","byWidth",320]]}}},setProfileEditInProgress:function(e){this.setState({profileEditInProgress:e})},getProfileEditInProgress:function(){return this.state.profileEditInProgress},getInitialState:function(){var e={};if(this.props.profileGateAppState.activeView===u.VIEWS.SELECT_AVATAR){var t=this.context.routeHandler.query.guid||this.context.routeHandler.params.guid,i=this.props.model.bind(["profilesList","current"]),r=null;t&&(r=this.props.model.bind(["profiles",t]));var o=void 0,s=void 0;r&&(o=r.getValueSync(["summary"]),s=r.getValueSync(["avatar","images","byWidth",320])),o||(o=i.getValueSync(["summary"]),s=i.getValueSync(["avatar","images","byWidth",320])),e={profileName:o.profileName,profileGuid:o.guid,avatarSrc:s,avatarName:o.avatarName}}return{animateSwitchingProfilesComplete:!1,profileEditInProgress:e}},componentDidMount:function(){this.context.getModelData("truths","dynamicMessagesEnabled")&&this.props.profileGateAppState.activeView===u.VIEWS.LIST&&E.poll(E.pollingTypes.PROFILESGATE).subscribe(),this.props.profileGateAppState.activeView===u.VIEWS.SELECT_AVATAR?this.logNavigationLevelEnd=this.props.logNavigationLevel("editProfileAvatar"):this.logNavigationLevelEnd=this.props.logNavigationLevel("profilesGate"),P.renderedProfileGate()},componentWillUnmount:function(){this.context.getModelData("truths","dynamicMessagesEnabled")&&E.stop(),this.logNavigationLevelEnd&&this.logNavigationLevelEnd()},invalidProfileGateState:function(e){return a.clientNotifications.notify("profileManagerError",{category:"uiAction",data:{name:"invalidGateView",activeView:e,message:"Invalid profiles gate active view"}}),o.createElement(n,{activeView:u.VIEWS.LIST,model:this.props.model})},renderProfileCreate:function(e){var t=this.context.getModelData("truths","teenAddProfileEnabled")?c:d;return o.createElement(t,{model:this.props.model,getPageChromePaths:this.props.getPageChromePaths,getProfilesGatePaths:h.getPaths,previousView:e.previousView,createKidsProfile:e.createKidsProfile,nextView:e.nextView,copyViewingHistory:e.copyViewingHistory,deleteViewingHistory:e.deleteViewingHistory})},renderInnerView:function(e){var t=e.activeView,i=e.newProfile;switch(t){case u.VIEWS.LIST:case u.VIEWS.MANAGE_PROFILES:return o.createElement(n,{model:this.props.model,activeView:t});case u.VIEWS.LOAD_PROFILE:case u.VIEWS.RELOADING_PROFILES:case u.VIEWS.LOAD_PROFILE_ERROR:return o.createElement(l,{newProfile:i,errorLoadingProfile:t===u.VIEWS.LOAD_PROFILE_ERROR});case u.VIEWS.CREATE_PROFILE:return this.renderProfileCreate(e);case u.VIEWS.UPDATE_PROFILE:return o.createElement(p,{model:this.props.model,newProfile:i});case u.VIEWS.SELECT_AVATAR:var r=i,s=!1;if(i||(r=this.props.model.bind(["profiles",this.state.profileEditInProgress.profileGuid]),s=!0),this.state.profileEditInProgress.maturityHasChanged){var a=this.state.profileEditInProgress.isKids||"ADULTS"!==this.state.profileEditInProgress.maturityLevel;return o.createElement(f,{model:this.context.jsongDocument,newProfile:r,deeplink:s,maturityHasChanged:!0,maturityLevel:this.state.profileEditInProgress.maturityLevel,isKids:a})}return o.createElement(f,{model:this.context.jsongDocument,newProfile:r,deeplink:s});case u.VIEWS.DELETE_PROFILE:return o.createElement(g,{profileList:this.props.model,newProfile:i});default:return this.invalidProfileGateState(t)}},render:function(){var e=this.props.model.bind(["profilesList"]),t=e.getValueSync(["summary"]);return t&&t.length?o.createElement("div",{className:"profiles-gate-container"},this.renderInnerView(this.props.profileGateAppState)):(a.clientNotifications.notify("profileManagerError",{category:"uiAction",data:{name:"noProfilesSummary",message:"No summary data loaded for profiles gate"}}),null)}});t.exports=m(h)});C.r("akira/components/search/fadingInput.jsx",function(t,n,i){"use strict";var o=t("create-react-class"),e=t("react"),r=t("react-dom"),a=t("../../../utils/transition"),c={before:{width:"20px",opacity:0},opacity:1,width:null,duration:300},s={width:"20px",opacity:0,duration:200},d=o({displayName:"FadingInput",componentDidMount:function(){a.show(r.findDOMNode(this),c)},close:function(t){a.runTransition(r.findDOMNode(this),s,t)},render:function(){return e.createElement("input",this.props)}});n.exports=d});C.r("akira/components/search/hybridDVDDetails.jsx",function(e,t,s){"use strict";var r=e("prop-types"),a=e("react"),i=e("create-react-class"),n=e("../../../utils/Routes"),c="discovery/akira/Search",d=e("../../../utils/eventBus"),l=function(e){return"https://assets.nflxext.com/us/boxshots/large/"+e+".jpg"},o=function(e){return n.dvdMdp.makePath({id:e})},m=i({displayName:"HybridDVDDetails",contextTypes:{getI18nString:r.func.isRequired},componentDidMount:function(){d.emit("search:impression",{referenceId:this.props.referenceId,view:"dvdUpsellResults"})},render:function(){return a.createElement("div",{className:"dvdDetails"},a.createElement("div",{className:"dvdDetailsImg"},a.createElement("img",{src:l(this.props.id)})),a.createElement("div",{className:"dvdDetailsText"},a.createElement("div",{className:"dvdTitle"},this.props.title),a.createElement("div",{className:"dvdSynopsis"},this.props.synopsis),a.createElement("a",{href:o(this.props.id)},a.createElement("div",{className:"dvdAction"},this.context.getI18nString(c,"search.see.dvd.details")))),a.createElement("div",{className:"dvdParent"},a.createElement("div",{className:"dvdIcon",dangerouslySetInnerHTML:{__html:this.context.getI18nString(c,"search.dvd.icon.text")}})))}});t.exports=m});C.r("akira/components/search/noResults.jsx",function(e,t,s){"use strict";var n=e("prop-types"),r=e("react"),l=e("create-react-class"),i=e("../../utils/akiraContextTypes"),a=e("../../../utils/ab/kidsParityTest"),c="discovery/akira/Search",o=l({displayName:"NoResults",contextTypes:Object.assign({getI18nString:n.func.isRequired,models:n.object},i),statics:{getPaths:function(){}},render:function(){var e=a.kidsProfileWithoutParity(this.context.models);return r.createElement("div",{className:"noResultsWrapper"},r.createElement("div",{className:"noResults"},e?r.createElement("p",null," ",this.context.getI18nString(c,"search.noResults.kids")):[r.createElement("p",null," ",this.context.getI18nString(c,"search.noresults.title",{query:this.props.term})," "),r.createElement("p",null,this.context.getI18nString(c,"search.noresults.suggestions")),r.createElement("ul",null,r.createElement("li",null,this.context.getI18nString(c,"search.noresults.keywords")),r.createElement("li",null,this.context.getI18nString(c,"search.noresults.looking")),r.createElement("li",null,this.context.getI18nString(c,"search.noresults.try")),r.createElement("li",null,this.context.getI18nString(c,"search.noresults.genre")))]))}});t.exports=o});C.r("akira/components/search/searchBox.jsx",function(t,e,s){"use strict";var i=t("prop-types"),n=t("react"),r=t("create-react-class"),o=t("react-dom"),a=t("lodash"),c=t("../../../utils/Routes"),u=t("./searchInput.jsx"),h=t("../../../utils/eventBus"),l=t("../../../utils/browserScroll"),d=t("../../utils/focusUtils"),p=t("../../utils/akiraContextTypes"),f=t("../../utils/linkDefs.jsx"),m=t("../../views/search.jsx"),g=t("../../containers/gallery.jsx"),x=t("../../../components/presentationTracking/trackingComponents/logPresentationManually"),S=t("../../redux/logging/commandTriggers"),v=/^[\x00- !-@[-`{-\u00bf\u00d7\u00f7\u02b9-\u02ff\u2000-\u2bff]*$/,F=/^[\x00- !-@[-`{-\u00bf\u00d7\u00f7\u02b9-\u02ff\u2000-\u2bff]*(?:\d[\x00- !-@[-`{-\u00bf\u00d7\u00f7\u02b9-\u02ff\u2000-\u2bff]*$|[A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u2c00-\ufb1c\ufdfe-\ufe6f\ufefd-\uffff])/,B="discovery/akira/Search",b=x(r({displayName:"SearchBox",contextTypes:Object.assign({getI18nString:i.func.isRequired,history:i.object.isRequired,models:i.object.isRequired,routeHandler:i.object.isRequired},p),scope:{endFocus:void 0},getDefaultProps:function(){return{term:""}},getInitialState:function(){var t=a.get(this.context.models,"geo.data.locale.dir","ltr");return{isUserFocusing:!1,term:this.props.term||"",stringDirection:t,isClosing:!1}},componentWillReceiveProps:function(t){this.state.term!==t.term&&this.setStateWithUpdates({term:t.term})},componentDidUpdate:function(t,e){this.isSearchBoxOpen()&&!this.isSearchBoxOpen(e)&&d.focusElement(o.findDOMNode(this.refs.searchInput.getInput()))},componentDidMount:function(){this.isSearchBoxOpen()&&!this.isRailPage()&&d.focusElement(o.findDOMNode(this.refs.searchInput.getInput()))},shouldComponentUpdate:function(t,e){return t.term!==this.props.term&&t.term!==this.state.term||e.isUserFocusing!==this.state.isUserFocusing||e.term!==this.state.term||e.isClosing!==this.state.isClosing},setStateWithUpdates:function(t){var e=this,s=Object.assign({},this.state,t);!this.isSearchBoxOpen(s)&&this.isSearchBoxOpen()&&(t=Object.assign({},t,{isClosing:!0}),this.refs.searchInput.close(function(){e.setState({isClosing:!1,isUserFocusing:!1})})),this.isSearchBoxOpen(s)&&!this.isSearchBoxOpen()&&this.props.handleSearchBoxFocus(!0),!this.isSearchBoxOpen(s)&&this.isSearchBoxOpen()&&this.props.handleSearchBoxFocus(!1),this.setState(t)},goBackHistory:function(t){t&&(this.context.history.index+1<=t?this.context.history.replaceState(c.home.makePath()):this.context.history.go(-t))},resultLengthPath:function(){return m.pathPrefix(this.props.term).concat("titles",g.getNumTitlesToFetch(),"length")},isRailPage:function(){var t=!this.props.model.pathEvaluator.getValueSync(this.resultLengthPath()),e=this.context.routeHandler.query.suggestionId||this.context.routeHandler.params.suggestionId,s=this.context.routeHandler.query.dvdId||this.context.routeHandler.params.dvdId;return(e||s)&&!t},logChangeValueWithFocus:function(t,e){var s=this,i=this,n=!this.scope.endFocus;n&&(this.scope.endFocus=this.props.logFocus("searchBox")),S.ChangeValueCommand({desiredValue:t},function(){e.call(s),n&&i.scope.endFocus&&(i.scope.endFocus(),delete i.scope.endFocus)})()},returnToPrevious:function(t){var e=t;return this.isRailPage()&&e++,this.goBackHistory(e),!1},isTermEmpty:function(t){return!t||t.match(/^\s*$/)},hasSearchTerm:function(){return!this.isTermEmpty(this.state.term)},onSearchBoxClick:function(t){this.isRailPage()&&(this.returnToPrevious(0),t.preventDefault())},forceStringDirection:function(t){return F.test(t)?"ltr":v.test(t)?void 0:"rtl"},isSearchBoxOpen:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state;return t.term||t.isUserFocusing},handleSearchInputFocus:function(){var t=void 0;this.state.term||(t=this.props.logCommand("SearchCommand")),this.setStateWithUpdates({isUserFocusing:!0}),this.scope.endFocus||(this.scope.endFocus=this.props.logFocus("searchBox")),t&&t()},handleSearchInputBlur:function(){this.setStateWithUpdates({isUserFocusing:!1}),this.scope.endFocus&&(this.scope.endFocus(),delete this.scope.endFocus)},handleSearchBoxFocus:function(){this.setStateWithUpdates({isUserFocusing:!0})},handleChange:function(t){var e=this;this.logChangeValueWithFocus(t,function(){var s=a.trimLeft(t),i=e.state.term;h.emit("search:edit",{term:s});var n=e.forceStringDirection(s)||a.get(e.context.models,"geo.data.locale.dir","ltr");if(e.setStateWithUpdates({term:s,stringDirection:n}),e.isTermEmpty(s)&&i)return void e.returnToPrevious(1);if(!e.isTermEmpty(s)||i){l.scrollTo(0,0);var r=f.getSearchRoute(e.context.models,e.context.isKidsPage).makePath(null,{q:s});e.isTermEmpty(e.props.term)?e.context.history.pushState(r):e.context.history.replaceState(r)}})},render:function(){var t=void 0;return t=this.isSearchBoxOpen()||this.state.isClosing?n.createElement(u,{term:this.state.term,ref:"searchInput",onChange:this.handleChange,onBlur:this.handleSearchInputBlur,onFocus:this.handleSearchInputFocus,onSearchBoxClick:this.onSearchBoxClick,direction:this.state.stringDirection}):n.createElement("button",{className:"searchTab",tabIndex:0,onClick:this.handleSearchBoxFocus,"aria-label":this.context.getI18nString(B,"label.search"),"data-uia":"search-box-launcher"},n.createElement("span",{className:"icon-search"}),!this.props.hideLabel&&n.createElement("span",{className:"label"},this.context.getI18nString(B,"label.search"))),n.createElement("div",{className:"searchBox"},t)}}));e.exports=b});C.r("akira/components/search/searchDVDs.jsx",function(e,t,s){"use strict";var n=e("prop-types"),r=e("react"),i=e("create-react-class"),a=e("../controls/mainViewLink.jsx"),o=e("../../../utils/eventBus"),c=e("../../../utils/Routes"),l=e("../../utils/linkDefs.jsx"),d="discovery/akira/Search",h=["dvds",20],u=i({displayName:"SearchDVDs",contextTypes:{getI18nString:n.func.isRequired},statics:{getPaths:function(e,t,s){return[h.concat([["length","referenceId"]]),h.concat({to:20},"summary")]}},hasLoggedImpression:!1,suggestionCount:0,getLength:function(){return this.props.model.bind(h).getValueSync(["length"])},getDVDs:function(){var e=[],t=this.props.model.bind(h),s=this.getLength(),n=void 0;if(s)for(n=0;n<s;n++){var i=t.bind([n]),o=i.getValueSync(["summary"])||{},u=o.name,g=o.entityId,p=null;this.props.dvdId===g&&(p="selected"),u&&e.push(r.createElement("li",{key:"dvd"+e+n,className:p},r.createElement(a,{resolver:l.getSearchRoute,query:{q:this.props.term,dvdId:g},onClick:this.props.onRailClick},u)))}var m=this.props.term;return e.push(r.createElement("li",{key:"allDVD"},r.createElement("a",{href:c.dvdSearch.makePath({},{v1:m})},this.context.getI18nString(d,"search.see.all.dvd.results")))),e},getReferenceId:function(){return this.props.model.bind(h).getValueSync(["referenceId"])},logSearchImpression:function(e){var t=void 0;!this.suggestionCount||!e&&this.hasLoggedImpression||(t=this.getReferenceId())&&(o.emit("search:impression",{referenceId:t,view:"dvdResults"}),this.hasLoggedImpression=!0)},componentDidMount:function(){this.logSearchImpression()},componentDidUpdate:function(e,t){var s=e.searchKey!==this.props.searchKey;s&&(this.hasLoggedImpression=!1),this.logSearchImpression(s)},render:function(){var e=this.getDVDs();return this.suggestionCount=e?e.length:0,this.suggestionCount?r.createElement("div",{className:"dvds"},r.createElement("span",{className:"dvdLabel"},this.context.getI18nString(d,"search.dvd.label")),r.createElement("ul",null,e)):null}});t.exports=u});C.r("akira/components/search/searchInput.jsx",function(e,t,s){"use strict";var n=e("lodash"),r=e("prop-types"),o=e("react"),a=e("create-react-class"),i=e("../../../utils/eventBus"),c=e("classnames"),u=e("./fadingInput.jsx"),h=a({displayName:"SearchInput",debouncedOnChange:n.debounce(function(e){this.props.onChange(e)},20),contextTypes:{getI18nString:r.func.isRequired},componentWillReceiveProps:function(e){this.state.term!==e.term&&this.setState({term:e.term})},componentDidUpdate:function(e,t){this.state.term!==t.term&&this.debouncedOnChange(this.state.term)},getInitialState:function(){return{isFocused:!1,term:this.props.term}},close:function(e){this.refs.searchInput.close(e)},onNewSearchTerm:function(e){this.setState({term:e.target.value})},onFocus:function(e){this.setState({isFocused:!0}),i.emit("search:focus",{term:encodeURI(e.target.value),start:!0}),this.props.onFocus&&this.props.onFocus(e)},onBlur:function(e){this.setState({isFocused:!1}),i.emit("search:focus",{term:encodeURI(e.target.value)}),this.props.onBlur&&this.props.onBlur(e)},handleClear:function(e){this.setState({term:""})},isFocused:function(){return this.state.isFocused},getInput:function(){return this.refs.searchInput},onMouseDown:function(e){e.preventDefault()},render:function(){var e=c("icon-close",{empty:!this.props.term}),t=c("searchInput",{isOpen:this.state.isOpen}),s=this.state.isFocused?this.context.getI18nString("discovery/akira/Search","search.placeholder"):"";return o.createElement("div",{className:t},o.createElement("span",{className:"icon-search"}),o.createElement(u,{type:"text",onChange:this.onNewSearchTerm,value:this.state.term,onFocus:this.onFocus,onBlur:this.onBlur,onClick:this.props.onSearchBoxClick,ref:"searchInput",placeholder:s,"data-search-input":!0,dir:this.props.direction,"data-uia":"search-box-input",maxLength:80}),o.createElement("span",{className:e,onClick:this.handleClear,onMouseDown:this.onMouseDown}))}});t.exports=h});C.r("akira/components/search/searchSuggestions.jsx",function(e,t,n){"use strict";var s=e("prop-types"),r=e("react"),i=e("create-react-class"),o=e("lodash"),a=e("../controls/mainViewLink.jsx"),c=e("../../../utils/eventBus"),g=e("../../utils/akiraContextTypes"),u=e("../../utils/linkDefs.jsx"),l=e("classnames"),m=e("../../../components/presentationTracking/presentationTrackingContainer.jsx"),p=e("../../../components/presentationTracking/trackingComponents/suggestionItemPresTracking"),h=e("../../../components/presentationTracking/trackingComponents/searchSuggestionResultsPresTracking"),d=e("../../../components/presentationTracking/trackingComponents/logPresentationManually"),I=function(e){return o.get(e.getValueSync([0,"summary"]),"entityId")},f=function(e){return e.getValueSync(["length"])},k=function(e){return Boolean(f(e))},S=["suggestions",20],y=i({displayName:"SearchSuggestions",contextTypes:Object.assign({getI18nString:s.func.isRequired},g),statics:{getFirstSuggestionId:I,getNumSuggestions:f,hasSuggestions:k,pathPrefix:S,getPaths:function(e,t,n){return[S.concat([["length","referenceId","trackIds"]]),S.concat({to:20},"summary")]},MAX_SUGGESTIONS:20},hasLoggedImpression:!1,suggestionCount:0,getReferenceId:function(){var e=this.props.model.bind(S);return e&&e.getValueSync(["referenceId"])},getTrackId:function(){var e=this.props.model.bind(S);return e&&e.getValueSync(["trackIds"]).trackId},getTrackingInfoForSuggestion:function(e,t){var n=e.getValueSync(["summary"]).entityId;return{parentReferenceId:this.getReferenceId(),trackId:this.getTrackId(),entityId:n,row:0,rank:t}},getSuggestions:function(){var e=[],t=this.props.model.bind(S),n=f(t),s=void 0;if(!n)return e;for(s=0;s<n;s++){var i=t.bind([s]),o=i.getValueSync(["summary"])||{},c=o.name,g=o.entityId,m=l({selected:this.props.suggestionId===g});if(c){var h=this.getTrackingInfoForSuggestion(i,s);e.push(r.createElement("li",{key:s,className:m},r.createElement(p,{trackingInfo:h},r.createElement(a,{resolver:u.getSearchRoute,query:{q:this.props.term,suggestionId:g},onClick:this.onRailClick(h)},c))))}}return e},onRailClick:function(e){var t=this;return function(n,s){var r=t.props.logFocus("suggestionItem",e);t.props.onRailClick(n,s),r()}},logSearchImpression:function(e){var t=void 0;!this.suggestionCount||!e&&this.hasLoggedImpression||(t=this.getReferenceId())&&(c.emit("search:impression",{referenceId:t,view:"suggestionResults"}),this.hasLoggedImpression=!0)},componentDidMount:function(){this.logSearchImpression()},componentDidUpdate:function(e,t){var n=e.searchKey!==this.props.searchKey;n&&(this.hasLoggedImpression=!1),this.logSearchImpression(n)},render:function(){var e=this.getSuggestions();return this.suggestionCount=e.length,this.suggestionCount?r.createElement("div",{className:"suggestions"},r.createElement(m,null,r.createElement(h,{referenceId:this.getReferenceId()},r.createElement("div",{className:"suggestionRailContainer"},r.createElement("span",{className:"suggestionsLabel"},this.context.getI18nString("discovery/akira/Search","search.suggestions.label")),r.createElement("ul",null,e))))):r.createElement("b",null)}});t.exports=d(y)});C.r("akira/components/title/cast.jsx",function(t,e,s){"use strict";var a=t("prop-types"),n=t("react"),i=t("create-react-class"),r=t("classnames"),c=t("../controls/mainViewLink.jsx"),l=t("../../containers/inlineList.jsx"),o=t("../../containers/verticalList.jsx"),u=t("../../utils/setDataAsProps.jsx"),m=t("../../../utils/Routes"),p="discovery/akira/Title";e.exports=u(i({displayName:"CastList",contextTypes:{getI18nString:a.func.isRequired},getDefaultProps:function(){return{cast:[],maxResults:50}},statics:{getPaths:function(t,e,s){return{myPaths:{cast:["cast",{to:s.maxResults||50},["id","name"]]},childrenPaths:[]}}},render:function(){var t=this.props,e=t.cast,s=t.maxResults,a=t.layout,i=e.length,u=Math.min(i,s);if(i){var x=e.slice(0,u).map(function(t,e){return n.createElement(c,{to:m.person,params:{id:t.id},key:"cast-"+e},t.name)});return"inline"===a?n.createElement(l,{className:r("cast"),label:this.context.getI18nString(p,"cast.label.with.colon"),items:x}):"vertical"===a?n.createElement(o,{className:r("cast"),label:this.context.getI18nString(p,"cast.label"),items:x}):null}return null}}))});C.r("akira/components/title/copyright.jsx",function(t,e,r){"use strict";var s=(t("prop-types"),t("react")),a=t("create-react-class"),l=t("classnames"),c=t("lodash"),i=t("../../../utils/pathEvaluatorUtils"),n=a({displayName:"Copyright",statics:{getPaths:function(t,e,r){return[["copyright"]]}},getDefaultProps:function(){return{classSet:{}}},render:function(){var t=this.props.model.getValueSync(["copyright"]),e=c.merge({"video-copyright":!0},this.props.classSet);return null===t||i.isValueError(t)?null:s.createElement("div",{className:l(e)},s.createElement("div",null,t))}});e.exports=n});C.r("akira/components/title/creators.jsx",function(t,e,r){"use strict";var s=t("prop-types"),a=t("react"),n=t("create-react-class"),i=t("classnames"),c=t("../controls/mainViewLink.jsx"),o=t("../../containers/inlineList.jsx"),l=t("../../containers/verticalList.jsx"),u=t("../../utils/setDataAsProps.jsx"),m=t("../../../utils/Routes"),p="discovery/akira/Title";e.exports=u(n({displayName:"CreatorsList",contextTypes:{getI18nString:s.func.isRequired},getDefaultProps:function(){return{creators:[]}},statics:{getPaths:function(t,e,r){return{myPaths:{creators:["creators",{to:r.maxResults||50},["id","name"]]},childrenPaths:[]}}},render:function(){var t=this.props,e=t.creators,r=t.layout;if(e.length){var s=e.map(function(t,e){return a.createElement(c,{to:m.person,params:{id:t.id},key:"creator-"+e},t.name)});return"inline"===r?a.createElement(o,{className:i("creators"),label:this.context.getI18nString(p,"creators.label.with.colon"),items:s}):"vertical"===r?a.createElement(l,{className:i("creators"),label:this.context.getI18nString(p,"creators.label"),items:s}):null}return null}}))});C.r("akira/components/title/currentSynopsis.jsx",function(e,t,s){"use strict";var r=e("lodash"),n=e("prop-types"),a=e("react"),i=e("create-react-class"),o=e("../../../utils/textUtils"),c=i({displayName:"CurrentSynopsis",contextTypes:{models:n.object.isRequired},statics:{getPaths:function(){return[["current","synopsis"]]}},render:function(){var e=this.props.model,t=e.getValueSync(["current","synopsis"]),s=r.get(this.context.models,"geo.data.locale.language","en"),n="ja"===s;return a.createElement("div",{className:"synopsis"},n?o.ellipsize(t,200):t)}});t.exports=c});C.r("akira/components/title/duration.jsx",function(t,e,n){"use strict";var s=t("prop-types"),r=t("react"),o=t("create-react-class"),a=t("classnames"),i=t("../../utils/setDataAsProps.jsx"),u=t("../../../components/string.jsx"),p="discovery/akira/Common",c={minutes:"duration.minutes",hours:"duration.hours",Season:"duration.Season",Collection:"duration.Collection",Volume:"duration.Volume",Special:"duration.Special",Set:"duration.Set",Book:"duration.Book",Part:"duration.Part",Series:"duration.Series",Chapter:"duration.Chapter",Unknown:"duration.Unknown",default:"duration.NO_NAV_LABEL"},l=i(o({displayName:"Duration",contextTypes:{discoveryApp:s.object.isRequired,getI18nString:s.func.isRequired,getModelData:s.func},statics:{getPaths:function(t,e){arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{myPaths:{runtime:["runtime"]},childrenPaths:[]}}},getDefaultProps:function(){return{seasonLabelKey:"Season"}},getMicrodata:function(){if(this.props.runtime){var t=this.getISO8601Duration(this.props.runtime);return r.createElement("meta",{itemProp:"duration",content:t})}return this.props.seasonCount?r.createElement("meta",{itemProp:"numberOfSeasons",content:this.props.seasonCount}):null},getFormattedDuration:function(t){var e=parseInt(t/60,10),n=parseInt(e/60,10),s=parseInt(e%60,10),r=this.context.getI18nString(p,"duration.hours",{hours:n}),o=this.context.getI18nString(p,"duration.minutes",{minutes:s}),a=this.context.discoveryApp.getAPI().geo.showDurationOnlyInMinutes();return this.props.onlyInMinutes||a?e>0?this.context.getI18nString(p,"duration.minutes",{minutes:e}):"":(n>0?r:"")+(n>0&&s>0?" ":"")+(s>0?o:"")},getISO8601Duration:function(t){var e=parseInt(t/60,10);return"T"+parseInt(e/60,10)+"H"+parseInt(e%60,10)+"M"},render:function(){var t=c[this.props.seasonLabelKey]||c.default,e=this.props.showMicrodata?this.getMicrodata():null,n=a("duration",this.props.extraClasses),s=void 0;return this.props.runtime?(s=this.getFormattedDuration(this.props.runtime),r.createElement("span",{className:n},s,e)):this.props.seasonCount?(s=this.props.numSeasonsLabel?this.props.numSeasonsLabel:r.createElement(u,{bundle:p,stringKey:t,stringParams:{numSeasons:this.props.seasonCount},className:"test_dur_str"}),r.createElement("span",{className:n},s,e)):null}}));e.exports=l});C.r("akira/components/title/dvdAvailability.jsx",function(e,t,i){"use strict";var a=e("babel-runtime/helpers/defineProperty"),s=function(e){return e&&e.__esModule?e:{default:e}}(a),l=e("prop-types"),n=e("react"),d=e("create-react-class"),r=e("classnames"),o=e("../../utils/akiraContextTypes"),c=e("../../../utils/dvdApi"),v=e("../../../utils/Routes"),u="discovery/akira/JawBone",p=d({displayName:"DVDAvailability",contextTypes:Object.assign({getI18nString:l.func.isRequired},o),successRetrievingRentability:function(e){e&&(this.props.model.setValueSync(["dvdAvailable"],!!e.dvdAvailable),this.props.model.setValueSync(["dvdSaveable"],!!e.dvdSaveable),this.isMounted()&&this.setState((0,s.default)({},this.props.videoId,!0)))},getAvailability:function(){void 0===this.props.model.getValueSync(["dvdAvailable"])&&c.getRentabilityInfo(this.props.videoId,this.props.isShow).subscribe(this.successRetrievingRentability)},componentWillMount:function(){this.getAvailability()},componentWillReceiveProps:function(){this.getAvailability()},render:function(){var e=this.props.model;if(!e)return null;var t=e.getValueSync(["dvdAvailable"]),i=e.getValueSync(["dvdSaveable"]);if(t||i){var a=v.dvdMdp.makePath({id:this.props.videoId},{trkid:this.context.trackId});return n.createElement("a",{className:r("dvd-availability"),href:a},n.createElement("span",{className:r("icon-disc disc")}),t?n.createElement("span",{className:r("dvdAvailable")},this.context.getI18nString(u,"details.also.available.on.dvd")):null,!t&&i?n.createElement("span",{className:r("dvdSaveable")},this.context.getI18nString(u,"details.save.to.queue")):null)}return null}});t.exports=p});C.r("akira/components/title/evidence.jsx",function(e,t,c){"use strict";var n=e("prop-types"),a=e("react"),i=e("create-react-class"),s=e("../../utils/setDataAsProps.jsx"),r=e("classnames");t.exports=s(i({displayName:"Evidence",contextTypes:{getI18nString:n.func.isRequired},getDefaultProps:function(){return{evidence:{}}},statics:{getPaths:function(e,t,c){return{myPaths:{evidence:["evidence"]},childrenPaths:[]}}},render:function(){var e=this.props.evidence;return"watched"===e.type&&e.value?a.createElement("div",{className:r("evidence","title-evidence"),key:"titleEvidence"},a.createElement("img",{src:e.value.image.url,className:r("evidence-boxart")}),a.createElement("p",{className:r("evidence-text")},this.context.getI18nString("discovery/akira/Title","evidence.watched.by",{title:e.value.title}))):"hook"===e.type&&e.value?a.createElement("div",{className:r("evidence","hook-evidence"),key:"hookEvidence"},a.createElement("span",{className:r("evidence-icon icon-"+e.value.kind)}),a.createElement("p",{className:r("evidence-text")},e.value.text)):null}}))});C.r("akira/components/title/genres.jsx",function(e,t,s){"use strict";var n=e("prop-types"),r=e("react"),a=e("create-react-class"),i=e("classnames"),l=e("../controls/mainViewLink.jsx"),c=e("../../containers/inlineList.jsx"),o=e("../../containers/verticalList.jsx"),u=e("../../utils/setDataAsProps.jsx"),g=e("../../utils/linkDefs.jsx"),m="discovery/akira/Title";t.exports=u(a({displayName:"GenreList",contextTypes:{getI18nString:n.func.isRequired},getDefaultProps:function(){return{genres:[],maxResults:50}},statics:{getPaths:function(e,t,s){return{myPaths:{genres:["genres",{to:s.maxResults||50},["id","name"]]},childrenPaths:[]}}},render:function(){var e=this.props,t=e.genres,s=e.maxResults,n=e.layout,a=t.length,u=Math.min(a,s);if(a){var p=t.slice(0,u).map(function(e,t){return r.createElement(l,{resolver:g.getGenreRoute,params:{id:e.id},key:"genre-"+t},e.name)});return"inline"===n?r.createElement(c,{className:i("genres"),label:this.context.getI18nString(m,"genres.label.with.colon"),items:p}):"vertical"===n?r.createElement(o,{className:i("genres"),label:this.context.getI18nString(m,"genres.label"),items:p}):null}return null}}))});C.r("akira/components/title/globalSupplementalAudioToggle.jsx",function(t,e,i){"use strict";var a=t("react"),s=t("create-react-class"),n=t("classnames"),o=t("../controls/svgButton.jsx"),l=t("prop-types"),r="discovery/akira/Title",u=s({displayName:"AudioToggle",contextTypes:{getModelData:l.func.isRequired,getI18nString:l.func.isRequired,playerApp:l.object.isRequired},getInitialState:function(){return{isMuted:this.context.playerApp.getAPI().playerApp.getSupplementalVideoMuteState(!1)}},handleAudioToggleClick:function(){var t=this.context.playerApp.getActionCreators();this.state.isMuted?t.playerUnmuteAll():t.playerMuteAll(),this.setState({isMuted:!this.state.isMuted})},render:function(){return a.createElement("div",{key:"audio-toggle",className:n("global-supplemental-audio-toggle",{"is-hidden":this.props.isHidden})},a.createElement(o,{onClick:this.handleAudioToggleClick,icon:this.state.isMuted?"audio-off":"audio-on",ariaLabel:this.state.muted?this.context.getI18nString(r,"actions.audioOff"):this.context.getI18nString(r,"actions.audioOn")}))}});e.exports=u});C.r("akira/components/title/matchScore.jsx",function(t,e,n){"use strict";var r=t("prop-types"),a=t("react"),s=t("create-react-class"),i=t("../../../utils/eventBus"),o=t("../../../common/svgIcon.jsx"),c=t("classnames"),m="discovery/akira/Common",u=s({displayName:"MatchScore",contextTypes:{getI18nString:r.func.isRequired},getInitialState:function(){return{wasUpdated:!1}},componentDidMount:function(){i.on("rating:set",this.onRating)},componentWillUnmount:function(){i.removeListener("rating:set",this.onRating)},onRating:function(t){this.isMounted()&&"thumb"===t.ratingType&&this.setState({wasUpdated:!0})},renderMatchScore:function(t,e){return t?a.createElement("span",{className:"match-score"},this.context.getI18nString(m,"rating.new")):e?a.createElement("span",{className:"match-score"},this.context.getI18nString(m,"rating.match",{matchScore:e})):null},render:function(){var t=this.props.model,e=this.props.rating||t&&t.getValueSync(["userRating"]),n=void 0,r=void 0,s=void 0;if(e&&(n=e.matchScore,r=e.userRating,s=e.tooNewForMatchScore,"thumb"===e.type)){var i={"rating-wrapper":!0,"no-rating":!(n||s)&&0===r},o="show-match-score";return 1!==r&&2!==r||(o=1===r?"show-thumb-down":"show-thumb-up"),a.createElement("span",{className:c(i)},a.createElement("div",{className:o+" rating-inner"+(this.state.wasUpdated?" updated":"")},this.renderThumb("thumb-down-filled","thumb-down"),this.renderThumb("thumb-up-filled","thumb-up"),this.renderMatchScore(s,n)))}return null},renderThumb:function(t,e){if(!t)return null;var n={thumb:!0},r="meta-thumb-container "+(e||"");return n[t]=!0,a.createElement("div",{className:r,key:t+"-container"},a.createElement(o,{name:t,key:t,classes:n}))}});e.exports=u});C.r("akira/components/title/maturityRating.jsx",function(t,e,i){"use strict";var r=t("prop-types"),n=t("react"),a=t("create-react-class"),s=t("lodash"),o=t("./complexMaturityAdvisories.jsx"),u=t("../../../utils/Routes"),c=t("../../../common/svgIcon.jsx"),l="discovery/akira/Title",m={NL:{707:"violence",708:"fear-anxiety",709:"sex",710:"discrimination",711:"drug-or-alcohol",712:"profanity"}},g=["NL"],p=["BR","GB","NL","KR"],y=["KR"],h=["GB","NL"],d=a({displayName:"MaturityRating",statics:{getPaths:function(){return[["maturity"]]}},contextTypes:{getI18nString:r.func.isRequired,models:r.object},getCountryGraphicClass:function(t,e){return"NL"===t?"nf-icon-button-icon icon-nicam-"+e:"maturity-rating-"+t+" maturity-rating-"+t+"-"+e},getCountrySVGIcon:function(t,e,i){return-1!==y.indexOf(t)?"maturity-rating-"+t+"-"+e+"-"+i:null},getMaturityGraphic:function(t,e){var i=s.get(t,"rating.value",""),r=i&&i.toUpperCase(),a=s.get(t,"rating.board",""),o=a&&a.toUpperCase(),l=s.get(t,"rating.maturityLevel"),m=-1!==g.indexOf(e),d=this.props.useCountryStyling&&-1!==p.indexOf(e),f=this.props.useCountryStyling&&-1!==y.indexOf(e),v=void 0,S=void 0;if(r){if(m||d)if(f){var x=this.getCountrySVGIcon(e,o,l);x&&(S=n.createElement(c,{name:x}))}else v="maturity-custom-styling "+this.getCountryGraphicClass(e,r),-1===h.indexOf(e)&&(S=r);else v="maturity-number",S=r;return this.props.withLinkToDetail?n.createElement("a",{key:"maturity-graphic",href:u.helpRatings.makePath(),className:v},S):n.createElement("span",{key:"maturity-graphic",className:v},S)}return null},getReasons:function(t,e){var i=t&&t.rating&&t.rating.reasons;return i&&i.length?i.map(function(t,i){var r=m[e]&&m[e][t.id];return r?n.createElement("span",{key:"maturity-reason-"+i,className:"maturity-reason nf-icon-button-icon icon-nicam-"+r}):null}):null},getDescription:function(t){return t&&t.rating&&t.rating.maturityDescription},renderSouthKoreaCustomStyling:function(t,e){var i=this.getDescription(t);return n.createElement("div",null,this.props.showLabel&&n.createElement("div",{className:"maturity-rating-label"},this.context.getI18nString(l,"maturity.rating.label")),n.createElement("div",{className:"maturity-rating inline-rating"},this.getMaturityGraphic(t,e),n.createElement("span",{className:"maturityDescription"},i)),n.createElement(o,{maturity:t,country:e}))},renderStandardStyling:function(t,e){var i=this.getDescription(t),r=s.get(t,"rating.value",""),a=[];return this.props.showLabel&&r&&a.push(n.createElement("div",{key:"maturityRatingLabel",className:"maturity-rating-label"},this.context.getI18nString(l,"maturity.rating.label"))),a.push(this.getMaturityGraphic(t,e)),this.props.withReasons&&a.push(this.getReasons(t,e)),this.props.withDescription&&i&&a.push(n.createElement("p",{key:"maturity-description",className:"maturityDescription"},i)),n.createElement("span",{className:"maturity-rating"},a)},render:function(){var t=this.props.model,e=this.props.maturity||t.getValueSync(["maturity"]),i=s.get(this.context.models,"geo.data"),r=s.get(i,"requestCountry.id","").toUpperCase();return e?"KR"===r&&this.props.useCountryStyling?this.renderSouthKoreaCustomStyling(e,r):this.renderStandardStyling(e,r):null}});e.exports=d});C.r("akira/components/title/myListButton.jsx",function(t,i,e){"use strict";var s=t("prop-types"),o=(t("../../entities/video.js").propType,t("react")),n=t("create-react-class"),a=t("lodash"),r=t("../controls/iconButton.jsx"),l=t("../controls/flatButton.jsx"),c=t("../controls/svgButton.jsx"),u=t("../../../utils/eventBus"),p=t("../../utils/akiraContextTypes"),d=t("shakti-platform/dist/ui/ShaktiProperties"),h=t("../../../utils/mylist_utils"),g=t("../../../components/presentationTracking/trackingComponents/logPresentationManually"),m=t("../../../components/presentationTracking/trackingComponents/getTrackingInfoFromContext"),y=t("../../../components/presentationTracking/trackingComponents/addToMyListButtonPresTracking"),v=t("../../../components/presentationTracking/trackingComponents/watchlistButtonPresTracking"),b=t("../../../components/presentationTracking/trackingComponents/boxartPresTracking"),S="discovery/akira/Common",T={inMyList:"inMyList",notInMyList:"notInMyList",adding:"adding",removing:"removing",error:"error"},f={general:"button.secondary.mylist",save:"button.secondary.save",inMyList:"my.list.remove",notInMyList:"my.list.add",adding:"my.list.adding",removing:"my.list.removing",error:"my.list.error"},x={general:"button.secondary.watchlist",save:"button.secondary.save",inMyList:"watchlist.remove",notInMyList:"watchlist.add",adding:"my.list.adding",removing:"my.list.removing",error:"my.list.error"},I={general:"button.secondary.caps.mylist",save:"button.secondary.caps.save",inMyList:"my.list.caps.remove",notInMyList:"my.list.caps.add",adding:"my.list.caps.adding",removing:"my.list.caps.removing",error:"my.list.caps.error"},L={general:"button.secondary.caps.watchlist",save:"button.secondary.caps.save",inMyList:"watchlist.caps.remove",notInMyList:"watchlist.caps.add",adding:"my.list.caps.adding",removing:"my.list.caps.removing",error:"my.list.caps.error"},k=n({displayName:"MyListButton",getInitialState:function(){return{titleState:void 0}},getDefaultProps:function(){return{useCapsForLabel:!0}},contextTypes:Object.assign({falcorModel:s.object,getI18nString:s.func.isRequired,models:s.object,getModelData:s.func.isRequired,isWatchlistLolomo:s.bool},p),pqls:{summary:["summary"],queue:["queue"],data:["data"],titleState:["titleState"],availability:["availability"],watchlistQueue:["watchlistQueue"]},isSaving:!1,toLabel:function(t){return this.props.useCapsForLabel?this.isWatchlist()?this.context.getI18nString(S,L[t]):this.context.getI18nString(S,I[t]):this.isWatchlist()?this.context.getI18nString(S,x[t]):this.context.getI18nString(S,f[t])},getTitleState:function(){var t=this.props.model,i=this.props.videoModel||{},e=i.queue||t&&t.getValueSync(this.pqls.queue),s=e&&e.inQueue,o=T.notInMyList;return this.state.titleState?o=this.state.titleState:!this.state.titleState&&s&&(o=T.inMyList),o},setTitleState:function(t,i,e){this.setState({titleState:t}),t||void 0===e||(e?u.emit("myList:remove:end",a.assign({},this.context,this.props)):u.emit("myList:add:end",a.assign({},this.context,this.props)),this.isSaving=!1,"function"==typeof this.props.onStateChange&&this.props.onStateChange(e)),this.isMounted()&&this.forceUpdate()},getLabel:function(){var t=this.getTitleState();return this.props.showToolTip||t!==T.inMyList&&t!==T.notInMyList||(t="save"===this.props.label?"save":"general"),this.toLabel(t)},getVideoId:function(){var t=this.props.model;return this.props.videoId||t&&t.getValueSync(this.pqls.summary)&&t.getValueSync(this.pqls.summary).id},getTrackId:function(){return this.context.trackId||this.props.trackId||0},isWatchlist:function(){return this.context.isWatchlistLolomo||void 0===this.context.isWatchlistLolomo&&this.context.getModelData("truths").isWatchlistEnabled},toggleQueue:function(t){if(t.stopPropagation(),t.preventDefault(),this.props.onClick&&this.props.onClick(t),!this.isSaving){this.isSaving=!0;var i=this.isWatchlist()?"watchlistButton":"addToMyListButton",e=this.props.logFocus(i,this.props.getTrackingInfoFromContext({},Object.keys(b.trackedFields))),s=this.props.model,o=this.props.videoModel||{},n=o.queue||(this.isWatchlist()?s&&s.getValueSync(this.pqls.watchlistQueue):s&&s.getValueSync(this.pqls.queue)),r=this.getVideoId(),l=this.getTrackId(),c=n&&n.inQueue,p=this.setTitleState.bind(this,null,r,c),d=this.errNext.bind(this,r,c);c?(u.emit("myList:remove:start",a.assign({},this.context,this.props)),this.setTitleState(T.removing),h.removeFromList(this.context.discoveryApp.getActionCreators(),r,l,{lolomoId:this.context.lolomoId}).subscribe(p,d)):(u.emit("myList:add:start",a.assign({},this.context,this.props)),this.setTitleState(T.adding),h.addToList(this.context.discoveryApp.getActionCreators(),r,l,{lolomoId:this.context.lolomoId}).subscribe(p,d)),e()}return!0},errNext:function(t,i){this.setTitleState("error",t,i),setTimeout(function(){this.isSaving=!1,this.setTitleState(null,t,i)}.bind(this),2e3)},renderButton:function(){var t=this.props.model,i=this.props.videoModel||{},e=t&&t.getValueSync(this.pqls.summary),s=i.availability||t&&t.getValueSync(this.pqls.availability),n=i.queue||(this.isWatchlist()?t&&t.getValueSync(this.pqls.watchlistQueue):t&&t.getValueSync(this.pqls.queue)),u=i.isOriginal||e&&e.isOriginal,p=s&&s.isPlayable,h=this.props.isComingSoon,g=this.props.forceDisplay,m=a.get(this,"context.models.truths.data.currentProfileIsKids"),y=d.get("netflix.ui.akira.kids.mylist.enabled");if(m&&!y)return null;if(!(u||p||h||g))return null;if(!n&&!h||!n.available)return null;var v=this.getLabel();if(this.props.flatButton)return o.createElement(l,{icon:n&&n.inQueue?"mylist-added":"mylist-add",label:v,ariaLabel:v,isTooltip:this.props.showToolTip,isPrimaryBtn:this.props.isPrimaryBtn,onClick:this.toggleQueue,tabIndex:this.props.tabIndex});if(this.props.svgButton){var b=n&&n.inQueue?"mylist-added":"mylist-add";return o.createElement(c,{icon:b,extraClass:"mylist-button",label:v,showToolTip:this.props.showToolTip,onClick:this.toggleQueue})}return o.createElement(r,{extraClass:"mylist-button",icon:n&&n.inQueue?"mylist-added":"mylist-add",label:v,tooltip:this.props.showToolTip,onClick:this.toggleQueue,tabIndex:this.props.tabIndex})},render:function(){var t=this.isWatchlist()?v:y;return o.createElement(t,{videoId:this.getVideoId(),trackId:this.getTrackId()},this.renderButton())},statics:{getPaths:function(t,i,e){return[["summary"],["queue"],["data"],["titleState"],["availability"]]}}});i.exports=g(m(k))});C.r("akira/components/title/myListMessage.jsx",function(t,e,s){"use strict";var i=t("prop-types"),a=t("react"),l=t("create-react-class"),o=t("../../utils/setDataAsProps.jsx");e.exports=o(l({displayName:"MyListMessage",contextTypes:{getI18nString:i.func.isRequired,getModelData:i.func.isRequired,isWatchlistLolomo:i.bool},getDefaultProps:function(){return{queue:{},availability:{}}},statics:{getPaths:function(t,e,s){return{myPaths:{queue:["queue"],availability:["availability"]},childrenPaths:[]}}},isWatchlist:function(){return this.context.isWatchlistLolomo||void 0===this.context.isWatchlistLolomo&&this.context.getModelData("truths").isWatchlistEnabled},render:function(){var t=this.props,e=t.queue,s=t.availability,i=!s.isPlayable,l=this.isWatchlist()?"watchlist.prepromo.message":"mylist.prepromo.message";return e.inQueue&&i?a.createElement("span",{className:"mylist-message"},this.context.getI18nString("discovery/akira/Title",l)):null}}))});C.r("akira/components/title/name.jsx",function(e,t,a){"use strict";var s=(e("prop-types"),e("react")),n=e("create-react-class"),r=e("classnames"),c=e("../../utils/setDataAsProps.jsx");t.exports=c(n({displayName:"TitleName",statics:{getPaths:function(e,t,a){return{myPaths:{name:["title"]},childrenPaths:[]}}},render:function(){var e=this.props.name;return e?s.createElement("span",{className:r("name")},e):null}}))});C.r("akira/components/title/playerFeatureBadge.jsx",function(e,a,t){"use strict";var r=e("react"),n=function(e){return r.createElement("span",{className:"player-feature-badge"},e.label)};a.exports=n});C.r("akira/components/title/playerSupportBadges.jsx",function(e,t,r){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}var n=e("babel-runtime/helpers/classCallCheck"),o=s(n),a=e("babel-runtime/helpers/createClass"),l=s(a),i=e("babel-runtime/helpers/possibleConstructorReturn"),u=s(i),p=e("babel-runtime/helpers/inherits"),c=s(p),b=e("prop-types"),m=e("react"),d=e("./playerFeatureBadge.jsx"),h=e("../../../common/svgIcon.jsx"),y="discovery/akira/Title",f=function(e){function t(e){return(0,o.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return(0,c.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.playerEnhancedFeatureSupport,r=e.videoModel.delivery;if(r&&t){if(r.hasDolbyVision&&r.hasDolbyAtmos&&t.supportsDolbyVision&&t.supportsDolbyAtmos)return m.createElement(h,{name:"dolby-vision-atmos"});if(r.hasDolbyVision&&t.supportsDolbyVision)return m.createElement(h,{name:"dolby-vision"});if(r.hasDolbyAtmos&&t.supportsDolbyAtmos)return m.createElement(h,{name:"dolby-atmos"});if(r.hasHDR&&t.supportsHDR)return m.createElement(d,{name:"hdr",label:this.context.getI18nString(y,"badge.hdr")});if(r.hasUltraHD&&t.supports4k)return m.createElement(d,{name:"4k",label:this.context.getI18nString(y,"badge.4k.ultra.hd")})}return null}}]),t}(m.Component);f.contextTypes={getI18nString:b.func.isRequired},t.exports=f});C.r("akira/components/title/supplementalMessage.jsx",function(e,s,t){"use strict";var a=(e("prop-types"),e("react")),p=e("create-react-class"),l=e("../../utils/setDataAsProps.jsx");s.exports=l(p({displayName:"SupplementalMessage",statics:{getPaths:function(e,s,t){return{myPaths:{dpSupplementalMessage:["dpSupplementalMessage"]},childrenPaths:[]}}},render:function(){var e=this.props.dpSupplementalMessage;return e?a.createElement("div",{className:"supplemental-message"},e):null}}))});C.r("akira/components/title/synopsis.jsx",function(s,t,e){"use strict";var i=(s("prop-types"),s("react")),r=s("create-react-class"),a=s("../../utils/setDataAsProps.jsx"),n=s("../../../utils/textUtils");t.exports=a(r({displayName:"Synopsis",statics:{getPaths:function(s,t,e){return{myPaths:{synopsis:["regularSynopsis"]},childrenPaths:[]}}},render:function(){var s=this.props,t=s.synopsis,e=s.maxLength;return t?i.createElement("div",{className:"synopsis"},n.ellipsize(t,e||200)):null}}))});C.r("akira/components/title/tags.jsx",function(t,e,s){"use strict";var a=t("prop-types"),n=t("react"),i=t("create-react-class"),r=t("classnames"),l=t("../controls/mainViewLink.jsx"),o=t("../../containers/inlineList.jsx"),c=t("../../containers/verticalList.jsx"),m=t("../../utils/setDataAsProps.jsx"),u=t("../../../utils/Routes"),g="discovery/akira/Title",h={show:"tags.show.label.with.colon",movie:"tags.movie.label.with.colon"},p={show:"tags.show.label",movie:"tags.movie.label"};e.exports=m(i({displayName:"TagsList",contextTypes:{getI18nString:a.func.isRequired},getDefaultProps:function(){return{tags:[],summary:{},maxResults:50}},statics:{getPaths:function(t,e,s){return{myPaths:{summary:["summary"],tags:["tags",{to:s.maxResults||50},["id","name"]]},childrenPaths:[]}}},getLabel:function(){var t=this.props,e=t.summary,s=t.layout;return"inline"===s?this.context.getI18nString(g,h[e.type]):"vertical"===s?this.context.getI18nString(g,p[e.type]):null},render:function(){var t=this.props,e=t.tags,s=t.layout,a=t.maxResults,i=t.useLowerCase,m=e.length,g=Math.min(m,a),h=void 0;if(m){var p=e.slice(0,g).map(function(t,e){return h=t.name&&(i?t.name.toLowerCase():t.name),n.createElement(l,{to:u.genre,params:{id:t.id},key:"tag-"+e},h)});return"inline"===s?n.createElement(o,{className:r("tags"),label:this.getLabel(),items:p}):"vertical"===s?n.createElement(c,{className:r("tags"),label:this.getLabel(),items:p}):null}return null}}))});C.r("akira/components/title/thumbs.jsx",function(t,e,a){"use strict";var s=t("prop-types"),r=t("react"),i=t("create-react-class"),n=t("lodash"),o=t("classnames"),l=t("../../../utils/eventBus"),u=t("../../utils/akiraContextTypes"),d=t("../../containers/modal/modalManager.jsx"),h=t("../../containers/modal/rating.jsx"),c=t("../controls/svgButton.jsx"),p=t("../../redux/eventUuidUtils"),m=p.ensureWithRandomUuid,g=o("clear-rating"),b={NOT_RATED:0,DISLIKED:1,LIKED:2},v=i({displayName:"Thumbs",contextTypes:Object.assign({models:s.object},u),_modalTimeout:void 0,getDefaultProps:function(){return{allowModal:!0,vertical:!1,canClear:!1}},getInitialState:function(){return{wasUpdated:!1,showProfile:!1,showFirstThumbMessage:n.get(this.context.models,"userInfo.data.ratings.showFirstThumbMessage",!1),userRating:void 0}},handleClick:function(t){var e=parseInt(t.target.getAttribute("data-rating"),10)||0,a="true"===t.target.getAttribute("data-clear-thumbs");this.props.canClear&&!a&&0===e||this.props.videoId&&(this.sendRating(e),this.attemptToDisplayModal(e),"function"==typeof this.props.onRating&&this.props.onRating(e,this,t))},attemptToDisplayModal:function(t){if(this.props.allowModal){var e=this,a=window.pathEvaluator,s=a.getValueSync(["profilesList","current","summary"]);if(s&&s.profileName){var r={firstName:s.profileName,thumbNumber:t},i=["rating-modal"];n.get(this,"context.models.truths.data.currentProfileIsKids")&&i.push("kidsPage"),this.state.showFirstThumbMessage&&(this._modalTimeout=setTimeout(function(){d.open(h,{name:"ratingModal",additionalClasses:i,contentProps:r}),e.setState({showFirstThumbMessage:!1}),n.set(e.context.models,"userInfo.data.ratings.showFirstThumbMessage",!1)},1400))}}},emitRatingEvent:function(t,e,a){l.emit("rating:set",n.assign({rating:t,ratingType:"thumb",matchScore:e,tooNewForMatchScore:a,videoId:this.props.videoId},this.context,{trackId:this.props.trackId?this.props.trackId:this.context.trackId}))},sendRating:function(t){var e=void 0,a=void 0,s=void 0,r=void 0,i=this.props.model;i?(e=i.getValueSync(["userRating"]))&&(r=e.userRating,a=e.matchScore,s=e.tooNewForMatchScore,e.userRating=t,i.setValueSync(["userRating"],e)):(r=this.props.userRating,a=this.props.matchScore,s=this.props.tooNewForMatchScore),this.emitRatingEvent(t,a,s),this.context.discoveryApp.getActionCreators().setThumbRating(m({titleId:this.props.videoId,trackId:this.props.trackId||this.context.trackId||-1,rating:t})),this.setState({wasUpdated:!0,previousRating:r})},componentWillUnmount:function(){window.clearTimeout(this._modalTimeout)},getRatingScore:function(){return void 0!==this.state.userRating?this.state.userRating:void 0!==this.props.userRating&&null!==this.props.userRating?this.props.userRating:this.props.model?(this.props.model.getValueSync(["userRating"])||{}).userRating:b.NOT_RATED},renderClear:function(){return this.props.canClear?r.createElement("span",{className:g,"data-rating":"0","data-clear-thumbs":"true"},""):null},renderLabel:function(){return this.props.unratedLabel?r.createElement("span",{role:"presentation",className:"ratingCTA"},r.createElement("span",{className:"label ratedLabel"},this.props.ratedLabel),r.createElement("span",{className:"label unratedLabel"},this.props.unratedLabel)):null},renderThumb:function(t,e){var a=void 0,s=void 0,i=void 0;switch(t){case"down":a=1===e?0:1,s="thumb-down"+(1===e?"-filled":""),i="thumb-container thumb-down-container ";break;case"up":a=2===e?0:2,s="thumb-up"+(2===e?"-filled":""),i="thumb-container thumb-up-container "}return r.createElement(c,{icon:s,extraClass:i,attributes:{"data-rating":a}})},render:function(){var t=this.getRatingScore(),e=o("thumbs-component thumbs",{"thumbs-vertical":this.props.vertical,"thumbs-horizontal":!this.props.vertical&&!this.props.alignRight,"thumbs-horizontal-align-right":!this.props.vertical&&this.props.alignRight,animated:!this.props.canClear,unrated:t===b.NOT_RATED,rated:t!==b.NOT_RATED,"rated-down":t===b.DISLIKED,"rated-up":t===b.LIKED,updated:this.state.wasUpdated},this.props.extraClass);return r.createElement("div",{className:e,onClick:this.handleClick},this.renderThumb("up",t),this.renderThumb("down",t),this.renderClear(),this.renderLabel())}});e.exports=v});C.r("akira/components/title/userRating.jsx",function(e,t,s){"use strict";var r=e("prop-types"),o=(e("../../entities/video.js").propType,e("react")),a=e("create-react-class"),i=e("lodash"),n=e("./matchScore.jsx"),p=a({displayName:"UserRating",contextTypes:{models:r.object.isRequired},render:function(){var e=this.context.models;return i.get(e,"truths.data.showRatings",!0)?o.createElement(n,{model:this.props.model,readOnly:this.props.readOnly,extraClass:this.props.extraClass,rating:this.props.videoModel&&this.props.videoModel.userRating}):null}});t.exports=p});C.r("akira/components/title/videoMeta.jsx",function(e,t,a){"use strict";var s=e("prop-types"),r=(e("../../entities/video.js").propType,e("react")),n=e("create-react-class"),i=e("../title/duration.jsx"),o=e("./maturityRating.jsx"),l=e("./userRating.jsx"),u=e("../../containers/title/playerSupportBadgesContainer.js"),m=e("../../../utils/titles/interactiveTitles"),c=n({displayName:"VideoMeta",contextTypes:{discoveryApp:s.object.isRequired,models:s.object,getI18nString:s.func.isRequired},statics:{getPaths:function(e,t,a){return[[["summary","runtime","interactiveBookmark","seasonCount","releaseYear","userRating","userRatingRequestId","numSeasonsLabel","delivery"]]].concat(o.getPaths(e,t,a))}},render:function(){var e=this.props,t=e.model,a=e.readOnly,s=e.suppressRatings,n=e.suppressYear,c=e.suppressMaturityRating,y=e.suppressDuration,d=e.withMaturityReasons,p=e.ratingsLastPosition,g=e.showPlayerFeatureSupport,v=this.props.videoModel||{},S=v.releaseYear||t&&t.getValueSync(["releaseYear"]),k=v.seasonCount||t&&t.getValueSync(["seasonCount"]),R=v.numSeasonsLabel||t&&t.getValueSync(["numSeasonsLabel"]),h=t&&t.getValueSync(["summary"]),j=v.runtime||t&&t.getValueSync(["runtime"]);v.delivery=v.delivery||t&&t.getValueSync(["delivery"]);var M=v.interactiveBookmark||t&&t.getValueSync(["interactiveBookmark"]);if(M&&m.isValidInteractiveBookmark(M)){var x=M.displayRuntime;"number"!=typeof x||isNaN(x)||(j=x)}var V=v&&v.maturity;if(this.props.model&&!h)return null;var C=this.context.discoveryApp.getAPI().geo.showDurationOnlyInMinutes();return r.createElement("div",{className:"meta"},!s&&!p&&r.createElement(l,{key:"ratings",model:t,videoModel:v,extraClass:"jawmetastars",readOnly:a}),!n&&r.createElement("span",{key:"year",className:"year"},S||""),!c&&r.createElement(o,{key:"maturityRating",model:t,maturity:V,withReasons:d}),!y&&r.createElement(i,{onlyInMinutes:C,runtime:j,seasonCount:k,numSeasonsLabel:R}),g&&r.createElement(u,{videoModel:v}),!s&&p&&r.createElement(l,{key:"ratings",model:t,videoModel:v,extraClass:"jawmetastars",readOnly:a}))}});t.exports=c});C.r("akira/components/titleCard/errorTitleCard.jsx",function(r,e,a){"use strict";var t=r("react"),s=r("classnames"),c=function(r){var e=r.className;return t.createElement("div",{className:s(e,"error-title-card")})};e.exports=c});C.r("akira/components/titleCard/tinyTitleCard.jsx",function(e,t,a){"use strict";var r=e("prop-types"),n=e("react"),o=e("create-react-class"),s=e("react-dom"),i=e("../controls/playbutton.jsx"),c=e("../../../common/imageExtension"),l="_233x131",u=o({displayName:"TinyTitleCard",contextTypes:{models:r.object.isRequired},statics:{extension:function(e){return c.getExtensionForOpaqueImage(e)},getPaths:function(e,t,a){return[["summary"],["boxarts",l,c.getExtensionForOpaqueImage(e)]].concat(i.getPaths())},getSize:function(){return l}},placeHolder:function(){var e="lockup title_card "+(this.props.className||"");return n.createElement("div",{className:e},n.createElement("div",{className:"video-artwork tc-load"},"Loading..."))},clickPlayButton:function(){this.refs.playButton&&s.findDOMNode(this.refs.playButton).click()},render:function(){var e=u.extension(this.context.models),t=this.props.model,a=t.getValueSync(["summary"]),r=t.getValueSync(["boxarts",l,e]),o="lockup title_card "+(this.props.className||"");if(!a)return this.placeHolder();if(!r)return null;var s="video-artwork-"+a.id,c={backgroundImage:"url("+r.url+")"};return n.createElement("div",{id:s,key:s,className:o,onClick:this.clickPlayButton},n.createElement("div",{className:"video-artwork",style:c},n.createElement(i,{ref:"playButton",model:t,className:"evidencePlay"})))}});t.exports=u});C.r("akira/components/titleCard/titleCard.jsx",function(e,t,i){"use strict";var a=(e("prop-types"),e("react")),s=e("create-react-class"),r=e("react-transition-group/TransitionGroup"),n=e("classnames"),o=e("./errorTitleCard.jsx"),l=e("../controls/progress.jsx"),c=e("../../../utils/cssAnimation"),d=e("../../../components/presentationTracking/trackingComponents/boxartPresTracking"),m=e("./titleCardFocus.jsx"),p=e("../artwork/BoxartContainer.jsx"),u=s({displayName:"TitleCard",node:null,getAnimationStyle:function(){var e=this.props,t=e.videoModel.id,i=e.animateIn,a=t%20*2.5/100+.3;return i?c.getAnimationStyle({keyframes:{delay:a+"s"}}):{}},handleMouseEnter:function(e){this.props.onMouseEnter&&this.props.onMouseEnter(this.node,e)},handleMouseLeave:function(e){this.props.onMouseLeave&&this.props.onMouseLeave(this.node,e)},onAnchorClick:function(e){var t=this.props.onClick;t&&(e.preventDefault(),t())},render:function(){var e=this,t=this.props,i=t.isInvalid,s=t.itemTabbable,c=t.isDisliked,u=t.isFocused,h=t.isDimmed,y=t.isBobOpen,M=t.videoModel,g=t.watchURL,k=t.animateIn,E=t.model,v=t.showProgress,b=t.rowNum,x=t.rankNum,f=n({"title-card":!0,"is-bob-open":y,"animate-in":k,"is-focused":u,"is-dimmed":h,"is-disliked":c}),C="title-card-"+(void 0!==b?b:-1)+"-"+(void 0!==x?x:-1);return i?a.createElement(o,{className:n(f,"boxart-size-16x9")}):a.createElement("div",{className:"title-card-container"},a.createElement("div",{ref:function(t){e.node=t},id:C,style:this.getAnimationStyle(),className:n(f,this.props.className),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},a.createElement(d,{videoId:M.id,imageKey:M.imageKey,maturityMisMatchEdgy:M.maturityMisMatchEdgy,maturityMisMatchNonEdgy:M.maturityMisMatchNonEdgy},a.createElement("a",{href:g,onClick:this.onAnchorClick,"aria-label":M.title?M.title:null,tabIndex:s?0:-1,"aria-hidden":!s,className:"slider-refocus"},a.createElement(p,{className:"boxart-size-16x9",title:M.title},a.createElement("img",{className:"boxart-image boxart-image-in-padded-container",src:M.image,alt:""})))),u&&a.createElement(m,{model:E,playbackQueryParams:this.props.playbackQueryParams}),this.props.children&&a.createElement(r,null,this.props.isBobOpen&&this.props.children)),v&&a.createElement(l,{runtime:M.episodeRuntime,bookmarkPosition:M.episodeBookmark,current:!0,showSummary:!1}))}});t.exports=u});C.r("akira/components/titleCard/titleCardFocus.jsx",function(t,e,s){"use strict";var a=t("react"),n=t("react-dom"),r=t("create-react-class"),i=(t("prop-types"),t("../../../utils/transition")),o=t("../controls/playbutton.jsx"),c=r({displayName:"TitleCardFocus",getDefaultProps:function(){return{transitions:{fadeIn:300,fadeOut:300}}},componentDidMount:function(){i.show(n.findDOMNode(this),Object.assign({},i.presets.fadeIn,{duration:this.props.transitions.fadeIn}))},componentWillUnmount:function(){this.props.transitions.fadeOut&&i.hide(n.findDOMNode(this),Object.assign({},i.presets.fadeOut,{duration:this.props.transitions.fadeOut}))},render:function(){return a.createElement("div",{className:"title-card-jawbone-focus"},a.createElement("div",{className:"title-card-focus-ring"}),a.createElement(o,{ref:"playButton",model:this.props.model,className:"title-card-play",playbackQueryParams:this.props.playbackQueryParams}))}});e.exports=c});C.r("akira/components/titleCard/titleCardShortForm.jsx",function(e,t,i){"use strict";var s=e("prop-types"),a=e("react"),r=e("create-react-class"),o=e("react-transition-group/TransitionGroup"),n=e("classnames"),l=e("./errorTitleCard.jsx"),c=e("../controls/progress.jsx"),d=e("../../../utils/cssAnimation"),m=e("../../../components/presentationTracking/trackingComponents/boxartPresTracking"),p=e("./titleCardFocus.jsx"),u=e("../artwork/BoxartContainer.jsx"),h=e("../title/duration.jsx"),y=e("../../../utils/textUtils"),E=r({displayName:"TitleCard",contextTypes:{getModelData:s.func.isRequired},node:null,getAnimationStyle:function(){var e=this.props,t=e.videoModel.id,i=e.animateIn,s=t%20*2.5/100+.3;return i?d.getAnimationStyle({keyframes:{delay:s+"s"}}):{}},handleMouseEnter:function(e){this.props.onMouseEnter&&this.props.onMouseEnter(this.node,e)},handleMouseLeave:function(e){this.props.onMouseLeave&&this.props.onMouseLeave(this.node,e)},onAnchorClick:function(e){var t=this.props.onClick;t&&(e.preventDefault(),t())},render:function(){var e=this,t=this.props,i=t.isInvalid,s=t.itemTabbable,r=t.isDisliked,d=t.isFocused,E=t.isDimmed,M=t.isBobOpen,g=t.videoModel,v=t.watchURL,k=t.animateIn,x=t.model,b=t.rowNum,f=t.rankNum,N=n({"title-card":!0,"is-bob-open":M,"animate-in":k,"is-focused":d,"is-dimmed":E,"is-disliked":r}),C=this.context.getModelData("truths").shortformEpisodeDurationVisible,T="title-card-"+(void 0!==b?b:-1)+"-"+(void 0!==f?f:-1);return i?a.createElement(l,{className:n(N,"boxart-size-16x9")}):a.createElement("div",{className:"title-card-container"},a.createElement("div",{ref:function(t){e.node=t},id:T,style:this.getAnimationStyle(),className:n(N,this.props.className),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},a.createElement(m,{videoId:g.id,imageKey:g.imageKey,maturityMisMatchEdgy:g.maturityMisMatchEdgy,maturityMisMatchNonEdgy:g.maturityMisMatchNonEdgy},a.createElement("a",{href:v,onClick:this.onAnchorClick,"aria-label":g.title?g.title:null,tabIndex:s?0:-1,"aria-hidden":!s,className:"slider-refocus"},a.createElement(u,{className:"boxart-size-16x9",title:g.title},a.createElement("img",{className:"boxart-image boxart-image-in-padded-container",src:g.image,alt:""})))),d&&a.createElement(p,{model:x,playbackQueryParams:this.props.playbackQueryParams}),this.props.children&&a.createElement(o,null,this.props.isBobOpen&&this.props.children),C&&a.createElement("div",{className:"title-card-duration"},a.createElement(h,{runtime:g.episodeRuntime||0}))),g.synopsis&&a.createElement("div",{className:"title-card-synopsis"},y.ellipsize(g.synopsis,50)),this.props.showProgress&&a.createElement(c,{runtime:g.episodeRuntime,bookmarkPosition:g.episodeBookmark,current:!0,showSummary:!1}))}});t.exports=E});C.r("akira/components/titleCard/titleCardTallPanel.jsx",function(e,t,a){"use strict";var n=(e("prop-types"),e("react")),i=e("create-react-class"),r=e("react-transition-group/TransitionGroup"),s=e("classnames"),o=e("./errorTitleCard.jsx"),l=e("../controls/progress.jsx"),c=e("../../../utils/cssAnimation"),m=e("../../../components/presentationTracking/trackingComponents/boxartPresTracking"),d=e("./titleCardFocus.jsx"),p=e("../artwork/BoxartContainer.jsx"),u=e("../../../components/CenteredImage.jsx"),h=i({displayName:"TitleCard",node:null,getAnimationStyle:function(){var e=this.props,t=e.videoModel,a=e.animateIn,n=t&&t.id%20*2.5/100+.3;return a?c.getAnimationStyle({keyframes:{delay:n+"s"}}):{}},handleMouseEnter:function(e){this.props.onMouseEnter&&this.props.onMouseEnter(this.node,e)},handleMouseLeave:function(e){this.props.onMouseLeave&&this.props.onMouseLeave(this.node,e)},renderTallPanel:function(){var e=this.props.videoModel,t=s("boxart-size-1x2","boxart-tall-panel"),a=e||{},i=a.tallImage,r=a.tallImageFocalPoint;return i?n.createElement(p,{className:t,title:e.title},r?n.createElement(u,{url:i,className:t,focalPoint:{x:r.x,containerWidth:342,imageWidth:848}}):n.createElement("img",{className:"boxart-image-tall boxart-image-in-padded-container",src:i,alt:""})):null},render:function(){var e=this,t=this.props,a=t.isInvalid,i=t.itemTabbable,c=t.isDisliked,u=t.isFocused,h=t.isDimmed,b=t.isBobOpen,x=t.videoModel,g=t.watchURL,v=t.animateIn,k=t.model,E=t.showProgress,y=t.rowNum,f=t.rankNum,M=s({"title-card":!0,"slider-refocus":!0,"title-card-tall-panel":!0,"is-bob-open":b,"animate-in":v,"is-focused":u,"is-dimmed":h,"is-disliked":c}),N="title-card-"+(void 0!==y?y:-1)+"-"+(void 0!==f?f:-1);return a?n.createElement(o,{className:s(M,"boxart-size-16x9")}):n.createElement("div",{className:"title-card-container"},n.createElement("div",{ref:function(t){e.node=t},id:N,style:this.getAnimationStyle(),className:s(M,this.props.className),tabIndex:i?0:-1,role:i?"link":null,"aria-label":x.title?x.title:null,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:this.props.onClick,onKeyDown:this.props.onKeyDown},n.createElement(m,{videoId:x.id,imageKey:x.tallImageKey},n.createElement("a",{href:g,onClick:function(e){return e.preventDefault()}},n.createElement(p,{className:"boxart-size-16x9",title:x.title},n.createElement("img",{className:"boxart-image boxart-image-in-padded-container",src:x.wideImage,alt:""}))),this.renderTallPanel()),u&&n.createElement(d,{model:k,playbackQueryParams:this.props.playbackQueryParams}),this.props.children&&n.createElement("div",{className:"bob-container-tall-panel"},n.createElement(r,null,this.props.isBobOpen&&this.props.children))),E&&n.createElement(l,{runtime:x.episodeRuntime,bookmarkPosition:x.episodeBookmark,current:!0,showSummary:!1}))}});t.exports=h});C.r("akira/containers/akiraPlayerContainer.js",function(e,s,i){"use strict";var o=e("../../player/app/connect/connectToApps"),n=e("../views/akiraPlayer.jsx"),r=function(e,s){var i=e.playerApp.getAPI(),o=i.postPlay,n=i.videoPlayer,r=i.playerApp,t=s.playerSessionId,a=n.isVideoEndedBySessionId(t),d=r.getCurrentVideoIdBySessionId(t),l=o.getExperienceAPIByVideoId(d),g=l.getInitialItemAPI().getFirstPlayTypeActionAPI(),c=r.getAdvisoriesForSessionId(t),S=!1,y=!1,p=!1,I=!1;if(i.branching){S=i.branching.shouldShowInteractiveScene(t),I=i.branching.interactiveSceneInTransition(t);var P=n.isVideoPlayingForSessionId(t);p=i.branching.shouldPauseVideoForCurrentInteractiveScene(t),y=p?!!S:I||!(!S||!P)}return{advisories:c&&c.length?c:void 0,isNetworkCongested:r.isNetworkCongested(),isBuffering:n.isBufferingBySessionId(t),isVideoEnded:a,isVideoReadyForSeamlessTransition:n.isVideoReadyForSeamlessTransition(t,g.getVideoId()),isVideoTransitioningSeamlessly:n.isPlayerTransitioningSeamlessly(t),bufferingProgress:n.getBufferingProgressBySessionId(t),congestedNetworkName:r.getCongestedNetworkName(),postPlayExperienceAPI:l,showReportAProblemDialog:r.shouldShowRAPBySessionId(t),showSeamlessControls:r.shouldShowSeamlessControlsBySessionId(t)||a,showSeamlessExperience:r.shouldShowSeamlessExperienceBySessionId(t),shouldShowInteractiveScene:S,isInteractiveSceneTransitioning:I,shouldFadePlayerControlsBar:y,showInterstitialPostPlay:S&&p,reportAProblemRequestPending:r.getRequestPendingForRAPBySessionId(t),reportAProblemRequestSuccess:r.getRequestSuccessForRAPBySessionId(t)}},t=o(r,void 0,void 0,{appKeys:["playerApp"]})(n);s.exports=t});C.r("akira/containers/aroGenreContainer.js",function(r,e,n){"use strict";var s=r("../views/aroGenre.jsx"),a=r("../utils/falcorConnect.jsx"),o=a(s);e.exports=o});C.r("akira/containers/aroGenreHeaderContainer.js",function(e,r,a){"use strict";var n=e("./subHeaders/aroGenreHeader.jsx"),s=e("../utils/falcorConnect.jsx"),o=s(n);r.exports=o});C.r("akira/containers/audioAndSubtitlesHeaderContainer.js",function(e,s,t){"use strict";var a=e("./subHeaders/audioAndSubtitlesHeader.jsx"),r=e("../utils/falcorConnect.jsx"),i=r(a);s.exports=i});C.r("akira/containers/baseRouteHandlerContainer.js",function(e,o,s){"use strict";var r=e("../../player/app/connect/connectToApps"),p=e("../components/appBase/baseRouteHandler.jsx"),a=function(e){var o=e.discoveryApp.getAPI(),s=o.discovery,r=o.profile,p=r.hasProfileMisMatch();return{isRefreshingApp:s.isRefreshingApp(),forceUpdateCount:s.getForceUpdateCount(),showProfileMisMatchMessage:p}},n=r(a,void 0,void 0,{appKeys:["discoveryApp"]})(p);o.exports=n});C.r("akira/containers/episodesContainer.js",function(s,e,o){"use strict";var i=s("./jawbone/episodes/episodes.jsx"),n=s("../utils/falcorConnect.jsx"),r=n(i);e.exports=r});C.r("akira/containers/episodesListContainer.js",function(s,e,i){"use strict";var o=s("./jawbone/episodes/episodesList.jsx"),t=s("../utils/falcorConnect.jsx"),n=t(o);e.exports=n});C.r("akira/containers/footer/appFooter.jsx",function(e,t,n){"use strict";var i=e("prop-types"),r=e("react"),a=e("create-react-class"),o=e("lodash"),s=e("classnames"),l=e("shakti-platform/dist/ui/ShaktiProperties"),c=e("../../../utils/eventBus"),m=e("./serviceCode.jsx"),u=e("../../../common/svgIcon.jsx"),k="discovery/akira/Footer",d=["facebook","instagram","twitter","youtube"],p={audioDescription:"link.audioDescription",audioAndSubtitles:"link.audioAndSubtitles",giftCard:"link.giftCard",helpCenter:"link.helpCenter",jobs:"link.jobs",mediaCenter:"link.mediaCenter",blog:"link.blog",investors:"link.investors",privacy:"link.privacy",cookies:"link.cookies",tou:"link.tou",jpTransactions:"link.jpTransactions",updatedLink:"link.updatedLink",corporateInformation:"link.corporateInformation",legalNotices:"link.legalNotices",contactUs:"link.contactUs"},g=a({displayName:"NewFooter",contextTypes:{getI18nString:i.func.isRequired,models:i.object},statics:{getPaths:function(e,t,n){return l.get("netflix.ui.akira.enable.social.links")?[["socialLinks",d]]:[]}},shouldComponentUpdate:function(){return!1},generateLinks:function(e){var t=this;return o.map(e,function(e){var n=null;return e.updated&&(n=r.createElement("span",{className:"member-footer-link-update"}," *"+t.context.getI18nString(k,"link.updatedLink")+"* ")),r.createElement("li",{key:e.labelKey,className:"member-footer-link-wrapper"},r.createElement("a",{className:"member-footer-link",href:e.url},n,r.createElement("span",{className:"member-footer-link-content"},t.context.getI18nString(k,p[e.labelKey]))))})},getCopyrightSection:function(e){return e.showKoreaFooterDisclaimer?r.createElement("div",{className:"copy-text"},this.context.getI18nString("common/footerResponsive","footer.responsive.disclaimer.kr")):r.createElement("span",null,this.context.getI18nString(k,"copyright",{currentYear:(new Date).getFullYear()}),"")},getSocialLinks:function(){var e=this.props.model.bind(["socialLinks"]);return d.reduce(function(t,n){var i=e.getValueSync(n);return i&&(t[n]=i),t},{})},renderSocialLinks:function(e){var t=s("social-link");return r.createElement("div",{className:s("social-links")},Object.keys(e).map(function(n){return r.createElement("a",{key:n,className:t,href:e[n],onClick:function(){return c.emit("socialLink:click",{service:n})},target:"_blank","aria-label":n},r.createElement(u,{name:n+"-logo"}))}))},render:function(){var e=o.get(this.context.models,"footerContent.data",""),t=o.get(this,"context.models.truths.data.currentProfileIsKids"),n=o.get(this.context.models,"serverDefs.data.instance",""),i=!t&&this.getSocialLinks(),a=i&&l.get("netflix.ui.akira.enable.social.links")&&Object.keys(i).length>0;return r.createElement("div",{role:"contentinfo",className:"member-footer"},a&&this.renderSocialLinks(i),r.createElement("ul",{className:"member-footer-links"},this.generateLinks(e.links)),r.createElement("div",{className:"member-footer-service"},r.createElement(m,null)),r.createElement("div",{className:"member-footer-copyright"},this.getCopyrightSection(e),r.createElement("span",{className:"member-footer-copyright-instance"},"{"+n+"}")))}});t.exports=g});C.r("akira/containers/footer/serviceCode.jsx",function(e,t,r){"use strict";var i=e("lodash"),s=e("prop-types"),o=e("react"),c=e("create-react-class"),a=e("../../utils/serviceCode"),n=c({displayName:"ServiceCode",contextTypes:{getI18nString:s.func.isRequired,models:s.object.isRequired},getInitialState:function(){return{serviceCode:null}},fetchServiceCode:function(){var e=this;a.fetchServiceCode().subscribe(function(t){e.setState({serviceCode:a.formatAuthCode(i.get(t,"data.authCode","888000"))})},function(t){e.setState({serviceCode:a.formatAuthCode(i.get(t,"data.authCode","888000"))})})},render:function(){var e=i.isNull(this.state.serviceCode)?this.context.getI18nString("discovery/akira/Footer","serviceCode"):this.state.serviceCode;return i.get(this.context.models,"truths.data.masquerading")?null:o.createElement("button",{className:"service-code",onClick:this.fetchServiceCode},e)}});t.exports=n});C.r("akira/containers/footer/slimFooter.jsx",function(e,t,r){"use strict";var n=e("lodash"),o=e("prop-types"),i=e("react"),a=e("create-react-class"),s={privacy:"link.privacy",cookies:"link.cookies",tou:"link.tou"},c=a({displayName:"SlimFooter",contextTypes:{getI18nString:o.func.isRequired,models:o.object.isRequired},shouldComponentUpdate:function(){return!1},generateLink:function(e){return i.createElement("li",{key:e.labelKey,className:"member-footer-link-wrapper"},i.createElement("a",{className:"member-footer-link",href:e.url},i.createElement("span",{className:"member-footer-link-content"},this.context.getI18nString("discovery/akira/Footer",s[e.labelKey]))))},generateLinks:function(e){var t=this;return e.filter(function(e){return["tou","privacy","cookies"].indexOf(e.labelKey)>-1}).map(function(e){return t.generateLink(e)})},render:function(){var e=n.get(this.context.models,"footerContent.data","");return i.createElement("div",{role:"contentinfo",className:"member-footer"},i.createElement("ul",{className:"member-footer-links"},this.generateLinks(e.links)))}});t.exports=c});C.r("akira/containers/freezeOnChangedPageKey.jsx",function(e,n,r){"use strict";var t=e("prop-types"),a=e("react"),s=e("create-react-class"),p=s({displayName:"FreezeOnChangedPageKey",propTypes:{children:t.node},contextTypes:{pageKey:t.string.isRequired},shouldComponentUpdate:function(e,n,r){return this.context.pageKey===r.pageKey},render:function(){return this.props.children||a.createElement("div",null)}});n.exports=p});C.r("akira/containers/freezeWrapper.jsx",function(e,r,t){"use strict";var n=(e("prop-types"),e("create-react-class")),p=n({displayName:"FreezeWrapper",shouldComponentUpdate:function(e,r){return!e.shouldFreeze},render:function(){return this.props.children}});r.exports=p});C.r("akira/containers/gallery.jsx",function(e,t,r){"use strict";function s(e,t){return t&&t.toNum?t.toNum-(t.fromNum||0):e?e.numVideos:M.numVideos}function i(e,t,r){return{from:r&&r.fromNum||0,to:s(t,r)}}var o=e("babel-runtime/helpers/toConsumableArray"),n=function(e){return e&&e.__esModule?e:{default:e}}(o),a=e("prop-types"),l=e("react"),d=e("create-react-class"),u=e("react-dom"),c=e("shakti-platform/dist/ui/ShaktiProperties"),h=e("lodash"),p=e("classnames"),m=e("../utils/scheduler"),f=e("../utils/sortable"),g=e("../../utils/browserScroll"),y=e("../../utils/eventBus"),v=e("../utils/akiraContextTypes"),R=e("../../common/position"),I=e("./row.jsx"),T=e("./title/titleCardContainer.jsx"),S=e("../components/character/character.jsx"),w=e("../components/loader/loadingGallery.jsx"),k=e("../components/loader/loadingSpinner.jsx"),E=e("./timeoutTransition/timeoutTransitionGroup.jsx"),O=e("../../utils/pathEvaluatorUtils"),b=T.TitleCardContainer,L=T.getPaths,N="discovery/akira/Gallery",x=c.get("netflix.ui.akira.prefetch.strategies.gallery"),M=x.small,F=function(){},j=function(e,t,r){t||(t=M),r||(r={});var s=r.sortOrder?[r.sortOrder,i(e,t,r)]:[i(e,t,r)];r.videoRoot&&s.push(r.videoRoot);var o=L(e,t,{videoPrefix:s}),n=[[["id","length","name","trackIds","requestId","listId"]]],a=void 0,l=void 0,d=void 0;return r.isCharacterPage?(d=S.getPaths(e,t,r).map(function(e){return s.concat(e)}),n=[[["requestId"]]].concat(d)):n=n.concat(o),r.sortOrder===f.ORDER_BY.MATURITY&&(a=s.concat("maturity"),n=n.concat([a])),r.sortOrder&&(l=[r.sortOrder,"requestId"],n=n.concat([l])),n},B=d({displayName:"GalleryContent",contextTypes:Object.assign({getModelData:a.func.isRequired,getI18nString:a.func.isRequired,models:a.object.isRequired},v),getInitialState:function(){return{isLoading:!1,fetchingMoreRows:!1}},numTitlesToFetch:M.numVideos,isFirstSetOfResults:!0,isInteractive:!1,statics:{getNumTitlesToFetch:s,getPaths:j,getPathRange:i,defaultStrategy:M,prefetchStrategies:x,isEmpty:function(e,t){return!e.bind(t?[0,t]:[0]).getValueSync("summary")}},childContextTypes:{listId:a.string,requestId:a.string,trackId:a.number,jawBoneTrackId:a.number,jawBoneEpisodeTrackId:a.number,jawBoneTrailerTrackId:a.number},getChildContext:function(){var e=this.getTrackIds();return{listId:this.getListId(),requestId:this.getRequestId(),trackId:e.trackId,jawBoneTrackId:e.trackId_jaw,jawBoneEpisodeTrackId:e.trackId_jawEpisode,jawBoneTrailerTrackId:e.trackId_jawTrailer}},isLoading:function(){return this.state.isLoading||this.props.isLoading},bindSortedModel:function(){return this.props.sortOrder?this.props.model.bind([this.props.sortOrder]):this.props.model},hasResults:function(){return!B.isEmpty(this.bindSortedModel(),this.props.videoRoot)&&!this.hasErrors()},hasErrors:function(){return O.hasAnyError([this.bindSortedModel(),this.props.model.getValueSync(["name"])])},getVideoPath:function(e){return this.props.videoRoot?[this.props.videoRoot].concat(e):e},allRowsFetched:function(){var e=this.bindSortedModel();if(e){var t=this.numTitlesToFetch-1,r=this.props.videoRoot?[t,this.props.videoRoot]:[t];return!e.bind(r).getValueSync("summary")}return!0},fetchMoreRows:function(e){var t=this,r=c.get("netflix.ui.akira.prefetch.strategies.gallery").medium,s=this.props.sortOrder===f.ORDER_BY.MATURITY?x.maximum.batchVideoSize:r.batchVideoSize,i=void 0,o=void 0;if(!this.isLoading()&&!this.allRowsFetched()&&(this.numTitlesToFetch+=s,this.isFirstSetOfResults=!1,i={sortOrder:this.props.sortOrder,toNum:this.numTitlesToFetch,videoRoot:this.props.videoRoot},this.props.isCharacterGallery&&(i.isCharacterPage=!0),o=j(this.context.models,r,i),this.isMounted())){var a;e&&(this.setState({fetchingMoreRows:!0}),this.state.fetchingMoreRows=!1),this.state.isLoading=!0,(a=this.props.model).get.apply(a,(0,n.default)(o)).subscribe(F,function(){return t.setState({isLoading:!1})},function(){return t.setState({isLoading:!1})})}},prefetchOnLoad:function(){this.isFirstSetOfResults&&m.queue(this.fetchMoreRows,900)},onScroll:function(){this.isWithinDistanceBuffer(2e3)&&this.fetchMoreRows(!0)},isWithinDistanceBuffer:function(e){var t=this.refs.gallery&&u.findDOMNode(this.refs.gallery),r=!1;return t&&(r=R.getDistanceToBottomOfElement(t)<e),r},getTrackIds:function(){var e=this.props.model,t=this.props.trackIds;return!t&&e.getValueSync(["trackIds"])&&(t=e.getValueSync(["trackIds"])),t||{}},getRequestId:function(){var e=this.props.model.getValueSync([this.props.sortOrder,"requestId"]),t=this.props.model.getValueSync(["requestId"]);return this.props.searchOnlyListIdThatIsUsedAsARequestIdBecauseOfDumbLegacyReasons||e||t},getListId:function(){return this.props.model.getValueSync(["listId"])},shouldAnimateInTitle:function(){return-1===["search"].indexOf(this.props.keyPrefix)&&this.isFirstSetOfResults&&!this.context.isInitialRender},renderCharacterGallery:function(){for(var e=this.props.model,t=[],r=this.context.columnsInRow+1,s=[],i=0,o=0,n=this.props.rowNum||0,a=void 0,d=void 0,u=void 0,c=void 0,h=0;h<this.numTitlesToFetch;h++)a=e.bind([h]),d=a.getValueSync(["summary"])&&a.getValueSync(["summary"]).id,u="character"+d,c=h,d&&(s.push(l.createElement(S,{id:d,rankNum:o++,key:u,sliderIndex:c,model:a})),i%r==r-1&&(t.push(this.renderRow(e,n,s)),n++,o=0,s=[]),i++);return s.length>0&&t.push(this.renderRow(e,n,s)),l.createElement("div",{key:"gallery-"+d,className:"galleryLockups"},t)},renderGallery:function(){if(this.props.isCharacterGallery)return this.renderCharacterGallery();var e=this.props.model.getValueSync(["id"]),t=this.bindSortedModel(),r=[],s={},i=this.context.columnsInRow,o=null,n=[],a=this.props.rowNum||0,d=0,u=0,c=void 0,h=void 0,p=void 0,m=0;for(h=0;h<this.numTitlesToFetch;h++)if(c=t.bind([h]),c.getBoundValue())(p=c.getValueSync(this.getVideoPath(["summary"])))&&(this.props.filter&&!this.props.filter(c)||(this.props.jawBoneRowNum===a&&this.props.jawBoneRankNum===d&&(o=h),s[p.id]=h,n.push(l.createElement(b,{key:"title_"+p.id+"_"+a+"_"+h,model:c,rankNum:d,videoId:p.id,animateIn:this.shouldAnimateInTitle(),playbackQueryParams:this.props.playbackQueryParams,videoRoot:this.props.videoRoot})),d++,u%i==i-1&&(r.push(this.renderRow(t,a,n,o,s)),a++,d=0,n=[]),u++));else if(3===++m)break;return n.length>0&&r.push(this.renderRow(t,a,n,o,s)),l.createElement("div",{key:"gallery-"+e,className:"galleryLockups"},r)},renderRow:function(e,t,r,s,i){var o=this.props.isMyListRow,n=this.props.isCharacterGallery,a=null,d=null,u=!1;return this.props.jawBoneRowNum!==t||h.isUndefined(s)||(a=this.props.jawBoneRankNum,d=s,u=!0),l.createElement(I,{model:e,videoRoot:this.props.videoRoot,totalItems:r.length,key:"gallery-row-"+t,rowNum:t,jawBoneRankNum:a,jawBoneModelIndex:d,showJawBone:u,isGallery:!0,isMyListRow:o,orderedItemList:o?i||null:null,columnsInRow:n?this.context.columnsInRow+1||null:null,playbackQueryParams:this.props.playbackQueryParams},r)},renderNoResults:function(){if(this.props.noResults)return this.props.noResults;var e="mylist"===this.props.keyPrefix?"results.mylist.none":"results.none";return l.createElement("div",{className:"galleryMessage",key:"galleryMessage"},this.context.getI18nString(N,e))},renderError:function(){return l.createElement("div",{className:"galleryMessage",key:"galleryMessageError"},this.context.getI18nString(N,"results.error"))},componentWillReceiveProps:function(e){!this.isFirstSetOfResults&&B.isEmpty(this.bindSortedModel(),e.videoRoot)&&(this.isFirstSetOfResults=!0,this.numTitlesToFetch=this.props.numTitlesToFetch?this.props.numTitlesToFetch:M.numVideos),this.props.sortOrder!==e.sortOrder&&(this.numTitlesToFetch=this.props.numTitlesToFetch?this.props.numTitlesToFetch:M.numVideos,this.isFirstSetOfResults=!0)},setIsInteractive:function(){this.isLoading()||!this.isFirstSetOfResults||this.isInteractive||(y.emit("app:interactive",this.props),this.isInteractive=!0,this.hasErrors()?this.props.onError&&this.props.onError():this.props.onInteractive&&this.props.onInteractive())},componentWillMount:function(){this.numTitlesToFetch=this.props.numTitlesToFetch?this.props.numTitlesToFetch:M.numVideos},componentDidMount:function(){g.addEventListener("scroll",this.onScroll),g.addEventListener("scrollEnd",this.onScrollEnd),this.prefetchOnLoad(),this.setIsInteractive(),setTimeout(function(){window.scrollTo(0,0)},0)},componentDidUpdate:function(e,t){this.prefetchOnLoad(),this.setIsInteractive()},componentWillUnmount:function(){g.removeEventListener("scroll",this.onScroll),g.removeEventListener("scrollEnd",this.onScrollEnd)},getName:function(){return this.hasErrors()?"&nbsp;":this.props.model.getValueSync(["name"])},renderHeader:function(){return this.props.header&&!this.hasErrors()?this.props.header:l.createElement("div",{className:"title",dangerouslySetInnerHTML:{__html:this.getName()}})},renderInfiniteScrollLoader:function(){return this.isFirstSetOfResults||!this.state.fetchingMoreRows?null:l.createElement("div",{className:"gallerySpinLoader"},l.createElement(k,null))},renderBody:function(){return this.hasResults()?this.renderGallery():this.hasErrors()?this.renderError():this.renderNoResults()},renderLoaderOrBody:function(){return this.isLoading()&&this.isFirstSetOfResults?l.createElement(w,null):l.createElement("div",{key:"main-gallery-"+this.props.sortOrder},this.renderBody())},render:function(){var e=p("gallery","row-with-x-columns",this.props.className,{search:"search"===this.props.keyPrefix&&!this.props.header,"character-gallery":this.props.isCharacterGallery,"has-open-jaw":this.props.jawBoneVideoId});return l.createElement("div",{className:e,ref:"gallery"},this.renderHeader(),l.createElement(E,{className:"galleryContent",transitionName:"pulsateTransition",component:"div",enterTimeout:250,leaveTimeout:550},this.renderLoaderOrBody()),this.renderInfiniteScrollLoader())}});t.exports=B});C.r("akira/containers/galleryContainer.js",function(r,a,n){"use strict";var s=r("./gallery.jsx"),t=r("../utils/falcorConnect.jsx"),e=t(s);a.exports=e});C.r("akira/containers/genreHeaderContainer.js",function(e,r,n){"use strict";var s=e("./subHeaders/genreHeader.jsx"),a=e("../utils/falcorConnect.jsx"),t=a(s);r.exports=t});C.r("akira/containers/header/dvdLink.jsx",function(e,t,s){"use strict";var r=e("lodash"),i=e("prop-types"),n=e("react"),a=e("create-react-class"),o=e("../../../utils/Routes"),c=e("../../../utils/RouteHelpers"),d=a({displayName:"DVDLink",contextTypes:{getI18nString:i.func.isRequired,models:i.object.isRequired},componentWillMount:function(){var e=r.get(this.context.models,"userInfo.data");this.setState({path:e&&e.isDVD?o.dvdHome.makePath():c.getDVDUpsellURL()})},render:function(){return n.createElement("a",{href:this.state.path},this.context.getI18nString("discovery/akira/Chrome","dvd.link"))}});t.exports=d});C.r("akira/containers/header/genreNavItem.jsx",function(e,t,n){"use strict";var s=e("babel-runtime/helpers/typeof"),r=function(e){return e&&e.__esModule?e:{default:e}}(s),i=e("prop-types"),o=e("react"),a=e("create-react-class"),u=e("react-dom"),l=e("lodash"),c=e("classnames"),p=e("./../../components/controls/menuCaret.jsx"),m=e("../../components/controls/subMenuHOC"),d=e("../../components/controls/subMenu.jsx"),h=e("../../components/controls/mainViewLink.jsx"),f=e("../../utils/linkDefs.jsx"),g="discovery/akira/Chrome",b=a({displayName:"GenreNavigationItem",contextTypes:{getI18nString:i.func.isRequired,models:i.object.isRequired},statics:{getPaths:function(e,t,n){return[["summary"],[{to:40},["id","menuName"]]]}},getSubMenuItems:function(e){var t=e||this.props.model,n=t.getValueSync(["summary"]),s=Math.min(40,l.result(n,"length",40)),i=c("sub-menu-link"),a=[],u=void 0;if(!n)return a;for(u=0;u<s;u++){var p=t.bind([u]);if(p){var m=p.getValueSync(["id"]),d=p.getValueSync(["menuName"]);d&&m&&"object"!==(void 0===d?"undefined":(0,r.default)(d))&&a.push(o.createElement(h,{resolver:f.getGenreRoute,params:{id:m},className:i},d))}}return a},getHierarchicalSubMenuItems:function(){var e=[],t=void 0,n=void 0;for(t=0;t<4;t++){var s=this.props.model.bind([t]),r=s.getValueSync(["summary"]);if(!r)return e;e.push(o.createElement(h,null,r.title));var i=this.getSubMenuItems(s),a=i.length;for(n=0;n<a;n++)e.push(i[n])}return e},getHierarchicalListLengths:function(){var e=[],t=void 0;if(this.props.model){for(t=0;t<4;t++){var n=this.props.model.bind([t]),s=n&&n.getValueSync(["summary"]);n&&s&&e.push(s.length)}return e}},componentDidMount:function(){this.props.addEventListeners(u.findDOMNode(this.refs.menu),u.findDOMNode(this.refs.menuContainer))},componentWillUnmount:function(){this.props.removeEventListeners(u.findDOMNode(this.refs.menu),u.findDOMNode(this.refs.menuContainer))},render:function(){var e=this.getSubMenuItems(),t=c("browse",{active:this.props.selected||this.props.subMenuOpen,hasSubMenu:e,"direction-top":this.props.subMenuDirection===d.DIRECTION_TOP}),n=c("genreNav",{hasSpecialItems:this.props.specialItems}),s=this.context.getI18nString(g,"header.browse");return this.props.isKidsPage&&(s=this.context.getI18nString(g,"header.categories")),o.createElement("li",{ref:"menuContainer",className:t},o.createElement("a",{ref:"menu","aria-haspopup":!0,"aria-expanded":this.props.subMenuOpen,tabIndex:0},s,this.props.subMenuOpen?o.createElement(p,null):null),e?o.createElement("span",{className:"caret","aria-hidden":!0}):null,this.props.subMenuOpen?o.createElement(d,{onClick:this.props.closeSubMenu,items:e,showCalloutArrow:!1,specialItems:this.props.specialItems,styleClass:n,onDirectionChange:this.props.handleMenuDirectionChange}):null)}});t.exports=m(b)});C.r("akira/containers/header/kidsAppHeader.jsx",function(e,t,s){"use strict";function a(e,t,s){var a=[];return t||(t=N),t.headerDropDowns&&(a=m.getPaths().map(function(e){return["genreList"].concat(e)})),(t.headerDropDowns||t.accountDropDown)&&(a=a.concat(p.getPaths())),a}var i=e("babel-runtime/helpers/toConsumableArray"),n=function(e){return e&&e.__esModule?e:{default:e}}(i),o=e("prop-types"),r=e("react"),c=e("lodash"),l=e("create-react-class"),h=e("shakti-platform/dist/ui/ShaktiProperties"),d=e("classnames"),m=e("./genreNavItem.jsx"),u=e("../../components/search/searchBox.jsx"),p=e("../../components/profile/accountDropDown.jsx"),g=e("../../components/controls/mainViewLink.jsx"),S=e("../../../utils/browserScroll"),v=e("../../utils/akiraContextTypes"),f=e("../../../common/position"),D=e("../../../utils/Routes"),k=e("../../utils/linkDefs.jsx"),x="discovery/akira/Chrome",E={minimum:{headerDropDowns:!1,accountDropDown:!0},maximum:{headerDropDowns:!0,accountDropDown:!0}},N=E.minimum,B=E.maximum,L=function(){},w=l({displayName:"KidsHeader",contextTypes:Object.assign({getModelData:o.func.isRequired,getI18nString:o.func.isRequired,models:o.object.isRequired},v),FADE_IN_THRESHOLD:1,statics:{getPaths:a,defaultStrategy:N,fullHeaderStrategy:B},getInitialState:function(){var e=!this.props.pinned;return{hasBackground:!1,isSearchBoxFocused:!!this.props.term,trackPinning:e,scrolling:e}},componentWillReceiveProps:function(e){var t=!e.pinned;this.state.trackPinning!==t&&this.setState({trackPinning:t,scrolling:t})},onScroll:function(){if(this.state.trackPinning){var e=this.refs.hdSpace,t=e.getBoundingClientRect().top,s=t>0;s!==this.state.scrolling&&this.setState({scrolling:s})}var a=f.getScrollTop();(a>=this.FADE_IN_THRESHOLD&&!this.state.hasBackground||a<this.FADE_IN_THRESHOLD&&this.state.hasBackground)&&this.setState({hasBackground:!this.state.hasBackground})},handleSearchBoxFocus:function(e){this.setState({isSearchBoxFocused:e})},componentDidMount:function(){var e,t=this,s=E.maximum,i=function(){s.forceUpdate&&t.forceUpdate()};(e=this.props.pathEvaluator).get.apply(e,(0,n.default)(a(this.context.models,s))).subscribe(L,i,i),S.addEventListener("scroll",this.onScroll),this.onScroll()},componentWillUnmount:function(){S.removeEventListener("scroll",this.onScroll)},getSpecialItems:function(){return[r.createElement(g,{to:D.kidsCharacterGallery,className:"sub-menu-link","data-type":"characters"},this.context.getI18nString(x,"navitem.characters")),r.createElement(g,{to:D.kidsOriginals,className:"sub-menu-link","data-type":"originals"},this.context.getI18nString(x,"header.originals"))]},render:function(){var e=this.props.pathEvaluator,t=e.bind(["genreList"]),s=d({kids:!0,active:!0}),a=d({"akira-header":!0,"head-opaque":this.state.hasBackground,"search-focused":this.state.isSearchBoxFocused,scrollingHeader:this.state.scrolling,"profile-gated":this.props.isShowingProfilesGate,hide:this.props.hideHeader&&!this.state.isSearchBoxFocused}),i={BUNDLE:x,BUNDLE_8960_2:"discovery/akira/Chrome-8960-2",BUNDLE_8960_3:"discovery/akira/Chrome-8960-3"},n=void 0,o="BUNDLE";return this.context.getModelData("truths","showKidsLocalizationCell2")?o="BUNDLE_8960_2":this.context.getModelData("truths","showKidsLocalizationCell3")&&(o="BUNDLE_8960_3"),h.get("netflix.ui.browse.special.items.disable")||(n=this.getSpecialItems()),r.createElement("div",{className:"hdSpace",ref:"hdSpace",role:"banner"},r.createElement("div",{id:"hdPinTarget",className:a},r.createElement(g,{resolver:k.getHomeRoute,className:"logo icon-logoUpdate","aria-label":this.context.getI18nString(x,"header.logo.text")}),this.props.isShowingProfilesGate?null:r.createElement("div",{className:"mainNav",role:"navigation","aria-label":this.context.getI18nString("common/accessibility","navigation.role.region")},r.createElement("ul",null,r.createElement("li",{className:s},r.createElement(g,{resolver:k.getHomeRoute},this.context.getI18nString(c.get(i,o),"navitem.kids"))),r.createElement(m,{model:t,selected:!1,isKidsPage:!0,specialItems:n}))),this.props.isShowingProfilesGate?null:r.createElement("div",{className:"secondary-nav"},r.createElement("div",{className:"nav-element"},r.createElement(u,{term:this.props.term,model:this.props.model,ref:"searchBox",handleSearchBoxFocus:this.handleSearchBoxFocus})),r.createElement("div",{className:"nav-element"},r.createElement(p,{className:"nav-element",model:e,showKidsLink:this.showKids,onKidsLinkClicked:this.onKidsLinkClicked,hideProfileName:!0})))))}});t.exports=w});C.r("akira/containers/header/networkNotification.jsx",function(t,e,n){"use strict";var i=t("react"),r=t("create-react-class"),o=t("prop-types"),a=t("./simpleNotification.jsx"),s="discovery/akira/Chrome",c=r({displayName:"NetworkNotification",contextTypes:{getI18nString:o.func.isRequired},render:function(){return i.createElement(a,{type:"warning",animated:!0,title:this.context.getI18nString(s,"network.down.tooltip"),message:this.context.getI18nString(s,"network.down.message")})}});e.exports=c});C.r("akira/containers/header/myListNotification.jsx",function(e,t,s){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var a=e("babel-runtime/helpers/classCallCheck"),n=i(a),r=e("babel-runtime/helpers/createClass"),o=i(r),l=e("babel-runtime/helpers/possibleConstructorReturn"),u=i(l),c=e("babel-runtime/helpers/inherits"),d=i(c),h=e("prop-types"),m=e("react"),f=e("./simpleNotification.jsx"),p="discovery/akira/Chrome",y={AlreadyInQueue:"AlreadyInQueue",FailedToMove:"FailedToMove",FailedToRemove:"FailedToRemove"},g=function(e){function t(){return(0,n.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"isWatchlistEnabled",value:function(){return this.context.getModelData("truths").isWatchlistEnabled}},{key:"getDetails",value:function(){var e=this.props.model.status,t=this.props.model.reason||"",s=this.props.model.title||"";if("success"===e)return{type:"success",message:this.context.getI18nString(p,this.isWatchlistEnabled()?"system.notification.watchlist.add.success":"system.notification.queue.add.success",{TITLE:s})};switch(t){case y.AlreadyInQueue:return{type:"info",message:this.context.getI18nString(p,this.isWatchlistEnabled()?"system.notification.watchlist.add.inqueue":"system.notification.queue.add.inqueue",{TITLE:s})};case y.FailedToMove:case y.FailedToRemove:return{type:"warning",message:this.context.getI18nString(p,this.isWatchlistEnabled()?"system.notification.watchlist.general.error":"system.notification.queue.general.error")};default:return{type:"warning",message:this.context.getI18nString(p,this.isWatchlistEnabled()?"system.notification.watchlist.add.error":"system.notification.queue.add.error")}}}},{key:"render",value:function(){var e=this.getDetails();return m.createElement(f,{type:e.type,message:e.message,animated:!0})}}]),t}(m.Component);g.contextTypes={getI18nString:h.func.isRequired,getModelData:h.func.isRequired},g.statics={},t.exports=g});C.r("akira/containers/header/ratingNotification.jsx",function(t,e,s){"use strict";var i=t("prop-types"),n=t("react"),r=t("create-react-class"),a=t("./simpleNotification.jsx"),o="discovery/akira/Chrome",c=r({displayName:"RatingNotification",contextTypes:{getI18nString:i.func.isRequired},getDetails:function(){var t=this.props.model.status,e=this.props.model.newRating||0,s=this.props.model.title||"";return"success"!==t||1!==e&&2!==e?{type:"warning",message:this.context.getI18nString(o,"system.notification.rating.error")}:{type:"success",message:this.context.getI18nString(o,"system.notification.rating.success",{TITLE:s})}},render:function(){var t=this.getDetails();return n.createElement(a,{type:t.type,message:t.message,animated:!0})}});e.exports=c});C.r("akira/containers/header/simpleNotification.jsx",function(e,i,s){"use strict";var t=(e("prop-types"),e("react")),a=e("create-react-class"),n={success:"icon-success-inv",warning:"icon-warn-inv",error:"icon-warn-inv",info:"icon-info-inv"},r=a({displayName:"SimpleNotification",render:function(){var e="simple-notification "+this.props.type+(this.props.animated?" animated":"");return t.createElement("div",{className:e},t.createElement("p",{title:this.props.title},t.createElement("span",{className:n[this.props.type]}),t.createElement("span",{className:"simple-notification-message"},this.props.message)))}});i.exports=r});C.r("akira/containers/inlineList.jsx",function(e,t,s){"use strict";var r=e("babel-runtime/helpers/extends"),n=function(e){return e&&e.__esModule?e:{default:e}}(r),a=e("prop-types"),i=e("react"),l=e("create-react-class"),c=e("lodash"),o=e("classnames"),p=e("../../utils/reactUtils"),u=l({displayName:"InlineList",contextTypes:{getI18nString:a.func.isRequired},renderLabel:function(e){return i.createElement("span",{key:"label",className:o("list-label")},this.props.label)},renderList:function(e){var t=this.context.getI18nString("discovery/akira/JawBone","separator")+" ";return i.createElement("span",{key:"list",className:o("list-items")},p.intersperse(e,t))},render:function(){var e=this.props,t=e.label,s=e.items;return i.createElement("p",(0,n.default)({},c.omit(this.props,["items"]),{className:o(this.props.className,"inline-list")}),t&&this.renderLabel(t),s.length&&this.renderList(s))}});t.exports=u});C.r("akira/containers/jawbone/ContentWarningLink.jsx",function(e,n,t){"use strict";var r=e("prop-types"),i=e("react"),o=e("create-react-class"),a=e("classnames"),s=(e("../../entities/video.js").propType,e("./content-warning/ContentWarningUtils").hasContentWarning),c=a("content-warning-bob"),l=a("content-warning-text"),p=a("content-warning-icon"),g=o({displayName:"ContentWarningLink",contextTypes:{getI18nString:r.func.isRequired},renderIcon:function(){return i.createElement("div",{className:p},i.createElement("svg",{viewBox:"0 0 24 24"},i.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},i.createElement("polygon",{points:"0 0 24 0 24 24 0 24"}),i.createElement("path",{d:"M2.59675078,19.9 L21.4032492,19.9 L12,3.1434099 L2.59675078,19.9 Z",stroke:"#FFFFFF",strokeWidth:"2"}),i.createElement("rect",{fill:"#FFFFFF",x:"11",y:"15",width:"2",height:"2"}),i.createElement("polygon",{fill:"#FFFFFF",points:"11 9 13 9 13 14 11 14"}))))},render:function(){var e=this;return!s(this.props.videoModel)||this.props.resumeTitleText?null:i.createElement("div",{className:c,onClick:function(n){e.props.onClickJawHitZone(n,"Warning")}},this.renderIcon(),i.createElement("span",{className:l},this.context.getI18nString("discovery/akira/JawBone","tab.warning")))}});n.exports=g});C.r("akira/containers/jawbone/background.jsx",function(e,t,n){"use strict";var a=e("prop-types"),o=e("react"),r=e("create-react-class"),i=e("classnames"),s=e("../../components/artwork/heroImages.jsx"),l=e("../../../common/imageExtension"),c=e("../../utils/watched"),d=e("../../../utils/ab/richOriginalsRowTest"),u=e("../../../components/presentationTracking/trackingComponents/storyArtPresTracking"),m=function(e){return["artWorkByType","BILLBOARD","_1280x720",l.getExtensionForOpaqueImage(e)]},g=r({displayName:"JawBoneImages",contextTypes:{isTallRow:a.bool,listContext:a.string,listType:a.string,models:a.object},allowedFullbleed:!1,statics:{getPaths:function(e,t,n){var a=[[["bookmarkPosition","runtime"]]];return d.isRichOriginalsEnabled(e.truths)&&a.push(m(e)),a.concat(s.getPaths(e,null,{isShow:n.isShow,height:480,size:"_665x375"}))}},getInitialState:function(){return this.allowedFullbleed=d.isRichOriginalsRow(this.context.isTallRow,this.context.models.truths),{}},renderFullBleedBackground:function(e){return o.createElement("div",{style:{backgroundImage:"url("+e+")"},className:i("fullbleed-bg")})},renderBackground:function(){var e=this.props,t=e.model,n=e.id,a=e.rotateStills,r=e.isStandalone,l=t.getValueSync("bookmarkPosition");return o.createElement(s,{id:"jawBoneIR"+n,stop:!a,duration:3300,className:i("jawBoneBackground"),auto:!0,isStandalone:r,model:t,style:null,bookmarkPosition:l,height:480,size:"_665x375",variance:120,watched:c.hasBeenWatched(this.props.model)})},getBackgroundComponent:function(e,t){var n=e&&e.url;if(t){if(!e)return null;if(n)return this.renderFullBleedBackground(n)}return this.renderBackground()},render:function(){var e=this.props,t=e.isFullBleed,n=e.model,a=e.dim,r=e.videoMerchPlayerElement,s=e.id,l=n.getValueSync(m(this.context.models)),c=t&&this.allowedFullbleed,d=i("background",{dim:a,fullbleed:c}),g=this.getBackgroundComponent(l,c);return o.createElement("div",{className:d},o.createElement(u,{imageKey:(l||{}).image_key,videoId:s},g),r,o.createElement("div",{className:"vignette"}),o.createElement("div",{className:"nav-shadow"}))}});t.exports=g});C.r("akira/containers/jawbone/content-warning/ContentWarningUtils.js",function(n,t,r){"use strict";t.exports={getContentWarning:function(n){return n&&n.summary&&n.summary.contentWarning},hasContentWarning:function(n){return Boolean(n&&n.summary&&n.summary.contentWarning)},hasUrlSubstitution:function(n){if(!n||!n.urlSubstitutionString||!n.message)return!1;var t=n.urlSubstitutionString;return n.message.indexOf(t)>=0}}});C.r("akira/containers/jawbone/content-warning/contentWarning.jsx",function(e,n,t){"use strict";var r=(e("prop-types"),e("create-react-class")),a=e("react"),i=e("classnames"),s=e("../../../components/title/videoMeta.jsx"),o=e("./ContentWarningUtils.js"),l=i("warning-text"),c=r({displayName:"ContentWarning",renderContentWarningTextAndUrl:function(e,n,t){var r=e.split(n);return 1===r.length?a.createElement("div",{className:l},e):a.createElement("div",{className:l},r[0],a.createElement("a",{href:t,target:"_blank"},n),r[1])},renderContentWarningText:function(e){var n=e.message,t=e.urlSubstitutionString,r=e.url;return o.hasUrlSubstitution(e)?this.renderContentWarningTextAndUrl(n,t,r):a.createElement("div",{className:l},n)},renderVideoMeta:function(){var e=this.props,n=e.model;return e.videoModel.isPrePromo?null:a.createElement(s,{model:n,withMaturityReasons:!0,showPlayerFeatureSupport:!0})},render:function(){var e=this.props.contentWarning;return e&&e.message?a.createElement("div",{className:"jawbone-overview-info has-jawbone-nav-transition"},a.createElement("div",{className:"content-warning"},this.renderVideoMeta(),this.renderContentWarningText(e))):null}});n.exports=c});C.r("akira/containers/jawbone/details/details.jsx",function(e,t,a){"use strict";var s=e("prop-types"),i=e("react"),l=e("create-react-class"),n=e("lodash"),o=e("shakti-platform/dist/ui/ShaktiProperties"),r=e("./../../../components/title/maturityRating.jsx"),c=e("./festival.jsx"),d=e("./people.jsx"),m=e("./tags.jsx"),h=e("../../reviewsContainer"),g=e("../../slider/simpleSlider.jsx"),u=e("./../../../components/title/commonSense.jsx"),p=e("./../../../components/title/dvdAvailability.jsx"),v=e("./../../../components/title/copyright.jsx"),y=e("./../../../components/title/broadcaster.jsx"),x=e("../../../utils/akiraContextTypes"),E=e("./detailsColumn.jsx"),S=e("../../../../utils/pathEvaluatorUtils"),w=e("../../../../components/presentationTracking/trackingComponents/jawboneShowDetailsPresTracking"),b="discovery/akira/JawBone",k=l({displayName:"Details",contextTypes:Object.assign({getI18nString:s.func.isRequired,models:s.object},x),statics:{getPaths:function(e,t,a){var s=c.getPaths(e,t,a).map(function(e){return["festivals",{to:10}].concat(e)}),i=r.getPaths(e,t,a).concat(s).concat(d.getPaths(e,t,a)).concat(m.getPaths(e,t,a)).concat([["festivals","length"],["delivery"]]).concat(v.getPaths(e,t,a)).concat([["availabilityEndDateNear"]]);return"KR"===n.get(e,"geo.data.requestCountry.id")&&(i=i.concat(y.getPaths(e,t,a))),n.get(e,"truths.data.showCommonSense",!1)&&(i=i.concat(u.getPaths(e,t,a))),i}},render:function(){var e=this.props.model,t=e.getValueSync(["summary"]),a=e.getValueSync(["festivals","length"]),s="show"===t.type,l=n.get(this,"context.models.truths.data.currentProfileIsKids"),x=i.createElement(m,{model:e,isShow:s}),k=n.get(this.context.models,"userInfo.data"),f=[],j=void 0,D=!n.get(this,"context.models.truths.data.readReviewsDisabled",!1),P=D&&!l&&!this.context.isRtl&&n.get(this.context.models,"geo.data.showMemberReviews",!1);f.push(i.createElement(d,{model:e,key:"people"},k&&k.isDVD?i.createElement("div",{key:"detailsDVD"},i.createElement(p,{model:e,videoId:t.id,isShow:s})):null)),x&&f.push(i.createElement(E,{key:"detailsTags",classSet:{detailsTags:!0}},x));var R=n.get(this,"context.models.truths.data.showCommonSense",!1),C=n.get(this,"context.models.truths.data.showBroadcaster",!1),I=n.get(e.getValueSync(["maturity"]),"rating.value","");for(f.push(i.createElement(E,{key:"detailsMaturity",classSet:{detailsMaturity:!0}},I&&i.createElement("h4",{className:"listLabel"},this.context.getI18nString(b,"details.ratings")),i.createElement(r,{model:e,withLinkToDetail:!0,withDescription:!0,withReasons:!0,useCountryStyling:!0}),R&&i.createElement(u,{model:e}),C&&i.createElement(y,{key:"broadcaster",model:e}),i.createElement(v,{key:"detailsCopyright",model:e,classSet:{"details-copyright":!0}}))),j=0;j<a;j++)f.push(i.createElement(E,{key:"festival"+j,classSet:{detailsFestivals:!0}},i.createElement(c,{model:e.bind(["festivals",j]),maxLines:14})));var T=e.getValueSync(["availabilityEndDateNear"]),V=T&&!S.isValueError(T);if(V&&f.push(i.createElement(E,{key:"streaming"},V&&i.createElement("h4",{className:"listLabel"},this.context.getI18nString(b,"details.availability.heading")),V&&i.createElement("ul",null,i.createElement("li",null,this.context.getI18nString(b,"details.availability.until.date",{localizedDate:T}))))),P&&o.get("netflix.ui.akira.memberReviewsEnabled")){var N=3===this.context.columnsInRow?3:2,L=i.createElement(E,{key:"detailsReviews",classSet:{detailsReviews:!0,doubleWidth:!0}},i.createElement("h4",{className:"listLabel"},this.context.getI18nString(b,"details.reviews")),i.createElement(h,{model:e}));f.splice(N,0,L)}return i.createElement(w,{videoId:t.id},i.createElement(g,{classes:{jawBoneDetails:!0},onSliderMove:this.props.onSliderMove},f))}});t.exports=k});C.r("akira/containers/jawbone/details/detailsColumn.jsx",function(e,s,t){"use strict";var a=(e("prop-types"),e("react")),r=e("create-react-class"),n=e("lodash"),l=e("classnames"),c=r({displayName:"DetailsColumn",getDefaultProps:function(){return{classSet:{}}},render:function(){var e=n.merge({detailsItem:!0},this.props.classSet);return a.createElement("div",{className:l(e)},this.props.children)}});s.exports=c});C.r("akira/containers/jawbone/details/festival.jsx",function(e,t,n){"use strict";var a=e("prop-types"),r=e("react"),s=e("create-react-class"),i=e("../../../components/controls/mainViewLink.jsx"),l=e("../../../../utils/Routes"),c=function(e,t,n){return[[["length","name","year"]],[{to:10},["type","winner"]],[{to:10},"person",["name","id"]]]},o=s({displayName:"Festival",statics:{getPaths:c},contextTypes:{getI18nString:a.func.isRequired},render:function(){var e=this.props.model,t=e.getValueSync(["name"])+"",n=e.getValueSync(["year"]),a=n?n+" "+t:t,s=e.getValueSync(["length"]),c=[],o=void 0,u=0;for(o=0;o<s;o++){var m=e.bind([o]),p=m.bind(["person"]),d=m.getValueSync(["type"]),y=m.getValueSync(["winner"]),g=p.getValueSync(["name"]),h=p.getValueSync(["id"]),v=null;if(u+=1.5,h&&"number"==typeof h&&(u+=2,v=r.createElement("ul",null,r.createElement("li",null,r.createElement(i,{to:l.person,params:{id:h}},g)))),this.props.maxLines&&u>=this.props.maxLines)break;var S=y?d:this.context.getI18nString("discovery/akira/JawBone","details.award.nominee",{TYPE:d}),f=S+(v?":":"");c.push(r.createElement("div",{key:"award"+o},r.createElement("h5",{className:"listLabel"},f),v||null))}return r.createElement("div",null,r.createElement("h4",{className:"listLabel"},a),c)}});t.exports=o});C.r("akira/containers/jawbone/details/people.jsx",function(e,t,r){"use strict";function a(e,t){return c.createElement("li",{key:e+"-label",className:m("listLabel")},c.createElement(f,{bundle:j,stringKey:P[e].label,stringParams:{count:t.length}}))}function n(e,t,r,a){return c.createElement("li",{key:e+"-"+a},c.createElement(g,{to:k.person,params:{id:t}},r))}function i(e,t){var r=t.map(function(t,r){var a=t.id,i=t.name;return n(e,a,i,r)});return[a(e,t)].concat(r)}function s(e){return Object.keys(P).filter(function(t){return e[t]&&e[t].length}).map(function(t){return i(t,e[t])}).reduce(function(e,t){return e.concat(t)},[])}function l(e){return d.get(e,"geo.data.locale.doubleByte",!1)?y:h}function o(e,t){var r=s(e),a=e.children?[e.children].concat(r):r;return 0===a.length?null:c.createElement("span",null,d.chunk(a,l(t.models)).map(function(e,t){return c.createElement(b,{key:"column "+t,classSet:{detailsMedia:!0}},c.createElement("ul",null,e))}))}var c=e("react"),u=e("prop-types"),d=e("lodash"),m=e("classnames"),p=e("shakti-platform/dist/ui/ShaktiProperties"),b=e("./detailsColumn.jsx"),f=e("../../../../components/string.jsx"),k=e("../../../../utils/Routes"),g=e("../../../components/controls/mainViewLink.jsx"),w=e("../../../utils/setDataAsProps.jsx"),h=15,y=11,j="discovery/akira/JawBone",x=p.get("web.ui.akira.details.creatorCount"),E=p.get("web.ui.akira.details.directorCount"),C=p.get("web.ui.akira.details.castCount"),v=p.get("web.ui.akira.details.writerCount"),P={creators:{label:"details.creator"},directors:{label:"details.director"},cast:{label:"details.cast"},writers:{label:"details.writers"}};o.contextTypes={models:u.object},t.exports=w(o,{paths:{myPaths:{creators:["creators",{to:x-1},["id","name"]],directors:["directors",{to:E-1},["id","name"]],cast:["cast",{to:C-1},["id","name"]],writers:["writers",{to:v-1},["id","name"]]}}})});C.r("node_modules/babel-runtime/core-js/symbol.js",function(e,o,s){o.exports={default:e("core-js/library/fn/symbol"),__esModule:!0}});C.r("node_modules/babel-runtime/core-js/symbol/iterator.js",function(e,o,r){o.exports={default:e("core-js/library/fn/symbol/iterator"),__esModule:!0}});C.r("node_modules/babel-runtime/helpers/typeof.js",function(t,e,o){"use strict";function u(t){return t&&t.__esModule?t:{default:t}}o.__esModule=!0;var n=t("../core-js/symbol/iterator"),f=u(n),r=t("../core-js/symbol"),l=u(r),d="function"==typeof l.default&&"symbol"==typeof f.default?function(t){return typeof t}:function(t){return t&&"function"==typeof l.default&&t.constructor===l.default&&t!==l.default.prototype?"symbol":typeof t};o.default="function"==typeof l.default&&"symbol"===d(f.default)?function(t){return void 0===t?"undefined":d(t)}:function(t){return t&&"function"==typeof l.default&&t.constructor===l.default&&t!==l.default.prototype?"symbol":void 0===t?"undefined":d(t)}});C.r("node_modules/core-js/library/fn/symbol/index.js",function(o,s,e){o("../../modules/es6.symbol"),o("../../modules/es6.object.to-string"),o("../../modules/es7.symbol.async-iterator"),o("../../modules/es7.symbol.observable"),s.exports=o("../../modules/_core").Symbol});C.r("node_modules/core-js/library/fn/symbol/iterator.js",function(e,o,r){e("../../modules/es6.string.iterator"),e("../../modules/web.dom.iterable"),o.exports=e("../../modules/_wks-ext").f("iterator")});C.r("node_modules/core-js/library/modules/_a-function.js",function(o,n,r){n.exports=function(o){if("function"!=typeof o)throw TypeError(o+" is not a function!");return o}});C.r("node_modules/core-js/library/modules/_add-to-unscopables.js",function(o,s,e){s.exports=function(){}});C.r("node_modules/core-js/library/modules/_an-object.js",function(o,r,e){var n=o("./_is-object");r.exports=function(o){if(!n(o))throw TypeError(o+" is not an object!");return o}});C.r("node_modules/core-js/library/modules/_array-includes.js",function(r,e,n){var o=r("./_to-iobject"),t=r("./_to-length"),i=r("./_to-absolute-index");e.exports=function(r){return function(e,n,u){var f,l=o(e),s=t(l.length),a=i(u,s);if(r&&n!=n){for(;s>a;)if((f=l[a++])!=f)return!0}else for(;s>a;a++)if((r||a in l)&&l[a]===n)return r||a||0;return!r&&-1}}});C.r("node_modules/core-js/library/modules/_cof.js",function(o,r,e){var n={}.toString;r.exports=function(o){return n.call(o).slice(8,-1)}});C.r("node_modules/core-js/library/modules/_core.js",function(e,o,r){var s=o.exports={version:"2.5.3"};"number"==typeof __e&&(__e=s)});C.r("node_modules/core-js/library/modules/_ctx.js",function(n,r,t){var u=n("./_a-function");r.exports=function(n,r,t){if(u(n),void 0===r)return n;switch(t){case 1:return function(t){return n.call(r,t)};case 2:return function(t,u){return n.call(r,t,u)};case 3:return function(t,u,e){return n.call(r,t,u,e)}}return function(){return n.apply(r,arguments)}}});C.r("node_modules/core-js/library/modules/_defined.js",function(o,r,e){r.exports=function(o){if(void 0==o)throw TypeError("Can't call method on  "+o);return o}});C.r("node_modules/core-js/library/modules/_descriptors.js",function(e,r,n){r.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})});C.r("node_modules/core-js/library/modules/_dom-create.js",function(e,o,r){var t=e("./_is-object"),n=e("./_global").document,c=t(n)&&t(n.createElement);o.exports=function(e){return c?n.createElement(e):{}}});C.r("node_modules/core-js/library/modules/_enum-bug-keys.js",function(o,r,e){r.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")});C.r("node_modules/core-js/library/modules/_enum-keys.js",function(e,o,r){var s=e("./_object-keys"),n=e("./_object-gops"),t=e("./_object-pie");o.exports=function(e){var o=s(e),r=n.f;if(r)for(var c,u=r(e),f=t.f,l=0;u.length>l;)f.call(e,c=u[l++])&&o.push(c);return o}});C.r("node_modules/core-js/library/modules/_export.js",function(t,n,e){var r=t("./_global"),o=t("./_core"),i=t("./_ctx"),u=t("./_hide"),c=function(t,n,e){var p,a,s,f=t&c.F,l=t&c.G,y=t&c.S,v=t&c.P,_=t&c.B,d=t&c.W,h=l?o:o[n]||(o[n]={}),w=h.prototype,x=l?r:y?r[n]:(r[n]||{}).prototype;l&&(e=n);for(p in e)(a=!f&&x&&void 0!==x[p])&&p in h||(s=a?x[p]:e[p],h[p]=l&&"function"!=typeof x[p]?e[p]:_&&a?i(s,r):d&&x[p]==s?function(t){var n=function(n,e,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,e)}return new t(n,e,r)}return t.apply(this,arguments)};return n.prototype=t.prototype,n}(s):v&&"function"==typeof s?i(Function.call,s):s,v&&((h.virtual||(h.virtual={}))[p]=s,t&c.R&&w&&!w[p]&&u(w,p,s)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,n.exports=c});C.r("node_modules/core-js/library/modules/_fails.js",function(r,e,n){e.exports=function(r){try{return!!r()}catch(r){return!0}}});C.r("node_modules/core-js/library/modules/_global.js",function(e,n,o){var t=n.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)});C.r("node_modules/core-js/library/modules/_has.js",function(r,o,e){var n={}.hasOwnProperty;o.exports=function(r,o){return n.call(r,o)}});C.r("node_modules/core-js/library/modules/_hide.js",function(r,e,o){var n=r("./_object-dp"),t=r("./_property-desc");e.exports=r("./_descriptors")?function(r,e,o){return n.f(r,e,t(1,o))}:function(r,e,o){return r[e]=o,r}});C.r("node_modules/core-js/library/modules/_html.js",function(e,o,l){var m=e("./_global").document;o.exports=m&&m.documentElement});C.r("node_modules/core-js/library/modules/_ie8-dom-define.js",function(e,r,o){r.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})});C.r("node_modules/core-js/library/modules/_iobject.js",function(e,r,t){var o=e("./_cof");r.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==o(e)?e.split(""):Object(e)}});C.r("node_modules/core-js/library/modules/_is-array.js",function(r,o,a){var s=r("./_cof");o.exports=Array.isArray||function(r){return"Array"==s(r)}});C.r("node_modules/core-js/library/modules/_is-object.js",function(o,e,n){e.exports=function(o){return"object"==typeof o?null!==o:"function"==typeof o}});C.r("node_modules/core-js/library/modules/_iter-create.js",function(t,e,r){"use strict";var o=t("./_object-create"),s=t("./_property-desc"),i=t("./_set-to-string-tag"),n={};t("./_hide")(n,t("./_wks")("iterator"),function(){return this}),e.exports=function(t,e,r){t.prototype=o(n,{next:s(1,r)}),i(t,e+" Iterator")}});C.r("node_modules/core-js/library/modules/_iter-define.js",function(e,t,r){"use strict";var n=e("./_library"),i=e("./_export"),s=e("./_redefine"),o=e("./_hide"),u=e("./_has"),a=e("./_iterators"),c=e("./_iter-create"),l=e("./_set-to-string-tag"),f=e("./_object-gpo"),_=e("./_wks")("iterator"),y=!([].keys&&"next"in[].keys()),v=function(){return this};t.exports=function(e,t,r,d,h,p,k){c(r,t,d);var w,b,j,x=function(e){if(!y&&e in C)return C[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},g=t+" Iterator",m="values"==h,A=!1,C=e.prototype,F=C[_]||C["@@iterator"]||h&&C[h],I=!y&&F||x(h),O=h?m?x("entries"):I:void 0,P="Array"==t?C.entries||F:F;if(P&&(j=f(P.call(new e)))!==Object.prototype&&j.next&&(l(j,g,!0),n||u(j,_)||o(j,_,v)),m&&F&&"values"!==F.name&&(A=!0,I=function(){return F.call(this)}),n&&!k||!y&&!A&&C[_]||o(C,_,I),a[t]=I,a[g]=v,h)if(w={values:m?I:x("values"),keys:p?I:x("keys"),entries:O},k)for(b in w)b in C||s(C,b,w[b]);else i(i.P+i.F*(y||A),t,w);return w}});C.r("node_modules/core-js/library/modules/_iter-step.js",function(e,o,r){o.exports=function(e,o){return{value:o,done:!!e}}});C.r("node_modules/core-js/library/modules/_iterators.js",function(o,r,e){r.exports={}});C.r("node_modules/core-js/library/modules/_library.js",function(r,o,e){o.exports=!0});C.r("node_modules/core-js/library/modules/_meta.js",function(e,t,n){var r=e("./_uid")("meta"),i=e("./_is-object"),u=e("./_has"),f=e("./_object-dp").f,o=0,s=Object.isExtensible||function(){return!0},c=!e("./_fails")(function(){return s(Object.preventExtensions({}))}),a=function(e){f(e,r,{value:{i:"O"+ ++o,w:{}}})},E=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!u(e,r)){if(!s(e))return"F";if(!t)return"E";a(e)}return e[r].i},b=function(e,t){if(!u(e,r)){if(!s(e))return!0;if(!t)return!1;a(e)}return e[r].w},l=function(e){return c&&_.NEED&&s(e)&&!u(e,r)&&a(e),e},_=t.exports={KEY:r,NEED:!1,fastKey:E,getWeak:b,onFreeze:l}});C.r("node_modules/core-js/library/modules/_object-create.js",function(e,t,o){var n=e("./_an-object"),r=e("./_object-dps"),c=e("./_enum-bug-keys"),p=e("./_shared-key")("IE_PROTO"),s=function(){},a=function(){var t,o=e("./_dom-create")("iframe"),n=c.length;for(o.style.display="none",e("./_html").appendChild(o),o.src="javascript:",t=o.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),a=t.F;n--;)delete a.prototype[c[n]];return a()};t.exports=Object.create||function(e,t){var o;return null!==e?(s.prototype=n(e),o=new s,s.prototype=null,o[p]=e):o=a(),void 0===t?o:r(o,t)}});C.r("node_modules/core-js/library/modules/_object-dp.js",function(e,r,t){var o=e("./_an-object"),i=e("./_ie8-dom-define"),n=e("./_to-primitive"),c=Object.defineProperty;t.f=e("./_descriptors")?Object.defineProperty:function(e,r,t){if(o(e),r=n(r,!0),o(t),i)try{return c(e,r,t)}catch(e){}if("get"in t||"set"in t)throw TypeError("Accessors not supported!");return"value"in t&&(e[r]=t.value),e}});C.r("node_modules/core-js/library/modules/_object-dps.js",function(e,o,r){var t=e("./_object-dp"),s=e("./_an-object"),c=e("./_object-keys");o.exports=e("./_descriptors")?Object.defineProperties:function(e,o){s(e);for(var r,n=c(o),d=n.length,j=0;d>j;)t.f(e,r=n[j++],o[r]);return e}});C.r("node_modules/core-js/library/modules/_object-gopd.js",function(e,r,t){var o=e("./_object-pie"),i=e("./_property-desc"),c=e("./_to-iobject"),n=e("./_to-primitive"),s=e("./_has"),_=e("./_ie8-dom-define"),d=Object.getOwnPropertyDescriptor;t.f=e("./_descriptors")?d:function(e,r){if(e=c(e),r=n(r,!0),_)try{return d(e,r)}catch(e){}if(s(e,r))return i(!o.f.call(e,r),e[r])}});C.r("node_modules/core-js/library/modules/_object-gopn-ext.js",function(t,e,o){var n=t("./_to-iobject"),r=t("./_object-gopn").f,c={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],j=function(t){try{return r(t)}catch(t){return i.slice()}};e.exports.f=function(t){return i&&"[object Window]"==c.call(t)?j(t):r(n(t))}});C.r("node_modules/core-js/library/modules/_object-gopn.js",function(e,n,o){var t=e("./_object-keys-internal"),r=e("./_enum-bug-keys").concat("length","prototype");o.f=Object.getOwnPropertyNames||function(e){return t(e,r)}});C.r("node_modules/core-js/library/modules/_object-gops.js",function(o,e,r){r.f=Object.getOwnPropertySymbols});C.r("node_modules/core-js/library/modules/_object-gpo.js",function(o,t,e){var r=o("./_has"),c=o("./_to-object"),n=o("./_shared-key")("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(o){return o=c(o),r(o,n)?o[n]:"function"==typeof o.constructor&&o instanceof o.constructor?o.constructor.prototype:o instanceof Object?s:null}});C.r("node_modules/core-js/library/modules/_object-keys-internal.js",function(r,e,o){var n=r("./_has"),s=r("./_to-iobject"),t=r("./_array-includes")(!1),a=r("./_shared-key")("IE_PROTO");e.exports=function(r,e){var o,u=s(r),i=0,_=[];for(o in u)o!=a&&n(u,o)&&_.push(o);for(;e.length>i;)n(u,o=e[i++])&&(~t(_,o)||_.push(o));return _}});C.r("node_modules/core-js/library/modules/_object-keys.js",function(e,n,o){var r=e("./_object-keys-internal"),s=e("./_enum-bug-keys");n.exports=Object.keys||function(e){return r(e,s)}});C.r("node_modules/core-js/library/modules/_object-pie.js",function(e,o,r){r.f={}.propertyIsEnumerable});C.r("node_modules/core-js/library/modules/_property-desc.js",function(e,r,o){r.exports=function(e,r){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:r}}});C.r("node_modules/core-js/library/modules/_redefine.js",function(e,o,r){o.exports=e("./_hide")});C.r("node_modules/core-js/library/modules/_set-to-string-tag.js",function(o,t,e){var r=o("./_object-dp").f,s=o("./_has"),n=o("./_wks")("toStringTag");t.exports=function(o,t,e){o&&!s(o=e?o:o.prototype,n)&&r(o,n,{configurable:!0,value:t})}});C.r("node_modules/core-js/library/modules/_shared-key.js",function(e,r,s){var o=e("./_shared")("keys"),d=e("./_uid");r.exports=function(e){return o[e]||(o[e]=d(e))}});C.r("node_modules/core-js/library/modules/_shared.js",function(r,_,e){var o=r("./_global"),s=o["__core-js_shared__"]||(o["__core-js_shared__"]={});_.exports=function(r){return s[r]||(s[r]={})}});C.r("node_modules/core-js/library/modules/_string-at.js",function(r,e,t){var n=r("./_to-integer"),o=r("./_defined");e.exports=function(r){return function(e,t){var i,c,d=String(o(e)),a=n(t),s=d.length;return a<0||a>=s?r?"":void 0:(i=d.charCodeAt(a),i<55296||i>56319||a+1===s||(c=d.charCodeAt(a+1))<56320||c>57343?r?d.charAt(a):i:r?d.slice(a,a+2):c-56320+(i-55296<<10)+65536)}}});C.r("node_modules/core-js/library/modules/_to-absolute-index.js",function(e,o,t){var n=e("./_to-integer"),r=Math.max,a=Math.min;o.exports=function(e,o){return e=n(e),e<0?r(e+o,0):a(e,o)}});C.r("node_modules/core-js/library/modules/_to-integer.js",function(o,r,e){var t=Math.ceil,n=Math.floor;r.exports=function(o){return isNaN(o=+o)?0:(o>0?n:t)(o)}});C.r("node_modules/core-js/library/modules/_to-iobject.js",function(e,o,r){var n=e("./_iobject"),t=e("./_defined");o.exports=function(e){return n(t(e))}});C.r("node_modules/core-js/library/modules/_to-length.js",function(e,n,o){var r=e("./_to-integer"),t=Math.min;n.exports=function(e){return e>0?t(r(e),9007199254740991):0}});C.r("node_modules/core-js/library/modules/_to-object.js",function(e,o,r){var n=e("./_defined");o.exports=function(e){return Object(n(e))}});C.r("node_modules/core-js/library/modules/_to-primitive.js",function(t,r,o){var e=t("./_is-object");r.exports=function(t,r){if(!e(t))return t;var o,i;if(r&&"function"==typeof(o=t.toString)&&!e(i=o.call(t)))return i;if("function"==typeof(o=t.valueOf)&&!e(i=o.call(t)))return i;if(!r&&"function"==typeof(o=t.toString)&&!e(i=o.call(t)))return i;throw TypeError("Can't convert object to primitive value")}});C.r("node_modules/core-js/library/modules/_uid.js",function(o,r,n){var t=0,d=Math.random();r.exports=function(o){return"Symbol(".concat(void 0===o?"":o,")_",(++t+d).toString(36))}});C.r("node_modules/core-js/library/modules/_wks-define.js",function(o,e,r){var l=o("./_global"),_=o("./_core"),a=o("./_library"),b=o("./_wks-ext"),n=o("./_object-dp").f;e.exports=function(o){var e=_.Symbol||(_.Symbol=a?{}:l.Symbol||{});"_"==o.charAt(0)||o in e||n(e,o,{value:b.f(o)})}});C.r("node_modules/core-js/library/modules/_wks-ext.js",function(s,e,o){o.f=s("./_wks")});C.r("node_modules/core-js/library/modules/_wks.js",function(o,r,e){var s=o("./_shared")("wks"),n=o("./_uid"),l=o("./_global").Symbol,t="function"==typeof l;(r.exports=function(o){return s[o]||(s[o]=t&&l[o]||(t?l:n)("Symbol."+o))}).store=s});C.r("node_modules/core-js/library/modules/es6.array.iterator.js",function(t,e,r){"use strict";var s=t("./_add-to-unscopables"),i=t("./_iter-step"),a=t("./_iterators"),o=t("./_to-iobject");e.exports=t("./_iter-define")(Array,"Array",function(t,e){this._t=o(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,r):"values"==e?i(0,t[r]):i(0,[r,t[r]])},"values"),a.Arguments=a.Array,s("keys"),s("values"),s("entries")});C.r("node_modules/core-js/library/modules/es6.object.to-string.js",function(o,e,s){});C.r("node_modules/core-js/library/modules/es6.string.iterator.js",function(t,i,n){"use strict";var e=t("./_string-at")(!0);t("./_iter-define")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,i=this._t,n=this._i;return n>=i.length?{value:void 0,done:!0}:(t=e(i,n),this._i+=t.length,{value:t,done:!1})})});C.r("node_modules/core-js/library/modules/es6.symbol.js",function(t,e,r){"use strict";var o=t("./_global"),n=t("./_has"),i=t("./_descriptors"),s=t("./_export"),u=t("./_redefine"),f=t("./_meta").KEY,c=t("./_fails"),a=t("./_shared"),p=t("./_set-to-string-tag"),l=t("./_uid"),y=t("./_wks"),b=t("./_wks-ext"),h=t("./_wks-define"),_=t("./_enum-keys"),m=t("./_is-array"),g=t("./_an-object"),d=t("./_is-object"),v=t("./_to-iobject"),S=t("./_to-primitive"),j=t("./_property-desc"),O=t("./_object-create"),k=t("./_object-gopn-ext"),w=t("./_object-gopd"),P=t("./_object-dp"),E=t("./_object-keys"),F=w.f,N=P.f,J=k.f,x=o.Symbol,C=o.JSON,I=C&&C.stringify,T=y("_hidden"),M=y("toPrimitive"),D={}.propertyIsEnumerable,G=a("symbol-registry"),K=a("symbols"),Q=a("op-symbols"),W=Object.prototype,Y="function"==typeof x,q=o.QObject,z=!q||!q.prototype||!q.prototype.findChild,A=i&&c(function(){return 7!=O(N({},"a",{get:function(){return N(this,"a",{value:7}).a}})).a})?function(t,e,r){var o=F(W,e);o&&delete W[e],N(t,e,r),o&&t!==W&&N(W,e,o)}:N,B=function(t){var e=K[t]=O(x.prototype);return e._k=t,e},H=Y&&"symbol"==typeof x.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof x},L=function(t,e,r){return t===W&&L(Q,e,r),g(t),e=S(e,!0),g(r),n(K,e)?(r.enumerable?(n(t,T)&&t[T][e]&&(t[T][e]=!1),r=O(r,{enumerable:j(0,!1)})):(n(t,T)||N(t,T,j(1,{})),t[T][e]=!0),A(t,e,r)):N(t,e,r)},R=function(t,e){g(t);for(var r,o=_(e=v(e)),n=0,i=o.length;i>n;)L(t,r=o[n++],e[r]);return t},U=function(t,e){return void 0===e?O(t):R(O(t),e)},V=function(t){var e=D.call(this,t=S(t,!0));return!(this===W&&n(K,t)&&!n(Q,t))&&(!(e||!n(this,t)||!n(K,t)||n(this,T)&&this[T][t])||e)},X=function(t,e){if(t=v(t),e=S(e,!0),t!==W||!n(K,e)||n(Q,e)){var r=F(t,e);return!r||!n(K,e)||n(t,T)&&t[T][e]||(r.enumerable=!0),r}},Z=function(t){for(var e,r=J(v(t)),o=[],i=0;r.length>i;)n(K,e=r[i++])||e==T||e==f||o.push(e);return o},$=function(t){for(var e,r=t===W,o=J(r?Q:v(t)),i=[],s=0;o.length>s;)!n(K,e=o[s++])||r&&!n(W,e)||i.push(K[e]);return i};Y||(x=function(){if(this instanceof x)throw TypeError("Symbol is not a constructor!");var t=l(arguments.length>0?arguments[0]:void 0),e=function(r){this===W&&e.call(Q,r),n(this,T)&&n(this[T],t)&&(this[T][t]=!1),A(this,t,j(1,r))};return i&&z&&A(W,t,{configurable:!0,set:e}),B(t)},u(x.prototype,"toString",function(){return this._k}),w.f=X,P.f=L,t("./_object-gopn").f=k.f=Z,t("./_object-pie").f=V,t("./_object-gops").f=$,i&&!t("./_library")&&u(W,"propertyIsEnumerable",V,!0),b.f=function(t){return B(y(t))}),s(s.G+s.W+s.F*!Y,{Symbol:x});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)y(tt[et++]);for(var rt=E(y.store),ot=0;rt.length>ot;)h(rt[ot++]);s(s.S+s.F*!Y,"Symbol",{for:function(t){return n(G,t+="")?G[t]:G[t]=x(t)},keyFor:function(t){if(!H(t))throw TypeError(t+" is not a symbol!");for(var e in G)if(G[e]===t)return e},useSetter:function(){z=!0},useSimple:function(){z=!1}}),s(s.S+s.F*!Y,"Object",{create:U,defineProperty:L,defineProperties:R,getOwnPropertyDescriptor:X,getOwnPropertyNames:Z,getOwnPropertySymbols:$}),C&&s(s.S+s.F*(!Y||c(function(){var t=x();return"[null]"!=I([t])||"{}"!=I({a:t})||"{}"!=I(Object(t))})),"JSON",{stringify:function(t){for(var e,r,o=[t],n=1;arguments.length>n;)o.push(arguments[n++]);if(r=e=o[1],(d(e)||void 0!==t)&&!H(t))return m(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!H(e))return e}),o[1]=e,I.apply(C,o)}}),x.prototype[M]||t("./_hide")(x.prototype,M,x.prototype.valueOf),p(x,"Symbol"),p(Math,"Math",!0),p(o.JSON,"JSON",!0)});C.r("node_modules/core-js/library/modules/es7.symbol.async-iterator.js",function(e,s,o){e("./_wks-define")("asyncIterator")});C.r("node_modules/core-js/library/modules/es7.symbol.observable.js",function(e,s,o){e("./_wks-define")("observable")});C.r("node_modules/core-js/library/modules/web.dom.iterable.js",function(t,e,i){t("./es6.array.iterator");for(var r=t("./_global"),s=t("./_hide"),a=t("./_iterators"),L=t("./_wks")("toStringTag"),l="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),o=0;o<l.length;o++){var n=l[o],S=r[n],T=S&&S.prototype;T&&!T[L]&&s(T,L,n),a[n]=a.Array}});C.r("node_modules/shakti-platform/dist/ui/utils/inNode.js",function(e,t,o){"use strict";var s=e("babel-runtime/helpers/typeof"),n=function(e){return e&&e.__esModule?e:{default:e}}(s),r=!1;try{r="object"===("undefined"==typeof process?"undefined":(0,n.default)(process))&&"[object process]"===Object.prototype.toString.call(process)||"undefined"==typeof window}catch(e){}t.exports=r});C.r("utils/eventBus.js",function(t,e,i){"use strict";var n=t("shakti-platform/dist/ui/ShaktiProperties"),r=t("shakti-platform/dist/ui/utils/inNode");e.exports={_getListenerMap:function(){return this.listenerMap||(this.listenerMap={}),this.listenerMap},_addEvent:function(t,e,i){if(r){if(!1===n.get("PRODUCTION"))throw new Error("Attempted to use EventBus on the server")}else{var s=this._getListenerMap(),o=s[t];o||(s[t]=[],o=s[t]),o.push({listener:e,once:i})}},on:function(t,e){return this._addEvent(t,e,!1),this},once:function(t,e){return this._addEvent(t,e,!0),this},removeListener:function(t,e){var i=this._getListenerMap(),n=i[t];return n&&(n=n.filter(function(t){return t.listener!==e}),i[t]=n),this},emit:function(t){var e=this._getListenerMap(),i=e[t],n=Array.prototype.slice.call(arguments),r=this;i&&(n.shift(),i.forEach(function(t){t.listener.apply(r,n)}),i=i.filter(function(t){return!t.once}),e[t]=i)}}});C.r("akira/components/review/deleteReview.jsx",function(e,t,i){"use strict";var r=e("prop-types"),s=e("react"),n=e("create-react-class"),c=e("../../../utils/eventBus"),o="discovery/akira/Reviews",l=n({displayName:"DeleteReview",contextTypes:{getI18nString:r.func.isRequired},getDefaultProps:function(){return{reviewDeleted:!1}},deleteReview:function(){var e=this.props.videoModel.getValueSync(["summary"]).id;this.props.onReviewDeleted(),this.props.videoModel.call(["deleteReview"],[],[],[]).subscribe(function(t){c.emit("reviews:reviewsCountChanged",{videoId:e})})},render:function(){return this.props.reviewDeleted?s.createElement("h4",{className:"reviewDeleted"},this.context.getI18nString(o,"delete.review.success")):s.createElement("div",{className:"deleteReview action",onClick:this.deleteReview},this.context.getI18nString(o,"delete.my.review"))}});t.exports=l});C.r("akira/components/review/helpfulCount.jsx",function(e,t,n){"use strict";var r=e("prop-types"),u=e("react"),l=e("create-react-class"),s=l({displayName:"HelpfulCount",contextTypes:{getI18nString:r.func.isRequired},render:function(){return u.createElement("div",{className:"helpfulCount",dangerouslySetInnerHTML:{__html:this.context.getI18nString("discovery/akira/Reviews","helpful.review.count",{numHelpful:this.props.numHelpful,totalNum:this.props.numHelpful+this.props.numNotHelpful})}})}});t.exports=s});C.r("akira/components/review/checkbox.jsx",function(e,a,r){"use strict";var t=e("prop-types"),i=e("react"),s=e("create-react-class"),n={OBJECTIONABLE_CONTENT:"inappropriate.reason.OBJECTIONABLE_CONTENT",HAS_SPOILER:"inappropriate.reason.HAS_SPOILER",NOT_A_REVIEW:"inappropriate.reason.NOT_A_REVIEW"},p=s({displayName:"Checkbox",contextTypes:{getI18nString:t.func.isRequired},handleChange:function(){this.props.onChange(this.props.value,!this.props.checked)},render:function(){var e=this.props.reviewId+"-"+this.props.value;return i.createElement("div",{className:"akira-checkbox-item"},i.createElement("input",{type:"checkbox",className:"akira-checkbox",name:"inappropriateReason-"+this.props.reviewId,id:e,value:this.props.value,defaultChecked:this.props.checked,onChange:this.handleChange}),i.createElement("label",{className:"akira-checkbox-label action",htmlFor:e},this.context.getI18nString("discovery/akira/Reviews",n[this.props.value])))}});a.exports=p});C.r("node_modules/lodash/index.js",function(n,t,r){(function(){function n(n,t){if(n!==t){var r=null===n,e=n===A,u=n===n,i=null===t,o=t===A,f=t===t;if(n>t&&!i||!u||r&&!o&&f||e&&f)return 1;if(n<t&&!r||!f||i&&!e&&u||o&&u)return-1}return 0}function e(n,t,r){for(var e=n.length,u=r?e:-1;r?u--:++u<e;)if(t(n[u],u,n))return u;return-1}function u(n,t,r){if(t!==t)return _(n,r);for(var e=r-1,u=n.length;++e<u;)if(n[e]===t)return e;return-1}function i(n){return"function"==typeof n||!1}function o(n){return null==n?"":n+""}function f(n,t){for(var r=-1,e=n.length;++r<e&&t.indexOf(n.charAt(r))>-1;);return r}function a(n,t){for(var r=n.length;r--&&t.indexOf(n.charAt(r))>-1;);return r}function c(t,r){return n(t.criteria,r.criteria)||t.index-r.index}function l(t,r,e){for(var u=-1,i=t.criteria,o=r.criteria,f=i.length,a=e.length;++u<f;){var c=n(i[u],o[u]);if(c){if(u>=a)return c;var l=e[u];return c*("asc"===l||!0===l?1:-1)}}return t.index-r.index}function s(n){return Dn[n]}function p(n){return Mn[n]}function h(n,t,r){return t?n=Kn[n]:r&&(n=Vn[n]),"\\"+n}function v(n){return"\\"+Vn[n]}function _(n,t,r){for(var e=n.length,u=t+(r?0:-1);r?u--:++u<e;){var i=n[u];if(i!==i)return u}return-1}function g(n){return!!n&&"object"==typeof n}function y(n){return n<=160&&n>=9&&n<=13||32==n||160==n||5760==n||6158==n||n>=8192&&(n<=8202||8232==n||8233==n||8239==n||8287==n||12288==n||65279==n)}function d(n,t){for(var r=-1,e=n.length,u=-1,i=[];++r<e;)n[r]===t&&(n[r]=q,i[++u]=r);return i}function w(n,t){for(var r,e=-1,u=n.length,i=-1,o=[];++e<u;){var f=n[e],a=t?t(f,e,n):f;e&&r===a||(r=a,o[++i]=f)}return o}function b(n){for(var t=-1,r=n.length;++t<r&&y(n.charCodeAt(t)););return t}function m(n){for(var t=n.length;t--&&y(n.charCodeAt(t)););return t}function x(n){return qn[n]}function j(t){function r(n){if(g(n)&&!Cf(n)&&!(n instanceof Mn)){if(n instanceof Dn)return n;if(no.call(n,"__chain__")&&no.call(n,"__wrapped__"))return he(n)}return new Dn(n)}function y(){}function Dn(n,t,r){this.__wrapped__=n,this.__actions__=r||[],this.__chain__=!!t}function Mn(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Oo,this.__views__=[]}function qn(){var n=new Mn(this.__wrapped__);return n.__actions__=et(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=et(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=et(this.__views__),n}function Pn(){if(this.__filtered__){var n=new Mn(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function Kn(){var n=this.__wrapped__.value(),t=this.__dir__,r=Cf(n),e=t<0,u=r?n.length:0,i=Vr(0,u,this.__views__),o=i.start,f=i.end,a=f-o,c=e?f:o-1,l=this.__iteratees__,s=l.length,p=0,h=jo(a,this.__takeCount__);if(!r||u<B||u==a&&h==a)return er(e&&r?n.reverse():n,this.__actions__);var v=[];n:for(;a--&&p<h;){c+=t;for(var _=-1,g=n[c];++_<s;){var y=l[_],d=y.iteratee,w=y.type,b=d(g);if(w==D)g=b;else if(!b){if(w==z)continue n;break n}}v[p++]=g}return v}function Vn(){this.__data__={}}function Yn(n){return this.has(n)&&delete this.__data__[n]}function Gn(n){return"__proto__"==n?A:this.__data__[n]}function Jn(n){return"__proto__"!=n&&no.call(this.__data__,n)}function Xn(n,t){return"__proto__"!=n&&(this.__data__[n]=t),this}function Zn(n){var t=n?n.length:0;for(this.data={hash:go(null),set:new lo};t--;)this.push(n[t])}function Hn(n,t){var r=n.data;return("string"==typeof t||$u(t)?r.set.has(t):r.hash[t])?0:-1}function tt(n){var t=this.data;"string"==typeof n||$u(n)?t.set.add(n):t.hash[n]=!0}function rt(n,t){for(var r=-1,e=n.length,u=-1,i=t.length,o=zi(e+i);++r<e;)o[r]=n[r];for(;++u<i;)o[r++]=t[u];return o}function et(n,t){var r=-1,e=n.length;for(t||(t=zi(e));++r<e;)t[r]=n[r];return t}function ut(n,t){for(var r=-1,e=n.length;++r<e&&!1!==t(n[r],r,n););return n}function it(n,t){for(var r=n.length;r--&&!1!==t(n[r],r,n););return n}function ot(n,t){for(var r=-1,e=n.length;++r<e;)if(!t(n[r],r,n))return!1;return!0}function ft(n,t,r,e){for(var u=-1,i=n.length,o=e,f=o;++u<i;){var a=n[u],c=+t(a);r(c,o)&&(o=c,f=a)}return f}function at(n,t){for(var r=-1,e=n.length,u=-1,i=[];++r<e;){var o=n[r];t(o,r,n)&&(i[++u]=o)}return i}function ct(n,t){for(var r=-1,e=n.length,u=zi(e);++r<e;)u[r]=t(n[r],r,n);return u}function lt(n,t){for(var r=-1,e=t.length,u=n.length;++r<e;)n[u+r]=t[r];return n}function st(n,t,r,e){var u=-1,i=n.length;for(e&&i&&(r=n[++u]);++u<i;)r=t(r,n[u],u,n);return r}function pt(n,t,r,e){var u=n.length;for(e&&u&&(r=n[--u]);u--;)r=t(r,n[u],u,n);return r}function ht(n,t){for(var r=-1,e=n.length;++r<e;)if(t(n[r],r,n))return!0;return!1}function vt(n,t){for(var r=n.length,e=0;r--;)e+=+t(n[r])||0;return e}function _t(n,t){return n===A?t:n}function gt(n,t,r,e){return n!==A&&no.call(e,r)?n:t}function yt(n,t,r){for(var e=-1,u=Df(t),i=u.length;++e<i;){var o=u[e],f=n[o],a=r(f,t[o],o,n,t);(a===a?a===f:f!==f)&&(f!==A||o in n)||(n[o]=a)}return n}function dt(n,t){return null==t?n:bt(t,Df(t),n)}function wt(n,t){for(var r=-1,e=null==n,u=!e&&Zr(n),i=u?n.length:0,o=t.length,f=zi(o);++r<o;){var a=t[r];f[r]=u?Hr(a,i)?n[a]:A:e?A:n[a]}return f}function bt(n,t,r){r||(r={});for(var e=-1,u=t.length;++e<u;){var i=t[e];r[i]=n[i]}return r}function mt(n,t,r){var e=typeof n;return"function"==e?t===A?n:or(n,t,r):null==n?Ri:"object"==e?zt(n):t===A?Wi(n):Dt(n,t)}function xt(n,t,r,e,u,i,o){var f;if(r&&(f=u?r(n,e,u):r(n)),f!==A)return f;if(!$u(n))return n;var a=Cf(n);if(a){if(f=Yr(n),!t)return et(n,f)}else{var c=ro.call(n),l=c==J;if(c!=Z&&c!=P&&(!l||u))return zn[c]?Jr(n,c,t):u?n:{};if(f=Gr(l?{}:n),!t)return dt(f,n)}i||(i=[]),o||(o=[]);for(var s=i.length;s--;)if(i[s]==n)return o[s];return i.push(n),o.push(f),(a?ut:Ut)(n,function(e,u){f[u]=xt(e,t,r,u,n,i,o)}),f}function jt(n,t,r){if("function"!=typeof n)throw new Ji(M);return so(function(){n.apply(A,r)},t)}function At(n,t){var r=n?n.length:0,e=[];if(!r)return e;var i=-1,o=qr(),f=o==u,a=f&&t.length>=B?_r(t):null,c=t.length;a&&(o=Hn,f=!1,t=a);n:for(;++i<r;){var l=n[i];if(f&&l===l){for(var s=c;s--;)if(t[s]===l)continue n;e.push(l)}else o(t,l,0)<0&&e.push(l)}return e}function kt(n,t){var r=!0;return No(n,function(n,e,u){return r=!!t(n,e,u)}),r}function It(n,t,r,e){var u=e,i=u;return No(n,function(n,o,f){var a=+t(n,o,f);(r(a,u)||a===e&&a===i)&&(u=a,i=n)}),i}function Rt(n,t,r,e){var u=n.length;for(r=null==r?0:+r||0,r<0&&(r=-r>u?0:u+r),e=e===A||e>u?u:+e||0,e<0&&(e+=u),u=r>e?0:e>>>0,r>>>=0;r<u;)n[r++]=t;return n}function Ot(n,t){var r=[];return No(n,function(n,e,u){t(n,e,u)&&r.push(n)}),r}function Et(n,t,r,e){var u;return r(n,function(n,r,i){if(t(n,r,i))return u=e?r:n,!1}),u}function Ct(n,t,r,e){e||(e=[]);for(var u=-1,i=n.length;++u<i;){var o=n[u];g(o)&&Zr(o)&&(r||Cf(o)||ku(o))?t?Ct(o,t,r,e):lt(e,o):r||(e[e.length]=o)}return e}function St(n,t){return Lo(n,t,ni)}function Ut(n,t){return Lo(n,t,Df)}function Wt(n,t){return Bo(n,t,Df)}function $t(n,t){for(var r=-1,e=t.length,u=-1,i=[];++r<e;){var o=t[r];Wu(n[o])&&(i[++u]=o)}return i}function Ft(n,t,r){if(null!=n){r!==A&&r in se(n)&&(t=[r]);for(var e=0,u=t.length;null!=n&&e<u;)n=n[t[e++]];return e&&e==u?n:A}}function Nt(n,t,r,e,u,i){return n===t||(null==n||null==t||!$u(n)&&!g(t)?n!==n&&t!==t:Tt(n,t,Nt,r,e,u,i))}function Tt(n,t,r,e,u,i,o){var f=Cf(n),a=Cf(t),c=K,l=K;f||(c=ro.call(n),c==P?c=Z:c!=Z&&(f=qu(n))),a||(l=ro.call(t),l==P?l=Z:l!=Z&&(a=qu(t)));var s=c==Z,p=l==Z,h=c==l;if(h&&!f&&!s)return Br(n,t,c);if(!u){var v=s&&no.call(n,"__wrapped__"),_=p&&no.call(t,"__wrapped__");if(v||_)return r(v?n.value():n,_?t.value():t,e,u,i,o)}if(!h)return!1;i||(i=[]),o||(o=[]);for(var g=i.length;g--;)if(i[g]==n)return o[g]==t;i.push(n),o.push(t);var y=(f?Lr:zr)(n,t,r,e,u,i,o);return i.pop(),o.pop(),y}function Lt(n,t,r){var e=t.length,u=e,i=!r;if(null==n)return!u;for(n=se(n);e--;){var o=t[e];if(i&&o[2]?o[1]!==n[o[0]]:!(o[0]in n))return!1}for(;++e<u;){o=t[e];var f=o[0],a=n[f],c=o[1];if(i&&o[2]){if(a===A&&!(f in n))return!1}else{var l=r?r(a,c,f):A;if(!(l===A?Nt(c,a,r,!0):l))return!1}}return!0}function Bt(n,t){var r=-1,e=Zr(n)?zi(n.length):[];return No(n,function(n,u,i){e[++r]=t(n,u,i)}),e}function zt(n){var t=Pr(n);if(1==t.length&&t[0][2]){var r=t[0][0],e=t[0][1];return function(n){return null!=n&&(n[r]===e&&(e!==A||r in se(n)))}}return function(n){return Lt(n,t)}}function Dt(n,t){var r=Cf(n),e=ne(n)&&ee(t),u=n+"";return n=pe(n),function(i){if(null==i)return!1;var o=u;if(i=se(i),(r||!e)&&!(o in i)){if(null==(i=1==n.length?i:Ft(i,Jt(n,0,-1))))return!1;o=Ie(n),i=se(i)}return i[o]===t?t!==A||o in i:Nt(t,i[o],A,!0)}}function Mt(n,t,r,e,u){if(!$u(n))return n;var i=Zr(t)&&(Cf(t)||qu(t)),o=i?A:Df(t);return ut(o||t,function(f,a){if(o&&(a=f,f=t[a]),g(f))e||(e=[]),u||(u=[]),qt(n,t,a,Mt,r,e,u);else{var c=n[a],l=r?r(c,f,a,n,t):A,s=l===A;s&&(l=f),l===A&&(!i||a in n)||!s&&(l===l?l===c:c!==c)||(n[a]=l)}}),n}function qt(n,t,r,e,u,i,o){for(var f=i.length,a=t[r];f--;)if(i[f]==a)return void(n[r]=o[f]);var c=n[r],l=u?u(c,a,r,n,t):A,s=l===A;s&&(l=a,Zr(a)&&(Cf(a)||qu(a))?l=Cf(c)?c:Zr(c)?et(c):[]:zu(a)||ku(a)?l=ku(c)?Gu(c):zu(c)?c:{}:s=!1),i.push(a),o.push(l),s?n[r]=e(l,a,u,i,o):(l===l?l!==c:c===c)&&(n[r]=l)}function Pt(n){return function(t){return null==t?A:t[n]}}function Kt(n){var t=n+"";return n=pe(n),function(r){return Ft(r,n,t)}}function Vt(n,t){for(var r=n?t.length:0;r--;){var e=t[r];if(e!=u&&Hr(e)){var u=e;po.call(n,e,1)}}return n}function Yt(n,t){return n+yo(Io()*(t-n+1))}function Gt(n,t,r,e,u){return u(n,function(n,u,i){r=e?(e=!1,n):t(r,n,u,i)}),r}function Jt(n,t,r){var e=-1,u=n.length;t=null==t?0:+t||0,t<0&&(t=-t>u?0:u+t),r=r===A||r>u?u:+r||0,r<0&&(r+=u),u=t>r?0:r-t>>>0,t>>>=0;for(var i=zi(u);++e<u;)i[e]=n[e+t];return i}function Xt(n,t){var r;return No(n,function(n,e,u){return!(r=t(n,e,u))}),!!r}function Zt(n,t){var r=n.length;for(n.sort(t);r--;)n[r]=n[r].value;return n}function Ht(n,t,r){var e=Dr(),u=-1;return t=ct(t,function(n){return e(n)}),Zt(Bt(n,function(n){return{criteria:ct(t,function(t){return t(n)}),index:++u,value:n}}),function(n,t){return l(n,t,r)})}function Qt(n,t){var r=0;return No(n,function(n,e,u){r+=+t(n,e,u)||0}),r}function nr(n,t){var r=-1,e=qr(),i=n.length,o=e==u,f=o&&i>=B,a=f?_r():null,c=[];a?(e=Hn,o=!1):(f=!1,a=t?[]:c);n:for(;++r<i;){var l=n[r],s=t?t(l,r,n):l;if(o&&l===l){for(var p=a.length;p--;)if(a[p]===s)continue n;t&&a.push(s),c.push(l)}else e(a,s,0)<0&&((t||f)&&a.push(s),c.push(l))}return c}function tr(n,t){for(var r=-1,e=t.length,u=zi(e);++r<e;)u[r]=n[t[r]];return u}function rr(n,t,r,e){for(var u=n.length,i=e?u:-1;(e?i--:++i<u)&&t(n[i],i,n););return r?Jt(n,e?0:i,e?i+1:u):Jt(n,e?i+1:0,e?u:i)}function er(n,t){var r=n;r instanceof Mn&&(r=r.value());for(var e=-1,u=t.length;++e<u;){var i=t[e];r=i.func.apply(i.thisArg,lt([r],i.args))}return r}function ur(n,t,r){var e=0,u=n?n.length:e;if("number"==typeof t&&t===t&&u<=So){for(;e<u;){var i=e+u>>>1,o=n[i];(r?o<=t:o<t)&&null!==o?e=i+1:u=i}return u}return ir(n,t,Ri,r)}function ir(n,t,r,e){t=r(t);for(var u=0,i=n?n.length:0,o=t!==t,f=null===t,a=t===A;u<i;){var c=yo((u+i)/2),l=r(n[c]),s=l!==A,p=l===l;if(o)var h=p||e;else h=f?p&&s&&(e||null!=l):a?p&&(e||s):null!=l&&(e?l<=t:l<t);h?u=c+1:i=c}return jo(i,Co)}function or(n,t,r){if("function"!=typeof n)return Ri;if(t===A)return n;switch(r){case 1:return function(r){return n.call(t,r)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,i){return n.call(t,r,e,u,i)};case 5:return function(r,e,u,i,o){return n.call(t,r,e,u,i,o)}}return function(){return n.apply(t,arguments)}}function fr(n){var t=new io(n.byteLength);return new ho(t).set(new ho(n)),t}function ar(n,t,r){for(var e=r.length,u=-1,i=xo(n.length-e,0),o=-1,f=t.length,a=zi(f+i);++o<f;)a[o]=t[o];for(;++u<e;)a[r[u]]=n[u];for(;i--;)a[o++]=n[u++];return a}function cr(n,t,r){for(var e=-1,u=r.length,i=-1,o=xo(n.length-u,0),f=-1,a=t.length,c=zi(o+a);++i<o;)c[i]=n[i];for(var l=i;++f<a;)c[l+f]=t[f];for(;++e<u;)c[l+r[e]]=n[i++];return c}function lr(n,t){return function(r,e,u){var i=t?t():{};if(e=Dr(e,u,3),Cf(r))for(var o=-1,f=r.length;++o<f;){var a=r[o];n(i,a,e(a,o,r),r)}else No(r,function(t,r,u){n(i,t,e(t,r,u),u)});return i}}function sr(n){return yu(function(t,r){var e=-1,u=null==t?0:r.length,i=u>2?r[u-2]:A,o=u>2?r[2]:A,f=u>1?r[u-1]:A;for("function"==typeof i?(i=or(i,f,5),u-=2):(i="function"==typeof f?f:A,u-=i?1:0),o&&Qr(r[0],r[1],o)&&(i=u<3?A:i,u=1);++e<u;){var a=r[e];a&&n(t,a,i)}return t})}function pr(n,t){return function(r,e){var u=r?Mo(r):0;if(!re(u))return n(r,e);for(var i=t?u:-1,o=se(r);(t?i--:++i<u)&&!1!==e(o[i],i,o););return r}}function hr(n){return function(t,r,e){for(var u=se(t),i=e(t),o=i.length,f=n?o:-1;n?f--:++f<o;){var a=i[f];if(!1===r(u[a],a,u))break}return t}}function vr(n,t){function r(){return(this&&this!==Qn&&this instanceof r?e:n).apply(t,arguments)}var e=yr(n);return r}function _r(n){return go&&lo?new Zn(n):null}function gr(n){return function(t){for(var r=-1,e=Ai(li(t)),u=e.length,i="";++r<u;)i=n(i,e[r],r);return i}}function yr(n){return function(){var t=arguments;switch(t.length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4]);case 6:return new n(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new n(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Fo(n.prototype),e=n.apply(r,t);return $u(e)?e:r}}function dr(n){function t(r,e,u){u&&Qr(r,e,u)&&(e=A);var i=Tr(r,n,A,A,A,A,A,e);return i.placeholder=t.placeholder,i}return t}function wr(n,t){return yu(function(r){var e=r[0];return null==e?e:(r.push(t),n.apply(A,r))})}function br(n,t){return function(r,e,u){if(u&&Qr(r,e,u)&&(e=A),e=Dr(e,u,3),1==e.length){r=Cf(r)?r:le(r);var i=ft(r,e,n,t);if(!r.length||i!==t)return i}return It(r,e,n,t)}}function mr(n,t){return function(r,u,i){if(u=Dr(u,i,3),Cf(r)){var o=e(r,u,t);return o>-1?r[o]:A}return Et(r,u,n)}}function xr(n){return function(t,r,u){return t&&t.length?(r=Dr(r,u,3),e(t,r,n)):-1}}function jr(n){return function(t,r,e){return r=Dr(r,e,3),Et(t,r,n,!0)}}function Ar(n){return function(){for(var t,r=arguments.length,e=n?r:-1,u=0,i=zi(r);n?e--:++e<r;){var o=i[u++]=arguments[e];if("function"!=typeof o)throw new Ji(M);!t&&Dn.prototype.thru&&"wrapper"==Mr(o)&&(t=new Dn([],!0))}for(e=t?-1:r;++e<r;){o=i[e];var f=Mr(o),a="wrapper"==f?Do(o):A;t=a&&te(a[0])&&a[1]==(W|E|S|$)&&!a[4].length&&1==a[9]?t[Mr(a[0])].apply(t,a[3]):1==o.length&&te(o)?t[f]():t.thru(o)}return function(){var n=arguments,e=n[0];if(t&&1==n.length&&Cf(e)&&e.length>=B)return t.plant(e).value();for(var u=0,o=r?i[u].apply(this,n):e;++u<r;)o=i[u].call(this,o);return o}}}function kr(n,t){return function(r,e,u){return"function"==typeof e&&u===A&&Cf(r)?n(r,e):t(r,or(e,u,3))}}function Ir(n){return function(t,r,e){return"function"==typeof r&&e===A||(r=or(r,e,3)),n(t,r,ni)}}function Rr(n){return function(t,r,e){return"function"==typeof r&&e===A||(r=or(r,e,3)),n(t,r)}}function Or(n){return function(t,r,e){var u={};return r=Dr(r,e,3),Ut(t,function(t,e,i){var o=r(t,e,i);e=n?o:e,t=n?t:o,u[e]=t}),u}}function Er(n){return function(t,r,e){return t=o(t),(n?t:"")+Wr(t,r,e)+(n?"":t)}}function Cr(n){var t=yu(function(r,e){var u=d(e,t.placeholder);return Tr(r,n,A,e,u)});return t}function Sr(n,t){return function(r,e,u,i){var o=arguments.length<3;return"function"==typeof e&&i===A&&Cf(r)?n(r,e,u,o):Gt(r,Dr(e,i,4),u,o,t)}}function Ur(n,t,r,e,u,i,o,f,a,c){function l(){for(var w=arguments.length,b=w,m=zi(w);b--;)m[b]=arguments[b];if(e&&(m=ar(m,e,u)),i&&(m=cr(m,i,o)),v||g){var x=l.placeholder,j=d(m,x);if((w-=j.length)<c){var k=f?et(f):A,O=xo(c-w,0),E=v?j:A,C=v?A:j,W=v?m:A,$=v?A:m;t|=v?S:U,t&=~(v?U:S),_||(t&=~(I|R));var F=[n,t,r,W,E,$,C,k,a,O],N=Ur.apply(A,F);return te(n)&&qo(N,F),N.placeholder=x,N}}var T=p?r:this,L=h?T[n]:n;return f&&(m=ae(m,f)),s&&a<m.length&&(m.length=a),this&&this!==Qn&&this instanceof l&&(L=y||yr(n)),L.apply(T,m)}var s=t&W,p=t&I,h=t&R,v=t&E,_=t&O,g=t&C,y=h?A:yr(n);return l}function Wr(n,t,r){var e=n.length;if(t=+t,e>=t||!bo(t))return"";var u=t-e;return r=null==r?" ":r+"",gi(r,_o(u/r.length)).slice(0,u)}function $r(n,t,r,e){function u(){for(var t=-1,f=arguments.length,a=-1,c=e.length,l=zi(c+f);++a<c;)l[a]=e[a];for(;f--;)l[a++]=arguments[++t];return(this&&this!==Qn&&this instanceof u?o:n).apply(i?r:this,l)}var i=t&I,o=yr(n);return u}function Fr(n){var t=Pi[n];return function(n,r){return r=r===A?0:+r||0,r?(r=ao(10,r),t(n*r)/r):t(n)}}function Nr(n){return function(t,r,e,u){var i=Dr(e);return null==e&&i===mt?ur(t,r,n):ir(t,r,i(e,u,1),n)}}function Tr(n,t,r,e,u,i,o,f){var a=t&R;if(!a&&"function"!=typeof n)throw new Ji(M);var c=e?e.length:0;if(c||(t&=~(S|U),e=u=A),c-=u?u.length:0,t&U){var l=e,s=u;e=u=A}var p=a?A:Do(n),h=[n,t,r,e,u,l,s,i,o,f];if(p&&(ue(h,p),t=h[1],f=h[9]),h[9]=null==f?a?0:n.length:xo(f-c,0)||0,t==I)var v=vr(h[0],h[2]);else v=t!=S&&t!=(I|S)||h[4].length?Ur.apply(A,h):$r.apply(A,h);return(p?zo:qo)(v,h)}function Lr(n,t,r,e,u,i,o){var f=-1,a=n.length,c=t.length;if(a!=c&&!(u&&c>a))return!1;for(;++f<a;){var l=n[f],s=t[f],p=e?e(u?s:l,u?l:s,f):A;if(p!==A){if(p)continue;return!1}if(u){if(!ht(t,function(n){return l===n||r(l,n,e,u,i,o)}))return!1}else if(l!==s&&!r(l,s,e,u,i,o))return!1}return!0}function Br(n,t,r){switch(r){case V:case Y:return+n==+t;case G:return n.name==t.name&&n.message==t.message;case X:return n!=+n?t!=+t:n==+t;case H:case Q:return n==t+""}return!1}function zr(n,t,r,e,u,i,o){var f=Df(n),a=f.length;if(a!=Df(t).length&&!u)return!1;for(var c=a;c--;){var l=f[c];if(!(u?l in t:no.call(t,l)))return!1}for(var s=u;++c<a;){l=f[c];var p=n[l],h=t[l],v=e?e(u?h:p,u?p:h,l):A;if(!(v===A?r(p,h,e,u,i,o):v))return!1;s||(s="constructor"==l)}if(!s){var _=n.constructor,g=t.constructor;if(_!=g&&"constructor"in n&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof g&&g instanceof g))return!1}return!0}function Dr(n,t,e){var u=r.callback||ki;return u=u===ki?mt:u,e?u(n,t,e):u}function Mr(n){for(var t=n.name,r=$o[t],e=r?r.length:0;e--;){var u=r[e],i=u.func;if(null==i||i==n)return u.name}return t}function qr(n,t,e){var i=r.indexOf||Ae;return i=i===Ae?u:i,n?i(n,t,e):i}function Pr(n){for(var t=ti(n),r=t.length;r--;)t[r][2]=ee(t[r][1]);return t}function Kr(n,t){var r=null==n?A:n[t];return Tu(r)?r:A}function Vr(n,t,r){for(var e=-1,u=r.length;++e<u;){var i=r[e],o=i.size;switch(i.type){case"drop":n+=o;break;case"dropRight":t-=o;break;case"take":t=jo(t,n+o);break;case"takeRight":n=xo(n,t-o)}}return{start:n,end:t}}function Yr(n){var t=n.length,r=new n.constructor(t);return t&&"string"==typeof n[0]&&no.call(n,"index")&&(r.index=n.index,r.input=n.input),r}function Gr(n){var t=n.constructor;return"function"==typeof t&&t instanceof t||(t=Vi),new t}function Jr(n,t,r){var e=n.constructor;switch(t){case nn:return fr(n);case V:case Y:return new e(+n);case tn:case rn:case en:case un:case on:case fn:case an:case cn:case ln:var u=n.buffer;return new e(r?fr(u):u,n.byteOffset,n.length);case X:case Q:return new e(n);case H:var i=new e(n.source,En.exec(n));i.lastIndex=n.lastIndex}return i}function Xr(n,t,r){null==n||ne(t,n)||(t=pe(t),n=1==t.length?n:Ft(n,Jt(t,0,-1)),t=Ie(t));var e=null==n?n:n[t];return null==e?A:e.apply(n,r)}function Zr(n){return null!=n&&re(Mo(n))}function Hr(n,t){return n="number"==typeof n||Un.test(n)?+n:-1,t=null==t?Uo:t,n>-1&&n%1==0&&n<t}function Qr(n,t,r){if(!$u(r))return!1;var e=typeof t;if("number"==e?Zr(r)&&Hr(t,r.length):"string"==e&&t in r){var u=r[t];return n===n?n===u:u!==u}return!1}function ne(n,t){var r=typeof n;return!!("string"==r&&xn.test(n)||"number"==r)||!Cf(n)&&(!mn.test(n)||null!=t&&n in se(t))}function te(n){var t=Mr(n);if(!(t in Mn.prototype))return!1;var e=r[t];if(n===e)return!0;var u=Do(e);return!!u&&n===u[0]}function re(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=Uo}function ee(n){return n===n&&!$u(n)}function ue(n,t){var r=n[1],e=t[1],u=r|e,i=u<W,o=e==W&&r==E||e==W&&r==$&&n[7].length<=t[8]||e==(W|$)&&r==E;if(!i&&!o)return n;e&I&&(n[2]=t[2],u|=r&I?0:O);var f=t[3];if(f){var a=n[3];n[3]=a?ar(a,f,t[4]):et(f),n[4]=a?d(n[3],q):et(t[4])}return f=t[5],f&&(a=n[5],n[5]=a?cr(a,f,t[6]):et(f),n[6]=a?d(n[5],q):et(t[6])),f=t[7],f&&(n[7]=et(f)),e&W&&(n[8]=null==n[8]?t[8]:jo(n[8],t[8])),null==n[9]&&(n[9]=t[9]),n[0]=t[0],n[1]=u,n}function ie(n,t){return n===A?t:Sf(n,t,ie)}function oe(n,t){n=se(n);for(var r=-1,e=t.length,u={};++r<e;){var i=t[r];i in n&&(u[i]=n[i])}return u}function fe(n,t){var r={};return St(n,function(n,e,u){t(n,e,u)&&(r[e]=n)}),r}function ae(n,t){for(var r=n.length,e=jo(t.length,r),u=et(n);e--;){var i=t[e];n[e]=Hr(i,r)?u[i]:A}return n}function ce(n){for(var t=ni(n),r=t.length,e=r&&n.length,u=!!e&&re(e)&&(Cf(n)||ku(n)),i=-1,o=[];++i<r;){var f=t[i];(u&&Hr(f,e)||no.call(n,f))&&o.push(f)}return o}function le(n){return null==n?[]:Zr(n)?$u(n)?n:Vi(n):ii(n)}function se(n){return $u(n)?n:Vi(n)}function pe(n){if(Cf(n))return n;var t=[];return o(n).replace(jn,function(n,r,e,u){t.push(e?u.replace(Rn,"$1"):r||n)}),t}function he(n){return n instanceof Mn?n.clone():new Dn(n.__wrapped__,n.__chain__,et(n.__actions__))}function ve(n,t,r){t=(r?Qr(n,t,r):null==t)?1:xo(yo(t)||1,1);for(var e=0,u=n?n.length:0,i=-1,o=zi(_o(u/t));e<u;)o[++i]=Jt(n,e,e+=t);return o}function _e(n){for(var t=-1,r=n?n.length:0,e=-1,u=[];++t<r;){var i=n[t];i&&(u[++e]=i)}return u}function ge(n,t,r){return(n?n.length:0)?((r?Qr(n,t,r):null==t)&&(t=1),Jt(n,t<0?0:t)):[]}function ye(n,t,r){var e=n?n.length:0;return e?((r?Qr(n,t,r):null==t)&&(t=1),t=e-(+t||0),Jt(n,0,t<0?0:t)):[]}function de(n,t,r){return n&&n.length?rr(n,Dr(t,r,3),!0,!0):[]}function we(n,t,r){return n&&n.length?rr(n,Dr(t,r,3),!0):[]}function be(n,t,r,e){var u=n?n.length:0;return u?(r&&"number"!=typeof r&&Qr(n,t,r)&&(r=0,e=u),Rt(n,t,r,e)):[]}function me(n){return n?n[0]:A}function xe(n,t,r){var e=n?n.length:0;return r&&Qr(n,t,r)&&(t=!1),e?Ct(n,t):[]}function je(n){return(n?n.length:0)?Ct(n,!0):[]}function Ae(n,t,r){var e=n?n.length:0;if(!e)return-1;if("number"==typeof r)r=r<0?xo(e+r,0):r;else if(r){var i=ur(n,t);return i<e&&(t===t?t===n[i]:n[i]!==n[i])?i:-1}return u(n,t,r||0)}function ke(n){return ye(n,1)}function Ie(n){var t=n?n.length:0;return t?n[t-1]:A}function Re(n,t,r){var e=n?n.length:0;if(!e)return-1;var u=e;if("number"==typeof r)u=(r<0?xo(e+r,0):jo(r||0,e-1))+1;else if(r){u=ur(n,t,!0)-1;var i=n[u];return(t===t?t===i:i!==i)?u:-1}if(t!==t)return _(n,u,!0);for(;u--;)if(n[u]===t)return u;return-1}function Oe(){var n=arguments,t=n[0];if(!t||!t.length)return t;for(var r=0,e=qr(),u=n.length;++r<u;)for(var i=0,o=n[r];(i=e(t,o,i))>-1;)po.call(t,i,1);return t}function Ee(n,t,r){var e=[];if(!n||!n.length)return e;var u=-1,i=[],o=n.length;for(t=Dr(t,r,3);++u<o;){var f=n[u];t(f,u,n)&&(e.push(f),i.push(u))}return Vt(n,i),e}function Ce(n){return ge(n,1)}function Se(n,t,r){var e=n?n.length:0;return e?(r&&"number"!=typeof r&&Qr(n,t,r)&&(t=0,r=e),Jt(n,t,r)):[]}function Ue(n,t,r){return(n?n.length:0)?((r?Qr(n,t,r):null==t)&&(t=1),Jt(n,0,t<0?0:t)):[]}function We(n,t,r){var e=n?n.length:0;return e?((r?Qr(n,t,r):null==t)&&(t=1),t=e-(+t||0),Jt(n,t<0?0:t)):[]}function $e(n,t,r){return n&&n.length?rr(n,Dr(t,r,3),!1,!0):[]}function Fe(n,t,r){return n&&n.length?rr(n,Dr(t,r,3)):[]}function Ne(n,t,r,e){if(!(n?n.length:0))return[];null!=t&&"boolean"!=typeof t&&(e=r,r=Qr(n,t,e)?A:t,t=!1);var i=Dr();return null==r&&i===mt||(r=i(r,e,3)),t&&qr()==u?w(n,r):nr(n,r)}function Te(n){if(!n||!n.length)return[];var t=-1,r=0;n=at(n,function(n){if(Zr(n))return r=xo(n.length,r),!0});for(var e=zi(r);++t<r;)e[t]=ct(n,Pt(t));return e}function Le(n,t,r){if(!(n?n.length:0))return[];var e=Te(n);return null==t?e:(t=or(t,r,4),ct(e,function(n){return st(n,t,A,!0)}))}function Be(){for(var n=-1,t=arguments.length;++n<t;){var r=arguments[n];if(Zr(r))var e=e?lt(At(e,r),At(r,e)):r}return e?nr(e):[]}function ze(n,t){var r=-1,e=n?n.length:0,u={};for(!e||t||Cf(n[0])||(t=[]);++r<e;){var i=n[r];t?u[i]=t[r]:i&&(u[i[0]]=i[1])}return u}function De(n){var t=r(n);return t.__chain__=!0,t}function Me(n,t,r){return t.call(r,n),n}function qe(n,t,r){return t.call(r,n)}function Pe(){return De(this)}function Ke(){return new Dn(this.value(),this.__chain__)}function Ve(n){for(var t,r=this;r instanceof y;){var e=he(r);t?u.__wrapped__=e:t=e;var u=e;r=r.__wrapped__}return u.__wrapped__=n,t}function Ye(){var n=this.__wrapped__,t=function(n){return r&&r.__dir__<0?n:n.reverse()};if(n instanceof Mn){var r=n;return this.__actions__.length&&(r=new Mn(this)),r=r.reverse(),r.__actions__.push({func:qe,args:[t],thisArg:A}),new Dn(r,this.__chain__)}return this.thru(t)}function Ge(){return this.value()+""}function Je(){return er(this.__wrapped__,this.__actions__)}function Xe(n,t,r){var e=Cf(n)?ot:kt;return r&&Qr(n,t,r)&&(t=A),"function"==typeof t&&r===A||(t=Dr(t,r,3)),e(n,t)}function Ze(n,t,r){var e=Cf(n)?at:Ot;return t=Dr(t,r,3),e(n,t)}function He(n,t){return uf(n,zt(t))}function Qe(n,t,r,e){var u=n?Mo(n):0;return re(u)||(n=ii(n),u=n.length),r="number"!=typeof r||e&&Qr(t,r,e)?0:r<0?xo(u+r,0):r||0,"string"==typeof n||!Cf(n)&&Mu(n)?r<=u&&n.indexOf(t,r)>-1:!!u&&qr(n,t,r)>-1}function nu(n,t,r){var e=Cf(n)?ct:Bt;return t=Dr(t,r,3),e(n,t)}function tu(n,t){return nu(n,Wi(t))}function ru(n,t,r){var e=Cf(n)?at:Ot;return t=Dr(t,r,3),e(n,function(n,r,e){return!t(n,r,e)})}function eu(n,t,r){if(r?Qr(n,t,r):null==t){n=le(n);var e=n.length;return e>0?n[Yt(0,e-1)]:A}var u=-1,i=Yu(n),e=i.length,o=e-1;for(t=jo(t<0?0:+t||0,e);++u<t;){var f=Yt(u,o),a=i[f];i[f]=i[u],i[u]=a}return i.length=t,i}function uu(n){return eu(n,Oo)}function iu(n){var t=n?Mo(n):0;return re(t)?t:Df(n).length}function ou(n,t,r){var e=Cf(n)?ht:Xt;return r&&Qr(n,t,r)&&(t=A),"function"==typeof t&&r===A||(t=Dr(t,r,3)),e(n,t)}function fu(n,t,r){if(null==n)return[];r&&Qr(n,t,r)&&(t=A);var e=-1;return t=Dr(t,r,3),Zt(Bt(n,function(n,r,u){return{criteria:t(n,r,u),index:++e,value:n}}),c)}function au(n,t,r,e){return null==n?[]:(e&&Qr(t,r,e)&&(r=A),Cf(t)||(t=null==t?[]:[t]),Cf(r)||(r=null==r?[]:[r]),Ht(n,t,r))}function cu(n,t){return Ze(n,zt(t))}function lu(n,t){if("function"!=typeof t){if("function"!=typeof n)throw new Ji(M);var r=n;n=t,t=r}return n=bo(n=+n)?n:0,function(){if(--n<1)return t.apply(this,arguments)}}function su(n,t,r){return r&&Qr(n,t,r)&&(t=A),t=n&&null==t?n.length:xo(+t||0,0),Tr(n,W,A,A,A,A,t)}function pu(n,t){var r;if("function"!=typeof t){if("function"!=typeof n)throw new Ji(M);var e=n;n=t,t=e}return function(){return--n>0&&(r=t.apply(this,arguments)),n<=1&&(t=A),r}}function hu(n,t,r){function e(){h&&oo(h),c&&oo(c),_=0,c=h=v=A}function u(t,r){r&&oo(r),c=h=v=A,t&&(_=gf(),l=n.apply(p,a),h||c||(a=p=A))}function i(){var n=t-(gf()-s);n<=0||n>t?u(v,c):h=so(i,n)}function o(){u(y,h)}function f(){if(a=arguments,s=gf(),p=this,v=y&&(h||!d),!1===g)var r=d&&!h;else{c||d||(_=s);var e=g-(s-_),u=e<=0||e>g;u?(c&&(c=oo(c)),_=s,l=n.apply(p,a)):c||(c=so(o,e))}return u&&h?h=oo(h):h||t===g||(h=so(i,t)),r&&(u=!0,l=n.apply(p,a)),!u||h||c||(a=p=A),l}var a,c,l,s,p,h,v,_=0,g=!1,y=!0;if("function"!=typeof n)throw new Ji(M);if(t=t<0?0:+t||0,!0===r){var d=!0;y=!1}else $u(r)&&(d=!!r.leading,g="maxWait"in r&&xo(+r.maxWait||0,t),y="trailing"in r?!!r.trailing:y);return f.cancel=e,f}function vu(n,t){if("function"!=typeof n||t&&"function"!=typeof t)throw new Ji(M);var r=function(){var e=arguments,u=t?t.apply(this,e):e[0],i=r.cache;if(i.has(u))return i.get(u);var o=n.apply(this,e);return r.cache=i.set(u,o),o};return r.cache=new vu.Cache,r}function _u(n){if("function"!=typeof n)throw new Ji(M);return function(){return!n.apply(this,arguments)}}function gu(n){return pu(2,n)}function yu(n,t){if("function"!=typeof n)throw new Ji(M);return t=xo(t===A?n.length-1:+t||0,0),function(){for(var r=arguments,e=-1,u=xo(r.length-t,0),i=zi(u);++e<u;)i[e]=r[t+e];switch(t){case 0:return n.call(this,i);case 1:return n.call(this,r[0],i);case 2:return n.call(this,r[0],r[1],i)}var o=zi(t+1);for(e=-1;++e<t;)o[e]=r[e];return o[t]=i,n.apply(this,o)}}function du(n){if("function"!=typeof n)throw new Ji(M);return function(t){return n.apply(this,t)}}function wu(n,t,r){var e=!0,u=!0;if("function"!=typeof n)throw new Ji(M);return!1===r?e=!1:$u(r)&&(e="leading"in r?!!r.leading:e,u="trailing"in r?!!r.trailing:u),hu(n,t,{leading:e,maxWait:+t,trailing:u})}function bu(n,t){return t=null==t?Ri:t,Tr(t,S,A,[n],[])}function mu(n,t,r,e){return t&&"boolean"!=typeof t&&Qr(n,t,r)?t=!1:"function"==typeof t&&(e=r,r=t,t=!1),"function"==typeof r?xt(n,t,or(r,e,1)):xt(n,t)}function xu(n,t,r){return"function"==typeof t?xt(n,!0,or(t,r,1)):xt(n,!0)}function ju(n,t){return n>t}function Au(n,t){return n>=t}function ku(n){return g(n)&&Zr(n)&&no.call(n,"callee")&&!co.call(n,"callee")}function Iu(n){return!0===n||!1===n||g(n)&&ro.call(n)==V}function Ru(n){return g(n)&&ro.call(n)==Y}function Ou(n){return!!n&&1===n.nodeType&&g(n)&&!zu(n)}function Eu(n){return null==n||(Zr(n)&&(Cf(n)||Mu(n)||ku(n)||g(n)&&Wu(n.splice))?!n.length:!Df(n).length)}function Cu(n,t,r,e){r="function"==typeof r?or(r,e,3):A;var u=r?r(n,t):A;return u===A?Nt(n,t,r):!!u}function Su(n){return g(n)&&"string"==typeof n.message&&ro.call(n)==G}function Uu(n){return"number"==typeof n&&bo(n)}function Wu(n){return $u(n)&&ro.call(n)==J}function $u(n){var t=typeof n;return!!n&&("object"==t||"function"==t)}function Fu(n,t,r,e){return r="function"==typeof r?or(r,e,3):A,Lt(n,Pr(t),r)}function Nu(n){return Bu(n)&&n!=+n}function Tu(n){return null!=n&&(Wu(n)?uo.test(Qi.call(n)):g(n)&&Sn.test(n))}function Lu(n){return null===n}function Bu(n){return"number"==typeof n||g(n)&&ro.call(n)==X}function zu(n){var t;if(!g(n)||ro.call(n)!=Z||ku(n)||!no.call(n,"constructor")&&"function"==typeof(t=n.constructor)&&!(t instanceof t))return!1;var r;return St(n,function(n,t){r=t}),r===A||no.call(n,r)}function Du(n){return $u(n)&&ro.call(n)==H}function Mu(n){return"string"==typeof n||g(n)&&ro.call(n)==Q}function qu(n){return g(n)&&re(n.length)&&!!Bn[ro.call(n)]}function Pu(n){return n===A}function Ku(n,t){return n<t}function Vu(n,t){return n<=t}function Yu(n){var t=n?Mo(n):0;return re(t)?t?et(n):[]:ii(n)}function Gu(n){return bt(n,ni(n))}function Ju(n,t,r){var e=Fo(n);return r&&Qr(n,t,r)&&(t=A),t?dt(e,t):e}function Xu(n){return $t(n,ni(n))}function Zu(n,t,r){var e=null==n?A:Ft(n,pe(t),t+"");return e===A?r:e}function Hu(n,t){if(null==n)return!1;var r=no.call(n,t);if(!r&&!ne(t)){if(t=pe(t),null==(n=1==t.length?n:Ft(n,Jt(t,0,-1))))return!1;t=Ie(t),r=no.call(n,t)}return r||re(n.length)&&Hr(t,n.length)&&(Cf(n)||ku(n))}function Qu(n,t,r){r&&Qr(n,t,r)&&(t=A);for(var e=-1,u=Df(n),i=u.length,o={};++e<i;){var f=u[e],a=n[f];t?no.call(o,a)?o[a].push(f):o[a]=[f]:o[a]=f}return o}function ni(n){if(null==n)return[];$u(n)||(n=Vi(n));var t=n.length;t=t&&re(t)&&(Cf(n)||ku(n))&&t||0;for(var r=n.constructor,e=-1,u="function"==typeof r&&r.prototype===n,i=zi(t),o=t>0;++e<t;)i[e]=e+"";for(var f in n)o&&Hr(f,t)||"constructor"==f&&(u||!no.call(n,f))||i.push(f);return i}function ti(n){n=se(n);for(var t=-1,r=Df(n),e=r.length,u=zi(e);++t<e;){var i=r[t];u[t]=[i,n[i]]}return u}function ri(n,t,r){var e=null==n?A:n[t];return e===A&&(null==n||ne(t,n)||(t=pe(t),n=1==t.length?n:Ft(n,Jt(t,0,-1)),e=null==n?A:n[Ie(t)]),e=e===A?r:e),Wu(e)?e.call(n):e}function ei(n,t,r){if(null==n)return n;var e=t+"";t=null!=n[e]||ne(t,n)?[e]:pe(t);for(var u=-1,i=t.length,o=i-1,f=n;null!=f&&++u<i;){var a=t[u];$u(f)&&(u==o?f[a]=r:null==f[a]&&(f[a]=Hr(t[u+1])?[]:{})),f=f[a]}return n}function ui(n,t,r,e){var u=Cf(n)||qu(n);if(t=Dr(t,e,4),null==r)if(u||$u(n)){var i=n.constructor;r=u?Cf(n)?new i:[]:Fo(Wu(i)?i.prototype:A)}else r={};return(u?ut:Ut)(n,function(n,e,u){return t(r,n,e,u)}),r}function ii(n){return tr(n,Df(n))}function oi(n){return tr(n,ni(n))}function fi(n,t,r){return t=+t||0,r===A?(r=t,t=0):r=+r||0,n>=jo(t,r)&&n<xo(t,r)}function ai(n,t,r){r&&Qr(n,t,r)&&(t=r=A);var e=null==n,u=null==t;if(null==r&&(u&&"boolean"==typeof n?(r=n,n=1):"boolean"==typeof t&&(r=t,u=!0)),e&&u&&(t=1,u=!1),n=+n||0,u?(t=n,n=0):t=+t||0,r||n%1||t%1){var i=Io();return jo(n+i*(t-n+fo("1e-"+((i+"").length-1))),t)}return Yt(n,t)}function ci(n){return(n=o(n))&&n.charAt(0).toUpperCase()+n.slice(1)}function li(n){return(n=o(n))&&n.replace(Wn,s).replace(In,"")}function si(n,t,r){n=o(n),t+="";var e=n.length
;return r=r===A?e:jo(r<0?0:+r||0,e),(r-=t.length)>=0&&n.indexOf(t,r)==r}function pi(n){return n=o(n),n&&yn.test(n)?n.replace(_n,p):n}function hi(n){return n=o(n),n&&kn.test(n)?n.replace(An,h):n||"(?:)"}function vi(n,t,r){n=o(n),t=+t;var e=n.length;if(e>=t||!bo(t))return n;var u=(t-e)/2,i=yo(u);return r=Wr("",_o(u),r),r.slice(0,i)+n+r}function _i(n,t,r){return(r?Qr(n,t,r):null==t)?t=0:t&&(t=+t),n=wi(n),ko(n,t||(Cn.test(n)?16:10))}function gi(n,t){var r="";if(n=o(n),(t=+t)<1||!n||!bo(t))return r;do{t%2&&(r+=n),t=yo(t/2),n+=n}while(t);return r}function yi(n,t,r){return n=o(n),r=null==r?0:jo(r<0?0:+r||0,n.length),n.lastIndexOf(t,r)==r}function di(n,t,e){var u=r.templateSettings;e&&Qr(n,t,e)&&(t=e=A),n=o(n),t=yt(dt({},e||t),u,gt);var i,f,a=yt(dt({},t.imports),u.imports,gt),c=Df(a),l=tr(a,c),s=0,p=t.interpolate||$n,h="__p += '",_=Yi((t.escape||$n).source+"|"+p.source+"|"+(p===bn?On:$n).source+"|"+(t.evaluate||$n).source+"|$","g"),g="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Ln+"]")+"\n";n.replace(_,function(t,r,e,u,o,a){return e||(e=u),h+=n.slice(s,a).replace(Fn,v),r&&(i=!0,h+="' +\n__e("+r+") +\n'"),o&&(f=!0,h+="';\n"+o+";\n__p += '"),e&&(h+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),s=a+t.length,t}),h+="';\n";var y=t.variable;y||(h="with (obj) {\n"+h+"\n}\n"),h=(f?h.replace(sn,""):h).replace(pn,"$1").replace(hn,"$1;"),h="function("+(y||"obj")+") {\n"+(y?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(f?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var d=Hf(function(){return qi(c,g+"return "+h).apply(A,l)});if(d.source=h,Su(d))throw d;return d}function wi(n,t,r){var e=n;return(n=o(n))?(r?Qr(e,t,r):null==t)?n.slice(b(n),m(n)+1):(t+="",n.slice(f(n,t),a(n,t)+1)):n}function bi(n,t,r){var e=n;return n=o(n),n?(r?Qr(e,t,r):null==t)?n.slice(b(n)):n.slice(f(n,t+"")):n}function mi(n,t,r){var e=n;return n=o(n),n?(r?Qr(e,t,r):null==t)?n.slice(0,m(n)+1):n.slice(0,a(n,t+"")+1):n}function xi(n,t,r){r&&Qr(n,t,r)&&(t=A);var e=F,u=N;if(null!=t)if($u(t)){var i="separator"in t?t.separator:i;e="length"in t?+t.length||0:e,u="omission"in t?o(t.omission):u}else e=+t||0;if(n=o(n),e>=n.length)return n;var f=e-u.length;if(f<1)return u;var a=n.slice(0,f);if(null==i)return a+u;if(Du(i)){if(n.slice(f).search(i)){var c,l,s=n.slice(0,f);for(i.global||(i=Yi(i.source,(En.exec(i)||"")+"g")),i.lastIndex=0;c=i.exec(s);)l=c.index;a=a.slice(0,null==l?f:l)}}else if(n.indexOf(i,f)!=f){var p=a.lastIndexOf(i);p>-1&&(a=a.slice(0,p))}return a+u}function ji(n){return n=o(n),n&&gn.test(n)?n.replace(vn,x):n}function Ai(n,t,r){return r&&Qr(n,t,r)&&(t=A),n=o(n),n.match(t||Nn)||[]}function ki(n,t,r){return r&&Qr(n,t,r)&&(t=A),g(n)?Oi(n):mt(n,t)}function Ii(n){return function(){return n}}function Ri(n){return n}function Oi(n){return zt(xt(n,!0))}function Ei(n,t){return Dt(n,xt(t,!0))}function Ci(n,t,r){if(null==r){var e=$u(t),u=e?Df(t):A,i=u&&u.length?$t(t,u):A;(i?i.length:e)||(i=!1,r=t,t=n,n=this)}i||(i=$t(t,Df(t)));var o=!0,f=-1,a=Wu(n),c=i.length;!1===r?o=!1:$u(r)&&"chain"in r&&(o=r.chain);for(;++f<c;){var l=i[f],s=t[l];n[l]=s,a&&(n.prototype[l]=function(t){return function(){var r=this.__chain__;if(o||r){var e=n(this.__wrapped__);return(e.__actions__=et(this.__actions__)).push({func:t,args:arguments,thisArg:n}),e.__chain__=r,e}return t.apply(n,lt([this.value()],arguments))}}(s))}return n}function Si(){return Qn._=eo,this}function Ui(){}function Wi(n){return ne(n)?Pt(n):Kt(n)}function $i(n){return function(t){return Ft(n,pe(t),t+"")}}function Fi(n,t,r){r&&Qr(n,t,r)&&(t=r=A),n=+n||0,r=null==r?1:+r||0,null==t?(t=n,n=0):t=+t||0;for(var e=-1,u=xo(_o((t-n)/(r||1)),0),i=zi(u);++e<u;)i[e]=n,n+=r;return i}function Ni(n,t,r){if((n=yo(n))<1||!bo(n))return[];var e=-1,u=zi(jo(n,Eo));for(t=or(t,r,1);++e<n;)e<Eo?u[e]=t(e):t(e);return u}function Ti(n){var t=++to;return o(n)+t}function Li(n,t){return(+n||0)+(+t||0)}function Bi(n,t,r){return r&&Qr(n,t,r)&&(t=A),t=Dr(t,r,3),1==t.length?vt(Cf(n)?n:le(n),t):Qt(n,t)}t=t?nt.defaults(Qn.Object(),t,nt.pick(Qn,Tn)):Qn;var zi=t.Array,Di=t.Date,Mi=t.Error,qi=t.Function,Pi=t.Math,Ki=t.Number,Vi=t.Object,Yi=t.RegExp,Gi=t.String,Ji=t.TypeError,Xi=zi.prototype,Zi=Vi.prototype,Hi=Gi.prototype,Qi=qi.prototype.toString,no=Zi.hasOwnProperty,to=0,ro=Zi.toString,eo=Qn._,uo=Yi("^"+Qi.call(no).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),io=t.ArrayBuffer,oo=t.clearTimeout,fo=t.parseFloat,ao=Pi.pow,co=Zi.propertyIsEnumerable,lo=Kr(t,"Set"),so=t.setTimeout,po=Xi.splice,ho=t.Uint8Array,vo=Kr(t,"WeakMap"),_o=Pi.ceil,go=Kr(Vi,"create"),yo=Pi.floor,wo=Kr(zi,"isArray"),bo=t.isFinite,mo=Kr(Vi,"keys"),xo=Pi.max,jo=Pi.min,Ao=Kr(Di,"now"),ko=t.parseInt,Io=Pi.random,Ro=Ki.NEGATIVE_INFINITY,Oo=Ki.POSITIVE_INFINITY,Eo=4294967295,Co=Eo-1,So=Eo>>>1,Uo=9007199254740991,Wo=vo&&new vo,$o={};r.support={};r.templateSettings={escape:dn,evaluate:wn,interpolate:bn,variable:"",imports:{_:r}};var Fo=function(){function n(){}return function(t){if($u(t)){n.prototype=t;var r=new n;n.prototype=A}return r||{}}}(),No=pr(Ut),To=pr(Wt,!0),Lo=hr(),Bo=hr(!0),zo=Wo?function(n,t){return Wo.set(n,t),n}:Ri,Do=Wo?function(n){return Wo.get(n)}:Ui,Mo=Pt("length"),qo=function(){var n=0,t=0;return function(r,e){var u=gf(),i=L-(u-t);if(t=u,i>0){if(++n>=T)return r}else n=0;return zo(r,e)}}(),Po=yu(function(n,t){return g(n)&&Zr(n)?At(n,Ct(t,!1,!0)):[]}),Ko=xr(),Vo=xr(!0),Yo=yu(function(n){for(var t=n.length,r=t,e=zi(s),i=qr(),o=i==u,f=[];r--;){var a=n[r]=Zr(a=n[r])?a:[];e[r]=o&&a.length>=120?_r(r&&a):null}var c=n[0],l=-1,s=c?c.length:0,p=e[0];n:for(;++l<s;)if(a=c[l],(p?Hn(p,a):i(f,a,0))<0){for(var r=t;--r;){var h=e[r];if((h?Hn(h,a):i(n[r],a,0))<0)continue n}p&&p.push(a),f.push(a)}return f}),Go=yu(function(t,r){r=Ct(r);var e=wt(t,r);return Vt(t,r.sort(n)),e}),Jo=Nr(),Xo=Nr(!0),Zo=yu(function(n){return nr(Ct(n,!1,!0))}),Ho=yu(function(n,t){return Zr(n)?At(n,t):[]}),Qo=yu(Te),nf=yu(function(n){var t=n.length,r=t>2?n[t-2]:A,e=t>1?n[t-1]:A;return t>2&&"function"==typeof r?t-=2:(r=t>1&&"function"==typeof e?(--t,e):A,e=A),n.length=t,Le(n,r,e)}),tf=yu(function(n){return n=Ct(n),this.thru(function(t){return rt(Cf(t)?t:[se(t)],n)})}),rf=yu(function(n,t){return wt(n,Ct(t))}),ef=lr(function(n,t,r){no.call(n,r)?++n[r]:n[r]=1}),uf=mr(No),of=mr(To,!0),ff=kr(ut,No),af=kr(it,To),cf=lr(function(n,t,r){no.call(n,r)?n[r].push(t):n[r]=[t]}),lf=lr(function(n,t,r){n[r]=t}),sf=yu(function(n,t,r){var e=-1,u="function"==typeof t,i=ne(t),o=Zr(n)?zi(n.length):[];return No(n,function(n){var f=u?t:i&&null!=n?n[t]:A;o[++e]=f?f.apply(n,r):Xr(n,t,r)}),o}),pf=lr(function(n,t,r){n[r?0:1].push(t)},function(){return[[],[]]}),hf=Sr(st,No),vf=Sr(pt,To),_f=yu(function(n,t){if(null==n)return[];var r=t[2];return r&&Qr(t[0],t[1],r)&&(t.length=1),Ht(n,Ct(t),[])}),gf=Ao||function(){return(new Di).getTime()},yf=yu(function(n,t,r){var e=I;if(r.length){var u=d(r,yf.placeholder);e|=S}return Tr(n,e,t,r,u)}),df=yu(function(n,t){t=t.length?Ct(t):Xu(n);for(var r=-1,e=t.length;++r<e;){var u=t[r];n[u]=Tr(n[u],I,n)}return n}),wf=yu(function(n,t,r){var e=I|R;if(r.length){var u=d(r,wf.placeholder);e|=S}return Tr(t,e,n,r,u)}),bf=dr(E),mf=dr(C),xf=yu(function(n,t){return jt(n,1,t)}),jf=yu(function(n,t,r){return jt(n,t,r)}),Af=Ar(),kf=Ar(!0),If=yu(function(n,t){if(t=Ct(t),"function"!=typeof n||!ot(t,i))throw new Ji(M);var r=t.length;return yu(function(e){for(var u=jo(e.length,r);u--;)e[u]=t[u](e[u]);return n.apply(this,e)})}),Rf=Cr(S),Of=Cr(U),Ef=yu(function(n,t){return Tr(n,$,A,A,A,Ct(t))}),Cf=wo||function(n){return g(n)&&re(n.length)&&ro.call(n)==K},Sf=sr(Mt),Uf=sr(function(n,t,r){return r?yt(n,t,r):dt(n,t)}),Wf=wr(Uf,_t),$f=wr(Sf,ie),Ff=jr(Ut),Nf=jr(Wt),Tf=Ir(Lo),Lf=Ir(Bo),Bf=Rr(Ut),zf=Rr(Wt),Df=mo?function(n){var t=null==n?A:n.constructor;return"function"==typeof t&&t.prototype===n||"function"!=typeof n&&Zr(n)?ce(n):$u(n)?mo(n):[]}:ce,Mf=Or(!0),qf=Or(),Pf=yu(function(n,t){if(null==n)return{};if("function"!=typeof t[0]){var t=ct(Ct(t),Gi);return oe(n,At(ni(n),t))}var r=or(t[0],t[1],3);return fe(n,function(n,t,e){return!r(n,t,e)})}),Kf=yu(function(n,t){return null==n?{}:"function"==typeof t[0]?fe(n,or(t[0],t[1],3)):oe(n,Ct(t))}),Vf=gr(function(n,t,r){return t=t.toLowerCase(),n+(r?t.charAt(0).toUpperCase()+t.slice(1):t)}),Yf=gr(function(n,t,r){return n+(r?"-":"")+t.toLowerCase()}),Gf=Er(),Jf=Er(!0),Xf=gr(function(n,t,r){return n+(r?"_":"")+t.toLowerCase()}),Zf=gr(function(n,t,r){return n+(r?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Hf=yu(function(n,t){try{return n.apply(A,t)}catch(n){return Su(n)?n:new Mi(n)}}),Qf=yu(function(n,t){return function(r){return Xr(r,n,t)}}),na=yu(function(n,t){return function(r){return Xr(n,r,t)}}),ta=Fr("ceil"),ra=Fr("floor"),ea=br(ju,Ro),ua=br(Ku,Oo),ia=Fr("round");return r.prototype=y.prototype,Dn.prototype=Fo(y.prototype),Dn.prototype.constructor=Dn,Mn.prototype=Fo(y.prototype),Mn.prototype.constructor=Mn,Vn.prototype.delete=Yn,Vn.prototype.get=Gn,Vn.prototype.has=Jn,Vn.prototype.set=Xn,Zn.prototype.push=tt,vu.Cache=Vn,r.after=lu,r.ary=su,r.assign=Uf,r.at=rf,r.before=pu,r.bind=yf,r.bindAll=df,r.bindKey=wf,r.callback=ki,r.chain=De,r.chunk=ve,r.compact=_e,r.constant=Ii,r.countBy=ef,r.create=Ju,r.curry=bf,r.curryRight=mf,r.debounce=hu,r.defaults=Wf,r.defaultsDeep=$f,r.defer=xf,r.delay=jf,r.difference=Po,r.drop=ge,r.dropRight=ye,r.dropRightWhile=de,r.dropWhile=we,r.fill=be,r.filter=Ze,r.flatten=xe,r.flattenDeep=je,r.flow=Af,r.flowRight=kf,r.forEach=ff,r.forEachRight=af,r.forIn=Tf,r.forInRight=Lf,r.forOwn=Bf,r.forOwnRight=zf,r.functions=Xu,r.groupBy=cf,r.indexBy=lf,r.initial=ke,r.intersection=Yo,r.invert=Qu,r.invoke=sf,r.keys=Df,r.keysIn=ni,r.map=nu,r.mapKeys=Mf,r.mapValues=qf,r.matches=Oi,r.matchesProperty=Ei,r.memoize=vu,r.merge=Sf,r.method=Qf,r.methodOf=na,r.mixin=Ci,r.modArgs=If,r.negate=_u,r.omit=Pf,r.once=gu,r.pairs=ti,r.partial=Rf,r.partialRight=Of,r.partition=pf,r.pick=Kf,r.pluck=tu,r.property=Wi,r.propertyOf=$i,r.pull=Oe,r.pullAt=Go,r.range=Fi,r.rearg=Ef,r.reject=ru,r.remove=Ee,r.rest=Ce,r.restParam=yu,r.set=ei,r.shuffle=uu,r.slice=Se,r.sortBy=fu,r.sortByAll=_f,r.sortByOrder=au,r.spread=du,r.take=Ue,r.takeRight=We,r.takeRightWhile=$e,r.takeWhile=Fe,r.tap=Me,r.throttle=wu,r.thru=qe,r.times=Ni,r.toArray=Yu,r.toPlainObject=Gu,r.transform=ui,r.union=Zo,r.uniq=Ne,r.unzip=Te,r.unzipWith=Le,r.values=ii,r.valuesIn=oi,r.where=cu,r.without=Ho,r.wrap=bu,r.xor=Be,r.zip=Qo,r.zipObject=ze,r.zipWith=nf,r.backflow=kf,r.collect=nu,r.compose=kf,r.each=ff,r.eachRight=af,r.extend=Uf,r.iteratee=ki,r.methods=Xu,r.object=ze,r.select=Ze,r.tail=Ce,r.unique=Ne,Ci(r,r),r.add=Li,r.attempt=Hf,r.camelCase=Vf,r.capitalize=ci,r.ceil=ta,r.clone=mu,r.cloneDeep=xu,r.deburr=li,r.endsWith=si,r.escape=pi,r.escapeRegExp=hi,r.every=Xe,r.find=uf,r.findIndex=Ko,r.findKey=Ff,r.findLast=of,r.findLastIndex=Vo,r.findLastKey=Nf,r.findWhere=He,r.first=me,r.floor=ra,r.get=Zu,r.gt=ju,r.gte=Au,r.has=Hu,r.identity=Ri,r.includes=Qe,r.indexOf=Ae,r.inRange=fi,r.isArguments=ku,r.isArray=Cf,r.isBoolean=Iu,r.isDate=Ru,r.isElement=Ou,r.isEmpty=Eu,r.isEqual=Cu,r.isError=Su,r.isFinite=Uu,r.isFunction=Wu,r.isMatch=Fu,r.isNaN=Nu,r.isNative=Tu,r.isNull=Lu,r.isNumber=Bu,r.isObject=$u,r.isPlainObject=zu,r.isRegExp=Du,r.isString=Mu,r.isTypedArray=qu,r.isUndefined=Pu,r.kebabCase=Yf,r.last=Ie,r.lastIndexOf=Re,r.lt=Ku,r.lte=Vu,r.max=ea,r.min=ua,r.noConflict=Si,r.noop=Ui,r.now=gf,r.pad=vi,r.padLeft=Gf,r.padRight=Jf,r.parseInt=_i,r.random=ai,r.reduce=hf,r.reduceRight=vf,r.repeat=gi,r.result=ri,r.round=ia,r.runInContext=j,r.size=iu,r.snakeCase=Xf,r.some=ou,r.sortedIndex=Jo,r.sortedLastIndex=Xo,r.startCase=Zf,r.startsWith=yi,r.sum=Bi,r.template=di,r.trim=wi,r.trimLeft=bi,r.trimRight=mi,r.trunc=xi,r.unescape=ji,r.uniqueId=Ti,r.words=Ai,r.all=Xe,r.any=ou,r.contains=Qe,r.eq=Cu,r.detect=uf,r.foldl=hf,r.foldr=vf,r.head=me,r.include=Qe,r.inject=hf,Ci(r,function(){var n={};return Ut(r,function(t,e){r.prototype[e]||(n[e]=t)}),n}(),!1),r.sample=eu,r.prototype.sample=function(n){return this.__chain__||null!=n?this.thru(function(t){return eu(t,n)}):eu(this.value())},r.VERSION=k,ut(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){r[n].placeholder=r}),ut(["drop","take"],function(n,t){Mn.prototype[n]=function(r){var e=this.__filtered__;if(e&&!t)return new Mn(this);r=null==r?1:xo(yo(r)||0,0);var u=this.clone();return e?u.__takeCount__=jo(u.__takeCount__,r):u.__views__.push({size:r,type:n+(u.__dir__<0?"Right":"")}),u},Mn.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),ut(["filter","map","takeWhile"],function(n,t){var r=t+1,e=r!=D;Mn.prototype[n]=function(n,t){var u=this.clone();return u.__iteratees__.push({iteratee:Dr(n,t,1),type:r}),u.__filtered__=u.__filtered__||e,u}}),ut(["first","last"],function(n,t){var r="take"+(t?"Right":"");Mn.prototype[n]=function(){return this[r](1).value()[0]}}),ut(["initial","rest"],function(n,t){var r="drop"+(t?"":"Right");Mn.prototype[n]=function(){return this.__filtered__?new Mn(this):this[r](1)}}),ut(["pluck","where"],function(n,t){var r=t?"filter":"map",e=t?zt:Wi;Mn.prototype[n]=function(n){return this[r](e(n))}}),Mn.prototype.compact=function(){return this.filter(Ri)},Mn.prototype.reject=function(n,t){return n=Dr(n,t,1),this.filter(function(t){return!n(t)})},Mn.prototype.slice=function(n,t){n=null==n?0:+n||0;var r=this;return r.__filtered__&&(n>0||t<0)?new Mn(r):(n<0?r=r.takeRight(-n):n&&(r=r.drop(n)),t!==A&&(t=+t||0,r=t<0?r.dropRight(-t):r.take(t-n)),r)},Mn.prototype.takeRightWhile=function(n,t){return this.reverse().takeWhile(n,t).reverse()},Mn.prototype.toArray=function(){return this.take(Oo)},Ut(Mn.prototype,function(n,t){var e=/^(?:filter|map|reject)|While$/.test(t),u=/^(?:first|last)$/.test(t),i=r[u?"take"+("last"==t?"Right":""):t];i&&(r.prototype[t]=function(){var t=u?[1]:arguments,r=this.__chain__,o=this.__wrapped__,f=!!this.__actions__.length,a=o instanceof Mn,c=t[0],l=a||Cf(o);l&&e&&"function"==typeof c&&1!=c.length&&(a=l=!1);var s=function(n){return u&&r?i(n,1)[0]:i.apply(A,lt([n],t))},p={func:qe,args:[s],thisArg:A},h=a&&!f;if(u&&!r)return h?(o=o.clone(),o.__actions__.push(p),n.call(o)):i.call(A,this.value())[0];if(!u&&l){o=h?o:new Mn(this);var v=n.apply(o,t);return v.__actions__.push(p),new Dn(v,r)}return this.thru(s)})}),ut(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(n){var t=(/^(?:replace|split)$/.test(n)?Hi:Xi)[n],e=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",u=/^(?:join|pop|replace|shift)$/.test(n);r.prototype[n]=function(){var n=arguments;return u&&!this.__chain__?t.apply(this.value(),n):this[e](function(r){return t.apply(r,n)})}}),Ut(Mn.prototype,function(n,t){var e=r[t];if(e){var u=e.name;($o[u]||($o[u]=[])).push({name:t,func:e})}}),$o[Ur(A,R).name]=[{name:"wrapper",func:A}],Mn.prototype.clone=qn,Mn.prototype.reverse=Pn,Mn.prototype.value=Kn,r.prototype.chain=Pe,r.prototype.commit=Ke,r.prototype.concat=tf,r.prototype.plant=Ve,r.prototype.reverse=Ye,r.prototype.toString=Ge,r.prototype.run=r.prototype.toJSON=r.prototype.valueOf=r.prototype.value=Je,r.prototype.collect=r.prototype.map,r.prototype.head=r.prototype.first,r.prototype.select=r.prototype.filter,r.prototype.tail=r.prototype.rest,r}var A,k="3.10.1",I=1,R=2,O=4,E=8,C=16,S=32,U=64,W=128,$=256,F=30,N="...",T=150,L=16,B=200,z=1,D=2,M="Expected a function",q="__lodash_placeholder__",P="[object Arguments]",K="[object Array]",V="[object Boolean]",Y="[object Date]",G="[object Error]",J="[object Function]",X="[object Number]",Z="[object Object]",H="[object RegExp]",Q="[object String]",nn="[object ArrayBuffer]",tn="[object Float32Array]",rn="[object Float64Array]",en="[object Int8Array]",un="[object Int16Array]",on="[object Int32Array]",fn="[object Uint8Array]",an="[object Uint8ClampedArray]",cn="[object Uint16Array]",ln="[object Uint32Array]",sn=/\b__p \+= '';/g,pn=/\b(__p \+=) '' \+/g,hn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,vn=/&(?:amp|lt|gt|quot|#39|#96);/g,_n=/[&<>"'`]/g,gn=RegExp(vn.source),yn=RegExp(_n.source),dn=/<%-([\s\S]+?)%>/g,wn=/<%([\s\S]+?)%>/g,bn=/<%=([\s\S]+?)%>/g,mn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,xn=/^\w*$/,jn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,An=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,kn=RegExp(An.source),In=/[\u0300-\u036f\ufe20-\ufe23]/g,Rn=/\\(\\)?/g,On=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,En=/\w*$/,Cn=/^0[xX]/,Sn=/^\[object .+?Constructor\]$/,Un=/^\d+$/,Wn=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,$n=/($^)/,Fn=/['\n\r\u2028\u2029\\]/g,Nn=function(){var n="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(n+"+(?="+n+t+")|"+n+"?"+t+"|"+n+"+|[0-9]+","g")}(),Tn=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Ln=-1,Bn={};Bn[tn]=Bn[rn]=Bn[en]=Bn[un]=Bn[on]=Bn[fn]=Bn[an]=Bn[cn]=Bn[ln]=!0,Bn[P]=Bn[K]=Bn[nn]=Bn[V]=Bn[Y]=Bn[G]=Bn[J]=Bn["[object Map]"]=Bn[X]=Bn[Z]=Bn[H]=Bn["[object Set]"]=Bn[Q]=Bn["[object WeakMap]"]=!1;var zn={};zn[P]=zn[K]=zn[nn]=zn[V]=zn[Y]=zn[tn]=zn[rn]=zn[en]=zn[un]=zn[on]=zn[X]=zn[Z]=zn[H]=zn[Q]=zn[fn]=zn[an]=zn[cn]=zn[ln]=!0,zn[G]=zn[J]=zn["[object Map]"]=zn["[object Set]"]=zn["[object WeakMap]"]=!1;var Dn={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},Mn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},qn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Pn={function:!0,object:!0},Kn={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Vn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Yn=Pn[typeof r]&&r&&!r.nodeType&&r,Gn=Pn[typeof t]&&t&&!t.nodeType&&t,Jn=Yn&&Gn&&"object"==typeof global&&global&&global.Object&&global,Xn=Pn[typeof self]&&self&&self.Object&&self,Zn=Pn[typeof window]&&window&&window.Object&&window,Hn=Gn&&Gn.exports===Yn&&Yn,Qn=Jn||Zn!==(this&&this.window)&&Zn||Xn||this,nt=j();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Qn._=nt,define(function(){return nt})):Yn&&Gn?Hn?(Gn.exports=nt)._=nt:Yn._=nt:Qn._=nt}).call(this)});C.r("akira/components/review/inappropriateReview.jsx",function(e,t,a){"use strict";var i=e("prop-types"),s=e("react"),n=e("create-react-class"),r=e("lodash"),l=e("./checkbox.jsx"),o="discovery/akira/Reviews",c={OBJECTIONABLE_CONTENT:"OBJECTIONABLE_CONTENT",HAS_SPOILER:"HAS_SPOILER",NOT_A_REVIEW:"NOT_A_REVIEW"},v=n({displayName:"InappropriateReview",contextTypes:{getI18nString:i.func.isRequired,falcorModel:i.object},getInitialState:function(){var e=this.props.reviewModel.getValueSync(["id"]),t=this.props.videoModel.getValueSync(["reviewFlags"])||{},a=t[e]||[];return{flagsForReview:r.clone(a)}},flagReview:function(e,t){var a=r.clone(this.state.flagsForReview);t?a.push(e):a=r.without(a,e),this.setState({flagsForReview:a})},saveFlags:function(){var e=this,t=this.props.reviewModel.getValueSync(["id"]),a=this.props.videoModel.getValueSync(["reviewFlags"])||{},i={};i[t]=this.state.flagsForReview;var s=r.assign(a,i);this.context.falcorModel.bind(["reviews",t]).call(["flagReview"],[this.state.flagsForReview],[],[["video","reviewFlags"]]).subscribe(function(t){e.props.videoModel.setValueSync(["reviewFlags"],s),e.props.onFlagsChange(e.state.flagsForReview)})},cancel:function(){this.setState(this.getInitialState()),this.props.onCancel()},render:function(){var e=this.props.reviewModel.getValueSync(["id"]),t=r.contains(this.state.flagsForReview,c.OBJECTIONABLE_CONTENT),a=r.contains(this.state.flagsForReview,c.HAS_SPOILER),i=r.contains(this.state.flagsForReview,c.NOT_A_REVIEW);return s.createElement("fieldset",{className:"inappropriate-review"},s.createElement("legend",{className:"inappropriate-review-legend"},this.context.getI18nString(o,"report.as.inappropriate")),s.createElement("ul",{className:"inappropriate-review-types"},s.createElement("li",null,s.createElement(l,{value:c.OBJECTIONABLE_CONTENT,reviewId:e,checked:t,onChange:this.flagReview})),s.createElement("li",null,s.createElement(l,{value:c.HAS_SPOILER,reviewId:e,checked:a,onChange:this.flagReview})),s.createElement("li",null,s.createElement(l,{value:c.NOT_A_REVIEW,reviewId:e,checked:i,onChange:this.flagReview}))),s.createElement("button",{className:"akira-button akira-button-red",onClick:this.saveFlags},this.context.getI18nString(o,"submit")),s.createElement("button",{className:"akira-button",onClick:this.cancel},this.context.getI18nString(o,"cancel")))}});t.exports=v});C.r("akira/components/review/reviewText.jsx",function(t,e,r){"use strict";var s=(t("prop-types"),t("react")),a=t("create-react-class"),i=t("lodash"),n=a({displayName:"ReviewText",FULL_WIDTH_CHARS_REGEX:/[\u3000-\u30ff\uff00-\uffef\u4e00-\u9faf\u3400-\u4dbf]/,FULL_WIDTH_CHARS_LENGTH_MULTIPLIER:.4,getInitialState:function(){var t=null;return this.props.maxLength&&(t=this.FULL_WIDTH_CHARS_REGEX.test(this.props.text)),{hasFullWidthCharacters:t}},render:function(){var t=this.props.text,e=this.props.maxLength;return e&&(!0===this.state.hasFullWidthCharacters&&(e*=this.FULL_WIDTH_CHARS_LENGTH_MULTIPLIER),t=i.trunc(t,{length:e,separator:/\s/})),s.createElement("div",{className:"reviewText"},t)}});e.exports=n});C.r("akira/components/review/voteReview.jsx",function(e,t,i){"use strict";var r=e("prop-types"),a=e("react"),s=e("create-react-class"),o={HELPFUL:"vote.review.helpful",NOT_HELPFUL:"vote.review.not.helpful"},n=s({displayName:"VoteReview",contextTypes:{getI18nString:r.func.isRequired,reviewListId:r.string},handleChange:function(){this.props.checked||this.props.onVoteChange(this.props.value)},render:function(){var e=this.context.reviewListId+"-"+this.props.reviewId+"-"+this.props.value;return a.createElement("li",{className:"akira-radio-item"},a.createElement("input",{type:"radio",className:"akira-radio",name:this.context.reviewListId+"-helpfulVote-"+this.props.reviewId,id:e,value:this.props.value,checked:this.props.checked,onChange:this.handleChange}),a.createElement("label",{className:"akira-radio-label action",htmlFor:e},this.context.getI18nString("discovery/akira/Reviews",o[this.props.value])))}});t.exports=n});C.r("akira/components/review/voteReviewSection.jsx",function(e,t,i){"use strict";var o=e("prop-types"),r=e("react"),s=e("create-react-class"),n=e("classnames"),a=e("lodash"),c=e("./voteReview.jsx"),v="discovery/akira/Reviews",l=s({displayName:"VoteReviewSection",contextTypes:{getI18nString:o.func.isRequired,falcorModel:o.object},voteReview:function(e){var t=this,i=this.props.reviewModel.getValueSync(["id"]),o=this.props.videoModel.getValueSync(["reviewVotes"])||{},r=o[i],s={};s[i]=e;var n=a.assign(o,s);r!==e&&this.context.falcorModel.call(["reviews",i,"voteReview"],[e],[],[["reviews",i,["helpfulCount","notHelpfulCount"]]]).subscribe(function(i){t.props.videoModel.setValueSync(["reviewVotes"],n),t.props.onVoteChange(e)})},renderVoteReview:function(e,t){return t&&t!==e?null:r.createElement(c,{reviewId:this.props.reviewModel.getValueSync(["id"]),value:e,checked:t===e,onVoteChange:this.voteReview})},render:function(){var e=this.props.reviewModel.getValueSync(["id"]),t=(this.props.videoModel.getValueSync(["reviewVotes"])||{})[e];return r.createElement("div",{className:"voteReview"},r.createElement("span",{className:"voteReviewPrompt"},this.context.getI18nString(v,"vote.review.prompt"))," ",r.createElement("div",{className:"reviewActions"},r.createElement("ul",{className:"voteReviewChoices"},this.renderVoteReview("HELPFUL",t),this.renderVoteReview("NOT_HELPFUL",t)),r.createElement("span",{className:n({action:!0,inappropriateTrigger:!0,selected:this.props.flagsForReview}),onClick:this.props.onInappropriateReviewClick},this.context.getI18nString(v,"flag.review.inappropriate"))))}});t.exports=l});C.r("akira/components/title/basicStarBar.jsx",function(t,a,e){"use strict";var r=(t("prop-types"),t("react")),s=t("create-react-class"),i=t("lodash"),n=t("classnames"),o=t("../../../utils/eventBus"),p=t("../../../utils/XHR"),h=t("../../utils/akiraContextTypes"),l=n("transitionWrap"),c=n("star","clear-rating"),d=s({displayName:"StarBar",contextTypes:h,statics:{starClass:{25:"icon-star-25-percent",50:"icon-star-50-percent",75:"icon-star-75-percent",100:"icon-star"}},getInitialState:function(){return{hoverRating:0,userRating:void 0}},getStarInfo:function(){var t=this.state.hoverRating||this.state.userRating||this.props.userRating||this.props.predictedRating||this.props.reviewRating||0,a=this.state.hoverRating?"hover":this.props.userRating||this.state.userRating?"personal":"default",e=Math.floor(t),r=t%e,s=0;return r>=.25&&(r>=.75?s=75:r>=.5?s=50:r>=.25&&(s=25)),t<0?(t=0,e=0,s=0):t>5&&(t=5,e=5,s=0),{rating:t,ratingType:a,numWholeStars:e,partialStar:s}},handleEnter:function(t){var a=parseInt(t.target.getAttribute("data-rating"),10)||0;a&&this.setState({hoverRating:a})},handleLeave:function(t){this.setState({hoverRating:null})},handleClick:function(t){var a=parseInt(t.target.getAttribute("data-rating"),10)||0;this.props.readOnly&&-2!==a||(t.preventDefault(),t.stopPropagation(),"function"==typeof this.props.onRating&&this.props.onRating(a,this),this.props.videoId&&this.sendRating(a))},sendRating:function(t){!1!==this.props.sendRating&&(o.emit("rating:set",i.assign({rating:t,ratingType:"star",matchScore:null,predictedRating:this.props.predictedRating,videoId:this.props.videoId},this.context,{trackId:this.props.trackId})),p.request({method:"post",data:{},query:{titleid:this.props.videoId,rating:t,trackId:this.props.trackId||this.context.trackId||-1},resource:"/setVideoRating",service:"api",authorize:!0}).subscribe())},createStar:function(t,a,e){var s=this.props,i=s.readOnly,o=s.videoId;return r.createElement("span",{className:n("star",a,e),key:o+"_"+t+e,"data-rating":t,onMouseEnter:i?null:this.handleEnter,onMouseLeave:i?null:this.handleLeave})},renderTooltip:function(){return this.state.hoverRating&&this.props.tooltip?r.createElement("div",{className:n("starbar-tooltip","rating-"+this.state.hoverRating)},this.props.tooltip[this.state.hoverRating-1]):null},getStarMarkup:function(){var t=this.getStarInfo(),a=[],e=[],s=[],i=void 0,n=1;for(i=0;i<t.numWholeStars;i++)a.push(this.createStar(n++,t.ratingType,d.starClass[100]));t.partialStar&&(e.push(this.createStar(n,t.ratingType,d.starClass[t.partialStar])),e.push(this.createStar(n,"sb-placeholder",d.starClass[100])),n++);var o=5-(t.numWholeStars+(t.partialStar?1:0));for(i=0;i<o;i++)s.push(this.createStar(n++,"sb-placeholder",d.starClass[100]));return this.props.canClear&&s.push(r.createElement("span",{className:c,"data-rating":"-2",onClick:this.handleClick},"")),{left:a,mid:e,right:s}},render:function(){var t={starbar:!0,hasClearRating:!0===this.props.canClear,lightBackground:!0===this.props.lightBackground,readOnly:!0===this.props.readOnly};this.props.extraClass&&(t[this.props.extraClass]=!0);var a=this.getStarMarkup();return r.createElement("div",{className:n(t),onClick:this.handleClick,"aria-hidden":!0},this.renderTooltip(),a.left,a.mid.length?r.createElement("div",{className:l},a.mid):null,a.right)}});a.exports=d});C.r("akira/utils/akiraContextTypes.js",function(e,r,o){"use strict";var i=e("prop-types");r.exports={currentPage:i.string,columnsInRow:i.number.isRequired,isInitialRender:i.bool,isKidsPage:i.bool,isOverlayPage:i.bool,lolomoId:i.string,rowNum:i.number,rankNum:i.number,requestId:i.string,listContext:i.string,listType:i.string,isTallRow:i.bool,trackId:i.number,jawBoneTrackId:i.number,jawBoneEpisodeTrackId:i.number,jawBoneTrailerTrackId:i.number,parentContext:i.object,isRtl:i.bool,profileManager:i.object.isRequired,discoveryApp:i.object.isRequired,playerApp:i.object.isRequired}});C.r("common/appContext.js",function(e,t,o){"use strict";var n=e("lodash"),a=e("./nfNamespace"),r=e("nf-ardbeg"),g=e("cookie-dough"),u=a.appContext;t.exports={getModelData:function(e,t,o){if(u)return u.getModelData(e,t,o);var r=n.get(a,["reactContext","models",e,"data"]);return t?n.get(r,t,o):r},getModels:function(){return u?u.getModels():n.get(a,["reactContext","models"])},getAB:function(){return u?u.getAB():r.evaluate(this.getModelData("ab")||{})},getCookieDough:function(){return u?u.getCookieDough():new g}}});C.r("common/nfNamespace.js",function(t,n,i){"use strict";var e=t("shakti-platform/dist/ui/utils/inNode"),l=void 0;l=e?global:window;try{l.netflix||(l.netflix={i18n:{},contextData:{}}),l.netflix.namespace=function(t){var n=l.netflix,i=null,e=t.split("."),a=void 0;"netflix"===e[0]&&e.shift();var o=e.length;for(a=0;a<o;++a)(i=e[a].toString())&&(n=n[i]=n[i]||{});return n},l.name="_nflx"}catch(t){}n.exports=l.netflix});C.r("node_modules/babel-runtime/core-js/array/from.js",function(r,e,o){e.exports={default:r("core-js/library/fn/array/from"),__esModule:!0}});C.r("node_modules/babel-runtime/helpers/toConsumableArray.js",function(r,e,t){"use strict";t.__esModule=!0;var u=r("../core-js/array/from"),n=function(r){return r&&r.__esModule?r:{default:r}}(u);t.default=function(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}return(0,n.default)(r)}});C.r("node_modules/cookie-dough/browser.js",function(e,o,n){var r=e("cookie");o.exports=function(){return{set:function(e,o,n){return document.cookie=r.serialize(e,o,n)},get:function(e){return r.parse(document.cookie)[e]},remove:function(e){return!!(document.cookie=r.serialize(e,"",{expires:new Date(0)}))},all:function(){return r.parse(document.cookie)}}}});C.r("node_modules/cookie/index.js",function(r,e,t){function i(r,e){if("string"!=typeof r)throw new TypeError("argument str must be a string");var t={},i=e||{},n=i.decode||a;return r.split(/; */).forEach(function(r){var e=r.indexOf("=");if(!(e<0)){var i=r.substr(0,e).trim(),a=r.substr(++e,r.length).trim();'"'==a[0]&&(a=a.slice(1,-1)),void 0==t[i]&&(t[i]=o(a,n))}}),t}function n(r,e,t){var i=t||{},n=i.encode||s;if(!u.test(r))throw new TypeError("argument name is invalid");var o=n(e);if(o&&!u.test(o))throw new TypeError("argument val is invalid");var a=[r+"="+o];if(null!=i.maxAge){var p=i.maxAge-0;if(isNaN(p))throw new Error("maxAge should be a Number");a.push("Max-Age="+p)}if(i.domain){if(!u.test(i.domain))throw new TypeError("option domain is invalid");a.push("Domain="+i.domain)}if(i.path){if(!u.test(i.path))throw new TypeError("option path is invalid");a.push("Path="+i.path)}return i.expires&&a.push("Expires="+i.expires.toUTCString()),i.httpOnly&&a.push("HttpOnly"),i.secure&&a.push("Secure"),a.join("; ")}function o(r,e){try{return e(r)}catch(e){return r}}t.parse=i,t.serialize=n;var a=decodeURIComponent,s=encodeURIComponent,u=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/});C.r("node_modules/core-js/library/fn/array/from.js",function(r,o,e){r("../../modules/es6.string.iterator"),r("../../modules/es6.array.from"),o.exports=r("../../modules/_core").Array.from});C.r("node_modules/core-js/library/modules/_classof.js",function(n,t,e){var r=n("./_cof"),o=n("./_wks")("toStringTag"),u="Arguments"==r(function(){return arguments}()),c=function(n,t){try{return n[t]}catch(n){}};t.exports=function(n){var t,e,s;return void 0===n?"Undefined":null===n?"Null":"string"==typeof(e=c(t=Object(n),o))?e:u?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}});C.r("node_modules/core-js/library/modules/_create-property.js",function(e,r,o){"use strict";var t=e("./_object-dp"),s=e("./_property-desc");r.exports=function(e,r,o){r in e?t.f(e,r,s(0,o)):e[r]=o}});C.r("node_modules/core-js/library/modules/_is-array-iter.js",function(r,o,t){var e=r("./_iterators"),a=r("./_wks")("iterator"),i=Array.prototype;o.exports=function(r){return void 0!==r&&(e.Array===r||i[a]===r)}});C.r("node_modules/core-js/library/modules/_iter-call.js",function(r,o,t){var e=r("./_an-object");o.exports=function(r,o,t,c){try{return c?o(e(t)[0],t[1]):o(t)}catch(o){var n=r.return;throw void 0!==n&&e(n.call(r)),o}}});C.r("node_modules/core-js/library/modules/_iter-detect.js",function(r,t,n){var e=r("./_wks")("iterator"),o=!1;try{var u=[7][e]();u.return=function(){o=!0},Array.from(u,function(){throw 2})}catch(r){}t.exports=function(r,t){if(!t&&!o)return!1;var n=!1;try{var u=[7],c=u[e]();c.next=function(){return{done:n=!0}},u[e]=function(){return c},r(u)}catch(r){}return n}});C.r("node_modules/core-js/library/modules/core.get-iterator-method.js",function(r,o,t){var e=r("./_classof"),i=r("./_wks")("iterator"),s=r("./_iterators");o.exports=r("./_core").getIteratorMethod=function(r){if(void 0!=r)return r[i]||r["@@iterator"]||s[e(r)]}});C.r("node_modules/core-js/library/modules/es6.array.from.js",function(r,e,t){"use strict";var o=r("./_ctx"),i=r("./_export"),n=r("./_to-object"),a=r("./_iter-call"),l=r("./_is-array-iter"),c=r("./_to-length"),f=r("./_create-property"),s=r("./core.get-iterator-method");i(i.S+i.F*!r("./_iter-detect")(function(r){Array.from(r)}),"Array",{from:function(r){var e,t,i,d,u=n(r),y="function"==typeof this?this:Array,_=arguments.length,v=_>1?arguments[1]:void 0,h=void 0!==v,m=0,g=s(u);if(h&&(v=o(v,_>2?arguments[2]:void 0,2)),void 0==g||y==Array&&l(g))for(e=c(u.length),t=new y(e);e>m;m++)f(t,m,h?v(u[m],m):u[m]);else for(d=g.call(u),t=new y;!(i=d.next()).done;m++)f(t,m,h?a(d,v,[i.value,m],!0):i.value);return t.length=m,t}})});C.r("node_modules/nf-ardbeg/index.js",function(e,n,s){"use strict";n.exports=e("./lib")});C.r("node_modules/nf-ardbeg/lib/index.js",function(t,e,i){"use strict";function n(t){if(t.hasOwnProperty("_evaluatedTests"))return void(this._evaluatedTests=t._evaluatedTests);this._evaluatedTests={},this._init(t)}function s(t){r.forEach(t,function(t){if(a.hasOwnProperty(t.definition.meta.id)||a.hasOwnProperty(t.definition.meta.name)||!t.definition.meta.id||!t.definition.meta.name)throw new Error("Duplicate test definitions found!");a[t.definition.meta.id]=t,a[t.definition.meta.name]=t})}function o(t){return new n(t)}var r=t("lodash"),a={},l={attr:function(t){return t?!!(t&&this.attrs&&this.attrs.hasOwnProperty(t))&&this.attrs[t]:this.attrs},isExplicit:function(){return void 0!==this.explicit&&this.explicit},isImplicit:function(){return void 0!==this.explicit&&!this.explicit},in:function(){return!!this._allocated},attrs:{}};n.prototype._evaluatedTests=null,n.prototype._init=function(t){var e=this;r.forEach(t,function(t){e._evaluate(t)})},n.prototype._evaluate=function(t){var e,i,n=a[t.testId];n?(e=n.definition.cells[t.cellId],n.evaluateFeatures&&r.assign(e,n.evaluateFeatures(e)),i={id:n.definition.meta.id,cell:t.cellId,attrs:e,explicit:t.explicit}):i={id:t.testId,cell:t.cellId,attrs:{},explicit:t.explicit},t&&t.testId&&(this._evaluatedTests[t.testId]=i),n&&n.definition&&n.definition.meta&&n.definition.meta.name&&(this._evaluatedTests[n.definition.meta.name]=i)},n.prototype.implicitlyIn=function(t,e){return this.in(t,e,!0)},n.prototype.in=function(t,e,i){var n,s,o;return o=this._evaluatedTests[t],!!r.isObject(o)&&(!0===e&&2===arguments.length?(n=null,s=!0):(n=e,s=i),n?r.isArray(n)?this._inTestAndCells(o,n,s):this._inTestAndCell(o,n,s):this._inTest(o,s))},n.prototype.inControl=function(t,e){var i=this.getEvaluatedTest(t);return!!r.isObject(i)&&(e?i.attr("control")&&i.isImplicit():i.attr("control"))},n.prototype.implicitlyInControl=function(t){return this.inControl(t,!0)},n.prototype._inTest=function(t,e){return!0!==e||!1===t.explicit},n.prototype._inTestAndCell=function(t,e,i){return!0===i?t.cell===e&&!1===t.explicit:t.cell===e},n.prototype._inTestAndCells=function(t,e,i){return e.length>1&&r.contains(e,t.cell)},n.prototype.getEvaluatedTest=function(t){return r.isObject(this._evaluatedTests[t])?r.assign({_allocated:!0},l,this._evaluatedTests[t]):l},n.prototype.attr=function(t,e){var i=this._evaluatedTests[t];return i&&i.attrs&&i.attrs.hasOwnProperty(e)?i.attrs[e]:null},n.prototype.getDefinition=function(t){var e={};return t&&a.hasOwnProperty(t)?a[t].definition:(r.forEach(a,function(t,i){e[i]={definition:t.definition}}),e)},n.prototype.toJSON=function(){return{_evaluatedTests:this._evaluatedTests}},e.exports.installDefinitions=s,e.exports.evaluate=o});C.r("node_modules/qs/lib/formats.js",function(t,r,e){"use strict";var n=String.prototype.replace,o=/%20/g;r.exports={default:"RFC3986",formatters:{RFC1738:function(t){return n.call(t,o,"+")},RFC3986:function(t){return t}},RFC1738:"RFC1738",RFC3986:"RFC3986"}});C.r("node_modules/qs/lib/index.js",function(s,r,i){"use strict";var t=s("./stringify"),e=s("./parse"),n=s("./formats");r.exports={formats:n,parse:e,stringify:t}});C.r("node_modules/qs/lib/parse.js",function(e,t,r){"use strict";var i=e("./utils"),o=Object.prototype.hasOwnProperty,l={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:i.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},a=function(e,t){for(var r={},i=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,a=t.parameterLimit===1/0?void 0:t.parameterLimit,n=i.split(t.delimiter,a),c=0;c<n.length;++c){var s,p,d=n[c],u=d.indexOf("]="),y=-1===u?d.indexOf("="):u+1;-1===y?(s=t.decoder(d,l.decoder),p=t.strictNullHandling?null:""):(s=t.decoder(d.slice(0,y),l.decoder),p=t.decoder(d.slice(y+1),l.decoder)),o.call(r,s)?r[s]=[].concat(r[s]).concat(p):r[s]=p}return r},n=function(e,t,r){for(var i=t,o=e.length-1;o>=0;--o){var l,a=e[o];if("[]"===a)l=[],l=l.concat(i);else{l=r.plainObjects?Object.create(null):{};var n="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,c=parseInt(n,10);!isNaN(c)&&a!==n&&String(c)===n&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(l=[],l[c]=i):l[n]=i}i=l}return i},c=function(e,t,r){if(e){var i=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,l=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=l.exec(i),s=c?i.slice(0,c.index):i,p=[];if(s){if(!r.plainObjects&&o.call(Object.prototype,s)&&!r.allowPrototypes)return;p.push(s)}for(var d=0;null!==(c=a.exec(i))&&d<r.depth;){if(d+=1,!r.plainObjects&&o.call(Object.prototype,c[1].slice(1,-1))&&!r.allowPrototypes)return;p.push(c[1])}return c&&p.push("["+i.slice(c.index)+"]"),n(p,t,r)}};t.exports=function(e,t){var r=t?i.assign({},t):{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!=typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.ignoreQueryPrefix=!0===r.ignoreQueryPrefix,r.delimiter="string"==typeof r.delimiter||i.isRegExp(r.delimiter)?r.delimiter:l.delimiter,r.depth="number"==typeof r.depth?r.depth:l.depth,r.arrayLimit="number"==typeof r.arrayLimit?r.arrayLimit:l.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.decoder="function"==typeof r.decoder?r.decoder:l.decoder,r.allowDots="boolean"==typeof r.allowDots?r.allowDots:l.allowDots,r.plainObjects="boolean"==typeof r.plainObjects?r.plainObjects:l.plainObjects,r.allowPrototypes="boolean"==typeof r.allowPrototypes?r.allowPrototypes:l.allowPrototypes,r.parameterLimit="number"==typeof r.parameterLimit?r.parameterLimit:l.parameterLimit,r.strictNullHandling="boolean"==typeof r.strictNullHandling?r.strictNullHandling:l.strictNullHandling,""===e||null===e||void 0===e)return r.plainObjects?Object.create(null):{};for(var o="string"==typeof e?a(e,r):e,n=r.plainObjects?Object.create(null):{},s=Object.keys(o),p=0;p<s.length;++p){var d=s[p],u=c(d,o[d],r);n=i.merge(n,u,r)}return i.compact(n)}});C.r("node_modules/qs/lib/stringify.js",function(e,r,n){"use strict";var t=e("./utils"),o=e("./formats"),i={brackets:function(e){return e+"[]"},indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},l=Date.prototype.toISOString,a={delimiter:"&",encode:!0,encoder:t.encode,encodeValuesOnly:!1,serializeDate:function(e){return l.call(e)},skipNulls:!1,strictNullHandling:!1},f=function e(r,n,o,i,l,f,s,c,u,d,y,p){var v=r;if("function"==typeof s)v=s(n,v);else if(v instanceof Date)v=d(v);else if(null===v){if(i)return f&&!p?f(n,a.encoder):n;v=""}if("string"==typeof v||"number"==typeof v||"boolean"==typeof v||t.isBuffer(v)){if(f){return[y(p?n:f(n,a.encoder))+"="+y(f(v,a.encoder))]}return[y(n)+"="+y(String(v))]}var m=[];if(void 0===v)return m;var b;if(Array.isArray(s))b=s;else{var g=Object.keys(v);b=c?g.sort(c):g}for(var O=0;O<b.length;++O){var k=b[O];l&&null===v[k]||(m=Array.isArray(v)?m.concat(e(v[k],o(n,k),o,i,l,f,s,c,u,d,y,p)):m.concat(e(v[k],n+(u?"."+k:"["+k+"]"),o,i,l,f,s,c,u,d,y,p)))}return m};r.exports=function(e,r){var n=e,l=r?t.assign({},r):{};if(null!==l.encoder&&void 0!==l.encoder&&"function"!=typeof l.encoder)throw new TypeError("Encoder has to be a function.");var s=void 0===l.delimiter?a.delimiter:l.delimiter,c="boolean"==typeof l.strictNullHandling?l.strictNullHandling:a.strictNullHandling,u="boolean"==typeof l.skipNulls?l.skipNulls:a.skipNulls,d="boolean"==typeof l.encode?l.encode:a.encode,y="function"==typeof l.encoder?l.encoder:a.encoder,p="function"==typeof l.sort?l.sort:null,v=void 0!==l.allowDots&&l.allowDots,m="function"==typeof l.serializeDate?l.serializeDate:a.serializeDate,b="boolean"==typeof l.encodeValuesOnly?l.encodeValuesOnly:a.encodeValuesOnly;if(void 0===l.format)l.format=o.default;else if(!Object.prototype.hasOwnProperty.call(o.formatters,l.format))throw new TypeError("Unknown format option provided.");var g,O,k=o.formatters[l.format];"function"==typeof l.filter?(O=l.filter,n=O("",n)):Array.isArray(l.filter)&&(O=l.filter,g=O);var w=[];if("object"!=typeof n||null===n)return"";var D;D=l.arrayFormat in i?l.arrayFormat:"indices"in l?l.indices?"indices":"repeat":"indices";var N=i[D];g||(g=Object.keys(n)),p&&g.sort(p);for(var h=0;h<g.length;++h){var j=g[h];u&&null===n[j]||(w=w.concat(f(n[j],j,N,c,u,d?y:null,O,p,v,m,k,b)))}var A=w.join(s),z=!0===l.addQueryPrefix?"?":"";return A.length>0?z+A:""}});C.r("node_modules/qs/lib/utils.js",function(r,t,e){"use strict";var o=Object.prototype.hasOwnProperty,n=function(){for(var r=[],t=0;t<256;++t)r.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return r}(),c=function(r){for(var t;r.length;){var e=r.pop();if(t=e.obj[e.prop],Array.isArray(t)){for(var o=[],n=0;n<t.length;++n)void 0!==t[n]&&o.push(t[n]);e.obj[e.prop]=o}}return t};e.arrayToObject=function(r,t){for(var e=t&&t.plainObjects?Object.create(null):{},o=0;o<r.length;++o)void 0!==r[o]&&(e[o]=r[o]);return e},e.merge=function(r,t,n){if(!t)return r;if("object"!=typeof t){if(Array.isArray(r))r.push(t);else{if("object"!=typeof r)return[r,t];(n.plainObjects||n.allowPrototypes||!o.call(Object.prototype,t))&&(r[t]=!0)}return r}if("object"!=typeof r)return[r].concat(t);var c=r;return Array.isArray(r)&&!Array.isArray(t)&&(c=e.arrayToObject(r,n)),Array.isArray(r)&&Array.isArray(t)?(t.forEach(function(t,c){o.call(r,c)?r[c]&&"object"==typeof r[c]?r[c]=e.merge(r[c],t,n):r.push(t):r[c]=t}),r):Object.keys(t).reduce(function(r,c){var u=t[c];return o.call(r,c)?r[c]=e.merge(r[c],u,n):r[c]=u,r},c)},e.assign=function(r,t){return Object.keys(t).reduce(function(r,e){return r[e]=t[e],r},r)},e.decode=function(r){try{return decodeURIComponent(r.replace(/\+/g," "))}catch(t){return r}},e.encode=function(r){if(0===r.length)return r;for(var t="string"==typeof r?r:String(r),e="",o=0;o<t.length;++o){var c=t.charCodeAt(o);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122?e+=t.charAt(o):c<128?e+=n[c]:c<2048?e+=n[192|c>>6]+n[128|63&c]:c<55296||c>=57344?e+=n[224|c>>12]+n[128|c>>6&63]+n[128|63&c]:(o+=1,c=65536+((1023&c)<<10|1023&t.charCodeAt(o)),e+=n[240|c>>18]+n[128|c>>12&63]+n[128|c>>6&63]+n[128|63&c])}return e},e.compact=function(r){for(var t=[{obj:{o:r},prop:"o"}],e=[],o=0;o<t.length;++o)for(var n=t[o],u=n.obj[n.prop],a=Object.keys(u),i=0;i<a.length;++i){var f=a[i],p=u[f];"object"==typeof p&&null!==p&&-1===e.indexOf(p)&&(t.push({obj:u,prop:f}),e.push(p))}return c(t)},e.isRegExp=function(r){return"[object RegExp]"===Object.prototype.toString.call(r)},e.isBuffer=function(r){return null!==r&&void 0!==r&&!!(r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer(r))}});C.r("node_modules/rxjs/AsyncSubject.js",function(t,e,o){"use strict";var s=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},r=t("./Subject"),i=t("./Subscription"),n=function(t){function e(){t.apply(this,arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}return s(e,t),e.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),i.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),i.Subscription.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(e){this.hasCompleted||t.prototype.error.call(this,e)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(r.Subject);o.AsyncSubject=n});C.r("node_modules/rxjs/BehaviorSubject.js",function(t,e,r){"use strict";var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=t("./Subject"),i=t("./util/ObjectUnsubscribedError"),u=function(t){function e(e){t.call(this),this._value=e}return o(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var r=t.prototype._subscribe.call(this,e);return r&&!r.closed&&e.next(this._value),r},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.ObjectUnsubscribedError;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(n.Subject);r.BehaviorSubject=u});C.r("node_modules/rxjs/InnerSubscriber.js",function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("./Subscriber"),o=function(t){function e(e,r,n){t.call(this),this.parent=e,this.outerValue=r,this.outerIndex=n,this.index=0}return n(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(i.Subscriber);r.InnerSubscriber=o});C.r("node_modules/rxjs/Notification.js",function(e,t,r){"use strict";var n=e("./Observable"),i=function(){function e(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,r){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return r&&r()}},e.prototype.accept=function(e,t,r){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,r)},e.prototype.toObservable=function(){switch(this.kind){case"N":return n.Observable.of(this.value);case"E":return n.Observable.throw(this.error);case"C":return n.Observable.empty()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();r.Notification=i});C.r("node_modules/rxjs/Observable.js",function(r,o,t){"use strict";var e=r("./util/root"),i=r("./util/toSubscriber"),n=r("./symbol/observable"),s=r("./util/pipe"),u=function(){function r(r){this._isScalar=!1,r&&(this._subscribe=r)}return r.prototype.lift=function(o){var t=new r;return t.source=this,t.operator=o,t},r.prototype.subscribe=function(r,o,t){var e=this.operator,n=i.toSubscriber(r,o,t);if(e?e.call(n,this.source):n.add(this.source||!n.syncErrorThrowable?this._subscribe(n):this._trySubscribe(n)),n.syncErrorThrowable&&(n.syncErrorThrowable=!1,n.syncErrorThrown))throw n.syncErrorValue;return n},r.prototype._trySubscribe=function(r){try{return this._subscribe(r)}catch(o){r.syncErrorThrown=!0,r.syncErrorValue=o,r.error(o)}},r.prototype.forEach=function(r,o){var t=this;if(o||(e.root.Rx&&e.root.Rx.config&&e.root.Rx.config.Promise?o=e.root.Rx.config.Promise:e.root.Promise&&(o=e.root.Promise)),!o)throw new Error("no Promise impl found");return new o(function(o,e){var i;i=t.subscribe(function(o){if(i)try{r(o)}catch(r){e(r),i.unsubscribe()}else r(o)},e,o)})},r.prototype._subscribe=function(r){return this.source.subscribe(r)},r.prototype[n.observable]=function(){return this},r.prototype.pipe=function(){for(var r=[],o=0;o<arguments.length;o++)r[o-0]=arguments[o];return 0===r.length?this:s.pipeFromArray(r)(this)},r.prototype.toPromise=function(r){var o=this;if(r||(e.root.Rx&&e.root.Rx.config&&e.root.Rx.config.Promise?r=e.root.Rx.config.Promise:e.root.Promise&&(r=e.root.Promise)),!r)throw new Error("no Promise impl found");return new r(function(r,t){var e;o.subscribe(function(r){return e=r},function(r){return t(r)},function(){return r(e)})})},r.create=function(o){return new r(o)},r}();t.Observable=u});C.r("node_modules/rxjs/Observer.js",function(e,n,o){"use strict";o.empty={closed:!0,next:function(e){},error:function(e){throw e},complete:function(){}}});C.r("node_modules/rxjs/OuterSubscriber.js",function(t,o,r){"use strict";var n=this&&this.__extends||function(t,o){function r(){this.constructor=t}for(var n in o)o.hasOwnProperty(n)&&(t[n]=o[n]);t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)},e=t("./Subscriber"),i=function(t){function o(){t.apply(this,arguments)}return n(o,t),o.prototype.notifyNext=function(t,o,r,n,e){this.destination.next(o)},o.prototype.notifyError=function(t,o){this.destination.error(t)},o.prototype.notifyComplete=function(t){this.destination.complete()},o}(e.Subscriber);r.OuterSubscriber=i});C.r("node_modules/rxjs/ReplaySubject.js",function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},s=t("./Subject"),n=t("./scheduler/queue"),o=t("./Subscription"),u=t("./operators/observeOn"),h=t("./util/ObjectUnsubscribedError"),c=t("./SubjectSubscription"),p=function(t){function e(e,r,i){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY),t.call(this),this.scheduler=i,this._events=[],this._bufferSize=e<1?1:e,this._windowTime=r<1?1:r}return i(e,t),e.prototype.next=function(e){var r=this._getNow();this._events.push(new b(r,e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,r=this._trimBufferThenGetEvents(),i=this.scheduler;if(this.closed)throw new h.ObjectUnsubscribedError;this.hasError?e=o.Subscription.EMPTY:this.isStopped?e=o.Subscription.EMPTY:(this.observers.push(t),e=new c.SubjectSubscription(this,t)),i&&t.add(t=new u.ObserveOnSubscriber(t,i));for(var s=r.length,n=0;n<s&&!t.closed;n++)t.next(r[n].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||n.queue).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,r=this._windowTime,i=this._events,s=i.length,n=0;n<s&&!(t-i[n].time<r);)n++;return s>e&&(n=Math.max(n,s-e)),n>0&&i.splice(0,n),i},e}(s.Subject);r.ReplaySubject=p;var b=function(){function t(t,e){this.time=t,this.value=e}return t}()});C.r("node_modules/rxjs/Scheduler.js",function(e,n,t){"use strict";var o=function(){function e(n,t){void 0===t&&(t=e.now),this.SchedulerAction=n,this.now=t}return e.prototype.schedule=function(e,n,t){return void 0===n&&(n=0),new this.SchedulerAction(this,e).schedule(t,n)},e.now=Date.now?Date.now:function(){return+new Date},e}();t.Scheduler=o});C.r("node_modules/rxjs/Subject.js",function(t,r,e){"use strict";var s=this&&this.__extends||function(t,r){function e(){this.constructor=t}for(var s in r)r.hasOwnProperty(s)&&(t[s]=r[s]);t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)},o=t("./Observable"),i=t("./Subscriber"),n=t("./Subscription"),c=t("./util/ObjectUnsubscribedError"),u=t("./SubjectSubscription"),b=t("./symbol/rxSubscriber"),h=function(t){function r(r){t.call(this,r),this.destination=r}return s(r,t),r}(i.Subscriber);e.SubjectSubscriber=h;var p=function(t){function r(){t.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return s(r,t),r.prototype[b.rxSubscriber]=function(){return new h(this)},r.prototype.lift=function(t){var r=new l(this,this);return r.operator=t,r},r.prototype.next=function(t){if(this.closed)throw new c.ObjectUnsubscribedError;if(!this.isStopped)for(var r=this.observers,e=r.length,s=r.slice(),o=0;o<e;o++)s[o].next(t)},r.prototype.error=function(t){if(this.closed)throw new c.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var r=this.observers,e=r.length,s=r.slice(),o=0;o<e;o++)s[o].error(t);this.observers.length=0},r.prototype.complete=function(){if(this.closed)throw new c.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,r=t.length,e=t.slice(),s=0;s<r;s++)e[s].complete();this.observers.length=0},r.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},r.prototype._trySubscribe=function(r){if(this.closed)throw new c.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,r)},r.prototype._subscribe=function(t){if(this.closed)throw new c.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),n.Subscription.EMPTY):this.isStopped?(t.complete(),n.Subscription.EMPTY):(this.observers.push(t),new u.SubjectSubscription(this,t))},r.prototype.asObservable=function(){var t=new o.Observable;return t.source=this,t},r.create=function(t,r){return new l(t,r)},r}(o.Observable);e.Subject=p;var l=function(t){function r(r,e){t.call(this),this.destination=r,this.source=e}return s(r,t),r.prototype.next=function(t){var r=this.destination;r&&r.next&&r.next(t)},r.prototype.error=function(t){var r=this.destination;r&&r.error&&this.destination.error(t)},r.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},r.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):n.Subscription.EMPTY},r}(p);e.AnonymousSubject=l});C.r("node_modules/rxjs/SubjectSubscription.js",function(t,s,i){"use strict";var e=this&&this.__extends||function(t,s){function i(){this.constructor=t}for(var e in s)s.hasOwnProperty(e)&&(t[e]=s[e]);t.prototype=null===s?Object.create(s):(i.prototype=s.prototype,new i)},o=t("./Subscription"),r=function(t){function s(s,i){t.call(this),this.subject=s,this.subscriber=i,this.closed=!1}return e(s,t),s.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,s=t.observers;if(this.subject=null,s&&0!==s.length&&!t.isStopped&&!t.closed){var i=s.indexOf(this.subscriber);-1!==i&&s.splice(i,1)}}},s}(o.Subscription);i.SubjectSubscription=r});C.r("node_modules/rxjs/Subscriber.js",function(t,r,s){"use strict";var i=this&&this.__extends||function(t,r){function s(){this.constructor=t}for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i]);t.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)},e=t("./util/isFunction"),n=t("./Subscription"),o=t("./Observer"),c=t("./symbol/rxSubscriber"),h=function(t){function r(s,i,e){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=o.empty;break;case 1:if(!s){this.destination=o.empty;break}if("object"==typeof s){s instanceof r?(this.syncErrorThrowable=s.syncErrorThrowable,this.destination=s,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new u(this,s));break}default:this.syncErrorThrowable=!0,this.destination=new u(this,s,i,e)}}return i(r,t),r.prototype[c.rxSubscriber]=function(){return this},r.create=function(t,s,i){var e=new r(t,s,i);return e.syncErrorThrowable=!1,e},r.prototype.next=function(t){this.isStopped||this._next(t)},r.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},r.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},r.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},r.prototype._next=function(t){this.destination.next(t)},r.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},r.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},r.prototype._unsubscribeAndRecycle=function(){var t=this,r=t._parent,s=t._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=r,this._parents=s,this},r}(n.Subscription);s.Subscriber=h;var u=function(t){function r(r,s,i,n){t.call(this),this._parentSubscriber=r;var c,h=this;e.isFunction(s)?c=s:s&&(c=s.next,i=s.error,n=s.complete,s!==o.empty&&(h=Object.create(s),e.isFunction(h.unsubscribe)&&this.add(h.unsubscribe.bind(h)),h.unsubscribe=this.unsubscribe.bind(this))),this._context=h,this._next=c,this._error=i,this._complete=n}return i(r,t),r.prototype.next=function(t){if(!this.isStopped&&this._next){var r=this._parentSubscriber;r.syncErrorThrowable?this.__tryOrSetError(r,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},r.prototype.error=function(t){if(!this.isStopped){var r=this._parentSubscriber;if(this._error)r.syncErrorThrowable?(this.__tryOrSetError(r,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!r.syncErrorThrowable)throw this.unsubscribe(),t;r.syncErrorValue=t,r.syncErrorThrown=!0,this.unsubscribe()}}},r.prototype.complete=function(){var t=this;if(!this.isStopped){var r=this._parentSubscriber;if(this._complete){var s=function(){return t._complete.call(t._context)};r.syncErrorThrowable?(this.__tryOrSetError(r,s),this.unsubscribe()):(this.__tryOrUnsub(s),this.unsubscribe())}else this.unsubscribe()}},r.prototype.__tryOrUnsub=function(t,r){try{t.call(this._context,r)}catch(t){throw this.unsubscribe(),t}},r.prototype.__tryOrSetError=function(t,r,s){try{r.call(this._context,s)}catch(r){return t.syncErrorValue=r,t.syncErrorThrown=!0,!0}return!1},r.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},r}(h)});C.r("node_modules/rxjs/Subscription.js",function(r,t,i){"use strict";function n(r){return r.reduce(function(r,t){return r.concat(t instanceof a.UnsubscriptionError?t.errors:t)},[])}var s=r("./util/isArray"),e=r("./util/isObject"),o=r("./util/isFunction"),u=r("./util/tryCatch"),c=r("./util/errorObject"),a=r("./util/UnsubscriptionError"),p=function(){function r(r){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,r&&(this._unsubscribe=r)}return r.prototype.unsubscribe=function(){var r,t=!1;if(!this.closed){var i=this,p=i._parent,b=i._parents,f=i._unsubscribe,l=i._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var h=-1,d=b?b.length:0;p;)p.remove(this),p=++h<d&&b[h]||null;if(o.isFunction(f)){var _=u.tryCatch(f).call(this);_===c.errorObject&&(t=!0,r=r||(c.errorObject.e instanceof a.UnsubscriptionError?n(c.errorObject.e.errors):[c.errorObject.e]))}if(s.isArray(l))for(h=-1,d=l.length;++h<d;){var v=l[h];if(e.isObject(v)){var _=u.tryCatch(v.unsubscribe).call(v);if(_===c.errorObject){t=!0,r=r||[];var j=c.errorObject.e;j instanceof a.UnsubscriptionError?r=r.concat(n(j.errors)):r.push(j)}}}if(t)throw new a.UnsubscriptionError(r)}},r.prototype.add=function(t){if(!t||t===r.EMPTY)return r.EMPTY;if(t===this)return this;var i=t;switch(typeof t){case"function":i=new r(t);case"object":if(i.closed||"function"!=typeof i.unsubscribe)return i;if(this.closed)return i.unsubscribe(),i;if("function"!=typeof i._addParent){var n=i;i=new r,i._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(i),i._addParent(this),i},r.prototype.remove=function(r){var t=this._subscriptions;if(t){var i=t.indexOf(r);-1!==i&&t.splice(i,1)}},r.prototype._addParent=function(r){var t=this,i=t._parent,n=t._parents;i&&i!==r?n?-1===n.indexOf(r)&&n.push(r):this._parents=[r]:this._parent=r},r.EMPTY=function(r){return r.closed=!0,r}(new r),r}();i.Subscription=p});C.r("node_modules/rxjs/add/observable/bindCallback.js",function(b,a,l){"use strict";var e=b("../../Observable"),s=b("../../observable/bindCallback");e.Observable.bindCallback=s.bindCallback});C.r("node_modules/rxjs/add/observable/concat.js",function(e,a,c){"use strict";var o=e("../../Observable"),s=e("../../observable/concat");o.Observable.concat=s.concat});C.r("node_modules/rxjs/add/observable/defer.js",function(e,r,s){"use strict";var b=e("../../Observable"),d=e("../../observable/defer");b.Observable.defer=d.defer});C.r("node_modules/rxjs/add/observable/empty.js",function(e,s,b){"use strict";var r=e("../../Observable"),t=e("../../observable/empty");r.Observable.empty=t.empty});C.r("node_modules/rxjs/add/observable/forkJoin.js",function(o,r,e){"use strict";var s=o("../../Observable"),b=o("../../observable/forkJoin");s.Observable.forkJoin=b.forkJoin});C.r("node_modules/rxjs/add/observable/from.js",function(r,e,o){"use strict";var s=r("../../Observable"),b=r("../../observable/from");s.Observable.from=b.from});C.r("node_modules/rxjs/add/observable/fromEvent.js",function(e,r,o){"use strict";var s=e("../../Observable"),v=e("../../observable/fromEvent");s.Observable.fromEvent=v.fromEvent});C.r("node_modules/rxjs/add/observable/fromPromise.js",function(r,e,o){"use strict";var s=r("../../Observable"),m=r("../../observable/fromPromise");s.Observable.fromPromise=m.fromPromise});C.r("node_modules/rxjs/add/observable/interval.js",function(e,r,a){"use strict";var l=e("../../Observable"),s=e("../../observable/interval");l.Observable.interval=s.interval});C.r("node_modules/rxjs/add/observable/merge.js",function(e,r,s){"use strict";var b=e("../../Observable"),a=e("../../observable/merge");b.Observable.merge=a.merge});C.r("node_modules/rxjs/add/observable/of.js",function(e,o,s){"use strict";var b=e("../../Observable"),r=e("../../observable/of");b.Observable.of=r.of});C.r("node_modules/rxjs/add/observable/throw.js",function(r,e,o){"use strict";var s=r("../../Observable"),b=r("../../observable/throw");s.Observable.throw=b._throw});C.r("node_modules/rxjs/add/observable/timer.js",function(e,r,s){"use strict";var b=e("../../Observable"),t=e("../../observable/timer");b.Observable.timer=t.timer});C.r("node_modules/rxjs/add/observable/zip.js",function(e,s,b){"use strict";var r=e("../../Observable"),a=e("../../observable/zip");r.Observable.zip=a.zip});C.r("node_modules/rxjs/add/operator/bufferTime.js",function(e,r,f){"use strict";var o=e("../../Observable"),b=e("../../operator/bufferTime");o.Observable.prototype.bufferTime=b.bufferTime});C.r("node_modules/rxjs/add/operator/catch.js",function(t,c,a){"use strict";var e=t("../../Observable"),r=t("../../operator/catch");e.Observable.prototype.catch=r._catch,e.Observable.prototype._catch=r._catch});C.r("node_modules/rxjs/add/operator/concat.js",function(o,r,t){"use strict";var a=o("../../Observable"),c=o("../../operator/concat");a.Observable.prototype.concat=c.concat});C.r("node_modules/rxjs/add/operator/delay.js",function(e,r,a){"use strict";var o=e("../../Observable"),d=e("../../operator/delay");o.Observable.prototype.delay=d.delay});C.r("node_modules/rxjs/add/operator/distinctUntilChanged.js",function(t,n,e){"use strict";var i=t("../../Observable"),d=t("../../operator/distinctUntilChanged");i.Observable.prototype.distinctUntilChanged=d.distinctUntilChanged});C.r("node_modules/rxjs/add/operator/do.js",function(o,e,r){"use strict";var d=o("../../Observable"),t=o("../../operator/do");d.Observable.prototype.do=t._do,d.Observable.prototype._do=t._do});C.r("node_modules/rxjs/add/operator/filter.js",function(r,e,t){"use strict";var o=r("../../Observable"),l=r("../../operator/filter");o.Observable.prototype.filter=l.filter});C.r("node_modules/rxjs/add/operator/first.js",function(r,s,t){"use strict";var e=r("../../Observable"),o=r("../../operator/first");e.Observable.prototype.first=o.first});C.r("node_modules/rxjs/add/operator/map.js",function(r,a,e){"use strict";var o=r("../../Observable"),p=r("../../operator/map");o.Observable.prototype.map=p.map});C.r("node_modules/rxjs/add/operator/merge.js",function(e,r,o){"use strict";var s=e("../../Observable"),t=e("../../operator/merge");s.Observable.prototype.merge=t.merge});C.r("node_modules/rxjs/add/operator/mergeMap.js",function(e,r,a){"use strict";var p=e("../../Observable"),o=e("../../operator/mergeMap");p.Observable.prototype.mergeMap=o.mergeMap,p.Observable.prototype.flatMap=o.mergeMap});C.r("node_modules/rxjs/add/operator/observeOn.js",function(e,r,o){"use strict";var s=e("../../Observable"),b=e("../../operator/observeOn");s.Observable.prototype.observeOn=b.observeOn});C.r("node_modules/rxjs/add/operator/onErrorResumeNext.js",function(r,e,o){"use strict";var s=r("../../Observable"),t=r("../../operator/onErrorResumeNext");s.Observable.prototype.onErrorResumeNext=t.onErrorResumeNext});C.r("node_modules/rxjs/add/operator/publish.js",function(r,s,e){"use strict";var o=r("../../Observable"),b=r("../../operator/publish");o.Observable.prototype.publish=b.publish});C.r("node_modules/rxjs/add/operator/publishReplay.js",function(e,p,l){"use strict";var r=e("../../Observable"),s=e("../../operator/publishReplay");r.Observable.prototype.publishReplay=s.publishReplay});C.r("node_modules/rxjs/add/operator/reduce.js",function(e,r,o){"use strict";var d=e("../../Observable"),s=e("../../operator/reduce");d.Observable.prototype.reduce=s.reduce});C.r("node_modules/rxjs/add/operator/retryWhen.js",function(r,e,t){"use strict";var o=r("../../Observable"),n=r("../../operator/retryWhen");o.Observable.prototype.retryWhen=n.retryWhen});C.r("node_modules/rxjs/add/operator/sample.js",function(e,r,s){"use strict";var a=e("../../Observable"),o=e("../../operator/sample");a.Observable.prototype.sample=o.sample});C.r("node_modules/rxjs/add/operator/sampleTime.js",function(e,r,s){"use strict";var a=e("../../Observable"),m=e("../../operator/sampleTime");a.Observable.prototype.sampleTime=m.sampleTime});C.r("node_modules/rxjs/add/operator/scan.js",function(r,s,a){"use strict";var e=r("../../Observable"),o=r("../../operator/scan");e.Observable.prototype.scan=o.scan});C.r("node_modules/rxjs/add/operator/share.js",function(r,e,s){"use strict";var a=r("../../Observable"),o=r("../../operator/share");a.Observable.prototype.share=o.share});C.r("node_modules/rxjs/add/operator/startWith.js",function(t,r,s){"use strict";var a=t("../../Observable"),e=t("../../operator/startWith");a.Observable.prototype.startWith=e.startWith});C.r("node_modules/rxjs/add/operator/switchMap.js",function(r,s,t){"use strict";var a=r("../../Observable"),e=r("../../operator/switchMap");a.Observable.prototype.switchMap=e.switchMap});C.r("node_modules/rxjs/add/operator/take.js",function(e,r,t){"use strict";var a=e("../../Observable"),o=e("../../operator/take");a.Observable.prototype.take=o.take});C.r("node_modules/rxjs/add/operator/takeLast.js",function(t,a,e){"use strict";var r=t("../../Observable"),s=t("../../operator/takeLast");r.Observable.prototype.takeLast=s.takeLast});C.r("node_modules/rxjs/add/operator/takeUntil.js",function(t,e,r){"use strict";var a=t("../../Observable"),o=t("../../operator/takeUntil");a.Observable.prototype.takeUntil=o.takeUntil});C.r("node_modules/rxjs/add/operator/takeWhile.js",function(e,r,t){"use strict";var a=e("../../Observable"),o=e("../../operator/takeWhile");a.Observable.prototype.takeWhile=o.takeWhile});C.r("node_modules/rxjs/add/operator/throttleTime.js",function(t,e,r){"use strict";var o=t("../../Observable"),l=t("../../operator/throttleTime");o.Observable.prototype.throttleTime=l.throttleTime});C.r("node_modules/rxjs/add/operator/timeInterval.js",function(e,r,t){"use strict";var a=e("../../Observable"),o=e("../../operator/timeInterval");a.Observable.prototype.timeInterval=o.timeInterval});C.r("node_modules/rxjs/add/operator/timeout.js",function(t,e,o){"use strict";var r=t("../../Observable"),s=t("../../operator/timeout");r.Observable.prototype.timeout=s.timeout});C.r("node_modules/rxjs/add/operator/timeoutWith.js",function(t,e,o){"use strict";var r=t("../../Observable"),i=t("../../operator/timeoutWith");r.Observable.prototype.timeoutWith=i.timeoutWith});C.r("node_modules/rxjs/add/operator/zip.js",function(r,o,e){"use strict";var p=r("../../Observable"),t=r("../../operator/zip");p.Observable.prototype.zip=t.zipProto});C.r("node_modules/rxjs/observable/ArrayLikeObservable.js",function(e,r,t){"use strict";var s=this&&this.__extends||function(e,r){function t(){this.constructor=e}for(var s in r)r.hasOwnProperty(s)&&(e[s]=r[s]);e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)},n=e("../Observable"),i=e("./ScalarObservable"),a=e("./EmptyObservable"),c=function(e){function r(r,t){e.call(this),this.arrayLike=r,this.scheduler=t,t||1!==r.length||(this._isScalar=!0,this.value=r[0])}return s(r,e),r.create=function(e,t){var s=e.length;return 0===s?new a.EmptyObservable:1===s?new i.ScalarObservable(e[0],t):new r(e,t)},r.dispatch=function(e){var r=e.arrayLike,t=e.index,s=e.length,n=e.subscriber;if(!n.closed){if(t>=s)return void n.complete();n.next(r[t]),e.index=t+1,this.schedule(e)}},r.prototype._subscribe=function(e){var t=this,s=t.arrayLike,n=t.scheduler,i=s.length;if(n)return n.schedule(r.dispatch,0,{arrayLike:s,index:0,length:i,subscriber:e});for(var a=0;a<i&&!e.closed;a++)e.next(s[a]);e.complete()},r}(n.Observable);t.ArrayLikeObservable=c});C.r("node_modules/rxjs/observable/ArrayObservable.js",function(e,r,t){"use strict";var n=this&&this.__extends||function(e,r){function t(){this.constructor=e}for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n]);e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)},s=e("../Observable"),a=e("./ScalarObservable"),i=e("./EmptyObservable"),c=e("../util/isScheduler"),l=function(e){function r(r,t){e.call(this),this.array=r,this.scheduler=t,t||1!==r.length||(this._isScalar=!0,this.value=r[0])}return n(r,e),r.create=function(e,t){return new r(e,t)},r.of=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=e[e.length-1];c.isScheduler(n)?e.pop():n=null;var s=e.length;return s>1?new r(e,n):1===s?new a.ScalarObservable(e[0],n):new i.EmptyObservable(n)},r.dispatch=function(e){var r=e.array,t=e.index,n=e.count,s=e.subscriber;if(t>=n)return void s.complete();s.next(r[t]),s.closed||(e.index=t+1,this.schedule(e))},r.prototype._subscribe=function(e){var t=this.array,n=t.length,s=this.scheduler;if(s)return s.schedule(r.dispatch,0,{array:t,index:0,count:n,subscriber:e});for(var a=0;a<n&&!e.closed;a++)e.next(t[a]);e.complete()},r}(s.Observable);t.ArrayObservable=l});C.r("node_modules/rxjs/observable/BoundCallbackObservable.js",function(e,t,r){"use strict";function c(e){var t=e.value,r=e.subject;r.next(t),r.complete()}function s(e){var t=e.err;e.subject.error(t)}var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var c in t)t.hasOwnProperty(c)&&(e[c]=t[c]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Observable"),u=e("../util/tryCatch"),a=e("../util/errorObject"),i=e("../AsyncSubject"),b=function(e){function t(t,r,c,s,o){e.call(this),this.callbackFunc=t,this.selector=r,this.args=c,this.context=s,this.scheduler=o}return o(t,e),t.create=function(e,r,c){return void 0===r&&(r=void 0),function(){for(var s=[],o=0;o<arguments.length;o++)s[o-0]=arguments[o];return new t(e,r,s,this,c)}},t.prototype._subscribe=function(e){var r=this.callbackFunc,c=this.args,s=this.scheduler,o=this.subject;if(s)return s.schedule(t.dispatch,0,{source:this,subscriber:e,context:this.context});if(!o){o=this.subject=new i.AsyncSubject;var n=function e(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var c=e.source,s=c.selector,o=c.subject;if(s){var n=u.tryCatch(s).apply(this,t);n===a.errorObject?o.error(a.errorObject.e):(o.next(n),o.complete())}else o.next(t.length<=1?t[0]:t),o.complete()};n.source=this;u.tryCatch(r).apply(this.context,c.concat(n))===a.errorObject&&o.error(a.errorObject.e)}return o.subscribe(e)},t.dispatch=function(e){var t=this,r=e.source,o=e.subscriber,n=e.context,b=r.callbackFunc,l=r.args,h=r.scheduler,j=r.subject;if(!j){j=r.subject=new i.AsyncSubject;var v=function e(){for(var r=[],o=0;o<arguments.length;o++)r[o-0]=arguments[o];var n=e.source,i=n.selector,b=n.subject;if(i){var l=u.tryCatch(i).apply(this,r);l===a.errorObject?t.add(h.schedule(s,0,{err:a.errorObject.e,subject:b})):t.add(h.schedule(c,0,{value:l,subject:b}))}else{var j=r.length<=1?r[0]:r;t.add(h.schedule(c,0,{value:j,subject:b}))}};v.source=r;u.tryCatch(b).apply(n,l.concat(v))===a.errorObject&&j.error(a.errorObject.e)}t.add(j.subscribe(o))},t}(n.Observable);r.BoundCallbackObservable=b});C.r("node_modules/rxjs/observable/ConnectableObservable.js",function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},c=t("../Subject"),i=t("../Observable"),r=t("../Subscriber"),u=t("../Subscription"),s=t("../operators/refCount"),l=function(t){function e(e,n){t.call(this),this.source=e,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}return o(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,t=this._connection=new u.Subscription,t.add(this.source.subscribe(new a(this.getSubject(),this))),t.closed?(this._connection=null,t=u.Subscription.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return s.refCount()(this)},e}(i.Observable);n.ConnectableObservable=l;var b=l.prototype;n.connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:b._subscribe},_isComplete:{value:b._isComplete,writable:!0},getSubject:{value:b.getSubject},connect:{value:b.connect},refCount:{value:b.refCount}};var a=function(t){function e(e,n){t.call(this,e),this.connectable=n}return o(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(c.SubjectSubscriber),p=(function(){function t(t){this.connectable=t}t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var o=new p(t,n),c=e.subscribe(o);return o.closed||(o.connection=n.connect()),c}}(),function(t){function e(e,n){t.call(this,e),this.connectable=n}return o(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(!t)return void(this.connection=null);this.connectable=null;var e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);var n=this.connection,o=t._connection;this.connection=null,!o||n&&o!==n||o.unsubscribe()},e}(r.Subscriber))});C.r("node_modules/rxjs/observable/DeferObservable.js",function(t,r,e){"use strict";var o=this&&this.__extends||function(t,r){function e(){this.constructor=t}for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o]);t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)},s=t("../Observable"),n=t("../util/subscribeToResult"),c=t("../OuterSubscriber"),i=function(t){function r(r){t.call(this),this.observableFactory=r}return o(r,t),r.create=function(t){return new r(t)},r.prototype._subscribe=function(t){return new u(t,this.observableFactory)},r}(s.Observable);e.DeferObservable=i;var u=function(t){function r(r,e){t.call(this,r),this.factory=e,this.tryDefer()}return o(r,t),r.prototype.tryDefer=function(){try{this._callFactory()}catch(t){this._error(t)}},r.prototype._callFactory=function(){var t=this.factory();t&&this.add(n.subscribeToResult(this,t))},r}(c.OuterSubscriber)});C.r("node_modules/rxjs/observable/EmptyObservable.js",function(e,t,r){"use strict";var s=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Observable"),c=function(e){function t(t){e.call(this),this.scheduler=t}return s(t,e),t.create=function(e){return new t(e)},t.dispatch=function(e){e.subscriber.complete()},t.prototype._subscribe=function(e){var r=this.scheduler;if(r)return r.schedule(t.dispatch,0,{subscriber:e});e.complete()},t}(n.Observable);r.EmptyObservable=c});C.r("node_modules/rxjs/observable/ErrorObservable.js",function(r,e,t){"use strict";var o=this&&this.__extends||function(r,e){function t(){this.constructor=r}for(var o in e)e.hasOwnProperty(o)&&(r[o]=e[o]);r.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)},s=r("../Observable"),n=function(r){function e(e,t){r.call(this),this.error=e,this.scheduler=t}return o(e,r),e.create=function(r,t){return new e(r,t)},e.dispatch=function(r){var e=r.error;r.subscriber.error(e)},e.prototype._subscribe=function(r){var t=this.error,o=this.scheduler;if(r.syncErrorThrowable=!0,o)return o.schedule(e.dispatch,0,{error:t,subscriber:r});r.error(t)},e}(s.Observable);t.ErrorObservable=n});C.r("node_modules/rxjs/observable/ForkJoinObservable.js",function(e,t,r){"use strict";var s=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Observable"),o=e("./EmptyObservable"),i=e("../util/isArray"),l=e("../util/subscribeToResult"),u=e("../OuterSubscriber"),a=function(e){function t(t,r){e.call(this),this.sources=t,this.resultSelector=r}return s(t,e),t.create=function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];if(null===e||0===arguments.length)return new o.EmptyObservable;var s=null;return"function"==typeof e[e.length-1]&&(s=e.pop()),1===e.length&&i.isArray(e[0])&&(e=e[0]),0===e.length?new o.EmptyObservable:new t(e,s)},t.prototype._subscribe=function(e){return new h(e,this.sources,this.resultSelector)},t}(n.Observable);r.ForkJoinObservable=a;var h=function(e){function t(t,r,s){e.call(this,t),this.sources=r,this.resultSelector=s,this.completed=0,this.haveValues=0;var n=r.length;this.total=n,this.values=new Array(n);for(var o=0;o<n;o++){var i=r[o],u=l.subscribeToResult(this,i,null,o);u&&(u.outerIndex=o,this.add(u))}}return s(t,e),t.prototype.notifyNext=function(e,t,r,s,n){this.values[r]=t,n._hasValue||(n._hasValue=!0,this.haveValues++)},t.prototype.notifyComplete=function(e){var t=this.destination,r=this,s=r.haveValues,n=r.resultSelector,o=r.values,i=o.length;if(!e._hasValue)return void t.complete();if(++this.completed===i){if(s===i){var l=n?n.apply(this,o):o;t.next(l)}t.complete()}},t}(u.OuterSubscriber)});C.r("node_modules/rxjs/observable/FromEventObservable.js",function(t,e,n){"use strict";function r(t){return!!t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}function o(t){return!!t&&"function"==typeof t.on&&"function"==typeof t.off}function i(t){return!!t&&"[object NodeList]"===b.call(t)}function s(t){return!!t&&"[object HTMLCollection]"===b.call(t)}function u(t){return!!t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}var c=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},f=t("../Observable"),a=t("../util/tryCatch"),v=t("../util/isFunction"),p=t("../util/errorObject"),l=t("../Subscription"),b=Object.prototype.toString,h=function(t){function e(e,n,r,o){t.call(this),this.sourceObj=e,this.eventName=n,this.selector=r,this.options=o}return c(e,t),e.create=function(t,n,r,o){return v.isFunction(r)&&(o=r,r=void 0),new e(t,n,o,r)},e.setupSubscription=function(t,n,c,f,a){var v;if(i(t)||s(t))for(var p=0,b=t.length;p<b;p++)e.setupSubscription(t[p],n,c,f,a);else if(u(t)){var h=t;t.addEventListener(n,c,a),v=function(){return h.removeEventListener(n,c)}}else if(o(t)){var d=t;t.on(n,c),v=function(){return d.off(n,c)}}else{if(!r(t))throw new TypeError("Invalid event target");var y=t;t.addListener(n,c),v=function(){return y.removeListener(n,c)}}f.add(new l.Subscription(v))},e.prototype._subscribe=function(t){var n=this.sourceObj,r=this.eventName,o=this.options,i=this.selector,s=i?function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];var r=a.tryCatch(i).apply(void 0,e);r===p.errorObject?t.error(p.errorObject.e):t.next(r)}:function(e){return t.next(e)};e.setupSubscription(n,r,s,t,o)},e}(f.Observable);n.FromEventObservable=h});C.r("node_modules/rxjs/observable/FromObservable.js",function(e,r,s){"use strict";var t=this&&this.__extends||function(e,r){function s(){this.constructor=e}for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t]);e.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)},i=e("../util/isArray"),o=e("../util/isArrayLike"),b=e("../util/isPromise"),n=e("./PromiseObservable"),a=e("./IteratorObservable"),l=e("./ArrayObservable"),u=e("./ArrayLikeObservable"),v=e("../symbol/iterator"),c=e("../Observable"),f=e("../operators/observeOn"),y=e("../symbol/observable"),O=function(e){function r(r,s){e.call(this,null),this.ish=r,this.scheduler=s}return t(r,e),r.create=function(e,s){if(null!=e){if("function"==typeof e[y.observable])return e instanceof c.Observable&&!s?e:new r(e,s);if(i.isArray(e))return new l.ArrayObservable(e,s);if(b.isPromise(e))return new n.PromiseObservable(e,s);if("function"==typeof e[v.iterator]||"string"==typeof e)return new a.IteratorObservable(e,s);if(o.isArrayLike(e))return new u.ArrayLikeObservable(e,s)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")},r.prototype._subscribe=function(e){var r=this.ish,s=this.scheduler;return null==s?r[y.observable]().subscribe(e):r[y.observable]().subscribe(new f.ObserveOnSubscriber(e,s,0))},r}(c.Observable);s.FromObservable=O});C.r("node_modules/rxjs/observable/IntervalObservable.js",function(e,s,t){"use strict";var r=this&&this.__extends||function(e,s){function t(){this.constructor=e}for(var r in s)s.hasOwnProperty(r)&&(e[r]=s[r]);e.prototype=null===s?Object.create(s):(t.prototype=s.prototype,new t)},i=e("../util/isNumeric"),n=e("../Observable"),c=e("../scheduler/async"),o=function(e){function s(s,t){void 0===s&&(s=0),void 0===t&&(t=c.async),e.call(this),this.period=s,this.scheduler=t,(!i.isNumeric(s)||s<0)&&(this.period=0),t&&"function"==typeof t.schedule||(this.scheduler=c.async)}return r(s,e),s.create=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=c.async),new s(e,t)},s.dispatch=function(e){var s=e.index,t=e.subscriber,r=e.period;t.next(s),t.closed||(e.index+=1,this.schedule(e,r))},s.prototype._subscribe=function(e){var t=this.period,r=this.scheduler;e.add(r.schedule(s.dispatch,t,{index:0,subscriber:e,period:t}))},s}(n.Observable);t.IntervalObservable=o});C.r("node_modules/rxjs/observable/IteratorObservable.js",function(t,r,e){"use strict";function n(t){var r=t[h.iterator];if(!r&&"string"==typeof t)return new d(t);if(!r&&void 0!==t.length)return new f(t);if(!r)throw new TypeError("object is not iterable");return t[h.iterator]()}function o(t){var r=+t.length;return isNaN(r)?0:0!==r&&i(r)?(r=u(r)*Math.floor(Math.abs(r)),r<=0?0:r>v?v:r):r}function i(t){return"number"==typeof t&&a.root.isFinite(t)}function u(t){var r=+t;return 0===r?r:isNaN(r)?r:r<0?-1:1}var s=this&&this.__extends||function(t,r){function e(){this.constructor=t}for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n]);t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)},a=t("../util/root"),c=t("../Observable"),h=t("../symbol/iterator"),l=function(t){function r(r,e){if(t.call(this),this.scheduler=e,null==r)throw new Error("iterator cannot be null.");this.iterator=n(r)}return s(r,t),r.create=function(t,e){return new r(t,e)},r.dispatch=function(t){var r=t.index,e=t.hasError,n=t.iterator,o=t.subscriber;if(e)return void o.error(t.error);var i=n.next();return i.done?void o.complete():(o.next(i.value),t.index=r+1,o.closed?void("function"==typeof n.return&&n.return()):void this.schedule(t))},r.prototype._subscribe=function(t){var e=this,n=e.iterator,o=e.scheduler;if(o)return o.schedule(r.dispatch,0,{index:0,iterator:n,subscriber:t});for(;;){var i=n.next();if(i.done){t.complete();break}if(t.next(i.value),t.closed){"function"==typeof n.return&&n.return();break}}},r}(c.Observable);e.IteratorObservable=l;var d=function(){function t(t,r,e){void 0===r&&(r=0),void 0===e&&(e=t.length),this.str=t,this.idx=r,this.len=e}return t.prototype[h.iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},t}(),f=function(){function t(t,r,e){void 0===r&&(r=0),void 0===e&&(e=o(t)),this.arr=t,this.idx=r,this.len=e}return t.prototype[h.iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},t}(),v=Math.pow(2,53)-1});C.r("node_modules/rxjs/observable/PromiseObservable.js",function(e,t,r){"use strict";function s(e){var t=e.value,r=e.subscriber;r.closed||(r.next(t),r.complete())}function o(e){var t=e.err,r=e.subscriber;r.closed||r.error(t)}var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=e("../util/root"),c=e("../Observable"),u=function(e){function t(t,r){e.call(this),this.promise=t,this.scheduler=r}return n(t,e),t.create=function(e,r){return new t(e,r)},t.prototype._subscribe=function(e){var t=this,r=this.promise,n=this.scheduler;if(null==n)this._isScalar?e.closed||(e.next(this.value),e.complete()):r.then(function(r){t.value=r,t._isScalar=!0,e.closed||(e.next(r),e.complete())},function(t){e.closed||e.error(t)}).then(null,function(e){i.root.setTimeout(function(){throw e})});else if(this._isScalar){if(!e.closed)return n.schedule(s,0,{value:this.value,subscriber:e})}else r.then(function(r){t.value=r,t._isScalar=!0,e.closed||e.add(n.schedule(s,0,{value:r,subscriber:e}))},function(t){e.closed||e.add(n.schedule(o,0,{err:t,subscriber:e}))}).then(null,function(e){i.root.setTimeout(function(){throw e})})},t}(c.Observable);r.PromiseObservable=u});C.r("node_modules/rxjs/observable/ScalarObservable.js",function(e,t,r){"use strict";var s=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Observable"),c=function(e){function t(t,r){e.call(this),this.value=t,this.scheduler=r,this._isScalar=!0,r&&(this._isScalar=!1)}return s(t,e),t.create=function(e,r){return new t(e,r)},t.dispatch=function(e){var t=e.done,r=e.value,s=e.subscriber;if(t)return void s.complete();s.next(r),s.closed||(e.done=!0,this.schedule(e))},t.prototype._subscribe=function(e){var r=this.value,s=this.scheduler;if(s)return s.schedule(t.dispatch,0,{done:!1,value:r,subscriber:e});e.next(r),e.closed||e.complete()},t}(n.Observable);r.ScalarObservable=c});C.r("node_modules/rxjs/observable/TimerObservable.js",function(e,i,r){"use strict";var t=this&&this.__extends||function(e,i){function r(){this.constructor=e}for(var t in i)i.hasOwnProperty(t)&&(e[t]=i[t]);e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)},s=e("../util/isNumeric"),u=e("../Observable"),c=e("../scheduler/async"),n=e("../util/isScheduler"),o=e("../util/isDate"),d=function(e){function i(i,r,t){void 0===i&&(i=0),e.call(this),this.period=-1,this.dueTime=0,s.isNumeric(r)?this.period=Number(r)<1&&1||Number(r):n.isScheduler(r)&&(t=r),n.isScheduler(t)||(t=c.async),this.scheduler=t,this.dueTime=o.isDate(i)?+i-this.scheduler.now():i}return t(i,e),i.create=function(e,r,t){return void 0===e&&(e=0),new i(e,r,t)},i.dispatch=function(e){var i=e.index,r=e.period,t=e.subscriber,s=this;if(t.next(i),!t.closed){if(-1===r)return t.complete();e.index=i+1,s.schedule(e,r)}},i.prototype._subscribe=function(e){var r=this,t=r.period,s=r.dueTime;return r.scheduler.schedule(i.dispatch,s,{index:0,period:t,subscriber:e})},i}(u.Observable);r.TimerObservable=d});C.r("node_modules/rxjs/observable/bindCallback.js",function(a,b,l){"use strict";var e=a("./BoundCallbackObservable");l.bindCallback=e.BoundCallbackObservable.create});C.r("node_modules/rxjs/observable/concat.js",function(o,r,e){"use strict";function t(){for(var o=[],r=0;r<arguments.length;r++)o[r-0]=arguments[r];return 1===o.length||2===o.length&&c.isScheduler(o[1])?n.from(o[0]):a.concatAll()(l.of.apply(void 0,o))}var c=o("../util/isScheduler"),l=o("./of"),n=o("./from"),a=o("../operators/concatAll");e.concat=t});C.r("node_modules/rxjs/observable/defer.js",function(e,r,s){"use strict";var b=e("./DeferObservable");s.defer=b.DeferObservable.create});C.r("node_modules/rxjs/observable/empty.js",function(e,r,s){"use strict";var t=e("./EmptyObservable");s.empty=t.EmptyObservable.create});C.r("node_modules/rxjs/observable/forkJoin.js",function(o,r,e){"use strict";var s=o("./ForkJoinObservable");e.forkJoin=s.ForkJoinObservable.create});C.r("node_modules/rxjs/observable/from.js",function(r,e,o){"use strict";var s=r("./FromObservable");o.from=s.FromObservable.create});C.r("node_modules/rxjs/observable/fromEvent.js",function(e,r,o){"use strict";var s=e("./FromEventObservable");o.fromEvent=s.FromEventObservable.create});C.r("node_modules/rxjs/observable/fromPromise.js",function(e,r,s){"use strict";var o=e("./PromiseObservable");s.fromPromise=o.PromiseObservable.create});C.r("node_modules/rxjs/observable/interval.js",function(e,r,a){"use strict";var l=e("./IntervalObservable");a.interval=l.IntervalObservable.create});C.r("node_modules/rxjs/observable/merge.js",function(e,r,l){"use strict";function n(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];var l=Number.POSITIVE_INFINITY,n=null,u=e[e.length-1];return s.isScheduler(u)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(l=e.pop())):"number"==typeof u&&(l=e.pop()),null===n&&1===e.length&&e[0]instanceof t.Observable?e[0]:b.mergeAll(l)(new o.ArrayObservable(e,n))}var t=e("../Observable"),o=e("./ArrayObservable"),s=e("../util/isScheduler"),b=e("../operators/mergeAll");l.merge=n});C.r("node_modules/rxjs/observable/of.js",function(r,e,s){"use strict";var o=r("./ArrayObservable");s.of=o.ArrayObservable.of});C.r("node_modules/rxjs/observable/throw.js",function(r,e,o){"use strict";var s=r("./ErrorObservable");o._throw=s.ErrorObservable.create});C.r("node_modules/rxjs/observable/timer.js",function(e,r,s){"use strict";var b=e("./TimerObservable");s.timer=b.TimerObservable.create});C.r("node_modules/rxjs/observable/zip.js",function(i,r,s){"use strict";var e=i("../operators/zip");s.zip=e.zipStatic});C.r("node_modules/rxjs/operator/bufferTime.js",function(e,r,u){"use strict";function n(e){var r=arguments.length,u=s.async;t.isScheduler(arguments[arguments.length-1])&&(u=arguments[arguments.length-1],r--);var n=null;r>=2&&(n=arguments[1]);var f=Number.POSITIVE_INFINITY;return r>=3&&(f=arguments[2]),i.bufferTime(e,n,f,u)(this)}var s=e("../scheduler/async"),t=e("../util/isScheduler"),i=e("../operators/bufferTime");u.bufferTime=n});C.r("node_modules/rxjs/operator/catch.js",function(r,t,c){"use strict";function o(r){return a.catchError(r)(this)}var a=r("../operators/catchError");c._catch=o});C.r("node_modules/rxjs/operator/concat.js",function(c,o,t){"use strict";function a(){for(var c=[],o=0;o<arguments.length;o++)c[o-0]=arguments[o];return n.concat.apply(void 0,c)(this)}var n=c("../operators/concat"),r=c("../observable/concat");t.concatStatic=r.concat,t.concat=a});C.r("node_modules/rxjs/operator/delay.js",function(e,r,s){"use strict";function a(e,r){return void 0===r&&(r=o.async),d.delay(e,r)(this)}var o=e("../scheduler/async"),d=e("../operators/delay");s.delay=a});C.r("node_modules/rxjs/operator/distinctUntilChanged.js",function(t,n,i){"use strict";function s(t,n){return d.distinctUntilChanged(t,n)(this)}var d=t("../operators/distinctUntilChanged");i.distinctUntilChanged=s});C.r("node_modules/rxjs/operator/do.js",function(o,r,t){"use strict";function s(o,r,t){return e.tap(o,r,t)(this)}var e=o("../operators/tap");t._do=s});C.r("node_modules/rxjs/operator/filter.js",function(r,t,e){"use strict";function i(r,t){return o.filter(r,t)(this)}var o=r("../operators/filter");e.filter=i});C.r("node_modules/rxjs/operator/first.js",function(r,t,s){"use strict";function i(r,t,s){return o.first(r,t,s)(this)}var o=r("../operators/first");s.first=i});C.r("node_modules/rxjs/operator/map.js",function(r,o,t){"use strict";function a(r,o){return s.map(r,o)(this)}var s=r("../operators/map");t.map=a});C.r("node_modules/rxjs/operator/merge.js",function(e,r,o){"use strict";function t(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];return g.merge.apply(void 0,e)(this)}var g=e("../operators/merge"),m=e("../observable/merge");o.mergeStatic=m.merge,o.merge=t});C.r("node_modules/rxjs/operator/mergeMap.js",function(e,r,o){"use strict";function t(e,r,o){return void 0===o&&(o=Number.POSITIVE_INFINITY),a.mergeMap(e,r,o)(this)}var a=e("../operators/mergeMap");o.mergeMap=t});C.r("node_modules/rxjs/operator/observeOn.js",function(e,r,o){"use strict";function s(e,r){return void 0===r&&(r=0),n.observeOn(e,r)(this)}var n=e("../operators/observeOn");o.observeOn=s});C.r("node_modules/rxjs/operator/onErrorResumeNext.js",function(r,e,o){"use strict";function t(){for(var r=[],e=0;e<arguments.length;e++)r[e-0]=arguments[e];return n.onErrorResumeNext.apply(void 0,r)(this)}var n=r("../operators/onErrorResumeNext");o.onErrorResumeNext=t});C.r("node_modules/rxjs/operator/publish.js",function(s,r,u){"use strict";function i(s){return o.publish(s)(this)}var o=s("../operators/publish");u.publish=i});C.r("node_modules/rxjs/operator/publishReplay.js",function(s,e,p){"use strict";function r(s,e,p,r){return l.publishReplay(s,e,p,r)(this)}var l=s("../operators/publishReplay");p.publishReplay=r});C.r("node_modules/rxjs/operator/reduce.js",function(e,r,t){"use strict";function u(e,r){return arguments.length>=2?c.reduce(e,r)(this):c.reduce(e)(this)}var c=e("../operators/reduce");t.reduce=u});C.r("node_modules/rxjs/operator/retryWhen.js",function(r,e,t){"use strict";function n(r){return o.retryWhen(r)(this)}var o=r("../operators/retryWhen");t.retryWhen=n});C.r("node_modules/rxjs/operator/sample.js",function(s,e,r){"use strict";function o(s){return t.sample(s)(this)}var t=s("../operators/sample");r.sample=o});C.r("node_modules/rxjs/operator/sampleTime.js",function(e,s,r){"use strict";function a(e,s){return void 0===s&&(s=i.async),m.sampleTime(e,s)(this)}var i=e("../scheduler/async"),m=e("../operators/sampleTime");r.sampleTime=a});C.r("node_modules/rxjs/operator/scan.js",function(s,n,r){"use strict";function t(s,n){return arguments.length>=2?a.scan(s,n)(this):a.scan(s)(this)}var a=s("../operators/scan");r.scan=t});C.r("node_modules/rxjs/operator/share.js",function(r,s,e){"use strict";function o(){return t.share()(this)}var t=r("../operators/share");e.share=o});C.r("node_modules/rxjs/operator/startWith.js",function(t,r,s){"use strict";function o(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];return a.startWith.apply(void 0,t)(this)}var a=t("../operators/startWith");s.startWith=o});C.r("node_modules/rxjs/operator/switchMap.js",function(t,s,r){"use strict";function i(t,s){return o.switchMap(t,s)(this)}var o=t("../operators/switchMap");r.switchMap=i});C.r("node_modules/rxjs/operator/take.js",function(t,e,r){"use strict";function o(t){return a.take(t)(this)}var a=t("../operators/take");r.take=o});C.r("node_modules/rxjs/operator/takeLast.js",function(t,a,s){"use strict";function e(t){return r.takeLast(t)(this)}var r=t("../operators/takeLast");s.takeLast=e});C.r("node_modules/rxjs/operator/takeUntil.js",function(t,e,n){"use strict";function r(t){return i.takeUntil(t)(this)}var i=t("../operators/takeUntil");n.takeUntil=r});C.r("node_modules/rxjs/operator/takeWhile.js",function(e,t,r){"use strict";function i(e){return o.takeWhile(e)(this)}var o=e("../operators/takeWhile");r.takeWhile=i});C.r("node_modules/rxjs/operator/throttleTime.js",function(t,e,o){"use strict";function r(t,e,o){return void 0===e&&(e=i.async),void 0===o&&(o=s.defaultThrottleConfig),l.throttleTime(t,e,o)(this)}var i=t("../scheduler/async"),s=t("../operators/throttle"),l=t("../operators/throttleTime");o.throttleTime=r});C.r("node_modules/rxjs/operator/timeInterval.js",function(e,t,r){"use strict";function n(e){return void 0===e&&(e=a.async),i.timeInterval(e)(this)}var a=e("../scheduler/async"),i=e("../operators/timeInterval");r.TimeInterval=i.TimeInterval,r.timeInterval=n});C.r("node_modules/rxjs/operator/timeout.js",function(t,o,e){"use strict";function r(t,o){return void 0===o&&(o=s.async),u.timeout(t,o)(this)}var s=t("../scheduler/async"),u=t("../operators/timeout");e.timeout=r});C.r("node_modules/rxjs/operator/timeoutWith.js",function(t,i,o){"use strict";function e(t,i,o){return void 0===o&&(o=r.async),s.timeoutWith(t,i,o)(this)}var r=t("../scheduler/async"),s=t("../operators/timeoutWith");o.timeoutWith=e});C.r("node_modules/rxjs/operator/zip.js",function(r,o,t){"use strict";function i(){for(var r=[],o=0;o<arguments.length;o++)r[o-0]=arguments[o];return p.zip.apply(void 0,r)(this)}var p=r("../operators/zip");t.zipProto=i});C.r("node_modules/rxjs/operators/bufferTime.js",function(e,t,n){"use strict";function r(e){var t=arguments.length,n=u.async;h.isScheduler(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],t--);var r=null;t>=2&&(r=arguments[1]);var s=Number.POSITIVE_INFINITY;return t>=3&&(s=arguments[2]),function(t){return t.lift(new l(e,r,s,n))}}function s(e){var t=e.subscriber,n=e.context;n&&t.closeContext(n),t.closed||(e.context=t.openContext(),e.context.closeAction=this.schedule(e,e.bufferTimeSpan))}function i(e){var t=e.bufferCreationInterval,n=e.bufferTimeSpan,r=e.subscriber,s=e.scheduler,i=r.openContext(),c=this;r.closed||(r.add(i.closeAction=s.schedule(o,n,{subscriber:r,context:i})),c.schedule(e,t))}function o(e){var t=e.subscriber,n=e.context;t.closeContext(n)}var c=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},u=e("../scheduler/async"),f=e("../Subscriber"),h=e("../util/isScheduler");n.bufferTime=r;var l=function(){function e(e,t,n,r){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new p(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},e}(),a=function(){function e(){this.buffer=[]}return e}(),p=function(e){function t(t,n,r,c,u){e.call(this,t),this.bufferTimeSpan=n,this.bufferCreationInterval=r,this.maxBufferSize=c,this.scheduler=u,this.contexts=[];var f=this.openContext();if(this.timespanOnly=null==r||r<0,this.timespanOnly){var h={subscriber:this,context:f,bufferTimeSpan:n};this.add(f.closeAction=u.schedule(s,n,h))}else{var l={subscriber:this,context:f},a={bufferTimeSpan:n,bufferCreationInterval:r,subscriber:this,scheduler:u};this.add(f.closeAction=u.schedule(o,n,l)),this.add(u.schedule(i,r,a))}}return c(t,e),t.prototype._next=function(e){for(var t,n=this.contexts,r=n.length,s=0;s<r;s++){var i=n[s],o=i.buffer;o.push(e),o.length==this.maxBufferSize&&(t=i)}t&&this.onBufferFull(t)},t.prototype._error=function(t){this.contexts.length=0,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this,n=t.contexts,r=t.destination;n.length>0;){var s=n.shift();r.next(s.buffer)}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.contexts=null},t.prototype.onBufferFull=function(e){this.closeContext(e);var t=e.closeAction;if(t.unsubscribe(),this.remove(t),!this.closed&&this.timespanOnly){e=this.openContext();var n=this.bufferTimeSpan,r={subscriber:this,context:e,bufferTimeSpan:n};this.add(e.closeAction=this.scheduler.schedule(s,n,r))}},t.prototype.openContext=function(){var e=new a;return this.contexts.push(e),e},t.prototype.closeContext=function(e){this.destination.next(e.buffer);var t=this.contexts;(t?t.indexOf(e):-1)>=0&&t.splice(t.indexOf(e),1)},t}(f.Subscriber)});C.r("node_modules/rxjs/operators/catchError.js",function(t,r,e){"use strict";function o(t){return function(r){var e=new n(t),o=r.lift(e);return e.caught=o}}var s=this&&this.__extends||function(t,r){function e(){this.constructor=t}for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o]);t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)},c=t("../OuterSubscriber"),i=t("../util/subscribeToResult");e.catchError=o;var n=function(){function t(t){this.selector=t}return t.prototype.call=function(t,r){return r.subscribe(new u(t,this.selector,this.caught))},t}(),u=function(t){function r(r,e,o){t.call(this,r),this.selector=e,this.caught=o}return s(r,t),r.prototype.error=function(r){if(!this.isStopped){var e=void 0;try{e=this.selector(r,this.caught)}catch(r){return void t.prototype.error.call(this,r)}this._unsubscribeAndRecycle(),this.add(i.subscribeToResult(this,e))}},r}(c.OuterSubscriber)});C.r("node_modules/rxjs/operators/concat.js",function(c,t,o){"use strict";function n(){for(var c=[],t=0;t<arguments.length;t++)c[t-0]=arguments[t];return function(t){return t.lift.call(a.concat.apply(void 0,[t].concat(c)))}}var a=c("../observable/concat"),r=c("../observable/concat");o.concatStatic=r.concat,o.concat=n});C.r("node_modules/rxjs/operators/concatAll.js",function(r,e,l){"use strict";function n(){return o.mergeAll(1)}var o=r("./mergeAll");l.concatAll=n});C.r("node_modules/rxjs/operators/defaultIfEmpty.js",function(t,n,e){"use strict";function i(t){return void 0===t&&(t=null),function(n){return n.lift(new u(t))}}var o=this&&this.__extends||function(t,n){function e(){this.constructor=t}for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i]);t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)},r=t("../Subscriber");e.defaultIfEmpty=i;var u=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,n){return n.subscribe(new s(t,this.defaultValue))},t}(),s=function(t){function n(n,e){t.call(this,n),this.defaultValue=e,this.isEmpty=!0}return o(n,t),n.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},n.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},n}(r.Subscriber)});C.r("node_modules/rxjs/operators/delay.js",function(t,e,i){"use strict";function o(t,e){void 0===e&&(e=s.async);var i=r.isDate(t),o=i?+t-e.now():Math.abs(t);return function(t){return t.lift(new h(o,e))}}var n=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},s=t("../scheduler/async"),r=t("../util/isDate"),c=t("../Subscriber"),u=t("../Notification");i.delay=o;var h=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.delay,this.scheduler))},t}(),a=function(t){function e(e,i,o){t.call(this,e),this.delay=i,this.scheduler=o,this.queue=[],this.active=!1,this.errored=!1}return n(e,t),e.dispatch=function(t){for(var e=t.source,i=e.queue,o=t.scheduler,n=t.destination;i.length>0&&i[0].time-o.now()<=0;)i.shift().notification.observe(n);if(i.length>0){var s=Math.max(0,i[0].time-o.now());this.schedule(t,s)}else e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(!0!==this.errored){var e=this.scheduler,i=new d(e.now()+this.delay,t);this.queue.push(i),!1===this.active&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(u.Notification.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t)},e.prototype._complete=function(){this.scheduleNotification(u.Notification.createComplete())},e}(c.Subscriber),d=function(){function t(t,e){this.time=t,this.notification=e}return t}()});C.r("node_modules/rxjs/operators/distinctUntilChanged.js",function(t,e,r){"use strict";function n(t,e){return function(r){return r.lift(new h(t,e))}}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber"),c=t("../util/tryCatch"),s=t("../util/errorObject");r.distinctUntilChanged=n;var h=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.compare,this.keySelector))},t}(),u=function(t){function e(e,r,n){t.call(this,e),this.keySelector=n,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}return i(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e=this.keySelector,r=t;if(e&&(r=c.tryCatch(this.keySelector)(t))===s.errorObject)return this.destination.error(s.errorObject.e);var n=!1;if(this.hasKey){if((n=c.tryCatch(this.compare)(this.key,r))===s.errorObject)return this.destination.error(s.errorObject.e)}else this.hasKey=!0;!1===Boolean(n)&&(this.key=r,this.destination.next(t))},e}(o.Subscriber)});C.r("node_modules/rxjs/operators/filter.js",function(t,r,i){"use strict";function n(t,r){return function(i){return i.lift(new s(t,r))}}var e=this&&this.__extends||function(t,r){function i(){this.constructor=t}for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n]);t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)},o=t("../Subscriber");i.filter=n;var s=function(){function t(t,r){this.predicate=t,this.thisArg=r}return t.prototype.call=function(t,r){return r.subscribe(new c(t,this.predicate,this.thisArg))},t}(),c=function(t){function r(r,i,n){t.call(this,r),this.predicate=i,this.thisArg=n,this.count=0}return e(r,t),r.prototype._next=function(t){var r;try{r=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}r&&this.destination.next(t)},r}(o.Subscriber)});C.r("node_modules/rxjs/operators/first.js",function(t,e,i){"use strict";function r(t,e,i){return function(r){return r.lift(new u(t,e,i,r))}}var s=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},o=t("../Subscriber"),n=t("../util/EmptyError");i.first=r;var u=function(){function t(t,e,i,r){this.predicate=t,this.resultSelector=e,this.defaultValue=i,this.source=r}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),c=function(t){function e(e,i,r,s,o){t.call(this,e),this.predicate=i,this.resultSelector=r,this.defaultValue=s,this.source=o,this.index=0,this.hasCompleted=!1,this._emitted=!1}return s(e,t),e.prototype._next=function(t){var e=this.index++;this.predicate?this._tryPredicate(t,e):this._emit(t,e)},e.prototype._tryPredicate=function(t,e){var i;try{i=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}i&&this._emit(t,e)},e.prototype._emit=function(t,e){if(this.resultSelector)return void this._tryResultSelector(t,e);this._emitFinal(t)},e.prototype._tryResultSelector=function(t,e){var i;try{i=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this._emitFinal(i)},e.prototype._emitFinal=function(t){var e=this.destination;this._emitted||(this._emitted=!0,e.next(t),e.complete(),this.hasCompleted=!0)},e.prototype._complete=function(){var t=this.destination;this.hasCompleted||void 0===this.defaultValue?this.hasCompleted||t.error(new n.EmptyError):(t.next(this.defaultValue),t.complete())},e}(o.Subscriber)});C.r("node_modules/rxjs/operators/map.js",function(t,r,n){"use strict";function o(t,r){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,r))}}var i=this&&this.__extends||function(t,r){function n(){this.constructor=t}for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o]);t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)},e=t("../Subscriber");n.map=o;var s=function(){function t(t,r){this.project=t,this.thisArg=r}return t.prototype.call=function(t,r){return r.subscribe(new c(t,this.project,this.thisArg))},t}();n.MapOperator=s;var c=function(t){function r(r,n,o){t.call(this,r),this.project=n,this.count=0,this.thisArg=o||this}return i(r,t),r.prototype._next=function(t){var r;try{r=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(r)},r}(e.Subscriber)});C.r("node_modules/rxjs/operators/merge.js",function(e,r,t){"use strict";function o(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];return function(r){return r.lift.call(n.merge.apply(void 0,[r].concat(e)))}}var n=e("../observable/merge"),a=e("../observable/merge");t.mergeStatic=a.merge,t.merge=o});C.r("node_modules/rxjs/operators/mergeAll.js",function(e,r,t){"use strict";function i(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),n.mergeMap(l.identity,null,e)}var n=e("./mergeMap"),l=e("../util/identity");t.mergeAll=i});C.r("node_modules/rxjs/operators/mergeMap.js",function(t,e,r){"use strict";function i(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),function(i){return"number"==typeof e&&(r=e,e=null),i.lift(new c(t,e,r))}}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=t("../util/subscribeToResult"),s=t("../OuterSubscriber");r.mergeMap=i;var c=function(){function t(t,e,r){void 0===r&&(r=Number.POSITIVE_INFINITY),this.project=t,this.resultSelector=e,this.concurrent=r}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.project,this.resultSelector,this.concurrent))},t}();r.MergeMapOperator=c;var u=function(t){function e(e,r,i,o){void 0===o&&(o=Number.POSITIVE_INFINITY),t.call(this,e),this.project=r,this.resultSelector=i,this.concurrent=o,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return o(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,r)},e.prototype._innerSub=function(t,e,r){this.add(n.subscribeToResult(this,t,e,r))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,i,o){this.resultSelector?this._notifyResultSelector(t,e,r,i):this.destination.next(e)},e.prototype._notifyResultSelector=function(t,e,r,i){var o;try{o=this.resultSelector(t,e,r,i)}catch(t){return void this.destination.error(t)}this.destination.next(o)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(s.OuterSubscriber);r.MergeMapSubscriber=u});C.r("node_modules/rxjs/operators/multicast.js",function(t,e,r){"use strict";function c(t,e){return function(r){var c;if(c="function"==typeof t?t:function(){return t},"function"==typeof e)return r.lift(new o(c,e));var s=Object.create(r,n.connectableObservableDescriptor);return s.source=r,s.subjectFactory=c,s}}var n=t("../observable/ConnectableObservable");r.multicast=c;var o=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var r=this.selector,c=this.subjectFactory(),n=r(c).subscribe(t);return n.add(e.subscribe(c)),n},t}();r.MulticastOperator=o});C.r("node_modules/rxjs/operators/observeOn.js",function(t,e,i){"use strict";function n(t,e){return void 0===e&&(e=0),function(i){return i.lift(new c(t,e))}}var o=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},r=t("../Subscriber"),s=t("../Notification");i.observeOn=n;var c=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.scheduler,this.delay))},t}();i.ObserveOnOperator=c;var u=function(t){function e(e,i,n){void 0===n&&(n=0),t.call(this,e),this.scheduler=i,this.delay=n}return o(e,t),e.dispatch=function(t){var e=t.notification,i=t.destination;e.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new a(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(s.Notification.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(s.Notification.createError(t))},e.prototype._complete=function(){this.scheduleMessage(s.Notification.createComplete())},e}(r.Subscriber);i.ObserveOnSubscriber=u;var a=function(){function t(t,e){this.notification=t,this.destination=e}return t}();i.ObserveOnMessage=a});C.r("node_modules/rxjs/operators/onErrorResumeNext.js",function(t,e,r){"use strict";function o(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 1===t.length&&u.isArray(t[0])&&(t=t[0]),function(e){return e.lift(new l(t))}}function n(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=null;return 1===t.length&&u.isArray(t[0])&&(t=t[0]),r=t.shift(),new i.FromObservable(r,null).lift(new l(t))}var s=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../observable/FromObservable"),u=t("../util/isArray"),c=t("../OuterSubscriber"),b=t("../util/subscribeToResult");r.onErrorResumeNext=o,r.onErrorResumeNextStatic=n;var l=function(){function t(t){this.nextSources=t}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.nextSources))},t}(),f=function(t){function e(e,r){t.call(this,e),this.destination=e,this.nextSources=r}return s(e,t),e.prototype.notifyError=function(t,e){this.subscribeToNextSource()},e.prototype.notifyComplete=function(t){this.subscribeToNextSource()},e.prototype._error=function(t){this.subscribeToNextSource()},e.prototype._complete=function(){this.subscribeToNextSource()},e.prototype.subscribeToNextSource=function(){var t=this.nextSources.shift();t?this.add(b.subscribeToResult(this,t)):this.destination.complete()},e}(c.OuterSubscriber)});C.r("node_modules/rxjs/operators/publish.js",function(t,u,e){"use strict";function n(t){return t?c.multicast(function(){return new s.Subject},t):c.multicast(new s.Subject)}var s=t("../Subject"),c=t("./multicast");e.publish=n});C.r("node_modules/rxjs/operators/publishReplay.js",function(t,n,u){"use strict";function e(t,n,u,e){u&&"function"!=typeof u&&(e=u);var i="function"==typeof u?u:void 0,c=new o.ReplaySubject(t,n,e);return function(t){return r.multicast(function(){return c},i)(t)}}var o=t("../ReplaySubject"),r=t("./multicast");u.publishReplay=e});C.r("node_modules/rxjs/operators/reduce.js",function(t,e,n){"use strict";function r(t,e){return arguments.length>=2?function(n){return c.pipe(u.scan(t,e),a.takeLast(1),s.defaultIfEmpty(e))(n)}:function(e){return c.pipe(u.scan(function(e,n,r){return t(e,n,r+1)}),a.takeLast(1))(e)}}var u=t("./scan"),a=t("./takeLast"),s=t("./defaultIfEmpty"),c=t("../util/pipe");n.reduce=r});C.r("node_modules/rxjs/operators/refCount.js",function(n,t,o){"use strict";function e(){return function(n){return n.lift(new i(n))}}var r=this&&this.__extends||function(n,t){function o(){this.constructor=n}for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},c=n("../Subscriber");o.refCount=e;var i=function(){function n(n){this.connectable=n}return n.prototype.call=function(n,t){var o=this.connectable;o._refCount++;var e=new u(n,o),r=t.subscribe(e);return e.closed||(e.connection=o.connect()),r},n}(),u=function(n){function t(t,o){n.call(this,t),this.connectable=o}return r(t,n),t.prototype._unsubscribe=function(){var n=this.connectable;if(!n)return void(this.connection=null);this.connectable=null;var t=n._refCount;if(t<=0)return void(this.connection=null);if(n._refCount=t-1,t>1)return void(this.connection=null);var o=this.connection,e=n._connection;this.connection=null,!e||o&&e!==o||e.unsubscribe()},t}(c.Subscriber)});C.r("node_modules/rxjs/operators/retryWhen.js",function(r,t,e){"use strict";function i(r){return function(t){return t.lift(new b(r,t))}}var s=this&&this.__extends||function(r,t){function e(){this.constructor=r}for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i]);r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)},n=r("../Subject"),o=r("../util/tryCatch"),u=r("../util/errorObject"),c=r("../OuterSubscriber"),h=r("../util/subscribeToResult");e.retryWhen=i;var b=function(){function r(r,t){this.notifier=r,this.source=t}return r.prototype.call=function(r,t){return t.subscribe(new l(r,this.notifier,this.source))},r}(),l=function(r){function t(t,e,i){r.call(this,t),this.notifier=e,this.source=i}return s(t,r),t.prototype.error=function(t){if(!this.isStopped){var e=this.errors,i=this.retries,s=this.retriesSubscription;if(i)this.errors=null,this.retriesSubscription=null;else{if(e=new n.Subject,(i=o.tryCatch(this.notifier)(e))===u.errorObject)return r.prototype.error.call(this,u.errorObject.e);s=h.subscribeToResult(this,i)}this._unsubscribeAndRecycle(),this.errors=e,this.retries=i,this.retriesSubscription=s,e.next(t)}},t.prototype._unsubscribe=function(){var r=this,t=r.errors,e=r.retriesSubscription;t&&(t.unsubscribe(),this.errors=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null},t.prototype.notifyNext=function(r,t,e,i,s){var n=this,o=n.errors,u=n.retries,c=n.retriesSubscription;this.errors=null,this.retries=null,this.retriesSubscription=null,this._unsubscribeAndRecycle(),this.errors=o,this.retries=u,this.retriesSubscription=c,this.source.subscribe(this)},t}(c.OuterSubscriber)});C.r("node_modules/rxjs/operators/sample.js",function(t,e,n){"use strict";function i(t){return function(e){return e.lift(new s(t))}}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=t("../OuterSubscriber"),u=t("../util/subscribeToResult");n.sample=i;var s=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var n=new a(t),i=e.subscribe(n);return i.add(u.subscribeToResult(n,this.notifier)),i},t}(),a=function(t){function e(){t.apply(this,arguments),this.hasValue=!1}return o(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(t,e,n,i,o){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(r.OuterSubscriber)});C.r("node_modules/rxjs/operators/sampleTime.js",function(t,e,s){"use strict";function i(t,e){return void 0===e&&(e=u.async),function(s){return s.lift(new c(t,e))}}function r(t){var e=t.subscriber,s=t.period;e.notifyNext(),this.schedule(t,s)}var n=this&&this.__extends||function(t,e){function s(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)},o=t("../Subscriber"),u=t("../scheduler/async");s.sampleTime=i;var c=function(){function t(t,e){this.period=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.period,this.scheduler))},t}(),h=function(t){function e(e,s,i){t.call(this,e),this.period=s,this.scheduler=i,this.hasValue=!1,this.add(i.schedule(r,s,{subscriber:this,period:s}))}return n(e,t),e.prototype._next=function(t){this.lastValue=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(o.Subscriber)});C.r("node_modules/rxjs/operators/scan.js",function(t,e,n){"use strict";function s(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(s){return s.lift(new o(t,e,n))}}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=t("../Subscriber");n.scan=s;var o=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.accumulator,this.seed,this.hasSeed))},t}(),c=function(t){function e(e,n,s,i){t.call(this,e),this.accumulator=n,this._seed=s,this.hasSeed=i,this.index=0}return i(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},e}(r.Subscriber)});C.r("node_modules/rxjs/operators/share.js",function(t,r,n){"use strict";function u(){return new c.Subject}function e(){return function(t){return s.refCount()(o.multicast(u)(t))}}var o=t("./multicast"),s=t("./refCount"),c=t("../Subject");n.share=e});C.r("node_modules/rxjs/operators/startWith.js",function(e,r,a){"use strict";function t(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];return function(r){var a=e[e.length-1];o.isScheduler(a)?e.pop():a=null;var t=e.length;return 1===t?s.concat(new b.ScalarObservable(e[0],a),r):t>1?s.concat(new l.ArrayObservable(e,a),r):s.concat(new n.EmptyObservable(a),r)}}var l=e("../observable/ArrayObservable"),b=e("../observable/ScalarObservable"),n=e("../observable/EmptyObservable"),s=e("../observable/concat"),o=e("../util/isScheduler");a.startWith=t});C.r("node_modules/rxjs/operators/switchMap.js",function(t,e,i){"use strict";function r(t,e){return function(i){return i.lift(new c(t,e))}}var n=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},o=t("../OuterSubscriber"),s=t("../util/subscribeToResult");i.switchMap=r;var c=function(){function t(t,e){this.project=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.project,this.resultSelector))},t}(),u=function(t){function e(e,i,r){t.call(this,e),this.project=i,this.resultSelector=r,this.index=0}return n(e,t),e.prototype._next=function(t){var e,i=this.index++;try{e=this.project(t,i)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,i)},e.prototype._innerSub=function(t,e,i){var r=this.innerSubscription;r&&r.unsubscribe(),this.add(this.innerSubscription=s.subscribeToResult(this,t,e,i))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,i,r,n){this.resultSelector?this._tryNotifyNext(t,e,i,r):this.destination.next(e)},e.prototype._tryNotifyNext=function(t,e,i,r){var n;try{n=this.resultSelector(t,e,i,r)}catch(t){return void this.destination.error(t)}this.destination.next(n)},e}(o.OuterSubscriber)});C.r("node_modules/rxjs/operators/take.js",function(t,n,r){"use strict";function e(t){return function(n){return 0===t?new u.EmptyObservable:n.lift(new c(t))}}var o=this&&this.__extends||function(t,n){function r(){this.constructor=t}for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)},i=t("../Subscriber"),s=t("../util/ArgumentOutOfRangeError"),u=t("../observable/EmptyObservable");r.take=e;var c=function(){function t(t){if(this.total=t,this.total<0)throw new s.ArgumentOutOfRangeError}return t.prototype.call=function(t,n){return n.subscribe(new a(t,this.total))},t}(),a=function(t){function n(n,r){t.call(this,n),this.total=r,this.count=0}return o(n,t),n.prototype._next=function(t){var n=this.total,r=++this.count;r<=n&&(this.destination.next(t),r===n&&(this.destination.complete(),this.unsubscribe()))},n}(i.Subscriber)});C.r("node_modules/rxjs/operators/takeLast.js",function(t,n,r){"use strict";function e(t){return function(n){return 0===t?new u.EmptyObservable:n.lift(new a(t))}}var o=this&&this.__extends||function(t,n){function r(){this.constructor=t}for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)},i=t("../Subscriber"),s=t("../util/ArgumentOutOfRangeError"),u=t("../observable/EmptyObservable");r.takeLast=e;var a=function(){function t(t){if(this.total=t,this.total<0)throw new s.ArgumentOutOfRangeError}return t.prototype.call=function(t,n){return n.subscribe(new c(t,this.total))},t}(),c=function(t){function n(n,r){t.call(this,n),this.total=r,this.ring=new Array,this.count=0}return o(n,t),n.prototype._next=function(t){var n=this.ring,r=this.total,e=this.count++;if(n.length<r)n.push(t);else{n[e%r]=t}},n.prototype._complete=function(){var t=this.destination,n=this.count;if(n>0)for(var r=this.count>=this.total?this.total:this.count,e=this.ring,o=0;o<r;o++){var i=n++%r;t.next(e[i])}t.complete()},n}(i.Subscriber)});C.r("node_modules/rxjs/operators/takeUntil.js",function(t,n,e){"use strict";function r(t){return function(n){return n.lift(new s(t))}}var i=this&&this.__extends||function(t,n){function e(){this.constructor=t}for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r]);t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)},o=t("../OuterSubscriber"),u=t("../util/subscribeToResult");e.takeUntil=r;var s=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,n){return n.subscribe(new c(t,this.notifier))},t}(),c=function(t){function n(n,e){t.call(this,n),this.notifier=e,this.add(u.subscribeToResult(this,e))}return i(n,t),n.prototype.notifyNext=function(t,n,e,r,i){this.complete()},n.prototype.notifyComplete=function(){},n}(o.OuterSubscriber)});C.r("node_modules/rxjs/operators/takeWhile.js",function(t,e,n){"use strict";function r(t){return function(e){return e.lift(new c(t))}}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=t("../Subscriber");n.takeWhile=r;var c=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate))},t}(),s=function(t){function e(e,n){t.call(this,e),this.predicate=n,this.index=0}return i(e,t),e.prototype._next=function(t){var e,n=this.destination;try{e=this.predicate(t,this.index++)}catch(t){return void n.error(t)}this.nextOrComplete(t,e)},e.prototype.nextOrComplete=function(t,e){var n=this.destination;Boolean(e)?n.next(t):n.complete()},e}(o.Subscriber)});C.r("node_modules/rxjs/operators/tap.js",function(r,t,e){"use strict";function n(r,t,e){return function(n){return n.lift(new i(r,t,e))}}var o=this&&this.__extends||function(r,t){function e(){this.constructor=r}for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)},s=r("../Subscriber");e.tap=n;var i=function(){function r(r,t,e){this.nextOrObserver=r,this.error=t,this.complete=e}return r.prototype.call=function(r,t){return t.subscribe(new c(r,this.nextOrObserver,this.error,this.complete))},r}(),c=function(r){function t(t,e,n,o){r.call(this,t);var i=new s.Subscriber(e,n,o);i.syncErrorThrowable=!0,this.add(i),this.safeSubscriber=i}return o(t,r),t.prototype._next=function(r){var t=this.safeSubscriber;t.next(r),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.next(r)},t.prototype._error=function(r){var t=this.safeSubscriber;t.error(r),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.error(r)},t.prototype._complete=function(){var r=this.safeSubscriber;r.complete(),r.syncErrorThrown?this.destination.error(r.syncErrorValue):this.destination.complete()},t}(s.Subscriber)});C.r("node_modules/rxjs/operators/throttle.js",function(t,i,n){"use strict";function r(t,i){return void 0===i&&(i=n.defaultThrottleConfig),function(n){return n.lift(new o(t,i.leading,i.trailing))}}var e=this&&this.__extends||function(t,i){function n(){this.constructor=t}for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r]);t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)},s=t("../OuterSubscriber"),l=t("../util/subscribeToResult");n.defaultThrottleConfig={leading:!0,trailing:!1},n.throttle=r;var o=function(){function t(t,i,n){this.durationSelector=t,this.leading=i,this.trailing=n}return t.prototype.call=function(t,i){return i.subscribe(new a(t,this.durationSelector,this.leading,this.trailing))},t}(),a=function(t){function i(i,n,r,e){t.call(this,i),this.destination=i,this.durationSelector=n,this._leading=r,this._trailing=e,this._hasTrailingValue=!1}return e(i,t),i.prototype._next=function(t){if(this.throttled)this._trailing&&(this._hasTrailingValue=!0,this._trailingValue=t);else{var i=this.tryDurationSelector(t);i&&this.add(this.throttled=l.subscribeToResult(this,i)),this._leading&&(this.destination.next(t),this._trailing&&(this._hasTrailingValue=!0,this._trailingValue=t))}},i.prototype.tryDurationSelector=function(t){try{return this.durationSelector(t)}catch(t){return this.destination.error(t),null}},i.prototype._unsubscribe=function(){var t=this,i=t.throttled;t._trailingValue,t._hasTrailingValue,t._trailing;this._trailingValue=null,this._hasTrailingValue=!1,i&&(this.remove(i),this.throttled=null,i.unsubscribe())},i.prototype._sendTrailing=function(){var t=this,i=t.destination,n=t.throttled,r=t._trailing,e=t._trailingValue,s=t._hasTrailingValue;n&&r&&s&&(i.next(e),this._trailingValue=null,this._hasTrailingValue=!1)},i.prototype.notifyNext=function(t,i,n,r,e){this._sendTrailing(),this._unsubscribe()},i.prototype.notifyComplete=function(){this._sendTrailing(),this._unsubscribe()},i}(s.OuterSubscriber)});C.r("node_modules/rxjs/operators/throttleTime.js",function(t,i,e){"use strict";function n(t,i,e){return void 0===i&&(i=h.async),void 0===e&&(e=o.defaultThrottleConfig),function(n){return n.lift(new a(t,i,e.leading,e.trailing))}}function r(t){t.subscriber.clearThrottle()}var s=this&&this.__extends||function(t,i){function e(){this.constructor=t}for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n]);t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)},l=t("../Subscriber"),h=t("../scheduler/async"),o=t("./throttle");e.throttleTime=n;var a=function(){function t(t,i,e,n){this.duration=t,this.scheduler=i,this.leading=e,this.trailing=n}return t.prototype.call=function(t,i){return i.subscribe(new u(t,this.duration,this.scheduler,this.leading,this.trailing))},t}(),u=function(t){function i(i,e,n,r,s){t.call(this,i),this.duration=e,this.scheduler=n,this.leading=r,this.trailing=s,this._hasTrailingValue=!1,this._trailingValue=null}return s(i,t),i.prototype._next=function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(r,this.duration,{subscriber:this})),this.leading&&this.destination.next(t))},i.prototype.clearThrottle=function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)},i}(l.Subscriber)});C.r("node_modules/rxjs/operators/timeInterval.js",function(t,n,e){"use strict";function r(t){return void 0===t&&(t=o.async),function(n){return n.lift(new c(t))}}var i=this&&this.__extends||function(t,n){function e(){this.constructor=t}for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r]);t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)},s=t("../Subscriber"),o=t("../scheduler/async");e.timeInterval=r;var u=function(){function t(t,n){this.value=t,this.interval=n}return t}();e.TimeInterval=u;var c=function(){function t(t){this.scheduler=t}return t.prototype.call=function(t,n){return n.subscribe(new a(t,this.scheduler))},t}(),a=function(t){function n(n,e){t.call(this,n),this.scheduler=e,this.lastTime=0,this.lastTime=e.now()}return i(n,t),n.prototype._next=function(t){var n=this.scheduler.now(),e=n-this.lastTime;this.lastTime=n,this.destination.next(new u(t,e))},n}(s.Subscriber)});C.r("node_modules/rxjs/operators/timeout.js",function(t,e,i){"use strict";function o(t,e){void 0===e&&(e=s.async);var i=n.isDate(t),o=i?+t-e.now():Math.abs(t);return function(t){return t.lift(new h(o,i,e,new c.TimeoutError))}}var r=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},s=t("../scheduler/async"),n=t("../util/isDate"),u=t("../Subscriber"),c=t("../util/TimeoutError");i.timeout=o;var h=function(){function t(t,e,i,o){this.waitFor=t,this.absoluteTimeout=e,this.scheduler=i,this.errorInstance=o}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.absoluteTimeout,this.waitFor,this.scheduler,this.errorInstance))},t}(),a=function(t){function e(e,i,o,r,s){t.call(this,e),this.absoluteTimeout=i,this.waitFor=o,this.scheduler=r,this.errorInstance=s,this.action=null,this.scheduleTimeout()}return r(e,t),e.dispatchTimeout=function(t){t.error(t.errorInstance)},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,e)},e.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.errorInstance=null},e}(u.Subscriber)});C.r("node_modules/rxjs/operators/timeoutWith.js",function(t,i,e){"use strict";function s(t,i,e){return void 0===e&&(e=o.async),function(s){var u=r.isDate(t),o=u?+t-e.now():Math.abs(t);return s.lift(new c(o,u,i,e))}}var u=this&&this.__extends||function(t,i){function e(){this.constructor=t}for(var s in i)i.hasOwnProperty(s)&&(t[s]=i[s]);t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)},o=t("../scheduler/async"),r=t("../util/isDate"),n=t("../OuterSubscriber"),h=t("../util/subscribeToResult");e.timeoutWith=s;var c=function(){function t(t,i,e,s){this.waitFor=t,this.absoluteTimeout=i,this.withObservable=e,this.scheduler=s}return t.prototype.call=function(t,i){return i.subscribe(new l(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),l=function(t){function i(i,e,s,u,o){t.call(this,i),this.absoluteTimeout=e,this.waitFor=s,this.withObservable=u,this.scheduler=o,this.action=null,this.scheduleTimeout()}return u(i,t),i.dispatchTimeout=function(t){var i=t.withObservable;t._unsubscribeAndRecycle(),t.add(h.subscribeToResult(t,i))},i.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(i.dispatchTimeout,this.waitFor,this))},i.prototype._next=function(i){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,i)},i.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},i}(n.OuterSubscriber)});C.r("node_modules/rxjs/operators/zip.js",function(t,e,r){"use strict";function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return function(e){return e.lift.call(n.apply(void 0,[e].concat(t)))}}function n(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=t[t.length-1];return"function"==typeof r&&t.pop(),new s.ArrayObservable(t).lift(new l(r))}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},s=t("../observable/ArrayObservable"),u=t("../util/isArray"),a=t("../Subscriber"),h=t("../OuterSubscriber"),p=t("../util/subscribeToResult"),c=t("../symbol/iterator");r.zip=i,r.zipStatic=n;var l=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.project))},t}();r.ZipOperator=l;var f=function(t){function e(e,r,i){void 0===i&&(i=Object.create(null)),t.call(this,e),this.iterators=[],this.active=0,this.project="function"==typeof r?r:null,this.values=i}return o(e,t),e.prototype._next=function(t){var e=this.iterators;u.isArray(t)?e.push(new b(t)):"function"==typeof t[c.iterator]?e.push(new y(t[c.iterator]())):e.push(new v(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(0===e)return void this.destination.complete();this.active=e;for(var r=0;r<e;r++){var i=t[r];i.stillUnsubscribed?this.add(i.subscribe(i,r)):this.active--}},e.prototype.notifyInactive=function(){0===--this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,r=this.destination,i=0;i<e;i++){var n=t[i];if("function"==typeof n.hasValue&&!n.hasValue())return}for(var o=!1,s=[],i=0;i<e;i++){var n=t[i],u=n.next();if(n.hasCompleted()&&(o=!0),u.done)return void r.complete();s.push(u.value)}this.project?this._tryProject(s):r.next(s),o&&r.complete()},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(a.Subscriber);r.ZipSubscriber=f;var y=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}(),b=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[c.iterator]=function(){return this},t.prototype.next=function(t){var e=this.index++,r=this.array;return e<this.length?{value:r[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),v=function(t){function e(e,r,i){t.call(this,e),this.parent=r,this.observable=i,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}return o(e,t),e.prototype[c.iterator]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t,e,r,i,n){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(t,e){return p.subscribeToResult(this,this.observable,this,e)},e}(h.OuterSubscriber)});C.r("node_modules/rxjs/scheduler/Action.js",function(t,n,o){"use strict";var r=this&&this.__extends||function(t,n){function o(){this.constructor=t}for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r]);t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)},e=t("../Subscription"),i=function(t){function n(n,o){t.call(this)}return r(n,t),n.prototype.schedule=function(t,n){return void 0===n&&(n=0),this},n}(e.Subscription);o.Action=i});C.r("node_modules/rxjs/scheduler/AsapAction.js",function(t,e,n){"use strict";var s=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},c=t("../util/Immediate"),o=t("./AsyncAction"),i=function(t){function e(e,n){t.call(this,e,n),this.scheduler=e,this.work=n}return s(e,t),e.prototype.requestAsyncId=function(e,n,s){return void 0===s&&(s=0),null!==s&&s>0?t.prototype.requestAsyncId.call(this,e,n,s):(e.actions.push(this),e.scheduled||(e.scheduled=c.Immediate.setImmediate(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,n,s){if(void 0===s&&(s=0),null!==s&&s>0||null===s&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,s);0===e.actions.length&&(c.Immediate.clearImmediate(n),e.scheduled=void 0)},e}(o.AsyncAction);n.AsapAction=i});C.r("node_modules/rxjs/scheduler/AsapScheduler.js",function(t,e,s){"use strict";var i=this&&this.__extends||function(t,e){function s(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)},r=t("./AsyncScheduler"),n=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,s=this.actions,i=-1,r=s.length;t=t||s.shift();do{if(e=t.execute(t.state,t.delay))break}while(++i<r&&(t=s.shift()));if(this.active=!1,e){for(;++i<r&&(t=s.shift());)t.unsubscribe();throw e}},e}(r.AsyncScheduler);s.AsapScheduler=n});C.r("node_modules/rxjs/scheduler/AsyncAction.js",function(t,i,e){"use strict";var n=this&&this.__extends||function(t,i){function e(){this.constructor=t}for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n]);t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)},s=t("../util/root"),r=t("./Action"),c=function(t){function i(i,e){t.call(this,i,e),this.scheduler=i,this.work=e,this.pending=!1}return n(i,t),i.prototype.schedule=function(t,i){if(void 0===i&&(i=0),this.closed)return this;this.state=t,this.pending=!0;var e=this.id,n=this.scheduler;return null!=e&&(this.id=this.recycleAsyncId(n,e,i)),this.delay=i,this.id=this.id||this.requestAsyncId(n,this.id,i),this},i.prototype.requestAsyncId=function(t,i,e){return void 0===e&&(e=0),s.root.setInterval(t.flush.bind(t,this),e)},i.prototype.recycleAsyncId=function(t,i,e){return void 0===e&&(e=0),null!==e&&this.delay===e&&!1===this.pending?i:s.root.clearInterval(i)&&void 0||void 0},i.prototype.execute=function(t,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var e=this._execute(t,i);if(e)return e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},i.prototype._execute=function(t,i){var e=!1,n=void 0;try{this.work(t)}catch(t){e=!0,n=!!t&&t||new Error(t)}if(e)return this.unsubscribe(),n},i.prototype._unsubscribe=function(){var t=this.id,i=this.scheduler,e=i.actions,n=e.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&e.splice(n,1),null!=t&&(this.id=this.recycleAsyncId(i,t,null)),this.delay=null},i}(r.Action);e.AsyncAction=c});C.r("node_modules/rxjs/scheduler/AsyncScheduler.js",function(t,e,i){"use strict";var s=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},r=t("../Scheduler"),c=function(t){function e(){t.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return s(e,t),e.prototype.flush=function(t){var e=this.actions;if(this.active)return void e.push(t);var i;this.active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}},e}(r.Scheduler);i.AsyncScheduler=c});C.r("node_modules/rxjs/scheduler/QueueAction.js",function(t,e,s){"use strict";var o=this&&this.__extends||function(t,e){function s(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)},n=t("./AsyncAction"),c=function(t){function e(e,s){t.call(this,e,s),this.scheduler=e,this.work=s}return o(e,t),e.prototype.schedule=function(e,s){return void 0===s&&(s=0),s>0?t.prototype.schedule.call(this,e,s):(this.delay=s,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,s){return s>0||this.closed?t.prototype.execute.call(this,e,s):this._execute(e,s)},e.prototype.requestAsyncId=function(e,s,o){return void 0===o&&(o=0),null!==o&&o>0||null===o&&this.delay>0?t.prototype.requestAsyncId.call(this,e,s,o):e.flush(this)},e}(n.AsyncAction);s.QueueAction=c});C.r("node_modules/rxjs/scheduler/QueueScheduler.js",function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},u=e("./AsyncScheduler"),c=function(e){function t(){e.apply(this,arguments)}return n(t,e),t}(u.AsyncScheduler);r.QueueScheduler=c});C.r("node_modules/rxjs/scheduler/asap.js",function(s,e,a){"use strict";var c=s("./AsapAction"),r=s("./AsapScheduler");a.asap=new r.AsapScheduler(c.AsapAction)});C.r("node_modules/rxjs/scheduler/async.js",function(c,n,s){"use strict";var e=c("./AsyncAction"),r=c("./AsyncScheduler");s.async=new r.AsyncScheduler(e.AsyncAction)});C.r("node_modules/rxjs/scheduler/queue.js",function(e,u,c){"use strict";var r=e("./QueueAction"),n=e("./QueueScheduler");c.queue=new n.QueueScheduler(r.QueueAction)});C.r("node_modules/rxjs/symbol/iterator.js",function(t,r,o){"use strict";function e(t){var r=t.Symbol;if("function"==typeof r)return r.iterator||(r.iterator=r("iterator polyfill")),r.iterator;var o=t.Set;if(o&&"function"==typeof(new o)["@@iterator"])return"@@iterator";var e=t.Map;if(e)for(var i=Object.getOwnPropertyNames(e.prototype),a=0;a<i.length;++a){var n=i[a];if("entries"!==n&&"size"!==n&&e.prototype[n]===e.prototype.entries)return n}return"@@iterator"}var i=t("../util/root");o.symbolIteratorPonyfill=e,o.iterator=e(i.root),o.$$iterator=o.iterator});C.r("node_modules/rxjs/symbol/observable.js",function(e,b,o){"use strict";function r(e){var b,o=e.Symbol;return"function"==typeof o?o.observable?b=o.observable:(b=o("observable"),o.observable=b):b="@@observable",b}var s=e("../util/root");o.getSymbolObservable=r,o.observable=r(s.root),o.$$observable=o.observable});C.r("node_modules/rxjs/symbol/rxSubscriber.js",function(r,o,b){"use strict";var s=r("../util/root"),u=s.root.Symbol;b.rxSubscriber="function"==typeof u&&"function"==typeof u.for?u.for("rxSubscriber"):"@@rxSubscriber",b.$$rxSubscriber=b.rxSubscriber});C.r("node_modules/rxjs/util/ArgumentOutOfRangeError.js",function(t,r,e){"use strict";var n=this&&this.__extends||function(t,r){function e(){this.constructor=t}for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n]);t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)},o=function(t){function r(){var r=t.call(this,"argument out of range");this.name=r.name="ArgumentOutOfRangeError",this.stack=r.stack,this.message=r.message}return n(r,t),r}(Error);e.ArgumentOutOfRangeError=o});C.r("node_modules/rxjs/util/EmptyError.js",function(t,r,e){"use strict";var n=this&&this.__extends||function(t,r){function e(){this.constructor=t}for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n]);t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)},s=function(t){function r(){var r=t.call(this,"no elements in sequence");this.name=r.name="EmptyError",this.stack=r.stack,this.message=r.message}return n(r,t),r}(Error);e.EmptyError=s});C.r("node_modules/rxjs/util/Immediate.js",function(e,t,n){"use strict";var a=e("./root"),s=function(){function e(e){if(this.root=e,e.setImmediate&&"function"==typeof e.setImmediate)this.setImmediate=e.setImmediate.bind(e),this.clearImmediate=e.clearImmediate.bind(e);else{this.nextHandle=1,this.tasksByHandle={},this.currentlyRunningATask=!1,this.canUseProcessNextTick()?this.setImmediate=this.createProcessNextTickSetImmediate():this.canUsePostMessage()?this.setImmediate=this.createPostMessageSetImmediate():this.canUseMessageChannel()?this.setImmediate=this.createMessageChannelSetImmediate():this.canUseReadyStateChange()?this.setImmediate=this.createReadyStateChangeSetImmediate():this.setImmediate=this.createSetTimeoutSetImmediate();var t=function e(t){delete e.instance.tasksByHandle[t]};t.instance=this,this.clearImmediate=t}}return e.prototype.identify=function(e){return this.root.Object.prototype.toString.call(e)},e.prototype.canUseProcessNextTick=function(){return"[object process]"===this.identify(this.root.process)},e.prototype.canUseMessageChannel=function(){return Boolean(this.root.MessageChannel)},e.prototype.canUseReadyStateChange=function(){var e=this.root.document;return Boolean(e&&"onreadystatechange"in e.createElement("script"))},e.prototype.canUsePostMessage=function(){var e=this.root;if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}return!1},e.prototype.partiallyApplied=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var a=function e(){var t=e,n=t.handler,a=t.args;"function"==typeof n?n.apply(void 0,a):new Function(""+n)()};return a.handler=e,a.args=t,a},e.prototype.addFromSetImmediateArguments=function(e){return this.tasksByHandle[this.nextHandle]=this.partiallyApplied.apply(void 0,e),this.nextHandle++},e.prototype.createProcessNextTickSetImmediate=function(){var e=function e(){var t=e.instance,n=t.addFromSetImmediateArguments(arguments);return t.root.process.nextTick(t.partiallyApplied(t.runIfPresent,n)),n};return e.instance=this,e},e.prototype.createPostMessageSetImmediate=function(){var e=this.root,t="setImmediate$"+e.Math.random()+"$",n=function n(a){var s=n.instance;a.source===e&&"string"==typeof a.data&&0===a.data.indexOf(t)&&s.runIfPresent(+a.data.slice(t.length))};n.instance=this,e.addEventListener("message",n,!1);var a=function e(){var t=e,n=t.messagePrefix,a=t.instance,s=a.addFromSetImmediateArguments(arguments);return a.root.postMessage(n+s,"*"),s};return a.instance=this,a.messagePrefix=t,a},e.prototype.runIfPresent=function(e){if(this.currentlyRunningATask)this.root.setTimeout(this.partiallyApplied(this.runIfPresent,e),0);else{var t=this.tasksByHandle[e];if(t){this.currentlyRunningATask=!0;try{t()}finally{this.clearImmediate(e),this.currentlyRunningATask=!1}}}},e.prototype.createMessageChannelSetImmediate=function(){var e=this,t=new this.root.MessageChannel;t.port1.onmessage=function(t){var n=t.data;e.runIfPresent(n)};var n=function e(){var t=e,n=t.channel,a=t.instance,s=a.addFromSetImmediateArguments(arguments);return n.port2.postMessage(s),s};return n.channel=t,n.instance=this,n},e.prototype.createReadyStateChangeSetImmediate=function(){var e=function e(){var t=e.instance,n=t.root,a=n.document,s=a.documentElement,i=t.addFromSetImmediateArguments(arguments),r=a.createElement("script");return r.onreadystatechange=function(){t.runIfPresent(i),r.onreadystatechange=null,s.removeChild(r),r=null},s.appendChild(r),i};return e.instance=this,e},e.prototype.createSetTimeoutSetImmediate=function(){var e=function e(){var t=e.instance,n=t.addFromSetImmediateArguments(arguments);return t.root.setTimeout(t.partiallyApplied(t.runIfPresent,n),0),n};return e.instance=this,e},e}();n.ImmediateDefinition=s,n.Immediate=new s(a.root)});C.r("node_modules/rxjs/util/ObjectUnsubscribedError.js",function(t,r,s){"use strict";var e=this&&this.__extends||function(t,r){function s(){this.constructor=t}for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e]);t.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)},n=function(t){function r(){var r=t.call(this,"object unsubscribed");this.name=r.name="ObjectUnsubscribedError",this.stack=r.stack,this.message=r.message}return e(r,t),r}(Error);s.ObjectUnsubscribedError=n});C.r("node_modules/rxjs/util/TimeoutError.js",function(t,r,o){"use strict";var e=this&&this.__extends||function(t,r){function o(){this.constructor=t}for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e]);t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)},s=function(t){function r(){var r=t.call(this,"Timeout has occurred");this.name=r.name="TimeoutError",this.stack=r.stack,this.message=r.message}return e(r,t),r}(Error);o.TimeoutError=s});C.r("node_modules/rxjs/util/UnsubscriptionError.js",function(r,t,n){"use strict";var s=this&&this.__extends||function(r,t){function n(){this.constructor=r}for(var s in t)t.hasOwnProperty(s)&&(r[s]=t[s]);r.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=function(r){function t(t){r.call(this),this.errors=t;var n=Error.call(this,t?t.length+" errors occurred during unsubscription:\n  "+t.map(function(r,t){return t+1+") "+r.toString()}).join("\n  "):"");this.name=n.name="UnsubscriptionError",this.stack=n.stack,this.message=n.message}return s(t,r),t}(Error);n.UnsubscriptionError=o});C.r("node_modules/rxjs/util/errorObject.js",function(r,e,t){"use strict";t.errorObject={e:{}}});C.r("node_modules/rxjs/util/identity.js",function(t,i,n){"use strict";function e(t){return t}n.identity=e});C.r("node_modules/rxjs/util/isArray.js",function(r,n,s){"use strict";s.isArray=Array.isArray||function(r){return r&&"number"==typeof r.length}});C.r("node_modules/rxjs/util/isArrayLike.js",function(r,e,i){"use strict";i.isArrayLike=function(r){return r&&"number"==typeof r.length}});C.r("node_modules/rxjs/util/isDate.js",function(t,s,e){"use strict";function i(t){return t instanceof Date&&!isNaN(+t)}e.isDate=i});C.r("node_modules/rxjs/util/isFunction.js",function(n,t,i){"use strict";function u(n){return"function"==typeof n}i.isFunction=u});C.r("node_modules/rxjs/util/isNumeric.js",function(r,i,s){"use strict";function u(r){return!t.isArray(r)&&r-parseFloat(r)+1>=0}var t=r("../util/isArray");s.isNumeric=u});C.r("node_modules/rxjs/util/isObject.js",function(t,e,n){"use strict";function s(t){return null!=t&&"object"==typeof t}n.isObject=s});C.r("node_modules/rxjs/util/isPromise.js",function(i,n,s){"use strict";function t(i){return i&&"function"!=typeof i.subscribe&&"function"==typeof i.then}s.isPromise=t});C.r("node_modules/rxjs/util/isScheduler.js",function(e,u,n){"use strict";function s(e){return e&&"function"==typeof e.schedule}n.isScheduler=s});C.r("node_modules/rxjs/util/noop.js",function(o,n,s){"use strict";function t(){}s.noop=t});C.r("node_modules/rxjs/util/pipe.js",function(n,r,e){"use strict";function t(){for(var n=[],r=0;r<arguments.length;r++)n[r-0]=arguments[r];return o(n)}function o(n){return n?1===n.length?n[0]:function(r){return n.reduce(function(n,r){return r(n)},r)}:u.noop}var u=n("./noop");e.pipe=t,e.pipeFromArray=o});C.r("node_modules/rxjs/util/root.js",function(o,e,n){"use strict";var l="undefined"!=typeof window&&window,f="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,t="undefined"!=typeof global&&global,d=l||t||f;n.root=d,function(){if(!d)throw new Error("RxJS could not find any global context (window, self, global)")}()});C.r("node_modules/rxjs/util/subscribeToResult.js",function(e,r,o){"use strict";function n(e,r,o,n){var f=new u.InnerSubscriber(e,o,n);if(f.closed)return null;if(r instanceof b.Observable)return r._isScalar?(f.next(r.value),f.complete(),null):(f.syncErrorThrowable=!0,r.subscribe(f));if(s.isArrayLike(r)){for(var v=0,d=r.length;v<d&&!f.closed;v++)f.next(r[v]);f.closed||f.complete()}else{if(i.isPromise(r))return r.then(function(e){f.closed||(f.next(e),f.complete())},function(e){return f.error(e)}).then(null,function(e){t.root.setTimeout(function(){throw e})}),f;if(r&&"function"==typeof r[c.iterator])for(var m=r[c.iterator]();;){var p=m.next();if(p.done){f.complete();break}if(f.next(p.value),f.closed)break}else if(r&&"function"==typeof r[a.observable]){var y=r[a.observable]();if("function"==typeof y.subscribe)return y.subscribe(new u.InnerSubscriber(e,o,n));f.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var w=l.isObject(r)?"an invalid object":"'"+r+"'",x="You provided "+w+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";f.error(new TypeError(x))}}return null}var t=e("./root"),s=e("./isArrayLike"),i=e("./isPromise"),l=e("./isObject"),b=e("../Observable"),c=e("../symbol/iterator"),u=e("../InnerSubscriber"),a=e("../symbol/observable");o.subscribeToResult=n});C.r("node_modules/rxjs/util/toSubscriber.js",function(r,e,b){"use strict";function i(r,e,b){if(r){if(r instanceof s.Subscriber)return r;if(r[u.rxSubscriber])return r[u.rxSubscriber]()}return r||e||b?new s.Subscriber(r,e,b):new s.Subscriber(c.empty)}var s=r("../Subscriber"),u=r("../symbol/rxSubscriber"),c=r("../Observer");b.toSubscriber=i});C.r("node_modules/rxjs/util/tryCatch.js",function(r,t,e){"use strict";function c(){try{return u.apply(this,arguments)}catch(r){return o.errorObject.e=r,o.errorObject}}function n(r){return u=r,c}var u,o=r("./errorObject");e.tryCatch=n});C.r("node_modules/shakti-platform/dist/ui/utils/URLGenerator.js",function(t,e,r){"use strict";function o(t){return l.endsWith(t,m)?t:t.replace(/[\/|:]/g,W)+m}function n(t){var e=t;return l.startsWith(e,y)||(e=y+e),e}function a(t){var e=p.stringify(t);return e?g+e:""}function h(t){if(l.isUndefined(t)||l.isEmpty(t))return W;var e=t;return l.startsWith(e,C)||(e=C+e),e}function s(t){var e="undefined"!=typeof document?document:{},r={protocol:t.protocol||l.get(e,"location.protocol",f),hostname:t.hostname||l.get(e,"location.hostname",d),path:t.path||q,query:t.query||v,hash:t.hash};return[o(r.protocol),r.hostname,n(r.path),a(r.query),h(r.hash)].join(W)}function u(t){var e={path:t.path||q,query:t.query||v,hash:t.hash};return[n(e.path),a(e.query),h(e.hash)].join(W)}function i(t){var e=void 0;if(t.search===W)e=v;else{var r=t.search.replace(/^\?/,W).split(j);e=l.reduce(r,function(t,e){var r=e.split(w);return 2===r.length?t[r[0]]=r[1]:1===r.length&&(t[r[0]]=null),t},{})}return{protocol:o(t.protocol),hostname:t.hostname,path:n(t.pathname),hash:h(t.hash),query:e}}function c(t){return{protocol:f,hostname:d,path:n(l.result(t,"getPath",q)),query:t.query||v}}var l=t("lodash"),p=t("qs"),f="https:",m="://",d="www.netflix.com",y="/",q="/",v={},g="?",j="&",w="=",C="#",W="";e.exports={create:s,createRelative:u,locationToConfig:i,requestToConfig:c}});C.r("utils/XHR.js",function(e,t,r){"use strict";function o(e){return e.authorize&&j&&j.authURL||null}function s(e,t){var r=L[e.service],o=y.assign({},r,e),s={},n={},a={};return n._=(new Date).getTime(),"api"===e.service&&b.get(P)&&(s.fallbackEsn=b.get(_)),e.method.toLowerCase()===S.METHODS.get?(t&&(n.authURL=t),I?n.stack=q:N||(n.revision=x),o.query=y.assign({},o.query||{},o.data,s,n)):(I?a.stack=q:N||(a.revision=x),o.query=y.assign({},o.query||{},s,a)),o.path=o.path.slice(0),"api"===e.service?(!D&&Array.isArray(o.path)&&o.path.push(q),Array.isArray(o.path)&&o.path.push(o.resource.slice(1)),D&&Array.isArray(o.path)&&o.path.push(M[o.resource]),Array.isArray(o.path)&&(o.path=o.path.join("/"))):(o.path=o.path&&Array.isArray(o.path)?o.path.join("/"):g,o.path+=o.resource),v.create({protocol:o.protocol,hostname:o.hostname,path:o.path,query:o.query})}function n(e){var t=y.assign({method:S.METHODS.get,headers:{},timeout:15e3,authorize:!1,postType:S.POST_TYPES.json,responseType:S.POST_TYPES.json,withCredentials:!0},e),r=o(t);if(t.method.toLowerCase()===S.METHODS.post){r&&(t.data.authURL=r);var n=t.postType.toLowerCase();n===S.POST_TYPES.json?(t.postBody=JSON.stringify(t.data),t.headers["Content-Type"]="application/json",t.headers.Accept=["application/json","text/javascript","*/*"].join(", ")):n===S.POST_TYPES.text&&(t.postBody=y.reduce(t.data,function(e,t,r){return(e===g?g:e+"&")+r+"="+encodeURIComponent(t)},g))}return y.isString(t.resource)&&y.isString(t.service)&&(t.url=s(t,r)),t}function a(e){var t=new XMLHttpRequest;if(t.open(e.method.toLowerCase(),e.url),t.timeout=e.timeout,t.withCredentials=e.withCredentials,A)try{t.responseType=e.responseType}catch(e){}return y.forEach(e.headers,function(e,r){t.setRequestHeader(r,e)}),t}function i(e){return f.create(function(t){var r=n(e),o=void 0;return o=a(r),w(C,C.next,o),o.onload=u.bind(null,t,o,S.EVENT_TYPES.load,r),o.onerror=u.bind(null,t,o,S.EVENT_TYPES.error,r),o.ontimeout=u.bind(null,t,o,S.EVENT_TYPES.timeout,r),o.onabort=u.bind(null,t,o,S.EVENT_TYPES.abort,r),o.send(r.postBody||g),function(){o&&(o.onload=O,o.onerror=O,o.ontimeout=O,o.onabort=O,o.abort(),o=null)}})}function u(e,t,r,o){var s=void 0;t&&e&&(s=t.status,w(R,R.next,t),r===S.EVENT_TYPES.load&&s>=200&&s<=399?p(e,t,r,o):c(e,t,r))}function p(e,t,r,o){var s=void 0,n=S.POST_TYPES,a=y.get(t,"responseType",o.responseType).toLowerCase();try{a===n.buffer&&t.response?s=t.response:a===n.text||t.response&&!y.isObject(t.response)?s=t.responseText?JSON.parse(t.responseText):null:a===n.json&&(s=t.response),e.next(s),e.complete()}catch(o){c(e,t,r)}}function h(e,t,r){this.message="xhr error - "+r,this.xhrStatus=e,this.xhrResponse=t,this.xhrEvent=r}function c(e,t,r){var o=new h(t.status,t.response,r);e&&"function"==typeof e.error&&e.error(o)}var l=e("babel-runtime/helpers/typeof"),d=function(e){return e&&e.__esModule?e:{default:e}}(l),f=e("../utils/rx/shakti-rx").RxObservable,T=e("../utils/rx/shakti-rx").RxSubject,y=e("lodash"),v=e("shakti-platform/dist/ui/utils/URLGenerator"),E=e("../common/appContext"),S=e("./XHRConstants"),m=e("shakti-platform/dist/ui/utils/inNode"),b=e("shakti-platform/dist/ui/ShaktiProperties"),x="latest",g="",P="shakti.fallback.esn.enabled",_="shakti.fallback.esn.value",C=new T,R=new T,w=function(e,t,r){try{t.call(e,r)}catch(e){}},O=function(){},A=!0,j=void 0,k=void 0,L=void 0,D=void 0,M=void 0,q=void 0,I=void 0,N=void 0;m||(j=E.getModelData("userInfo"),k=E.getModelData("serverDefs"),L=E.getModelData("services"),D=k.API_CONSOLIDATED,q=k.BUILD_IDENTIFIER,I=k.CUSTOM_PRIMER_STACK,N=k.production,M=k.endpointIdentifiers,A=void 0!==(0,d.default)((new XMLHttpRequest).responseType)),h.prototype=y.assign(h.prototype,new Error),t.exports={before:C,request:i,after:R}});C.r("utils/XHRConstants.js",function(t,o,r){"use strict";o.exports={EVENT_TYPES:{load:"load",error:"error",timeout:"timeout",abort:"abort"},METHODS:{get:"get",post:"post"},POST_TYPES:{text:"text",json:"json",buffer:"arraybuffer"}}});C.r("utils/pathEvaluatorUtils.js",function(r,e,t){"use strict";function n(r){return f.create(function(e){var t=r.subscribe(function(r){e.next(r)},function(r){e.error(r)},function(){e.complete()});return function(){t&&t.dispose&&t.dispose()}})}function u(r){return void 0!==r&&r&&"error"===r.$type}function o(r){return null===r||void 0!==r&&"error"!==r.$type}function i(r){return u(r.getBoundValue())}function a(r){var e=!1;return r&&Array.isArray(r)&&r.length>0&&(e=r.some(function(r){return u(r)})),e}function s(r){var e=Object.keys(r._root.cache).filter(function(r){return"_"!==r[0]&&"$"!==r[0]}).map(function(r){return[r]});r.invalidate.apply(r,(0,l.default)(e))}var c=r("babel-runtime/helpers/toConsumableArray"),l=function(r){return r&&r.__esModule?r:{default:r}}(c),f=r("../utils/rx/shakti-rx").RxObservable;e.exports={toObservable:n,isValueError:u,isValueValid:o,isBoundToError:i,hasAnyError:a,resetCache:s}});C.r("utils/rx/shakti-rx.js",function(r,a,e){"use strict";var d=r("rxjs/Observable").Observable,o=r("rxjs/Subject").Subject,s=r("rxjs/BehaviorSubject").BehaviorSubject,t=r("rxjs/scheduler/asap").asap,x=r("rxjs/scheduler/async").async;r("rxjs/add/observable/bindCallback"),r("rxjs/add/observable/concat"),r("rxjs/add/observable/defer"),r("rxjs/add/observable/empty"),r("rxjs/add/observable/forkJoin"),r("rxjs/add/observable/from"),r("rxjs/add/observable/fromEvent"),r("rxjs/add/observable/fromPromise"),r("rxjs/add/observable/interval"),r("rxjs/add/observable/merge"),r("rxjs/add/observable/of"),r("rxjs/add/observable/throw"),r("rxjs/add/observable/timer"),r("rxjs/add/observable/zip"),r("rxjs/add/operator/bufferTime"),r("rxjs/add/operator/catch"),r("rxjs/add/operator/concat"),r("rxjs/add/operator/delay"),r("rxjs/add/operator/distinctUntilChanged"),r("rxjs/add/operator/do"),r("rxjs/add/operator/filter"),r("rxjs/add/operator/first"),r("rxjs/add/operator/map"),r("rxjs/add/operator/merge"),r("rxjs/add/operator/mergeMap"),r("rxjs/add/operator/observeOn"),r("rxjs/add/operator/onErrorResumeNext"),r("rxjs/add/operator/publish"),r("rxjs/add/operator/publishReplay"),r("rxjs/add/operator/reduce"),r("rxjs/add/operator/retryWhen"),r("rxjs/add/operator/sample"),r("rxjs/add/operator/sampleTime"),r("rxjs/add/operator/scan"),r("rxjs/add/operator/share"),r("rxjs/add/operator/startWith"),r("rxjs/add/operator/switchMap"),r("rxjs/add/operator/take"),r("rxjs/add/operator/takeLast"),r("rxjs/add/operator/takeUntil"),r("rxjs/add/operator/takeWhile"),r("rxjs/add/operator/throttleTime"),r("rxjs/add/operator/timeInterval"),r("rxjs/add/operator/timeout"),r("rxjs/add/operator/timeoutWith"),r("rxjs/add/operator/zip"),a.exports={RxObservable:d,RxSubject:o,RxBehaviorSubject:s,RxSchedulerAsap:t,RxSchedulerAsync:x}});C.r("akira/components/review/review.jsx",function(e,t,r){"use strict";var i=e("prop-types"),n=e("react"),o=e("create-react-class"),l=e("lodash"),a=e("../../../utils/pathEvaluatorUtils"),s=e("./../title/basicStarBar.jsx"),p=e("./reviewText.jsx"),d=e("./helpfulCount.jsx"),v=e("./voteReviewSection.jsx"),u=e("./inappropriateReview.jsx"),h=e("./deleteReview.jsx"),c=o({displayName:"Review",getDefaultProps:function(){return{forUsersReview:!1,readOnly:!0,truncatedTextLength:200}},getInitialState:function(){return{inappropriateFormOpen:!1,reviewDeleted:!1}},contextTypes:{pathEvaluator:i.object},onVoteChange:function(e){this.forceUpdate()},onFlagsChanged:function(e){this.forceUpdate()},onReviewDeleted:function(){this.setState({reviewDeleted:!0})},toggleInappropriateReviewForm:function(){this.setState({inappropriateFormOpen:!this.state.inappropriateFormOpen})},closeInappropriateReviewForm:function(){this.setState({inappropriateFormOpen:!1})},renderDeletedReview:function(){return n.createElement(h,{videoModel:this.props.videoModel,onReviewDeleted:this.onReviewDeleted,reviewDeleted:this.state.reviewDeleted})},isValidReview:function(){var e=["id","rating","reviewText","helpfulCount","notHelpfulCount"];return void 0!==this.props.reviewModel.getBoundValue()&&(!a.isBoundToError(this.props.reviewModel)&&l.every(e,function(e){var t=this.props.reviewModel.getValueSync([e]);return void 0!==t&&!a.isValueError(t)},this))},renderReview:function(){var e=this.props.reviewModel,t=this.props.videoModel,r=e.getValueSync(["id"]),i=(t.getValueSync(["reviewFlags"])||{})[r];return n.createElement("div",{className:"memberReview"},n.createElement(s,{reviewRating:e.getValueSync(["rating"]),readOnly:!0}),n.createElement(p,{text:e.getValueSync(["reviewText"]),maxLength:this.props.readOnly?200:null}),this.props.readOnly?null:n.createElement(d,{numHelpful:e.getValueSync(["helpfulCount"]),numNotHelpful:e.getValueSync(["notHelpfulCount"])}),this.props.readOnly||this.props.forUsersReview?null:n.createElement(v,{reviewModel:e,videoModel:t,onVoteChange:this.onVoteChange,onInappropriateReviewClick:this.toggleInappropriateReviewForm,flagsForReview:i}),this.props.readOnly||!this.state.inappropriateFormOpen||i&&i.length>0?null:n.createElement(u,{reviewModel:e,videoModel:t,onCancel:this.closeInappropriateReviewForm,onFlagsChange:this.onFlagsChanged}),this.props.readOnly||!this.props.forUsersReview?null:n.createElement(h,{videoModel:this.props.videoModel,onReviewDeleted:this.onReviewDeleted,reviewDeleted:this.state.reviewDeleted}))},renderError:function(){return null},render:function(){return this.isValidReview()?this.state.reviewDeleted?this.renderDeletedReview():this.renderReview():this.renderError()}});t.exports=c});C.r("akira/containers/modal/modalManager.jsx",function(e,t,n){"use strict";var o=e("prop-types"),a=e("../../components/hoc/detectFontsWrapper.jsx"),i=e("react"),s=e("create-react-class"),r=e("react-dom"),l=e("lodash"),d=e("../../../utils/eventBus"),m=e("../timeoutTransition/timeoutTransitionGroup.jsx"),c=e("../../../common/nfNamespace"),u={CLOSE:"modal:close:",OPEN:"modal:open:",UPDATE:"modal:update:"},p={node:null,modalFactory:null,currentModal:null,currentConfig:null,_init:function(){this.node||(this.node=document.createElement("div"),document.body.insertBefore(this.node,document.body.firstChild),this.modalFactory=i.createFactory(a(f)))},open:function(e,t){this._init();var n=this;if(!n.currentConfig){n.currentConfig=l.assign({name:"unnamed",disableDismiss:!1,additionalClasses:[],contentProps:{}},t),n.currentModal=i.createElement(e,n.currentConfig.contentProps);var o=n.modalFactory({modalDismiss:n.closeOpenModal,modalUpdate:n._update,modalDisableDismiss:n.currentConfig.disableDismiss},n.currentModal);c.appContext&&c.appContext.provideAppContextToElement&&(o=c.appContext.provideAppContextToElement(o)),r.render(o,n.node),d.emit(u.OPEN+n.currentConfig.name,{name:n.currentConfig.name})}}};p._update=function(e){d.emit(u.UPDATE+p.currentConfig.name,e)},p.closeOpenModal=function(e){e=e||{},p.node&&r.unmountComponentAtNode(p.node);var t=p.currentConfig&&p.currentConfig.name;p.currentConfig=null,d.emit(u.CLOSE+t,e)};var f=s({displayName:"ModalElement",contextTypes:{models:o.object},childContextTypes:{modalDismiss:o.func,modalUpdate:o.func,modalDisableDismiss:o.bool,pathEvaluator:o.object},getChildContext:function(){return{modalDismiss:this.props.modalDismiss,modalUpdate:this.props.modalUpdate,modalDisableDismiss:this.props.modalDisableDismiss,pathEvaluator:this.props.pathEvaluator}},getInitialState:function(){return{shown:!1}},componentDidMount:function(){this.setState({shown:!0})},onMarginClick:function(){this.props.modalDisableDismiss||this.props.modalDismiss({event:"marginDismiss",data:{}})},render:function(){var e=l.get(this.context.models,"geo.data"),t=l.get(e,"locale.hasExtendedDiacritics",!1),n=t?"extended-diacritics-language ":"",o="nf-modal "+n+p.currentConfig.additionalClasses.join(" "),a=l.get(this.context.models,"geo.data.locale.dir","ltr");return i.createElement(m,{className:o,component:"div",transitionName:"modal",enterTimeout:450,leaveTimeout:0},this.state.shown?i.createElement("div",{className:"nf-modal-background",ref:"modalBackground",onClick:this.onMarginClick,key:"modalBackground"}):null,this.state.shown?i.createElement("div",{className:"nf-modal-content",ref:"modalContent",key:"modalContent",dir:a},p.currentModal):null)}});t.exports=p});C.r("akira/components/review/reviewList.jsx",function(e,r,i){"use strict";var t=e("prop-types"),s=e("react"),n=e("create-react-class"),o=e("../../../utils/pathEvaluatorUtils"),l=e("../review/review.jsx"),u=n({displayName:"ReviewList",getDefaultProps:function(){return{uniqueId:Math.random().toString()}},childContextTypes:{reviewListId:t.string},getChildContext:function(){return{reviewListId:this.props.uniqueId}},buildReviewsMarkup:function(){var e=void 0,r=void 0,i=[];for(r=0;r<this.props.numReviews;r++)e=this.props.forUsersReview?this.props.reviewsModel:this.props.reviewsModel.bind([r]),void 0!==e.getBoundValue()&&i.push(s.createElement("li",{key:"review-"+r},s.createElement(l,{reviewModel:e,videoModel:this.props.videoModel,readOnly:this.props.readOnly,forUsersReview:this.props.forUsersReview})));return i},renderError:function(){return null},render:function(){if(o.isBoundToError(this.props.reviewsModel))return this.renderError();var e=this.buildReviewsMarkup();return e.length>0?s.createElement("div",null,s.createElement("h3",null,this.props.heading),s.createElement("ul",{className:"memberReviews"},e)):null}});r.exports=u});C.r("node_modules/babel-runtime/core-js/object/assign.js",function(e,s,o){s.exports={default:e("core-js/library/fn/object/assign"),__esModule:!0}});C.r("node_modules/babel-runtime/helpers/extends.js",function(e,r,t){"use strict";t.__esModule=!0;var n=e("../core-js/object/assign"),o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=o.default||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}});C.r("node_modules/core-js/library/fn/object/assign.js",function(s,e,o){s("../../modules/es6.object.assign"),e.exports=s("../../modules/_core").Object.assign});C.r("node_modules/core-js/library/modules/_object-assign.js",function(o,t,e){"use strict";var c=o("./_object-keys"),n=o("./_object-gops"),r=o("./_object-pie"),s=o("./_to-object"),i=o("./_iobject"),a=Object.assign;t.exports=!a||o("./_fails")(function(){var o={},t={},e=Symbol(),c="abcdefghijklmnopqrst";return o[e]=7,c.split("").forEach(function(o){t[o]=o}),7!=a({},o)[e]||Object.keys(a({},t)).join("")!=c})?function(o,t){for(var e=s(o),a=arguments.length,j=1,b=n.f,f=r.f;a>j;)for(var l,u=i(arguments[j++]),_=b?c(u).concat(b(u)):c(u),g=_.length,p=0;g>p;)f.call(u,l=_[p++])&&(e[l]=u[l]);return e}:a});C.r("node_modules/core-js/library/modules/es6.object.assign.js",function(s,e,o){var n=s("./_export");n(n.S+n.F,"Object",{assign:s("./_object-assign")})});C.r("node_modules/isarray/index.js",function(r,t,o){t.exports=Array.isArray||function(r){return"[object Array]"==Object.prototype.toString.call(r)}});C.r("node_modules/path-to-regexp/index.js",function(e,t,r){function n(e,t){for(var r,n=[],o=0,i=0,a="",p=t&&t.delimiter||"/";null!=(r=m.exec(e));){var c=r[0],f=r[1],s=r.index;if(a+=e.slice(i,s),i=s+c.length,f)a+=f[1];else{var g=e[i],h=r[2],x=r[3],d=r[4],v=r[5],w=r[6],E=r[7];a&&(n.push(a),a="");var y=null!=h&&null!=g&&g!==h,R="+"===w||"*"===w,$="?"===w||"*"===w,b=r[2]||p,T=d||v;n.push({name:x||o++,prefix:h||"",delimiter:b,optional:$,repeat:R,partial:y,asterisk:!!E,pattern:T?l(T):E?".*":"[^"+u(b)+"]+?"})}}return i<e.length&&(a+=e.substr(i)),a&&n.push(a),n}function o(e,t){return p(n(e,t))}function i(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function a(e){return encodeURI(e).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function p(e){for(var t=new Array(e.length),r=0;r<e.length;r++)"object"==typeof e[r]&&(t[r]=new RegExp("^(?:"+e[r].pattern+")$"));return function(r,n){for(var o="",p=r||{},u=n||{},l=u.pretty?i:encodeURIComponent,c=0;c<e.length;c++){var f=e[c];if("string"!=typeof f){var s,g=p[f.name];if(null==g){if(f.optional){f.partial&&(o+=f.prefix);continue}throw new TypeError('Expected "'+f.name+'" to be defined')}if(v(g)){if(!f.repeat)throw new TypeError('Expected "'+f.name+'" to not repeat, but received `'+JSON.stringify(g)+"`");if(0===g.length){if(f.optional)continue;throw new TypeError('Expected "'+f.name+'" to not be empty')}for(var h=0;h<g.length;h++){if(s=l(g[h]),!t[c].test(s))throw new TypeError('Expected all "'+f.name+'" to match "'+f.pattern+'", but received `'+JSON.stringify(s)+"`");o+=(0===h?f.prefix:f.delimiter)+s}}else{if(s=f.asterisk?a(g):l(g),!t[c].test(s))throw new TypeError('Expected "'+f.name+'" to match "'+f.pattern+'", but received "'+s+'"');o+=f.prefix+s}}else o+=f}return o}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function c(e,t){return e.keys=t,e}function f(e){return e.sensitive?"":"i"}function s(e,t){var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return c(e,t)}function g(e,t,r){for(var n=[],o=0;o<e.length;o++)n.push(d(e[o],t,r).source);return c(new RegExp("(?:"+n.join("|")+")",f(r)),t)}function h(e,t,r){return x(n(e,r),t,r)}function x(e,t,r){v(t)||(r=t||r,t=[]),r=r||{};for(var n=r.strict,o=!1!==r.end,i="",a=0;a<e.length;a++){var p=e[a];if("string"==typeof p)i+=u(p);else{var l=u(p.prefix),s="(?:"+p.pattern+")";t.push(p),p.repeat&&(s+="(?:"+l+s+")*"),s=p.optional?p.partial?l+"("+s+")?":"(?:"+l+"("+s+"))?":l+"("+s+")",i+=s}}var g=u(r.delimiter||"/"),h=i.slice(-g.length)===g;return n||(i=(h?i.slice(0,-g.length):i)+"(?:"+g+"(?=$))?"),i+=o?"$":n&&h?"":"(?="+g+"|$)",c(new RegExp("^"+i,f(r)),t)}function d(e,t,r){return v(t)||(r=t||r,t=[]),r=r||{},e instanceof RegExp?s(e,t):v(e)?g(e,t,r):h(e,t,r)}var v=e("isarray");t.exports=d,t.exports.parse=n,t.exports.compile=o,t.exports.tokensToFunction=p,t.exports.tokensToRegExp=x;var m=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g")});C.r("node_modules/shakti-platform/dist/ui/routing/History.js",function(t,e,n){"use strict";function i(t){var e=t.state;this.state=e,c.index=e&&e.index||0,c.index>=c.length&&(c.length=c.index+1),o(e)}function o(t){r.forEach(function(e){e(t)})}function s(){return a.location.pathname+a.location.search}var r=[],a="undefined"!=typeof window?window:null,c={length:a&&a.history.state&&a.history.state.index+1||1,index:a&&a.history.state&&a.history.state.index||0,state:null,setWindow:function(t){a=t},addChangeListener:function(t){r.length||c.register(),r.push(t)},removeChangeListener:function(t){r.splice(r.indexOf(t),1),r.length||c.unRegister()},register:function(){a.addEventListener("popstate",i)},unRegister:function(){a.removeEventListener("popstate",i)},pushState:function(t,e){this.state=e,++c.index,c.length=c.index+1;var n=Object.assign({index:c.index,url:t},e);try{a.history.pushState(n,"",t),o(s())}catch(e){console.error(e),a.location=t}},replaceState:function(t,e){this.state=e,c.length=c.index+1;var n=Object.assign({index:c.index,url:t},e);try{a.history.replaceState(n,"",t),o(s())}catch(e){console.error(e),a.location.replace(t)}},back:function(){c.go(-1)},forward:function(){c.go(1)},go:function(t){a.history.go(t)}};e.exports=c});C.r("node_modules/shakti-platform/dist/ui/routing/Link.js",function(t,e,s){"use strict";function r(t){return 0===t.button}function o(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}var i=t("babel-runtime/helpers/extends"),n=function(t){return t&&t.__esModule?t:{default:t}}(i),a=t("react"),c=t("create-react-class"),h=t("prop-types"),p=t("lodash"),l=t("classnames"),u={history:h.object.isRequired,logger:h.object,routeHandler:h.object.isRequired},f=t("../consolidatedLogging/constants/actionTypes"),d=c({displayName:"Link",propTypes:{children:h.any,className:h.string,href:h.string,onClick:h.func,onAfterNavigation:h.func,route:h.object,params:h.object,query:h.object,hash:h.string,preventScrollPositionReset:h.bool,historyState:h.object},contextTypes:u,isActive:function(t){var e=this.context.routeHandler;return t===e.route.makePath(e.params,e.query)},getHref:function(){return this.props.href?this.props.href:this.props.route?this.props.route.makePath(this.props.params,this.props.query,this.props.hash):null},handleClick:function(t){if(!o(t)&&r(t)&&(!this.props.onClick||(this.props.onClick(t),!t.defaultPrevented))){t.preventDefault();var e=this.context.logger&&this.context.logger.startSession(f.Navigate);this.context.history.pushState(this.getHref(),this.props.historyState),this.context.logger&&this.context.logger.endSession(e),this.props.preventScrollPositionReset||window.scrollTo(0,0),this.props.onAfterNavigation&&this.props.onAfterNavigation()}},render:function(){var t=p.omit(this.props,["href","route","params","query","hash","onClick","children","className","onAfterNavigation"]),e=this.getHref(),s=l(this.props.className,{active:e&&this.isActive(e)});return s&&(t.className=s),e&&(t.href=e),a.createElement("a",(0,n.default)({},t,{onClick:this.handleClick}),this.props.children)}});e.exports=d});C.r("node_modules/shakti-platform/dist/ui/routing/Route.js",function(t,e,h){"use strict";function a(t){this.hostname=t.hostname,this.protocol=t.protocol,this.path=t.path,this._keys=[],this._regex=r(this.path,this._keys),this._pathMaker=r.compile(this.path)}var r=t("path-to-regexp"),o=t("../utils/URLGenerator");a.prototype={match:function(t){var e=this._regex.exec(t);if(!e)return null;for(var h=this._keys,a={},r=0,o=h.length;r<o;r++){var s=h[r],i=e[r+1];void 0!==i&&void 0===a[s.name]&&(a[s.name]=decodeURIComponent(i))}return a},makePath:function(t,e,h){if(this.hostname)return this.makeAbsolutePath({query:e,hash:h,params:t});var a=void 0;try{a=this._pathMaker(t)}catch(t){throw t.message+=" for "+String(this.path),t}return o.createRelative({path:a,query:e,hash:h})},makeAbsolutePath:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=void 0;try{e=this._pathMaker(t.params)}catch(t){throw t.message+=" for "+String(this.path),t}return o.create({protocol:t.protocol||this.protocol,hostname:t.hostname||this.hostname,path:e,query:t.query,hash:t.hash})}},a.createRoute=function(t){return new a(t)},e.exports=a});C.r("node_modules/shakti-platform/dist/ui/routing/index.js",function(e,t,o){"use strict";var r=e("./Route"),n=e("./History"),i=e("./Link"),s=e("./match"),u=e("./resolveElement"),a=e("./provideRoutingContext"),l=e("./parseUrl");t.exports={createRoute:function(e){return new r(e)},History:n,Link:i,match:s,parseUrl:l,provideRoutingContext:a,resolveElement:u,Route:r}});C.r("node_modules/shakti-platform/dist/ui/routing/match.js",function(r,t,a){"use strict";var u=r("./parseUrl");t.exports=function(r,t){for(var a=u(t),s=0;s<r.length;++s){var e=r[s].route,h=e.match(a.path);if(h)return Object.assign({},r[s],{url:a.url,path:a.path,params:h,query:a.query,hash:a.hash})}return null}});C.r("node_modules/shakti-platform/dist/ui/routing/parseUrl.js",function(s,r,t){"use strict";var u=s("qs");r.exports=function(s){var r=s.indexOf("?"),t=s.indexOf("#"),i=-1!==r,e=-1!==t,o=void 0,a=void 0,d=void 0,n=void 0;if(e&&i){var b=r<t?r:t;o=s.substr(0,b),b!==t&&(a=s.substr(r+1,t-r-1)),n=s.substr(0,t),d=s.substr(t+1)}else e?(o=s.substr(0,t),n=o,d=s.substr(t+1)):i?(o=s.substr(0,r),a=s.substr(r+1),n=s):(o=s,n=s);return{url:n,path:o,query:u.parse(a||""),hash:d||""}}});C.r("node_modules/shakti-platform/dist/ui/routing/provideRoutingContext.js",function(t,e,r){"use strict";function o(t){var e=i({displayName:"Router",propTypes:u,childContextTypes:u,getChildContext:function(){return{routeHandler:this.props.routeHandler,history:this.props.history}},render:function(){return s.createElement(t,this.props)}});return p(e,t),e.wrappedComponent=t,e}var s=t("react"),i=t("create-react-class"),n=t("prop-types"),p=t("hoist-non-react-statics"),u={routeHandler:n.object.isRequired,history:n.object.isRequired};e.exports=o});C.r("node_modules/shakti-platform/dist/ui/routing/resolveElement.js",function(r,e,t){"use strict";var l=r("react");e.exports=function(r,e){if(!r)return null;r=Array.prototype.slice.call(r);for(var t=null;r.length;){var n=r.pop();t=l.createElement(n,e,t)}return t}});C.r("utils/Routes.js",function(e,t,i){"use strict";var a=e("shakti-platform/dist/ui/routing"),o=a.createRoute,s="help.netflix.com",r={home:o({path:"/"}),browse:o({path:"/browse"}),deepLinkedUma:o({path:"/messages/:umaType"}),title:o({path:"/:locale?/title/:id"}),titleShowEpisodes:o({path:"/title/:id#showEpisodes"}),addToMyList:o({path:"/add/:id"}),likeTitle:o({path:"/like/:id"}),dislikeTitle:o({path:"/dislike/:id"}),genre:o({path:"/browse/genre/:id"}),similars:o({path:"/browse/similars/:id"}),genreNewRelease:o({path:"/browse/genre-new-release/:id"}),hd:o({path:"/browse/hd/:id"}),person:o({path:"/browse/person/:id"}),myList:o({path:"/browse/my-list"}),recentlyAdded:o({path:"/browse/recently-added"}),justAdded:o({path:"/browse/just-added"}),newRelease:o({path:"/browse/new-release"}),newReleases:o({path:"/browse/new-releases"}),newArrivals:o({path:"/browse/new-arrivals"}),audio:o({path:"/browse/audio/:id?"}),subtitle:o({path:"/browse/subtitle/:id?"}),subtitles:o({path:"/browse/subtitles/:id?"}),audioDescription:o({path:"/browse/audio-description"}),audioDescriptionByGenre:o({path:"/browse/audio-description/:id"}),netflixOriginals:o({path:"/browse/originals"}),search:o({path:"/search"}),searchTerm:o({path:"/search/:term"}),searchSuggestion:o({path:"/search/:term/suggestion/:suggestionId"}),searchDVD:o({path:"/search/:term/dvd/:dvdId"}),profilesManage:o({path:"/profiles/manage"}),manageProfiles:o({path:"/ManageProfiles"}),editProfiles:o({path:"/EditProfiles"}),profilesAdd:o({path:"/profiles/add"}),profilesIcon:o({path:"/profiles/icon"}),profilesIconId:o({path:"/profiles/icon/:iconId"}),profilesGuidIcon:o({path:"/profiles/:guid/icon"}),profilesGuidIconId:o({path:"/profiles/:guid/icon/:iconId"}),notificationLanding:o({path:"/notification/:eventGuid"}),kidsHome:o({path:"/Kids"}),kidsCharacter:o({path:"/Kids/character/:id"}),kidsTitle:o({path:"/Kids/title/:id"}),kidsCategory:o({path:"/Kids/category/:id"}),kidsSimilars:o({path:"/Kids/similars/:id"}),kidsSearch:o({path:"/Kids/search"}),kidsSearchTerm:o({path:"/Kids/search/:term"}),kidsSearchSuggestion:o({path:"/Kids/search/:term/suggestion/:suggestionId"}),kidsCharacterGallery:o({path:"/Kids/characters"}),kidsOriginals:o({path:"/Kids/originals"}),watchNow:o({path:"/watch/:id",query:["trkid","tctx","ad"]}),interact:o({path:"/interact/:id",query:["trkid","tctx","ad"]}),embedPlayer:o({path:"/embed/:id",query:["trkid","tctx","ad"]}),yourAccount:o({path:"/YourAccount"}),parentalControls:o({path:"/Pin"}),profiles:o({path:"/Profiles"}),affiliates:o({path:"/Affiliates"}),socialterms:o({path:"/socialterms"}),cookiePolicy:o({path:"/Cookies"}),signOut:o({path:"/SignOut?lnkctr=mL"}),freeTrialDetails:o({path:"/PopupDetails"}),gift:o({path:"/Gift"}),giftCard:o({path:"/redeem"}),verifyAge:o({path:"/verifyage"}),verifyMemberCode:o({path:"/verifymembercode"}),printInvoice:o({path:"/invoice/print/:invoiceId"}),viewingActivity:o({path:"/viewingactivity"}),changePlan:o({path:"/ChangePlan"}),info:o({path:"/:locale?/info/:id/"}),infoPage:o({path:"/:locale?/info/:id/:page"}),login:o({path:"/:locale?/login"}),loginHelp:o({path:"/LoginHelp"}),loginDeviceCode:o({path:"/lda/:code"}),densityAudioDescription:o({path:"/audio-description"}),profilesGate:o({path:"/ProfilesGate"}),clientCounter:o({path:"/clientcounter/:name"}),onRamp:o({path:"/Welcome/OnRamp"}),unsupportedCountry:o({path:"/unsupportedcountry"}),switchProfiles:o({path:"/SwitchProfile"}),clearCookies:o({path:"/clearcookies"}),devices:o({path:"/",hostname:"devices.netflix.com"}),mediaCenter:o({path:"/",hostname:"media.netflix.com"}),investors:o({path:"/",hostname:"ir.netflix.com",protocol:"http:"}),contact:o({path:"/contactus",hostname:"help.netflix.com"}),corporateInformation:o({path:"/en/node/2101",hostname:"help.netflix.com"}),jobs:o({path:"/",hostname:"jobs.netflix.com"}),support:o({path:"/",hostname:"support.netflix.com"}),help:o({path:"/",hostname:s}),legalNotices:o({path:"/legal/notices",hostname:s}),privacyPolicy:o({path:"/legal/privacy",hostname:s}),termsOfUse:o({path:"/legal/termsofuse",hostname:s}),helpRatings:o({path:"/support/2064",hostname:s}),helpReviewsFAQ:o({path:"/support/9977",hostname:s}),helpPlayerSupport:o({path:"/support/23742",hostname:s}),jpTransactionAct:o({path:"/support/26101",hostname:s}),dvdHome:o({path:"/MemberHome?lnkctr=mhbwse",hostname:"dvd.netflix.com"}),dvdMdp:o({path:"/Movie/:id",hostname:"dvd.netflix.com"}),dvdUpsell:o({path:"/SubscriptionAdd",hostname:"dvd.netflix.com"}),dvdSearch:o({path:"/Search",hostname:"dvd.netflix.com"}),dvdTerms:o({path:"/Terms",hostname:"dvd.netflix.com"}),dvdCancel:o({path:"/SubscriptionCancel",hostname:"dvd.netflix.com"})};t.exports=r});C.r("utils/cssAnimation.js",function(n,e,i){"use strict";function t(){return!(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&"function"==typeof window.Element.prototype.animate}function a(n,e,i,t,a){var r={easing:"transitionTimingFunction",duration:"transitionDuration",delay:"transitionDelay",fill:"animationFillMode"};if(i&&t){var o={};if(e)for(var s in e)"forwards"!==t.fill&&(o[s]=n.style[s]),n.style[s]=e[s];D(function(){for(var e in t){"duration"!==e&&"delay"!==e||"number"!=typeof t[e]||(t[e]+="ms");var s=r[e]||e;n.style[s]!==t[e]&&(n.style[s]=t[e])}var u=n.style.transitionProperty.split(",").filter(function(n){return""!==n}).map(function(n){return n.trim()}),c=y.uniq(u.concat(Object.keys(i))).join(",");n.style.transitionProperty=c;for(var m in i)n.style[m]=i[m],"transform"===m&&(n.style.webkitTransform=i[m]);var f=parseInt(t.duration,10)||0;t.delay&&(f+=parseInt(t.delay,10)),setTimeout(function(){D(function(){for(var e in o)o.hasOwnProperty(e)&&(n.style[e]=o[e]);"function"==typeof a&&a()})},f+20)})}}function r(n,e){return D(function(){e.reset&&(n.removeAttribute("style"),delete e.reset);var i=s(e);for(var t in i)i.hasOwnProperty(t)&&(n.style[t]=i[t])}),n}function o(n){var e=void 0,i=void 0,t=void 0;if(!n)throw new TypeError("Animation - "+n.displayName+": 'animation' argument must be an object.");var a=n.target;a.addEventListener&&document.body.contains(a)&&(n.before&&r(a,n.before),(n.callback||n.animation||void 0!==n.opacity||n.after)&&(e=u.bind(null,n.callback,n.animation),i=c.bind(null,a,e,function(){n.after&&r(a,n.after),a.removeEventListener(z,i)}),a.addEventListener(z,i)),n.keyframes&&n.keyframes.callback&&(t=m.bind(null,a,n.keyframes.callback,function(n){a.removeEventListener(w,t)}),a.addEventListener(w,t)),D(function(){r(a,n)}))}function s(n){var e=void 0,i=void 0,t=void 0,a={};"number"==typeof n.duration&&(n.duration+="ms"),"number"==typeof n.delay&&(n.delay+="ms"),n.keyframes&&"number"==typeof n.keyframes.duration&&(n.keyframes.duration+="ms");for(e in n)if(-1===k.indexOf(e))if(i=O[e],t=n[e],i)i in I?(a[i]||(a[i]=""),a[i]+=e+"("+t+") "):a[i]="easing"===i?E[t]:t;else if("keyframes"===e)for(e in t)e in A&&(a[A[e]]="easing"===e?E[t[e]]:t[e]);else a[e]=t;return a}function u(n,e){if(n&&"function"!=typeof n)throw new Error("Animation - "+e.displayName+": 'animation' argument's 'callback' property must be a function.");n&&n(),e&&o(e)}function c(n,e,i,t){t.target===n&&(i(),e())}function m(n,e,i,t){t.target===n&&(i(),e.call(this))}function f(n){return r(n.target,n)}function l(n){n.removeAttribute("style")}function b(n,e,i,r,o){if(n)if(t(o)){var s=n.animate(e,i);"function"==typeof r&&(s.onfinish=function(){r()})}else Array.isArray(e)&&e.length>=2&&a(n,e[0],e[1],i,r)}function d(n,e,i){t()?b(n,[e,e],{duration:0,fill:"forwards"},i):D(function(){n.style.transition="",n.style.transitionDuration=0,n.style.transitionDelay=0,n.style.transitionProperty="",Object.keys(e).forEach(function(i){n.style[i]=e[i]}),i&&i()})}var y=n("lodash"),v=n("shakti-platform/dist/ui/utils/inNode"),p=!v,w=void 0,z=void 0,k=["target","callback","animation","after","before"],O={translate:"transform",translateX:"transform",translateY:"transform",rotate:"transform",scale:"transform",scaleX:"transform",scaleY:"transform",skewX:"transform",skewY:"transform",translateZ:"transform",translate3d:"transform",rotateX:"transform",rotateY:"transform",scale3d:"transform",scaleZ:"transform",matrix:"transform",matrix3d:"transform",origin:"transformOrigin",perspective:"perspective",easing:"transitionTimingFunction",duration:"transitionDuration",delay:"transitionDelay"},A={name:"animationName",duration:"animationDuration",delay:"animationDelay",easing:"animationTimingFunction",repeat:"animationIterationCount",direction:"animationDirection",fillMode:"animationFillMode"},E={ease:"ease",linear:"linear",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",stepStart:"step-start",stepEnd:"step-end",steps:"steps",snap:"cubic-bezier(0,1,.5,1)",easeInCubic:"cubic-bezier(.550,.055,.675,.190)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"},I={transform:"transform",WebkitTransform:"-webkit-transform",MozTransform:"-moz-transform",OTransform:"-o-transform",msTransform:"-ms-transform"},T={WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},g={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"},h=["Webkit","Moz","O","ms"];!function(){if(p){var n=void 0,e=void 0,i=void 0,t=void 0,a=document.createElement("div"),r=a.style;n="",h.forEach(function(e){if(e+"Transition"in r)return void(n=e)});for(e in O)O.hasOwnProperty(e)&&(i=O[e],(t=n+i.charAt(0).toUpperCase()+i.substr(1))in r&&(O[e]=t));for(e in A)O.hasOwnProperty(e)&&(i=A[e],(t=n+i.charAt(0).toUpperCase()+i.substr(1))in r&&(A[e]=t));z="TransitionEvent"in window?"transitionend":T[n+"Transition"],w="AnimationEvent"in window?"animationend":g[n+"Animation"]}}();var D=function(){if(!p)return function(){};var n=0;return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){var i=Date.now(),t=Math.max(0,16-(i-n));return n=i+t,setTimeout(function(){e(Date.now())},t)}}();e.exports={animate:o,animateIt:b,clearStyles:l,css:f,getAnimationStyle:s,reset:d}});C.r("akira/components/review/writeReview.jsx",function(e,t,r){"use strict";var i=e("prop-types"),s=e("react"),a=e("create-react-class"),n=e("react-dom"),o=e("lodash"),l=e("classnames"),c=e("../../../utils/Routes"),v=e("../title/basicStarBar.jsx"),d=e("../../components/loader/loadingSpinner.jsx"),u=e("../../../utils/eventBus"),w="discovery/akira/Reviews",m=c.helpReviewsFAQ.makePath(),h=a({displayName:"WriteReview",contextTypes:{getI18nString:i.func.isRequired,models:i.object},getDefaultProps:function(){return{defaultOpen:!1}},getInitialState:function(){return{formOpen:this.props.defaultOpen,reviewValid:!1,reviewSaving:!1,reviewSubmitted:!1,errorMessage:null,showNotRatedError:!1,userHasRatedTitle:!1,rating:0}},titleRatedForThumbsHandler:function(e){this.setState({userHasRatedTitle:!0,rating:e})},validateReview:function(){var e=n.findDOMNode(this.refs.reviewTextarea),t=e.value,r=t.length;this.setState({reviewValid:r>=80&&r<2e3})},openReviewForm:function(){this.setState({reviewValid:!1,formOpen:!0})},closeReviewForm:function(){this.setState({formOpen:!1})},submitReview:function(){this.state.userHasRatedTitle?(this.setState({reviewSaving:!0}),this.props.videoModel.call(["createReview"],[n.findDOMNode(this.refs.reviewTextarea).value,this.state.rating],[],[[["createReviewResult"],["usersReview"]]]).subscribe(this.handleCreateReviewResponse)):this.setState({showNotRatedError:!0})},handleCreateReviewResponse:function(){var e=this.props.videoModel.getValueSync(["createReviewResult"]),t=void 0,r=void 0;if(e.success)u.emit("reviews:reviewsCountChanged",{videoId:this.props.videoModel.getValueSync(["summary"]).id}),this.setState({reviewSaving:!1,reviewSubmitted:!0,formOpen:!1,reviewValid:!1,errorMessage:null,showNotRatedError:!1});else{switch(t=o.get(e,"info.validationInfo[0]",{infoType:"unknown"}),t.infoType){case"REVIEW_CONTAIN_BAD_WORDS":r=this.context.getI18nString(w,"write.review.error.msg.bad.word",{BAD_WORD:t.value});break;default:r=this.context.getI18nString(w,"write.review.error.msg.general")}this.setState({reviewSaving:!1,reviewValid:!1,errorMessage:r})}},renderButton:function(){return s.createElement("button",{className:"akira-button akira-button-red",onClick:this.openReviewForm},this.context.getI18nString(w,"write.review.cta"))},renderStarbar:function(){var e=this.props.videoModel.getValueSync(["summary"]).id;return s.createElement(v,{videoId:e,userRating:this.state.rating,onRating:this.titleRatedForThumbsHandler,sendRating:!1})},renderForm:function(){return s.createElement("div",{className:l({writeReviewForm:!0,saving:this.state.reviewSaving}),key:"writeReviewForm"},s.createElement("div",{className:"writeReviewSavingMask",key:"writeReviewSavingMask"},s.createElement(d,null)),!this.state.userHasRatedTitle&&this.state.showNotRatedError?s.createElement("div",{className:"error"},this.context.getI18nString(w,"write.review.error.msg.rate")):null,s.createElement("div",{className:"rating",key:"writeReviewRating"},this.context.getI18nString(w,"rate.show"),this.renderStarbar()),this.state.errorMessage?s.createElement("div",{className:"error"},this.state.errorMessage):null,s.createElement("textarea",{ref:"reviewTextarea",name:"reviewText",className:"reviewText",key:"writeReviewTextArea",onChange:this.validateReview,placeholder:this.context.getI18nString(w,"write.review.prompt")}),s.createElement("div",{className:"buttons",key:"writeReviewButtons"},s.createElement("button",{className:"akira-button akira-button-red",disabled:!this.state.reviewValid,onClick:this.submitReview},this.context.getI18nString(w,"submit")),s.createElement("button",{className:"akira-button",onClick:this.closeReviewForm},this.context.getI18nString(w,"cancel")),s.createElement("span",{className:"spacer"}),s.createElement("span",{className:"faq",dangerouslySetInnerHTML:{__html:this.context.getI18nString(w,"question.about.reviews",{URL:m})}})))},renderSuccessMessage:function(){return s.createElement("div",{className:"writeReviewSuccess",key:"writeReviewSuccess"},s.createElement("h3",{className:"heading"},this.context.getI18nString(w,"write.review.success.heading")),s.createElement("div",{className:"details",dangerouslySetInnerHTML:{__html:this.context.getI18nString(w,"write.review.success.msg")}}))},render:function(){return this.state.reviewSubmitted?this.renderSuccessMessage():this.state.formOpen?this.renderForm():this.renderButton()}});t.exports=h});C.r("akira/containers/modal/modalContent.jsx",function(s,e,o){"use strict";var t=s("prop-types"),n=s("react"),a=s("create-react-class"),l=s("../../utils/scrollLock"),i=a({displayName:"ModalContent",getDefaultProps:function(){return{useScrollLock:!0}},contextTypes:{modalDismiss:t.func,modalUpdate:t.func,modalDisableDismiss:t.bool},_makeComponent:function(s,e){if(this.props[s]){var o="nf-modal-"+s;return n.createElement("div",{className:o,ref:e||null},this.props[s])}return null},_cornerDismiss:function(){this.context.modalDismiss({event:"cornerDismiss",data:{}})},componentDidMount:function(){this.props.useScrollLock&&!this.props.customBody&&(this.scrollLimit=l.scrollLock(this.refs["modal-body"]))},componentWillUnmount:function(){l.scrollUnlock(this.scrollLimit)},render:function(){var s=!this.props.modalDisableDismiss||!this.context.modalDisableDismiss;return n.createElement("div",{className:"nf-modal-content-wrapper"},n.createElement("div",{className:"nf-modal-dismiss"},s&&n.createElement("button",{className:"nf-modal-dismiss-btn",onClick:this._cornerDismiss,"aria-label":"close",tabIndex:"1"},n.createElement("span",{className:"close-button icon-close"})),this._makeComponent("headerActions")),this._makeComponent("header"),this.props.header?n.createElement("hr",{className:"nf-modal-hr"}):null,this.props.customBody?this.props.customBody:this._makeComponent("body","modal-body"),n.createElement("hr",{className:"nf-modal-hr"}),this._makeComponent("footer"))}});e.exports=i});C.r("akira/utils/scrollLock.js",function(e,t,n){"use strict";function o(e,t){var n=e.scrollTop,o=e.scrollHeight,r=e.offsetHeight,c=t.deltaY,i=t.target;(!e.contains(i)||n<=0&&c<=0||n>=o-r+l&&c>=0)&&t.preventDefault()}var r=e("react-dom"),l=-1,c={scrollLock:function(e){if(!e)return null;var t=r.findDOMNode(e),n=o.bind(null,t);return document.body.addEventListener("wheel",n),n},scrollUnlock:function(e){e&&document.body.removeEventListener("wheel",e)}};t.exports=c});C.r("akira/containers/modal/reviews.jsx",function(e,t,i){"use strict";var o=e("babel-runtime/helpers/toConsumableArray"),n=function(e){return e&&e.__esModule?e:{default:e}}(o),s=e("prop-types"),r=e("react"),l=e("create-react-class"),a=e("react-dom"),d=e("lodash"),u=e("./modalContent.jsx"),c=e("../../components/review/writeReview.jsx"),h=e("../../components/review/reviewList.jsx"),m=e("../../utils/scrollLock"),v="discovery/akira/Reviews",f=function(){},w=l({displayName:"ReviewsModal",numReviewsToFetch:20,statics:{getPaths:function(e,t,i){return"infiniteScrollStrategy"===t?[["recentReviews",{from:0,to:i.numToFetch-1},["id","rating","reviewText","helpfulCount","notHelpfulCount"]]]:[["title"],["reviewsCount"],["usersReview",["id","rating","reviewText","helpfulCount","notHelpfulCount"]],["helpfulReviews",{from:0,to:1},["id","rating","reviewText","helpfulCount","notHelpfulCount"]],["recentReviews",{from:0,to:19},["id","rating","reviewText","helpfulCount","notHelpfulCount"]],["reviewVotes"],["reviewFlags"]]}},contextTypes:{getI18nString:s.func.isRequired,modalDismiss:s.func,modalUpdate:s.func,models:s.object.isRequired},getInitialState:function(){return{isLoading:!1}},componentDidMount:function(){this.refs["modal-body"]?this.scrollLimit=m.scrollLock(this.refs["modal-body"]):this.refs["modal-header"]&&(this.scrollLimit=m.scrollLock(this.refs["modal-header"]))},componentWillUnmount:function(){m.scrollUnlock(this.scrollLimit)},modalScrolled:d.throttle(function(e){this.numReviewsToFetch<this.props.model.getValueSync(["reviewsCount"])&&this.isWithinDistanceBuffer(500,a.findDOMNode(this.refs["modal-body"]))&&this.fetchMoreReviews()},100),fetchMoreReviews:function(){var e=this;if(!this.state.isLoading&&!this.props.isLoading){this.numReviewsToFetch+=20;var t=w.getPaths(this.context.models,"infiniteScrollStrategy",{numToFetch:this.numReviewsToFetch});if(this.isMounted()){var i;this.setState({isLoading:!0}),(i=this.props.model).get.apply(i,(0,n.default)(t)).subscribe(f,function(){return e.setState({isLoading:!1})},function(){return e.setState({isLoading:!1})})}}},isWithinDistanceBuffer:function(e,t){var i=t.getBoundingClientRect();return t.scrollTop+i.height+e>t.scrollHeight},buildModal:function(){var e=this.props.model,t=e.getValueSync(["title"]),i=e.getValueSync(["reviewsCount"]),o=d.get(this,"context.models.truths.data.writeReviewsDisabled",!1),n=void 0!==e.getValueSync(["usersReview"]),s=r.createElement("div",{className:"reviewsModalHeader",ref:"modal-header"},r.createElement("h2",{className:"nf-modal-heading"},this.context.getI18nString(v,"number.reviews.for.title",{number:i,title:t})),n||o?null:r.createElement(c,{videoModel:e,defaultOpen:0===i}));return 0===i?{body:s,useScrollLock:!1}:{header:s,customBody:r.createElement("div",{onScroll:this.modalScrolled,className:"nf-modal-body",ref:"modal-body"},r.createElement("div",{className:"reviewsModalBody"},r.createElement(h,{reviewsModel:e.bind(["usersReview"]),numReviews:1,videoModel:e,readOnly:!1,forUsersReview:!0,uniqueId:"yourReview",heading:this.context.getI18nString(v,"your.review")}),r.createElement(h,{reviewsModel:e.bind(["helpfulReviews"]),numReviews:2,videoModel:e,readOnly:!1,uniqueId:"helpfulReviews",heading:this.context.getI18nString(v,"most.helpful.reviews")}),r.createElement(h,{reviewsModel:e.bind(["recentReviews"]),numReviews:this.numReviewsToFetch,videoModel:e,readOnly:!1,uniqueId:"recentReviews",heading:this.context.getI18nString(v,"recent.reviews")}))),useScrollLock:!1}},render:function(){return r.createElement(u,this.buildModal())}});t.exports=w});C.r("akira/containers/reviewsModalContainer.js",function(r,s,e){"use strict";var a=r("./modal/reviews.jsx"),i=r("../utils/falcorConnect.jsx"),n=i(a);s.exports=n});C.r("akira/containers/timeoutTransition/timeoutTransitionGroup.jsx",function(e,t,r){"use strict";var n=e("babel-runtime/helpers/extends"),i=function(e){return e&&e.__esModule?e:{default:e}}(n),a=e("lodash"),o=e("prop-types"),s=e("react"),p=e("create-react-class"),u=e("react-transition-group/TransitionGroup"),l=e("./timeoutTransitionGroupChild.jsx"),T=p({displayName:"TimeoutTransitionGroup",propTypes:{enterTimeout:o.number.isRequired,leaveTimeout:o.number.isRequired,enterDelayMs:o.number,leaveDelayMs:o.number,afterTransitionEnter:o.func,afterTransitionLeave:o.func,beforeTransitionEnter:o.func,beforeTransitionLeave:o.func,transitionName:o.string.isRequired,transitionAppear:o.bool,transitionEnter:o.bool,transitionLeave:o.bool},getDefaultProps:function(){return{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}},_wrapChild:function(e){return s.createElement(l,{enterTimeout:this.props.enterTimeout,leaveTimeout:this.props.leaveTimeout,afterTransitionEnter:this.props.afterTransitionEnter,afterTransitionLeave:this.props.afterTransitionLeave,beforeTransitionEnter:this.props.beforeTransitionEnter,beforeTransitionLeave:this.props.beforeTransitionLeave,enterDelayMs:this.props.enterDelayMs,leaveDelayMs:this.props.leaveDelayMs,name:this.props.transitionName,appear:this.props.transitionAppear,enter:this.props.transitionEnter,leave:this.props.transitionLeave},e)},render:function(){return s.createElement(u,(0,i.default)({},a.omit(this.props,["enterTimeout","leaveTimeout","enterDelayMs","afterTransitionLeave"]),{childFactory:this._wrapChild}))}});t.exports=T});C.r("akira/containers/timeoutTransition/timeoutTransitionGroupChild.jsx",function(i,t,n){"use strict";function e(){return 0!==u.length}var s=(i("prop-types"),i("react")),o=i("create-react-class"),a=i("react-dom"),r=i("shakti-platform/dist/ui/utils/inNode"),p={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},u=[];!function(){if(!r){var i=document.createElement("div"),t=i.style;"AnimationEvent"in window||delete p.animationend.animation,"TransitionEvent"in window||delete p.transitionend.transition;for(var n in p)if(p.hasOwnProperty(n)){var e=p[n];for(var s in e)if(s in t){u.push(e[s]);break}}}}();var m=o({displayName:"TimeoutTransitionGroupChild",transition:function(i,t){if(!this.isMounted())return void("function"==typeof t&&t());var n=a.findDOMNode(this),s=this,o=this.props.name+"-"+i,r=o+"-active",p=(this.props.leaveDelayMs||0)+this.props.leaveTimeout,u=(this.props.enterDelayMs||0)+this.props.enterTimeout,m=function(){n.classList.remove(o),n.classList.remove(r),"enter"!==i&&"appear"!==i||!s.props.afterTransitionEnter?"leave"===i&&s.props.afterTransitionLeave&&s.props.afterTransitionLeave(n):s.props.afterTransitionEnter(n),"function"==typeof t&&t()};e()?"enter"===i||"appear"===i?(this.props.beforeTransitionEnter&&this.props.beforeTransitionEnter(n),this.animationTimeout=setTimeout(m,u)):"leave"===i&&(this.props.beforeTransitionLeave&&this.props.beforeTransitionLeave(n),this.animationTimeout=setTimeout(m,p)):m(),n.classList.add(o),"enter"!==i&&"appear"!==i||!this.props.enterDelayMs?"leave"===i&&this.props.leaveDelayMs?this.transitionLeaveTimeout=setTimeout(function(){s.queueClass(r)},this.props.leaveDelayMs):this.queueClass(r):this.transitionEnterTimeout=setTimeout(function(){s.queueClass(r)},this.props.enterDelayMs)},queueClass:function(i){this.classNameQueue.push(i),this.timeout||(this.timeout=setTimeout(this.flushClassNameQueue,17))},flushClassNameQueue:function(){this.isMounted()&&this.classNameQueue.forEach(function(i){a.findDOMNode(this).classList.add(i)}.bind(this)),this.classNameQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameQueue=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout),this.animationTimeout&&clearTimeout(this.animationTimeout),this.transitionEnterTimeout&&clearTimeout(this.transitionEnterTimeout),this.transitionLeaveTimeout&&clearTimeout(this.transitionLeaveTimeout)},componentWillAppear:function(i){this.props.appear?this.transition("appear",i):i()},componentWillEnter:function(i){this.props.enter?this.transition("enter",i):(this.props.beforeTransitionEnter&&this.props.beforeTransitionEnter(),i(),this.props.afterTransitionEnter&&this.props.afterTransitionEnter())},componentWillLeave:function(i){this.props.leave?this.transition("leave",i):(this.props.beforeTransitionLeave&&this.props.beforeTransitionLeave(),"function"==typeof i&&i(),this.props.afterTransitionLeave&&this.props.afterTransitionLeave())},render:function(){return s.Children.only(this.props.children)}});t.exports=m});C.r("akira/utils/falcorConnect.jsx",function(t,e,s){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var a=t("babel-runtime/helpers/extends"),r=i(a),o=t("babel-runtime/helpers/toConsumableArray"),n=i(o),c=t("create-react-class"),u=t("ramda/src/equals"),p=t("hoist-non-react-statics"),h=t("shakti-platform/dist/ui/utils/inNode"),l=t("prop-types"),d=t("react"),f=t("rx"),b=function(){},m=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=e.mapDataToProps,i=e.autoFetchPaths,a=c({displayName:"ConnectComponent",propTypes:{model:l.object.isRequired,enableInitialFetch:l.bool,paths:l.array},contextTypes:{models:l.object.isRequired,routeHandler:l.object.isRequired},getDefaultProps:function(){return{enableInitialFetch:!0}},getInitialState:function(){return{initialFetchCompleted:h,error:void 0,subscriber:void 0,mappedData:this.getMappedData(this.props)}},getFalcorModel:function(t){return t.model.get?t.model:t.model.pathEvaluator},getMappedData:function(t){return s?s(this.getFalcorModel(t),this.context.models,null,t,this.context.routeHandler.params):{}},onFetchError:function(t){this.setState({error:t,initialFetchCompleted:!0,subscriber:void 0,mappedData:this.getMappedData(this.props)})},onFetchSuccess:function(){this.setState({error:void 0,initialFetchCompleted:!0,subscriber:void 0,mappedData:this.getMappedData(this.props)})},autoFetchPaths:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(e){if(e.paths)return e.paths;var s=i||t.getPaths;return s?s(this.context.models,null,e,this.context.routeHandler.params):[]}),fetchData:function(t,e){this.cancelInFlightRequests();var s=f.Observable.create(function(s){var i=e.get.apply(e,(0,n.default)(t)).subscribe(b,function(){s.onError()},function(){s.onCompleted()});return function(){i.dispose&&i.dispose()}}).subscribe(b,this.onFetchError,this.onFetchSuccess);s.isStopped||this.setState({subscriber:s})},cancelInFlightRequests:function(){this.state.subscriber&&this.state.subscriber.dispose()},isLoading:function(){return!!this.state.subscriber&&!this.state.subscriber.closed},componentDidMount:function(){this.props.enableInitialFetch&&this.fetchData(this.autoFetchPaths(this.props),this.getFalcorModel(this.props))},componentWillUnmount:function(){this.cancelInFlightRequests()},componentWillReceiveProps:function(t){var e=this.getMappedData(t);u(e,this.getMappedData(this.props))||this.setState({mappedData:e});var s=this.autoFetchPaths(t),i=this.getFalcorModel(t);this.fetchData(s,i)},render:function(){return d.createElement(t,(0,r.default)({},this.state.mappedData,{isLoading:this.isLoading(),error:this.state.error,initialFetchCompleted:this.state.initialFetchCompleted},this.props))}});return p(a,t),null!==i&&void 0!==i&&(a.getPaths=i),a};e.exports=m});C.r("node_modules/chain-function/index.js",function(n,t,e){t.exports=function(){for(var n=arguments.length,t=[],e=0;e<n;e++)t[e]=arguments[e];if(t=t.filter(function(n){return null!=n}),0!==t.length)return 1===t.length?t[0]:t.reduce(function(n,t){return function(){n.apply(this,arguments),t.apply(this,arguments)}})}});C.r("node_modules/ramda/src/equals.js",function(r,n,e){var a=r("./internal/_curry2"),u=r("./internal/_equals");n.exports=a(function(r,n){return u(r,n,[],[])})});C.r("node_modules/ramda/src/identical.js",function(r,n,e){var t=r("./internal/_curry2");n.exports=t(function(r,n){return r===n?0!==r||1/r==1/n:r!==r&&n!==n})});C.r("node_modules/ramda/src/internal/_arrayFromIterator.js",function(r,n,e){n.exports=function(r){for(var n,e=[];!(n=r.next()).done;)e.push(n.value);return e}});C.r("node_modules/ramda/src/internal/_curry1.js",function(r,n,e){var t=r("./_isPlaceholder");n.exports=function(r){return function n(e){return 0===arguments.length||t(e)?n:r.apply(this,arguments)}}});C.r("node_modules/ramda/src/internal/_curry2.js",function(r,n,t){var e=r("./_curry1"),u=r("./_isPlaceholder");n.exports=function(r){return function n(t,c){switch(arguments.length){case 0:return n;case 1:return u(t)?n:e(function(n){return r(t,n)});default:return u(t)&&u(c)?n:u(t)?e(function(n){return r(n,c)}):u(c)?e(function(n){return r(t,n)}):r(t,c)}}}});C.r("node_modules/ramda/src/internal/_equals.js",function(e,a,r){var n=e("./_arrayFromIterator"),t=e("./_functionName"),s=e("./_has"),u=e("../identical"),f=e("../keys"),o=e("../type");a.exports=function e(a,r,c,i){if(u(a,r))return!0;if(o(a)!==o(r))return!1;if(null==a||null==r)return!1;if("function"==typeof a["fantasy-land/equals"]||"function"==typeof r["fantasy-land/equals"])return"function"==typeof a["fantasy-land/equals"]&&a["fantasy-land/equals"](r)&&"function"==typeof r["fantasy-land/equals"]&&r["fantasy-land/equals"](a);if("function"==typeof a.equals||"function"==typeof r.equals)return"function"==typeof a.equals&&a.equals(r)&&"function"==typeof r.equals&&r.equals(a);switch(o(a)){case"Arguments":case"Array":case"Object":if("function"==typeof a.constructor&&"Promise"===t(a.constructor))return a===r;break;case"Boolean":case"Number":case"String":if(typeof a!=typeof r||!u(a.valueOf(),r.valueOf()))return!1;break;case"Date":if(!u(a.valueOf(),r.valueOf()))return!1;break;case"Error":return a.name===r.name&&a.message===r.message;case"RegExp":if(a.source!==r.source||a.global!==r.global||a.ignoreCase!==r.ignoreCase||a.multiline!==r.multiline||a.sticky!==r.sticky||a.unicode!==r.unicode)return!1;break;case"Map":case"Set":if(!e(n(a.entries()),n(r.entries()),c,i))return!1;break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var l=f(a);if(l.length!==f(r).length)return!1;for(var y=c.length-1;y>=0;){if(c[y]===a)return i[y]===r;y-=1}for(c.push(a),i.push(r),y=l.length-1;y>=0;){var p=l[y];if(!s(p,r)||!e(r[p],a[p],c,i))return!1;y-=1}return c.pop(),i.pop(),!0}});C.r("node_modules/ramda/src/internal/_functionName.js",function(n,r,t){r.exports=function(n){var r=String(n).match(/^function (\w*)/);return null==r?"":r[1]}});C.r("node_modules/ramda/src/internal/_has.js",function(r,n,t){n.exports=function(r,n){return Object.prototype.hasOwnProperty.call(n,r)}});C.r("node_modules/ramda/src/internal/_isArguments.js",function(t,n,r){var e=t("./_has");n.exports=function(){var t=Object.prototype.toString;return"[object Arguments]"===t.call(arguments)?function(n){return"[object Arguments]"===t.call(n)}:function(t){return e("callee",t)}}()});C.r("node_modules/ramda/src/internal/_isPlaceholder.js",function(e,n,o){n.exports=function(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}});C.r("node_modules/ramda/src/keys.js",function(r,t,n){var e=r("./internal/_curry1"),o=r("./internal/_has"),u=r("./internal/_isArguments");t.exports=function(){var r=!{toString:null}.propertyIsEnumerable("toString"),t=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],n=function(){"use strict";return arguments.propertyIsEnumerable("length")}(),i=function(r,t){for(var n=0;n<r.length;){if(r[n]===t)return!0;n+=1}return!1};return e("function"!=typeof Object.keys||n?function(e){if(Object(e)!==e)return[];var s,c,l=[],a=n&&u(e);for(s in e)!o(s,e)||a&&"length"===s||(l[l.length]=s);if(r)for(c=t.length-1;c>=0;)s=t[c],o(s,e)&&!i(l,s)&&(l[l.length]=s),c-=1;return l}:function(r){return Object(r)!==r?[]:Object.keys(r)})}()});C.r("node_modules/ramda/src/type.js",function(n,r,e){var t=n("./internal/_curry1");r.exports=t(function(n){return null===n?"Null":void 0===n?"Undefined":Object.prototype.toString.call(n).slice(8,-1)})});C.r("node_modules/react-transition-group/TransitionGroup.js",function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function a(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}t.__esModule=!0;var p=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},s=e("chain-function"),l=r(s),c=e("react"),d=r(c),h=e("prop-types"),u=r(h),f=e("warning"),y=r(f),v=e("./utils/ChildMapping"),m={component:u.default.any,childFactory:u.default.func,children:u.default.node},g={component:"span",childFactory:function(e){return e}},T=function(e){function n(t,r){o(this,n);var a=i(this,e.call(this,t,r));return a.performAppear=function(e){a.currentlyTransitioningKeys[e]=!0;var n=a.childRefs[e];n.componentWillAppear?n.componentWillAppear(a._handleDoneAppearing.bind(a,e)):a._handleDoneAppearing(e)},a._handleDoneAppearing=function(e){var n=a.childRefs[e];n&&n.componentDidAppear&&n.componentDidAppear(),delete a.currentlyTransitioningKeys[e];var t=(0,v.getChildMapping)(a.props.children);t&&t.hasOwnProperty(e)||a.performLeave(e)},a.performEnter=function(e){a.currentlyTransitioningKeys[e]=!0;var n=a.childRefs[e];n.componentWillEnter?n.componentWillEnter(a._handleDoneEntering.bind(a,e)):a._handleDoneEntering(e)},a._handleDoneEntering=function(e){var n=a.childRefs[e];n&&n.componentDidEnter&&n.componentDidEnter(),delete a.currentlyTransitioningKeys[e];var t=(0,v.getChildMapping)(a.props.children);t&&t.hasOwnProperty(e)||a.performLeave(e)},a.performLeave=function(e){a.currentlyTransitioningKeys[e]=!0;var n=a.childRefs[e];n.componentWillLeave?n.componentWillLeave(a._handleDoneLeaving.bind(a,e)):a._handleDoneLeaving(e)},a._handleDoneLeaving=function(e){var n=a.childRefs[e];n&&n.componentDidLeave&&n.componentDidLeave(),delete a.currentlyTransitioningKeys[e];var t=(0,v.getChildMapping)(a.props.children);t&&t.hasOwnProperty(e)?a.performEnter(e):a.setState(function(n){var t=p({},n.children);return delete t[e],{children:t}})},a.childRefs=Object.create(null),a.state={children:(0,v.getChildMapping)(t.children)},a}return a(n,e),n.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},n.prototype.componentDidMount=function(){var e=this.state.children;for(var n in e)e[n]&&this.performAppear(n)},n.prototype.componentWillReceiveProps=function(e){var n=(0,v.getChildMapping)(e.children),t=this.state.children;this.setState({children:(0,v.mergeChildMappings)(t,n)});for(var r in n){var o=t&&t.hasOwnProperty(r);!n[r]||o||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(var i in t){var a=n&&n.hasOwnProperty(i);!t[i]||a||this.currentlyTransitioningKeys[i]||this.keysToLeave.push(i)}},n.prototype.componentDidUpdate=function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var n=this.keysToLeave;this.keysToLeave=[],n.forEach(this.performLeave)},n.prototype.render=function(){var e=this,n=[];for(var t in this.state.children)!function(t){var r=e.state.children[t];if(r){var o="string"!=typeof r.ref,i=e.props.childFactory(r),a=function(n){e.childRefs[t]=n};"production"!==process.env.NODE_ENV&&(0,y.default)(o,"string refs are not supported on children of TransitionGroup and will be ignored. Please use a callback ref instead: https://facebook.github.io/react/docs/refs-and-the-dom.html#the-ref-callback-attribute"),i===r&&o&&(a=(0,l.default)(r.ref,a)),n.push(d.default.cloneElement(i,{key:t,ref:a}))}}(t);var r=p({},this.props);return delete r.transitionLeave,delete r.transitionName,delete r.transitionAppear,delete r.transitionEnter,delete r.childFactory,delete r.transitionLeaveTimeout,delete r.transitionEnterTimeout,delete r.transitionAppearTimeout,delete r.component,d.default.createElement(this.props.component,r,n)},n}(d.default.Component);T.displayName="TransitionGroup",T.propTypes=m,T.defaultProps=g,t.default=T,n.exports=t.default});C.r("node_modules/react-transition-group/utils/ChildMapping.js",function(r,n,t){"use strict";function e(r){if(!r)return r;var n={};return o.Children.map(r,function(r){return r}).forEach(function(r){n[r.key]=r}),n}function i(r,n){function t(t){return n.hasOwnProperty(t)?n[t]:r[t]}r=r||{},n=n||{};var e={},i=[];for(var o in r)n.hasOwnProperty(o)?i.length&&(e[o]=i,i=[]):i.push(o);var a=void 0,u={};for(var f in n){if(e.hasOwnProperty(f))for(a=0;a<e[f].length;a++){var h=e[f][a];u[e[f][a]]=t(h)}u[f]=t(f)}for(a=0;a<i.length;a++)u[i[a]]=t(i[a]);return u}t.__esModule=!0,t.getChildMapping=e,t.mergeChildMappings=i;var o=r("react")});C.r("node_modules/rx/dist/rx.all.js",function(t,e,n){(function(t){function r(t){return t&&t.Object===Object?t:null}function i(t){for(var e=[],n=0,r=t.length;n<r;n++)e.push(t[n]);return e}function o(t){return function(){try{return t.apply(this,arguments)}catch(t){return Zt.e=t,Zt}}}function s(t){throw t}function u(t,e){if(ee&&e.stack&&"object"==typeof t&&null!==t&&t.stack&&-1===t.stack.indexOf(oe)){for(var n=[],r=e;r;r=r.source)r.stack&&n.unshift(r.stack);n.unshift(t.stack);var i=n.join("\n"+oe+"\n");t.stack=c(i)}}function c(t){for(var e=t.split("\n"),n=[],r=0,i=e.length;r<i;r++){var o=e[r];h(o)||a(o)||!o||n.push(o)}return n.join("\n")}function h(t){var e=f(t);if(!e)return!1;var n=e[0],r=e[1];return n===re&&r>=ie&&r<=ms}function a(t){return-1!==t.indexOf("(module.js:")||-1!==t.indexOf("(node.js:")}function p(){if(ee)try{throw new Error}catch(r){var t=r.stack.split("\n"),e=t[0].indexOf("@")>0?t[1]:t[2],n=f(e);if(!n)return;return re=n[0],n[1]}}function f(t){var e=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);if(e)return[e[1],Number(e[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(t);if(n)return[n[1],Number(n[2])];var r=/.*@(.+):(\d+)$/.exec(t);return r?[r[1],Number(r[2])]:void 0}function l(e,n,r,i,o,s){var u=je(e),c=u.length;if(c!==je(n).length&&!i)return!1;for(var h,a=c;a--;)if(h=u[a],!(i?h in n:Oe.call(n,h)))return!1;for(var p=i;++a<c;){h=u[a];var f=e[h],l=n[h];if(!(void 0===t?r(f,l,i,o,s):void 0))return!1;p||(p="constructor"===h)}if(!p){var d=e.constructor,_=n.constructor;if(d!==_&&"constructor"in e&&"constructor"in n&&!("function"==typeof d&&d instanceof d&&"function"==typeof _&&_ instanceof _))return!1}return!0}function d(t,e,n){switch(n){case me:case Ee:return+t==+e;case Ce:return t.name===e.name&&t.message===e.message;case ge:return t!==+t?e!==+e:t===+e;case Ne:case De:return t===e+""}return!1}function _(t){return!!t&&"object"==typeof t}function b(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=ke}function v(t){return _(t)&&b(t.length)&&!!Ae[qe.call(t)]}function y(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function w(e,n,r,i,o,s){var u=-1,c=e.length,h=n.length;if(c!==h&&!(i&&h>c))return!1;for(;++u<c;){var a=e[u],p=n[u];if(void 0!==t)return!1;if(i){if(!y(n,function(t){return a===t||r(a,t,i,o,s)}))return!1}else if(a!==p&&!r(a,p,i,o,s))return!1}return!0}function m(t,e,n,r,i,o){var s=Re(t),u=Re(e),c=we,h=we;s||(c=qe.call(t),c===ye?c=xe:c!==xe&&(s=v(t))),u||(h=qe.call(e))===ye&&(h=xe);var a=c===xe&&!Fe(t),p=h===xe&&!Fe(e),f=c===h;if(f&&!s&&!a)return d(t,e,c);if(!r){var _=a&&Oe.call(t,"__wrapped__"),b=p&&Oe.call(e,"__wrapped__");if(_||b)return n(_?t.value():t,b?e.value():e,r,i,o)}if(!f)return!1;i||(i=[]),o||(o=[]);for(var y=i.length;y--;)if(i[y]===t)return o[y]===e;i.push(t),o.push(e);var m=(s?w:l)(t,e,n,r,i,o);return i.pop(),o.pop(),m}function E(t,e,n,r,i){return t===e||(null==t||null==e||!rt(t)&&!_(e)?t!==t&&e!==e:m(t,e,E,n,r,i))}function C(t,e){for(var n=new Array(t),r=0;r<t;r++)n[r]=e();return n}function g(t,e){this.id=t,this.value=e}function x(t,e){this.scheduler=t,this.disposable=e,this.isDisposed=!1}function N(t,e){e.isDisposed||(e.isDisposed=!0,e.disposable.dispose())}function D(t){this._s=t,this.isDisposed=!1}function A(t){this._s=t}function S(t){this._s=t,this._l=t.length,this._i=0}function O(t){this._a=t}function q(t){this._a=t,this._l=R(t),this._i=0}function k(t){return"number"==typeof t&&Bt.isFinite(t)}function j(e){var n,r=e[fe];if(!r&&"string"==typeof e)return n=new A(e),n[fe]();if(!r&&e.length!==t)return n=new O(e),n[fe]();if(!r)throw new TypeError("Object is not iterable");return e[fe]()}function F(t){var e=+t;return 0===e?e:isNaN(e)?e:e<0?-1:1}function R(t){var e=+t.length;return isNaN(e)?0:0!==e&&k(e)?(e=F(e)*Math.floor(Math.abs(e)),e<=0?0:e>tr?tr:e):e}function T(t,e){return rn(t)||(t=pn),new nr(e,t)}function M(t,e){this.observer=t,this.parent=e}function P(t,e){return t.amb(e)}function L(){return!1}function W(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e}function L(){return!1}function W(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e}function L(){return!1}function V(){return[]}function L(){return!1}function V(){return[]}function W(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e}function z(t){return function(e){return t.subscribe(e)}}function I(t){return t.toArray()}function B(t){return t.length>0}function U(t){return{"@@iterator":function(){return{next:function(){return{done:!1,value:t}}}}}}function U(t){return{"@@iterator":function(){return{next:function(){return{done:!1,value:t}}}}}}function K(t,e,n){var r=be(e,n,3);return t.map(function(e,n){var i=r(e,n,t);return Xt(i)&&(i=Hn(i)),(_e(i)||de(i))&&(i=er(i)),i}).concatAll()}function H(t,e,n){for(var r=0,i=t.length;r<i;r++)if(n(t[r],e))return r;return-1}function J(t){this.comparer=t,this.set=[]}function Q(e,n){return function(r){for(var i=r,o=0;o<n;o++){var s=i[e[o]];if(void 0===s)return t;i=s}return i}}function $(t){if(0===t.length)throw new se;return t[0]}function G(t,e,n,r){var i=be(e,n,3);return new ps(function(e){return t.subscribe(new $i(e,t,i,r))},t)}function X(t){return t?Fn.isObservable(t)?t:Xt(t)?Fn.fromPromise(t):nt(t)||et(t)?io.call(this,t):Yt(t)?tt.call(this,t):_e(t)||de(t)?Y.call(this,t):rt(t)?Z.call(this,t):t:t}function Y(t){return Fn.from(t).concatMap(function(t){return Fn.isObservable(t)||rt(t)?X.call(null,t):Ut.Observable.just(t)}).toArray()}function Z(e){for(var n=new e.constructor,r=Object.keys(e),i=[],o=0,s=r.length;o<s;o++){var u=r[o],c=X.call(this,e[u]);c&&Fn.isObservable(c)?function(e,r){n[r]=t,i.push(e.map(function(t){n[r]=t}))}(c,u):n[u]=e[u]}return Fn.forkJoin.apply(Fn,i).map(function(){return n})}function tt(t){var e=this;return new ps(function(n){t.call(e,function(){var t=arguments[0],e=arguments[1];if(t)return n.onError(t);if(arguments.length>2){for(var r=[],i=1,o=arguments.length;i<o;i++)r.push(arguments[i]);e=r}n.onNext(e),n.onCompleted()})})}function et(t){return Yt(t.next)&&Yt(t.throw)}function nt(t){var e=t.constructor;return!!e&&("GeneratorFunction"===e.name||"GeneratorFunction"===e.displayName||et(e.prototype))}function rt(t){return Object==t.constructor}function it(t,e,n,r){var i=new bs;return r.push(ot(i,e,n)),t.apply(e,r),i.asObservable()}function ot(t,e,n){return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];if(Yt(n)){if((i=te(n).apply(e,i))===Zt)return t.onError(i.e);t.onNext(i)}else i.length<=1?t.onNext(i[0]):t.onNext(i);t.onCompleted()}}function st(t,e,n,r){var i=new bs;return r.push(ut(i,e,n)),t.apply(e,r),i.asObservable()}function ut(t,e,n){return function(){var r=arguments[0];if(r)return t.onError(r);for(var i=arguments.length,o=[],s=1;s<i;s++)o[s-1]=arguments[s];if(Yt(n)){var o=te(n).apply(e,o);if(o===Zt)return t.onError(o.e);t.onNext(o)}else o.length<=1?t.onNext(o[0]):t.onNext(o);t.onCompleted()}}function ct(t){return Bt.StaticNodeList?t instanceof Bt.StaticNodeList||t instanceof Bt.NodeList:"[object NodeList]"===Object.prototype.toString.call(t)}function ht(t,e,n){this._e=t,this._n=e,this._fn=n,this._e.addEventListener(this._n,this._fn,!1),this.isDisposed=!1}function at(t,e,n){var r=new ze,i=Object.prototype.toString.call(t);if(ct(t)||"[object HTMLCollection]"===i)for(var o=0,s=t.length;o<s;o++)r.add(at(t.item(o),e,n));else t&&r.add(new ht(t,e,n));return r}function pt(t,e,n){return new ps(function(r){function i(t,e){if(h[e]=t,s[e]=!0,u||(u=s.every(Ht))){if(o)return r.onError(o);var i=te(n).apply(null,h);if(i===Zt)return r.onError(i.e);r.onNext(i)}c&&h[1]&&r.onCompleted()}var o,s=[!1,!1],u=!1,c=!1,h=new Array(2);return new Xe(t.subscribe(function(t){i(t,0)},function(t){h[1]?r.onError(t):o=t},function(){c=!0,h[1]&&r.onCompleted()}),e.subscribe(function(t){i(t,1)},function(t){r.onError(t)},function(){c=!0,i(!0,1)}))},t)}function I(t){return t.toArray()}function ft(t,e){return t.groupJoin(this,e,Yn,function(t,e){return e})}function lt(t){var e=this;return new ps(function(n){var r=new _s,i=new ze,o=new Ze(i);return n.onNext(Le(r,o)),i.add(e.subscribe(function(t){r.onNext(t)},function(t){r.onError(t),n.onError(t)},function(){r.onCompleted(),n.onCompleted()})),Xt(t)&&(t=Hn(t)),i.add(t.subscribe(function(t){r.onCompleted(),r=new _s,n.onNext(Le(r,o))},function(t){r.onError(t),n.onError(t)},function(){r.onCompleted(),n.onCompleted()})),o},e)}function dt(t){var e=this;return new ps(function(n){function r(){var e;try{e=t()}catch(t){return void n.onError(t)}Xt(e)&&(e=Hn(e));var o=new $e;i.setDisposable(o),o.setDisposable(e.take(1).subscribe(Kt,function(t){u.onError(t),n.onError(t)},function(){u.onCompleted(),u=new _s,n.onNext(Le(u,s)),r()}))}var i=new Ge,o=new ze(i),s=new Ze(o),u=new _s;return n.onNext(Le(u,s)),o.add(e.subscribe(function(t){u.onNext(t)},function(t){u.onError(t),n.onError(t)},function(){u.onCompleted(),n.onCompleted()})),r(),s},e)}function _t(t,e){return new Co(t,e)}function W(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e}function bt(t){this.patterns=t}function vt(t,e){this.expression=t,this.selector=e}function yt(t){return function(e){t.onError(e)}}function wt(t,e){return function(){var n=te(t.selector).apply(t,arguments);if(n===Zt)return e.onError(n.e);e.onNext(n)}}function mt(t,e,n){var r=t.get(e);if(!r){var i=new qo(e,n);return t.set(e,i),i}return r}function Et(t,e,n){this.joinObserverArray=t,this.onNext=e,this.onCompleted=n,this.joinObservers=new Oo;for(var r=0,i=this.joinObserverArray.length;r<i;r++){var o=this.joinObserverArray[r];this.joinObservers.set(o,o)}}function Ct(t,e){return new ko(t,e)}function gt(t,e,n){return new ps(function(r){var i=t,o=nn(e);return n.scheduleRecursiveFuture(0,i,function(t,e){if(o>0){var s=n.now();i=new Date(i.getTime()+o),i.getTime()<=s&&(i=new Date(s+o))}r.onNext(t),e(t+1,new Date(i))})})}function xt(t,e,n){return t===e?new ps(function(t){return n.schedulePeriodic(0,e,function(e){return t.onNext(e),e+1})}):$n(function(){return gt(new Date(n.now()+t),e,n)})}function Nt(t,e,n){return new ps(function(r){var i,o=!1,s=new Ge,u=null,c=[],h=!1;return i=t.materialize().timestamp(n).subscribe(function(t){var i,a;"E"===t.value.kind?(c=[],c.push(t),u=t.value.error,a=!h):(c.push({value:t.value,timestamp:t.timestamp+e}),a=!o,o=!0),a&&(null!==u?r.onError(u):(i=new $e,s.setDisposable(i),i.setDisposable(n.scheduleRecursiveFuture(null,e,function(t,e){var i,s,a,p;if(null===u){h=!0;do{a=null,c.length>0&&c[0].timestamp-n.now()<=0&&(a=c.shift().value),null!==a&&a.accept(r)}while(null!==a);p=!1,s=0,c.length>0?(p=!0,s=Math.max(0,c[0].timestamp-n.now())):o=!1,i=u,h=!1,null!==i?r.onError(i):p&&e(null,s)}}))))}),new Xe(i,s)},t)}function Dt(t,e,n){return $n(function(){return Nt(t,e-n.now(),n)})}function At(t,e,n){var r,i;return Yt(e)?i=e:(r=e,i=n),new ps(function(e){function n(){c.setDisposable(t.subscribe(function(t){var n=te(i)(t);if(n===Zt)return e.onError(n.e);var r=new $e;s.add(r),r.setDisposable(n.subscribe(function(){e.onNext(t),s.remove(r),o()},function(t){e.onError(t)},function(){e.onNext(t),s.remove(r),o()}))},function(t){e.onError(t)},function(){u=!0,c.dispose(),o()}))}function o(){u&&0===s.length&&e.onCompleted()}var s=new ze,u=!1,c=new Ge;return r?c.setDisposable(r.subscribe(n,function(t){e.onError(t)},n)):n(),new Xe(c,s)},t)}function St(t,e){return new ps(function(n){var r,i=!1,o=new Ge,s=0,u=t.subscribe(function(t){var u=te(e)(t);if(u===Zt)return n.onError(u.e);Xt(u)&&(u=Hn(u)),i=!0,r=t,s++;var c=s,h=new $e;o.setDisposable(h),h.setDisposable(u.subscribe(function(){i&&s===c&&n.onNext(r),i=!1,h.dispose()},function(t){n.onError(t)},function(){i&&s===c&&n.onNext(r),i=!1,h.dispose()}))},function(t){o.dispose(),n.onError(t),i=!1,s++},function(){o.dispose(),i&&n.onNext(r),n.onCompleted(),i=!1,s++});return new Xe(u,o)},t)}function I(t){return t.toArray()}function I(t){return t.toArray()}function Ot(t,e,n,r){return Yt(e)&&(r=n,n=e,e=ur()),Fn.isObservable(r)||(r=lr(new Io)),new ps(function(i){function o(t){function e(){return p=n===a}var n=a,o=new $e;c.setDisposable(o),o.setDisposable(t.subscribe(function(){e()&&u.setDisposable(r.subscribe(i)),o.dispose()},function(t){e()&&i.onError(t)},function(){e()&&u.setDisposable(r.subscribe(i))}))}function s(){var t=!p;return t&&a++,t}var u=new Ge,c=new Ge,h=new $e;u.setDisposable(h);var a=0,p=!1;return o(e),h.setDisposable(t.subscribe(function(t){if(s()){i.onNext(t);var e=te(n)(t);if(e===Zt)return i.onError(e.e);o(Xt(e)?Hn(e):e)}},function(t){s()&&i.onError(t)},function(){s()&&i.onCompleted()})),new Xe(u,c)},t)}function qt(t,e,n,r){return rn(n)&&(r=n,n=lr(new Io)),n instanceof Error&&(n=lr(n)),rn(r)||(r=bn),Fn.isObservable(n)||(n=lr(new Io)),new ps(function(i){function o(){var t=s;a.setDisposable(r.scheduleFuture(null,e,function(){(h=s===t)&&(Xt(n)&&(n=Hn(n)),c.setDisposable(n.subscribe(i)))}))}var s=0,u=new $e,c=new Ge,h=!1,a=new Ge;return c.setDisposable(u),o(),u.setDisposable(t.subscribe(function(t){h||(s++,i.onNext(t),o())},function(t){h||(s++,i.onError(t))},function(){h||(s++,i.onCompleted())})),new Xe(c,a)},t)}function kt(t){return{"@@transducer/init":function(){return t},"@@transducer/step":function(t,e){return t.onNext(e)},"@@transducer/result":function(t){return t.onCompleted()}}}function jt(t){this.predicate=t}function Ft(t){this.predicate=t}function Rt(t,e){var n=this;this.scheduler=t,this.messages=e,this.subscriptions=[],this.observers=[];for(var r=0,i=this.messages.length;r<i;r++){var o=this.messages[r],s=o.value;!function(e){t.scheduleAbsolute(null,o.time,function(){for(var t=n.observers.slice(0),r=0,i=t.length;r<i;r++)e.accept(t[r]);return Ke})}(s)}}var Tt={function:!0,object:!0},Mt=Tt[typeof n]&&n&&!n.nodeType?n:null,Pt=Tt[typeof e]&&e&&!e.nodeType?e:null,Lt=r(Mt&&Pt&&"object"==typeof global&&global),Wt=r(Tt[typeof self]&&self),Vt=r(Tt[typeof window]&&window),zt=Pt&&Pt.exports===Mt?Mt:null,It=r(Tt[typeof this]&&this),Bt=Lt||Vt!==(It&&It.window)&&Vt||Wt||It||Function("return this")(),Ut={internals:{},config:{Promise:Bt.Promise},helpers:{}},Kt=Ut.helpers.noop=function(){},Ht=Ut.helpers.identity=function(t){return t},Jt=Ut.helpers.defaultNow=Date.now,Qt=Ut.helpers.defaultComparer=function(t,e){return Te(t,e)},$t=Ut.helpers.defaultSubComparer=function(t,e){return t>e?1:t<e?-1:0},Gt=(Ut.helpers.defaultKeySerializer=function(t){return t.toString()},Ut.helpers.defaultError=function(t){throw t}),Xt=Ut.helpers.isPromise=function(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then},Yt=Ut.helpers.isFunction=function(){var t=function(t){return"function"==typeof t||!1};return t(/x/)&&(t=function(t){return"function"==typeof t&&"[object Function]"==toString.call(t)}),t}(),Zt={e:{}},te=Ut.internals.tryCatch=function(t){if(!Yt(t))throw new TypeError("fn must be a function");return o(t)};Ut.config.longStackSupport=!1;var ee=!1,ne=te(function(){throw new Error})();ee=!!ne.e&&!!ne.e.stack;var re,ie=p(),oe="From previous event:",se=Ut.EmptyError=function(){this.message="Sequence contains no elements.",Error.call(this)};se.prototype=Object.create(Error.prototype),se.prototype.name="EmptyError";var ue=Ut.ObjectDisposedError=function(){this.message="Object has been disposed",Error.call(this)};ue.prototype=Object.create(Error.prototype),ue.prototype.name="ObjectDisposedError";var ce=Ut.ArgumentOutOfRangeError=function(){this.message="Argument out of range",Error.call(this)};ce.prototype=Object.create(Error.prototype),ce.prototype.name="ArgumentOutOfRangeError";var he=Ut.NotSupportedError=function(t){this.message=t||"This operation is not supported",Error.call(this)};he.prototype=Object.create(Error.prototype),he.prototype.name="NotSupportedError";var ae=Ut.NotImplementedError=function(t){this.message=t||"This operation is not implemented",Error.call(this)};ae.prototype=Object.create(Error.prototype),ae.prototype.name="NotImplementedError";var pe=Ut.helpers.notImplemented=function(){throw new ae},fe=(Ut.helpers.notSupported=function(){throw new he},"function"==typeof Symbol&&Symbol.iterator||"_es6shim_iterator_");Bt.Set&&"function"==typeof(new Bt.Set)["@@iterator"]&&(fe="@@iterator");var le=Ut.doneEnumerator={done:!0,value:t},de=Ut.helpers.isIterable=function(e){return e&&e[fe]!==t},_e=Ut.helpers.isArrayLike=function(e){return e&&e.length!==t};Ut.helpers.iterator=fe;var be=Ut.internals.bindCallback=function(t,e,n){if(void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},ve=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],ye="[object Arguments]",we="[object Array]",me="[object Boolean]",Ee="[object Date]",Ce="[object Error]",ge="[object Number]",xe="[object Object]",Ne="[object RegExp]",De="[object String]",Ae={};Ae["[object Float32Array]"]=Ae["[object Float64Array]"]=Ae["[object Int8Array]"]=Ae["[object Int16Array]"]=Ae["[object Int32Array]"]=Ae["[object Uint8Array]"]=Ae["[object Uint8ClampedArray]"]=Ae["[object Uint16Array]"]=Ae["[object Uint32Array]"]=!0,Ae[ye]=Ae[we]=Ae["[object ArrayBuffer]"]=Ae[me]=Ae[Ee]=Ae[Ce]=Ae["[object Function]"]=Ae["[object Map]"]=Ae[ge]=Ae[xe]=Ae[Ne]=Ae["[object Set]"]=Ae[De]=Ae["[object WeakMap]"]=!1;var Se=Object.prototype,Oe=Se.hasOwnProperty,qe=Se.toString,ke=Math.pow(2,53)-1,je=Object.keys||function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(i){if("object"!=typeof i&&("function"!=typeof i||null===i))throw new TypeError("Object.keys called on non-object");var o,s,u=[];for(o in i)t.call(i,o)&&u.push(o);if(e)for(s=0;s<r;s++)t.call(i,n[s])&&u.push(n[s]);return u}}(),rt=Ut.internals.isObject=function(t){var e=typeof t;return!!t&&("object"===e||"function"===e)},Fe=function(){try{Object({toString:0}+"")}catch(t){return function(){return!1}}return function(t){return"function"!=typeof t.toString&&"string"==typeof(t+"")}}(),Re=Array.isArray||function(t){return _(t)&&b(t.length)&&qe.call(t)===we},Te=Ut.internals.isEqual=function(t,e){return E(t,e)},Me=(Array.prototype.slice,Ut.internals.inherits=function(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}),Pe=Ut.internals.addProperties=function(t){for(var e=[],n=1,r=arguments.length;n<r;n++)e.push(arguments[n]);for(var i=0,o=e.length;i<o;i++){var s=e[i];for(var u in s)t[u]=s[u]}},Le=Ut.internals.addRef=function(t,e){return new ps(function(n){return new Xe(e.getDisposable(),t.subscribe(n))})};g.prototype.compareTo=function(t){var e=this.value.compareTo(t.value);return 0===e&&(e=this.id-t.id),e};var We=Ut.internals.PriorityQueue=function(t){this.items=new Array(t),this.length=0},Ve=We.prototype;Ve.isHigherPriority=function(t,e){return this.items[t].compareTo(this.items[e])<0},Ve.percolate=function(t){if(!(t>=this.length||t<0)){var e=t-1>>1;if(!(e<0||e===t)&&this.isHigherPriority(t,e)){var n=this.items[t];this.items[t]=this.items[e],this.items[e]=n,this.percolate(e)}}},Ve.heapify=function(t){if(+t||(t=0),!(t>=this.length||t<0)){var e=2*t+1,n=2*t+2,r=t;if(e<this.length&&this.isHigherPriority(e,r)&&(r=e),n<this.length&&this.isHigherPriority(n,r)&&(r=n),r!==t){var i=this.items[t];this.items[t]=this.items[r],this.items[r]=i,this.heapify(r)}}},Ve.peek=function(){return this.items[0].value},Ve.removeAt=function(e){this.items[e]=this.items[--this.length],this.items[this.length]=t,this.heapify()},Ve.dequeue=function(){var t=this.peek();return this.removeAt(0),t},Ve.enqueue=function(t){var e=this.length++;this.items[e]=new g(We.count++,t),this.percolate(e)},Ve.remove=function(t){for(var e=0;e<this.length;e++)if(this.items[e].value===t)return this.removeAt(e),!0;return!1},We.count=0;var ze=Ut.CompositeDisposable=function(){var t,e,n=[];if(Array.isArray(arguments[0]))n=arguments[0];else for(e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];this.disposables=n,this.isDisposed=!1,this.length=n.length},Ie=ze.prototype;Ie.add=function(t){this.isDisposed?t.dispose():(this.disposables.push(t),this.length++)},Ie.remove=function(t){var e=!1;if(!this.isDisposed){var n=this.disposables.indexOf(t);-1!==n&&(e=!0,this.disposables.splice(n,1),this.length--,t.dispose())}return e},Ie.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var t=this.disposables.length,e=new Array(t),n=0;n<t;n++)e[n]=this.disposables[n];for(this.disposables=[],this.length=0,n=0;n<t;n++)e[n].dispose()}};var Be=Ut.Disposable=function(t){this.isDisposed=!1,this.action=t||Kt};Be.prototype.dispose=function(){this.isDisposed||(this.action(),this.isDisposed=!0)};var Ue=Be.create=function(t){return new Be(t)},Ke=Be.empty={dispose:Kt},He=Be.isDisposable=function(t){return t&&Yt(t.dispose)},Je=Be.checkDisposed=function(t){if(t.isDisposed)throw new ue},Qe=Be._fixup=function(t){return He(t)?t:Ke},$e=Ut.SingleAssignmentDisposable=function(){this.isDisposed=!1,this.current=null};$e.prototype.getDisposable=function(){return this.current},$e.prototype.setDisposable=function(t){if(this.current)throw new Error("Disposable has already been assigned");var e=this.isDisposed;!e&&(this.current=t),e&&t&&t.dispose()},$e.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var t=this.current;this.current=null,t&&t.dispose()}};var Ge=Ut.SerialDisposable=function(){this.isDisposed=!1,this.current=null};Ge.prototype.getDisposable=function(){return this.current},Ge.prototype.setDisposable=function(t){var e=this.isDisposed;if(!e){var n=this.current;this.current=t}n&&n.dispose(),e&&t&&t.dispose()},Ge.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var t=this.current;this.current=null}t&&t.dispose()};var Xe=Ut.BinaryDisposable=function(t,e){this._first=t,this._second=e,this.isDisposed=!1};Xe.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var t=this._first;this._first=null,t&&t.dispose();var e=this._second;this._second=null,e&&e.dispose()}};var Ye=Ut.NAryDisposable=function(t){this._disposables=t,this.isDisposed=!1};Ye.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var t=0,e=this._disposables.length;t<e;t++)this._disposables[t].dispose();this._disposables.length=0}};var Ze=Ut.RefCountDisposable=function(){function t(t){this.disposable=t,this.disposable.count++,this.isInnerDisposed=!1}function e(t){this.underlyingDisposable=t,this.isDisposed=!1,this.isPrimaryDisposed=!1,this.count=0}return t.prototype.dispose=function(){this.disposable.isDisposed||this.isInnerDisposed||(this.isInnerDisposed=!0,0===--this.disposable.count&&this.disposable.isPrimaryDisposed&&(this.disposable.isDisposed=!0,this.disposable.underlyingDisposable.dispose()))},e.prototype.dispose=function(){this.isDisposed||this.isPrimaryDisposed||(this.isPrimaryDisposed=!0,0===this.count&&(this.isDisposed=!0,this.underlyingDisposable.dispose()))},e.prototype.getDisposable=function(){return this.isDisposed?Ke:new t(this)},e}();x.prototype.dispose=function(){this.scheduler.schedule(this,N)};var tn=Ut.internals.ScheduledItem=function(t,e,n,r,i){this.scheduler=t,this.state=e,this.action=n,this.dueTime=r,this.comparer=i||$t,this.disposable=new $e};tn.prototype.invoke=function(){this.disposable.setDisposable(this.invokeCore())},tn.prototype.compareTo=function(t){return this.comparer(this.dueTime,t.dueTime)},tn.prototype.isCancelled=function(){return this.disposable.isDisposed},tn.prototype.invokeCore=function(){return Qe(this.action(this.scheduler,this.state))};var en=Ut.Scheduler=function(){function t(){}t.isScheduler=function(e){return e instanceof t};var e=t.prototype;return e.schedule=function(t,e){throw new ae},e.scheduleFuture=function(e,n,r){var i=n;return i instanceof Date&&(i-=this.now()),i=t.normalize(i),0===i?this.schedule(e,r):this._scheduleFuture(e,i,r)},e._scheduleFuture=function(t,e,n){throw new ae},t.now=Jt,t.prototype.now=Jt,t.normalize=function(t){return t<0&&(t=0),t},t}(),nn=en.normalize,rn=en.isScheduler;!function(t){function e(t,e){function n(e){function r(t,e){return s?o.remove(c):u=!0,i(e,n),Ke}var s=!1,u=!1,c=t.schedule(e,r);u||(o.add(c),s=!0)}var r=e[0],i=e[1],o=new ze;return i(r,n),o}function n(t,e){function n(e,r){function s(t,e){return u?o.remove(h):c=!0,i(e,n),Ke}var u=!1,c=!1,h=t.scheduleFuture(e,r,s);c||(o.add(h),u=!0)}var r=e[0],i=e[1],o=new ze;return i(r,n),o}t.scheduleRecursive=function(t,n){return this.schedule([t,n],e)},t.scheduleRecursiveFuture=function(t,e,r){return this.scheduleFuture([t,r],e,n)}}(en.prototype),function(t){t.schedulePeriodic=function(t,e,n){if(void 0===Bt.setInterval)throw new he;e=nn(e);var r=t,i=Bt.setInterval(function(){r=n(r)},e);return Ue(function(){Bt.clearInterval(i)})}}(en.prototype),function(t){t.catchError=t.catch=function(t){return new vn(this,t)}}(en.prototype);var on,sn,un=Ut.internals.SchedulePeriodicRecursive=function(){function t(t){return function(e,n){n(0,t._period);var r=te(t._action)(t._state);r===Zt&&(t._cancel.dispose(),s(r.e)),t._state=r}}function e(t,e,n,r){this._scheduler=t,this._state=e,this._period=n,this._action=r}return e.prototype.start=function(){var e=new $e;return this._cancel=e,e.setDisposable(this._scheduler.scheduleRecursiveFuture(0,this._period,t(this))),e},e}(),cn=function(t){function e(){t.call(this)}return Me(e,t),e.prototype.schedule=function(t,e){return Qe(e(this,t))},e}(en),hn=en.immediate=new cn,an=function(t){function e(){for(;r.length>0;){var t=r.dequeue();!t.isCancelled()&&t.invoke()}}function n(){t.call(this)}var r;return Me(n,t),n.prototype.schedule=function(t,n){var i=new tn(this,t,n,this.now());if(r)r.enqueue(i);else{r=new We(4),r.enqueue(i);var o=te(e)();r=null,o===Zt&&s(o.e)}return i.disposable},n.prototype.scheduleRequired=function(){return!r},n}(en),pn=en.currentThread=new an,fn=function(){var t,e=Kt;if(Bt.setTimeout)t=Bt.setTimeout,e=Bt.clearTimeout;else{if(!Bt.WScript)throw new he;t=function(t,e){Bt.WScript.Sleep(e),t()}}return{setTimeout:t,clearTimeout:e}}(),ln=fn.setTimeout,dn=fn.clearTimeout;!function(){function t(e){if(r)ln(function(){t(e)},0);else{var i=n[e];if(i){r=!0;var o=te(i)();sn(e),r=!1,o===Zt&&s(o.e)}}}var e=1,n={},r=!1;sn=function(t){delete n[t]};var i=new RegExp("^"+String(toString).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),o="function"==typeof(o=Lt&&zt&&Lt.setImmediate)&&!i.test(o)&&o;if(Yt(o))on=function(r){var i=e++;return n[i]=r,o(function(){t(i)}),i};else if("undefined"!=typeof process&&"[object process]"==={}.toString.call(process))on=function(r){var i=e++;return n[i]=r,process.nextTick(function(){t(i)}),i};else if(function(){if(!Bt.postMessage||Bt.importScripts)return!1;var t=!1,e=Bt.onmessage;return Bt.onmessage=function(){t=!0},Bt.postMessage("","*"),Bt.onmessage=e,t}()){var u="ms.rx.schedule"+Math.random(),c=function(e){"string"==typeof e.data&&e.data.substring(0,u.length)===u&&t(e.data.substring(u.length))};Bt.addEventListener("message",c,!1),on=function(t){var r=e++;return n[r]=t,Bt.postMessage(u+r,"*"),r}}else if(Bt.MessageChannel){var h=new Bt.MessageChannel;h.port1.onmessage=function(e){t(e.data)},on=function(t){var r=e++;return n[r]=t,h.port2.postMessage(r),r}}else on="document"in Bt&&"onreadystatechange"in Bt.document.createElement("script")?function(r){var i=Bt.document.createElement("script"),o=e++;return n[o]=r,i.onreadystatechange=function(){t(o),i.onreadystatechange=null,i.parentNode.removeChild(i),i=null},Bt.document.documentElement.appendChild(i),o}:function(r){var i=e++;return n[i]=r,ln(function(){t(i)},0),i}}();var _n=function(t){function e(){t.call(this)}function n(t,e,n,r){return function(){t.setDisposable(Be._fixup(e(n,r)))}}function r(t){this._id=t,this.isDisposed=!1}function i(t){this._id=t,this.isDisposed=!1}function o(t,e,n){return function(){e(t,n)}}return Me(e,t),r.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,sn(this._id))},i.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,dn(this._id))},e.prototype.schedule=function(t,e){var i=new $e,o=on(n(i,e,this,t));return new Xe(i,new r(o))},e.prototype._scheduleFuture=function(t,e,r){if(0===e)return this.schedule(t,r);var o=new $e,s=ln(n(o,r,this,t),e);return new Xe(o,new i(s))},e.prototype.scheduleLongRunning=function(t,e){var n=Ue(Kt);return on(o(t,e,n)),n},e}(en),bn=en.default=en.async=new _n,vn=function(t){function e(e,n){this._scheduler=e,this._handler=n,this._recursiveOriginal=null,this._recursiveWrapper=null,t.call(this)}return Me(e,t),e.prototype.schedule=function(t,e){return this._scheduler.schedule(t,this._wrap(e))},e.prototype._scheduleFuture=function(t,e,n){return this._scheduler.schedule(t,e,this._wrap(n))},e.prototype.now=function(){return this._scheduler.now()},e.prototype._clone=function(t){return new e(t,this._handler)},e.prototype._wrap=function(t){var e=this;return function(n,r){var i=te(t)(e._getRecursiveWrapper(n),r);return i===Zt?(e._handler(i.e)||s(i.e),Ke):Qe(i)}},e.prototype._getRecursiveWrapper=function(t){if(this._recursiveOriginal!==t){this._recursiveOriginal=t;var e=this._clone(t);e._recursiveOriginal=t,e._recursiveWrapper=e,this._recursiveWrapper=e}return this._recursiveWrapper},e.prototype.schedulePeriodic=function(t,e,n){var r=this,i=!1,o=new $e;return o.setDisposable(this._scheduler.schedulePeriodic(t,e,function(t){if(i)return null;var e=te(n)(t);return e===Zt?(i=!0,r._handler(e.e)||s(e.e),o.dispose(),null):e})),o},e}(en),yn=Ut.Notification=function(){function t(){}return t.prototype._accept=function(t,e,n){throw new ae},t.prototype._acceptObserver=function(t,e,n){throw new ae},t.prototype.accept=function(t,e,n){return t&&"object"==typeof t?this._acceptObserver(t):this._accept(t,e,n)},t.prototype.toObservable=function(t){var e=this;return rn(t)||(t=hn),new ps(function(n){return t.schedule(e,function(t,e){e._acceptObserver(n),"N"===e.kind&&n.onCompleted()})})},t}(),wn=function(t){function e(t){this.value=t,this.kind="N"}return Me(e,t),e.prototype._accept=function(t){return t(this.value)},e.prototype._acceptObserver=function(t){return t.onNext(this.value)},e.prototype.toString=function(){return"OnNext("+this.value+")"},e}(yn),mn=function(t){function e(t){this.error=t,this.kind="E"}return Me(e,t),e.prototype._accept=function(t,e){return e(this.error)},e.prototype._acceptObserver=function(t){return t.onError(this.error)},e.prototype.toString=function(){return"OnError("+this.error+")"},e}(yn),En=function(t){function e(){this.kind="C"}return Me(e,t),e.prototype._accept=function(t,e,n){return n()},e.prototype._acceptObserver=function(t){return t.onCompleted()},e.prototype.toString=function(){return"OnCompleted()"},e}(yn),Cn=yn.createOnNext=function(t){return new wn(t)},gn=yn.createOnError=function(t){return new mn(t)},xn=yn.createOnCompleted=function(){return new En},Nn=Ut.Observer=function(){};Nn.prototype.toNotifier=function(){var t=this;return function(e){return e.accept(t)}},Nn.prototype.asObserver=function(){var t=this;return new On(function(e){t.onNext(e)},function(e){t.onError(e)},function(){t.onCompleted()})},Nn.prototype.checked=function(){return new qn(this)};var Dn=Nn.create=function(t,e,n){return t||(t=Kt),e||(e=Gt),n||(n=Kt),new On(t,e,n)};Nn.fromNotifier=function(t,e){var n=be(t,e,1);return new On(function(t){return n(Cn(t))},function(t){return n(gn(t))},function(){return n(xn())})},Nn.prototype.notifyOn=function(t){return new jn(t,this)},Nn.prototype.makeSafe=function(t){return new AnonymousSafeObserver(this._onNext,this._onError,this._onCompleted,t)};var An,Sn=Ut.internals.AbstractObserver=function(t){function e(){this.isStopped=!1}return Me(e,t),e.prototype.next=pe,e.prototype.error=pe,e.prototype.completed=pe,e.prototype.onNext=function(t){!this.isStopped&&this.next(t)},e.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.error(t))},e.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.completed())},
e.prototype.dispose=function(){this.isStopped=!0},e.prototype.fail=function(t){return!this.isStopped&&(this.isStopped=!0,this.error(t),!0)},e}(Nn),On=Ut.AnonymousObserver=function(t){function e(e,n,r){t.call(this),this._onNext=e,this._onError=n,this._onCompleted=r}return Me(e,t),e.prototype.next=function(t){this._onNext(t)},e.prototype.error=function(t){this._onError(t)},e.prototype.completed=function(){this._onCompleted()},e}(Sn),qn=function(t){function e(e){t.call(this),this._observer=e,this._state=0}Me(e,t);var n=e.prototype;return n.onNext=function(t){this.checkAccess();var e=te(this._observer.onNext).call(this._observer,t);this._state=0,e===Zt&&s(e.e)},n.onError=function(t){this.checkAccess();var e=te(this._observer.onError).call(this._observer,t);this._state=2,e===Zt&&s(e.e)},n.onCompleted=function(){this.checkAccess();var t=te(this._observer.onCompleted).call(this._observer);this._state=2,t===Zt&&s(t.e)},n.checkAccess=function(){if(1===this._state)throw new Error("Re-entrancy detected");if(2===this._state)throw new Error("Observer completed");0===this._state&&(this._state=1)},e}(Nn),kn=Ut.internals.ScheduledObserver=function(t){function e(e,n){t.call(this),this.scheduler=e,this.observer=n,this.isAcquired=!1,this.hasFaulted=!1,this.queue=[],this.disposable=new Ge}function n(t,e){return function(){t.onNext(e)}}function r(t,e){return function(){t.onError(e)}}function i(t){return function(){t.onCompleted()}}function o(t,e){var n;if(!(t.queue.length>0))return void(t.isAcquired=!1);n=t.queue.shift();var r=te(n)();if(r===Zt)return t.queue=[],t.hasFaulted=!0,s(r.e);e(t)}return Me(e,t),e.prototype.next=function(t){this.queue.push(n(this.observer,t))},e.prototype.error=function(t){this.queue.push(r(this.observer,t))},e.prototype.completed=function(){this.queue.push(i(this.observer))},e.prototype.ensureActive=function(){var t=!1;!this.hasFaulted&&this.queue.length>0&&(t=!this.isAcquired,this.isAcquired=!0),t&&this.disposable.setDisposable(this.scheduler.scheduleRecursive(this,o))},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.disposable.dispose()},e}(Sn),jn=function(t){function e(e,n,r){t.call(this,e,n),this._cancel=r}return Me(e,t),e.prototype.next=function(e){t.prototype.next.call(this,e),this.ensureActive()},e.prototype.error=function(e){t.prototype.error.call(this,e),this.ensureActive()},e.prototype.completed=function(){t.prototype.completed.call(this),this.ensureActive()},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._cancel&&this._cancel.dispose(),this._cancel=null},e}(kn),Fn=Ut.Observable=function(){function t(t,e){return function(n){var r=n.onError;return n.onError=function(e){u(e,t),r.call(n,e)},e.call(t,n)}}function e(){if(Ut.config.longStackSupport&&ee){var e=this._subscribe,n=te(s)(new Error).e;this.stack=n.stack.substring(n.stack.indexOf("\n")+1),this._subscribe=t(this,e)}}return An=e.prototype,e.isObservable=function(t){return t&&Yt(t.subscribe)},An.subscribe=An.forEach=function(t,e,n){return this._subscribe("object"==typeof t?t:Dn(t,e,n))},An.subscribeOnNext=function(t,e){return this._subscribe(Dn(void 0!==e?function(n){t.call(e,n)}:t))},An.subscribeOnError=function(t,e){return this._subscribe(Dn(null,void 0!==e?function(n){t.call(e,n)}:t))},An.subscribeOnCompleted=function(t,e){return this._subscribe(Dn(null,null,void 0!==e?function(){t.call(e)}:t))},e}(),Rn=Ut.ObservableBase=function(t){function e(t){return t&&Yt(t.dispose)?t:Yt(t)?Ue(t):Ke}function n(t,n){var r=n[0],i=n[1],o=te(i.subscribeCore).call(i,r);o!==Zt||r.fail(Zt.e)||s(Zt.e),r.setDisposable(e(o))}function r(){t.call(this)}return Me(r,t),r.prototype._subscribe=function(t){var e=new fs(t),r=[e,this];return pn.scheduleRequired()?pn.schedule(r,n):n(null,r),e},r.prototype.subscribeCore=pe,r}(Fn),Tn=Ut.FlatMapObservable=function(t){function e(e,n,r,i){this.resultSelector=Yt(r)?r:null,this.selector=be(Yt(n)?n:function(){return n},i,3),this.source=e,t.call(this)}function n(t,e,n,r){this.i=0,this.selector=e,this.resultSelector=n,this.source=r,this.o=t,Sn.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t,this.selector,this.resultSelector,this))},Me(n,Sn),n.prototype._wrapResult=function(t,e,n){return this.resultSelector?t.map(function(t,r){return this.resultSelector(e,t,n,r)},this):t},n.prototype.next=function(t){var e=this.i++,n=te(this.selector)(t,e,this.source);if(n===Zt)return this.o.onError(n.e);Xt(n)&&(n=Hn(n)),(_e(n)||de(n))&&(n=Fn.from(n)),this.o.onNext(this._wrapResult(n,t,e))},n.prototype.error=function(t){this.o.onError(t)},n.prototype.completed=function(){this.o.onCompleted()},e}(Rn),Mn=Ut.internals.Enumerable=function(){};D.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._s.isDisposed=!0)};var Pn=function(t){function e(e){this.sources=e,t.call(this)}function n(t,e){if(!t.isDisposed){var n=te(t.e.next).call(t.e);if(n===Zt)return t.o.onError(n.e);if(n.done)return t.o.onCompleted();var i=n.value;Xt(i)&&(i=Hn(i));var o=new $e;t.subscription.setDisposable(o),o.setDisposable(i.subscribe(new r(t,e)))}}function r(t,e){this._state=t,this._recurse=e,Sn.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){var e=new Ge,r={isDisposed:!1,o:t,subscription:e,e:this.sources[fe]()},i=pn.scheduleRecursive(r,n);return new Ye([e,i,new D(r)])},Me(r,Sn),r.prototype.next=function(t){this._state.o.onNext(t)},r.prototype.error=function(t){this._state.o.onError(t)},r.prototype.completed=function(){this._recurse(this._state)},e}(Rn);Mn.prototype.concat=function(){return new Pn(this)};var Ln=function(t){function e(e){this.sources=e,t.call(this)}function n(t,e){if(!t.isDisposed){var n=te(t.e.next).call(t.e);if(n===Zt)return t.o.onError(n.e);if(n.done)return null!==t.lastError?t.o.onError(t.lastError):t.o.onCompleted();var i=n.value;Xt(i)&&(i=Hn(i));var o=new $e;t.subscription.setDisposable(o),o.setDisposable(i.subscribe(new r(t,e)))}}function r(t,e){this._state=t,this._recurse=e,Sn.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){var e=new Ge,r={isDisposed:!1,e:this.sources[fe](),subscription:e,lastError:null,o:t},i=pn.scheduleRecursive(r,n);return new Ye([e,i,new D(r)])},Me(r,Sn),r.prototype.next=function(t){this._state.o.onNext(t)},r.prototype.error=function(t){this._state.lastError=t,this._recurse(this._state)},r.prototype.completed=function(){this._state.o.onCompleted()},e}(Rn);Mn.prototype.catchError=function(){return new Ln(this)};var Wn=function(t){function e(t,e){this.v=t,this.c=null==e?-1:e}function n(t){this.v=t.v,this.l=t.c}return Me(e,t),e.prototype[fe]=function(){return new n(this)},n.prototype.next=function(){return 0===this.l?le:(this.l>0&&this.l--,{done:!1,value:this.v})},e}(Mn),Vn=Mn.repeat=function(t,e){return new Wn(t,e)},zn=function(t){function e(t,e,n){this.s=t,this.fn=e?be(e,n,3):null}function n(t){this.i=-1,this.s=t.s,this.l=this.s.length,this.fn=t.fn}return Me(e,t),e.prototype[fe]=function(){return new n(this)},n.prototype.next=function(){return++this.i<this.l?{done:!1,value:this.fn?this.fn(this.s[this.i],this.i,this.s):this.s[this.i]}:le},e}(Mn),In=Mn.of=function(t,e,n){return new zn(t,e,n)},Bn=function(t){function e(e,n){this.source=e,this._s=n,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new jn(this._s,t))},e}(Rn);An.observeOn=function(t){return new Bn(this,t)};var Un=function(t){function e(e,n){this.source=e,this._s=n,t.call(this)}function n(t,e){var n=e[0],r=e[1],i=e[2];r.setDisposable(new x(t,n.subscribe(i)))}return Me(e,t),e.prototype.subscribeCore=function(t){var e=new $e,r=new Ge;return r.setDisposable(e),e.setDisposable(this._s.schedule([this.source,r,t],n)),r},e}(Rn);An.subscribeOn=function(t){return new Un(this,t)};var Kn=function(t){function e(e,n){this._p=e,this._s=n,t.call(this)}function n(t,e){var n=e[0],r=e[1];n.onNext(r),n.onCompleted()}function r(t,e){var n=e[0],r=e[1];n.onError(r)}return Me(e,t),e.prototype.subscribeCore=function(t){var e=new $e,i=this,o=this._p;return Yt(o)&&(o=te(o)())===Zt?(t.onError(o.e),e):(o.then(function(r){e.setDisposable(i._s.schedule([t,r],n))},function(n){e.setDisposable(i._s.schedule([t,n],r))}),e)},e}(Rn),Hn=Fn.fromPromise=function(t,e){return e||(e=bn),new Kn(t,e)};An.toPromise=function(t){if(t||(t=Ut.config.Promise),!t)throw new he("Promise type not provided nor in Rx.config.Promise");var e=this;return new t(function(t,n){var r;e.subscribe(function(t){r=t},n,function(){t(r)})})};var Jn=function(t){function e(e){this.source=e,t.call(this)}function n(t){this.o=t,this.a=[],Sn.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t))},Me(n,Sn),n.prototype.next=function(t){this.a.push(t)},n.prototype.error=function(t){this.o.onError(t)},n.prototype.completed=function(){this.o.onNext(this.a),this.o.onCompleted()},e}(Rn);An.toArray=function(){return new Jn(this)},Fn.create=function(t,e){return new ps(t,e)};var Qn=function(t){function e(e){this._f=e,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){var e=te(this._f)();return e===Zt?lr(e.e).subscribe(t):(Xt(e)&&(e=Hn(e)),e.subscribe(t))},e}(Rn),$n=Fn.defer=function(t){return new Qn(t)},Gn=function(t){function e(e){this.scheduler=e,t.call(this)}function n(t,e){this.observer=t,this.scheduler=e}function r(t,e){return e.onCompleted(),Ke}return Me(e,t),e.prototype.subscribeCore=function(t){return new n(t,this.scheduler).run()},n.prototype.run=function(){var t=this.observer;return this.scheduler===hn?r(null,t):this.scheduler.schedule(t,r)},e}(Rn),Xn=new Gn(hn),Yn=Fn.empty=function(t){return rn(t)||(t=hn),t===hn?Xn:new Gn(t)},Zn=function(t){function e(e,n,r){this._iterable=e,this._fn=n,this._scheduler=r,t.call(this)}function n(t,e,n){return function(r,i){var o=te(e.next).call(e);if(o===Zt)return t.onError(o.e);if(o.done)return t.onCompleted();var s=o.value;if(Yt(n)&&(s=te(n)(s,r))===Zt)return t.onError(s.e);t.onNext(s),i(r+1)}}return Me(e,t),e.prototype.subscribeCore=function(t){var e=Object(this._iterable),r=j(e);return this._scheduler.scheduleRecursive(0,n(t,r,this._fn))},e}(Rn),tr=Math.pow(2,53)-1;A.prototype[fe]=function(){return new S(this._s)},S.prototype[fe]=function(){return this},S.prototype.next=function(){return this._i<this._l?{done:!1,value:this._s.charAt(this._i++)}:le},O.prototype[fe]=function(){return new q(this._a)},q.prototype[fe]=function(){return this},q.prototype.next=function(){return this._i<this._l?{done:!1,value:this._a[this._i++]}:le};var er=Fn.from=function(t,e,n,r){if(null==t)throw new Error("iterable cannot be null.");if(e&&!Yt(e))throw new Error("mapFn when provided must be a function");if(e)var i=be(e,n,2);return rn(r)||(r=pn),new Zn(t,i,r)},nr=function(t){function e(e,n){this._args=e,this._scheduler=n,t.call(this)}function n(t,e){var n=e.length;return function(r,i){r<n?(t.onNext(e[r]),i(r+1)):t.onCompleted()}}return Me(e,t),e.prototype.subscribeCore=function(t){return this._scheduler.scheduleRecursive(0,n(t,this._args))},e}(Rn),rr=Fn.fromArray=function(t,e){return rn(e)||(e=pn),new nr(t,e)},ir=function(t){function e(e,n,r,i,o){this._initialState=e,this._cndFn=n,this._itrFn=r,this._resFn=i,this._s=o,t.call(this)}function n(t,e){if(t.first)t.first=!1;else if(t.newState=te(t.self._itrFn)(t.newState),t.newState===Zt)return t.o.onError(t.newState.e);var n=te(t.self._cndFn)(t.newState);if(n===Zt)return t.o.onError(n.e);if(n){var r=te(t.self._resFn)(t.newState);if(r===Zt)return t.o.onError(r.e);t.o.onNext(r),e(t)}else t.o.onCompleted()}return Me(e,t),e.prototype.subscribeCore=function(t){var e={o:t,self:this,first:!0,newState:this._initialState};return this._s.scheduleRecursive(e,n)},e}(Rn);Fn.generate=function(t,e,n,r,i){return rn(i)||(i=pn),new ir(t,e,n,r,i)},Fn.of=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new nr(e,pn)},Fn.ofWithScheduler=function(t){for(var e=arguments.length,n=new Array(e-1),r=1;r<e;r++)n[r-1]=arguments[r];return new nr(n,t)},Fn.ofArrayChanges=function(t){if(!Array.isArray(t))throw new TypeError("Array.observe only accepts arrays.");if("function"!=typeof Array.observe&&"function"!=typeof Array.unobserve)throw new TypeError("Array.observe is not supported on your platform");return new ps(function(e){function n(t){for(var n=0,r=t.length;n<r;n++)e.onNext(t[n])}return Array.observe(t,n),function(){Array.unobserve(t,n)}})},Fn.ofObjectChanges=function(t){if(null==t)throw new TypeError("object must not be null or undefined.");if("function"!=typeof Object.observe&&"function"!=typeof Object.unobserve)throw new TypeError("Object.observe is not supported on your platform");return new ps(function(e){function n(t){for(var n=0,r=t.length;n<r;n++)e.onNext(t[n])}return Object.observe(t,n),function(){Object.unobserve(t,n)}})};var or=function(t){function e(){t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){return Ke},e}(Rn),sr=new or,ur=Fn.never=function(){return sr},cr=function(t){function e(e,n){this._o=e,this._keys=Object.keys(e),this._scheduler=n,t.call(this)}function n(t,e,n){return function(r,i){if(r<n.length){var o=n[r];t.onNext([o,e[o]]),i(r+1)}else t.onCompleted()}}return Me(e,t),e.prototype.subscribeCore=function(t){return this._scheduler.scheduleRecursive(0,n(t,this._o,this._keys))},e}(Rn);Fn.pairs=function(t,e){return e||(e=pn),new cr(t,e)};var hr=function(t){function e(e,n,r){this.start=e,this.rangeCount=n,this.scheduler=r,t.call(this)}function n(t,e,n){return function(r,i){r<e?(n.onNext(t+r),i(r+1)):n.onCompleted()}}return Me(e,t),e.prototype.subscribeCore=function(t){return this.scheduler.scheduleRecursive(0,n(this.start,this.rangeCount,t))},e}(Rn);Fn.range=function(t,e,n){return rn(n)||(n=pn),new hr(t,e,n)};var ar=function(t){function e(e,n,r){this.value=e,this.repeatCount=null==n?-1:n,this.scheduler=r,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){return new M(t,this).run()},e}(Rn);M.prototype.run=function(){function t(t,r){if((-1===t||t>0)&&(e.onNext(n),t>0&&t--),0===t)return e.onCompleted();r(t)}var e=this.observer,n=this.parent.value;return this.parent.scheduler.scheduleRecursive(this.parent.repeatCount,t)},Fn.repeat=function(t,e,n){return rn(n)||(n=pn),new ar(t,e,n)};var pr=function(t){function e(e,n){this._value=e,this._scheduler=n,t.call(this)}function n(t,e){var n=e[0],r=e[1];return r.onNext(n),r.onCompleted(),Ke}return Me(e,t),e.prototype.subscribeCore=function(t){var e=[this._value,t];return this._scheduler===hn?n(null,e):this._scheduler.schedule(e,n)},e}(Rn),fr=(Fn.return=Fn.just=function(t,e){return rn(e)||(e=hn),new pr(t,e)},function(t){function e(e,n){this._error=e,this._scheduler=n,t.call(this)}function n(t,e){var n=e[0];return e[1].onError(n),Ke}return Me(e,t),e.prototype.subscribeCore=function(t){var e=[this._error,t];return this._scheduler===hn?n(null,e):this._scheduler.schedule(e,n)},e}(Rn)),lr=Fn.throw=function(t,e){return rn(e)||(e=hn),new fr(t,e)},dr=function(t){function e(e,n){this._resFn=e,this._obsFn=n,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){var e=Ke,n=te(this._resFn)();if(n===Zt)return new Xe(lr(n.e).subscribe(t),e);n&&(e=n);var r=te(this._obsFn)(n);return r===Zt?new Xe(lr(r.e).subscribe(t),e):new Xe(r.subscribe(t),e)},e}(Rn);Fn.using=function(t,e){return new dr(t,e)},An.amb=function(t){var e=this;return new ps(function(n){function r(){o||(o=s,h.dispose())}function i(){o||(o=u,c.dispose())}var o,s="L",u="R",c=new $e,h=new $e;Xt(t)&&(t=Hn(t));var a=Dn(function(t){r(),o===s&&n.onNext(t)},function(t){r(),o===s&&n.onError(t)},function(){r(),o===s&&n.onCompleted()}),p=Dn(function(t){i(),o===u&&n.onNext(t)},function(t){i(),o===u&&n.onError(t)},function(){i(),o===u&&n.onCompleted()});return c.setDisposable(e.subscribe(a)),h.setDisposable(t.subscribe(p)),new Xe(c,h)})},Fn.amb=function(){var t,e=ur();if(Array.isArray(arguments[0]))t=arguments[0];else{var n=arguments.length;t=new Array(t);for(var r=0;r<n;r++)t[r]=arguments[r]}for(var r=0,n=t.length;r<n;r++)e=P(e,t[r]);return e};var _r=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){var e=new $e,n=new Ge;return n.setDisposable(e),e.setDisposable(this.source.subscribe(new br(t,n,this._fn))),n},e}(Rn),br=function(t){function e(e,n,r){this._o=e,this._s=n,this._fn=r,t.call(this)}return Me(e,t),e.prototype.next=function(t){this._o.onNext(t)},e.prototype.completed=function(){return this._o.onCompleted()},e.prototype.error=function(t){var e=te(this._fn)(t);if(e===Zt)return this._o.onError(e.e);Xt(e)&&(e=Hn(e));var n=new $e;this._s.setDisposable(n),n.setDisposable(e.subscribe(this._o))},e}(Sn);An.catch=function(t){return Yt(t)?new _r(this,t):vr([this,t])};var vr=Fn.catch=function(){var t;if(Array.isArray(arguments[0]))t=arguments[0];else{var e=arguments.length;t=new Array(e);for(var n=0;n<e;n++)t[n]=arguments[n]}return In(t).catchError()};An.combineLatest=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Array.isArray(e[0])?e[0].unshift(this):e.unshift(this),mr.apply(this,e)};var yr=function(t){function e(e,n){this._params=e,this._cb=n,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){for(var e=this._params.length,n=new Array(e),r={hasValue:C(e,L),hasValueAll:!1,isDone:C(e,L),values:new Array(e)},i=0;i<e;i++){var o=this._params[i],s=new $e;n[i]=s,Xt(o)&&(o=Hn(o)),s.setDisposable(o.subscribe(new wr(t,i,this._cb,r)))}return new Ye(n)},e}(Rn),wr=function(t){function e(e,n,r,i){this._o=e,this._i=n,this._cb=r,this._state=i,t.call(this)}function n(t){return function(e,n){return n!==t}}return Me(e,t),e.prototype.next=function(t){if(this._state.values[this._i]=t,this._state.hasValue[this._i]=!0,this._state.hasValueAll||(this._state.hasValueAll=this._state.hasValue.every(Ht))){var e=te(this._cb).apply(null,this._state.values);if(e===Zt)return this._o.onError(e.e);this._o.onNext(e)}else this._state.isDone.filter(n(this._i)).every(Ht)&&this._o.onCompleted()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._state.isDone[this._i]=!0,this._state.isDone.every(Ht)&&this._o.onCompleted()},e}(Sn),mr=Fn.combineLatest=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Yt(e[t-1])?e.pop():W;return Array.isArray(e[0])&&(e=e[0]),new yr(e,r)};An.concat=function(){for(var t=[],e=0,n=arguments.length;e<n;e++)t.push(arguments[e]);return t.unshift(this),gr.apply(null,t)};var Er=function(t){function e(e,n){this._s=e,this._fn=n,t.call(this)}return Me(e,t),e.prototype.next=function(t){this._s.o.onNext(t)},e.prototype.error=function(t){this._s.o.onError(t)},e.prototype.completed=function(){this._s.i++,this._fn(this._s)},e}(Sn),Cr=function(t){function e(e){this._sources=e,t.call(this)}function n(t,e){if(!t.disposable.isDisposed){if(t.i===t.sources.length)return t.o.onCompleted();var n=t.sources[t.i];Xt(n)&&(n=Hn(n));var r=new $e;t.subscription.setDisposable(r),r.setDisposable(n.subscribe(new Er(t,e)))}}return Me(e,t),e.prototype.subscribeCore=function(t){var e=new Ge,r=Ue(Kt),i={o:t,i:0,subscription:e,disposable:r,sources:this._sources},o=hn.scheduleRecursive(i,n);return new Ye([e,r,o])},e}(Rn),gr=Fn.concat=function(){var t;if(Array.isArray(arguments[0]))t=arguments[0];else{t=new Array(arguments.length);for(var e=0,n=arguments.length;e<n;e++)t[e]=arguments[e]}return new Cr(t)};An.concatAll=function(){return this.merge(1)};var xr=function(t){function e(e,n){this.source=e,this.maxConcurrent=n,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){var e=new ze;return e.add(this.source.subscribe(new Nr(t,this.maxConcurrent,e))),e},e}(Rn),Nr=function(t){function e(e,n,r){this.o=e,this.max=n,this.g=r,this.done=!1,this.q=[],this.activeCount=0,t.call(this)}function n(e,n){this.parent=e,this.sad=n,t.call(this)}return Me(e,t),e.prototype.handleSubscribe=function(t){var e=new $e;this.g.add(e),Xt(t)&&(t=Hn(t)),e.setDisposable(t.subscribe(new n(this,e)))},e.prototype.next=function(t){this.activeCount<this.max?(this.activeCount++,this.handleSubscribe(t)):this.q.push(t)},e.prototype.error=function(t){this.o.onError(t)},e.prototype.completed=function(){this.done=!0,0===this.activeCount&&this.o.onCompleted()},Me(n,t),n.prototype.next=function(t){this.parent.o.onNext(t)},n.prototype.error=function(t){this.parent.o.onError(t)},n.prototype.completed=function(){this.parent.g.remove(this.sad),this.parent.q.length>0?this.parent.handleSubscribe(this.parent.q.shift()):(this.parent.activeCount--,this.parent.done&&0===this.parent.activeCount&&this.parent.o.onCompleted())},e}(Sn);An.merge=function(t){return"number"!=typeof t?Dr(this,t):new xr(this,t)};var Dr=Fn.merge=function(){var t,e,n=[],r=arguments.length;if(arguments[0])if(rn(arguments[0]))for(t=arguments[0],e=1;e<r;e++)n.push(arguments[e]);else for(t=hn,e=0;e<r;e++)n.push(arguments[e]);else for(t=hn,e=1;e<r;e++)n.push(arguments[e]);return Array.isArray(n[0])&&(n=n[0]),T(t,n).mergeAll()},Ar=function(t){function e(e){this.source=e,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){var e=new ze,n=new $e;return e.add(n),n.setDisposable(this.source.subscribe(new Sr(t,e))),e},e}(Rn),Sr=function(t){function e(e,n){this.o=e,this.g=n,this.done=!1,t.call(this)}function n(e,n){this.parent=e,this.sad=n,t.call(this)}return Me(e,t),e.prototype.next=function(t){var e=new $e;this.g.add(e),Xt(t)&&(t=Hn(t)),e.setDisposable(t.subscribe(new n(this,e)))},e.prototype.error=function(t){this.o.onError(t)},e.prototype.completed=function(){this.done=!0,1===this.g.length&&this.o.onCompleted()},Me(n,t),n.prototype.next=function(t){this.parent.o.onNext(t)},n.prototype.error=function(t){this.parent.o.onError(t)},n.prototype.completed=function(){this.parent.g.remove(this.sad),this.parent.done&&1===this.parent.g.length&&this.parent.o.onCompleted()},e}(Sn);An.mergeAll=function(){return new Ar(this)};var Or=Ut.CompositeError=function(t){this.innerErrors=t,this.message="This contains multiple errors. Check the innerErrors",Error.call(this)};Or.prototype=Object.create(Error.prototype),Or.prototype.name="CompositeError";var qr=function(t){function e(e){this.source=e,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){var e=new ze,n=new $e,r={isStopped:!1,errors:[],o:t};return e.add(n),n.setDisposable(this.source.subscribe(new kr(e,r))),e},e}(Rn),kr=function(t){function e(e,n){this._group=e,this._state=n,t.call(this)}function n(t,e){0===e.length?t.onCompleted():1===e.length?t.onError(e[0]):t.onError(new Or(e))}function r(e,n,r){this._inner=e,this._group=n,this._state=r,t.call(this)}return Me(e,t),e.prototype.next=function(t){var e=new $e;this._group.add(e),Xt(t)&&(t=Hn(t)),e.setDisposable(t.subscribe(new r(e,this._group,this._state)))},e.prototype.error=function(t){this._state.errors.push(t),this._state.isStopped=!0,1===this._group.length&&n(this._state.o,this._state.errors)},e.prototype.completed=function(){this._state.isStopped=!0,1===this._group.length&&n(this._state.o,this._state.errors)},Me(r,t),r.prototype.next=function(t){this._state.o.onNext(t)},r.prototype.error=function(t){this._state.errors.push(t),this._group.remove(this._inner),this._state.isStopped&&1===this._group.length&&n(this._state.o,this._state.errors)},r.prototype.completed=function(){this._group.remove(this._inner),this._state.isStopped&&1===this._group.length&&n(this._state.o,this._state.errors)},e}(Sn);Fn.mergeDelayError=function(){var t;if(Array.isArray(arguments[0]))t=arguments[0];else{var e=arguments.length;t=new Array(e);for(var n=0;n<e;n++)t[n]=arguments[n]}var r=T(null,t);return new qr(r)},An.onErrorResumeNext=function(t){if(!t)throw new Error("Second observable is required");return Rr([this,t])};var jr=function(t){function e(e){this.sources=e,t.call(this)}function n(t,e){if(t.pos<t.sources.length){var n=t.sources[t.pos++];Xt(n)&&(n=Hn(n));var r=new $e;t.subscription.setDisposable(r),r.setDisposable(n.subscribe(new Fr(t,e)))}else t.o.onCompleted()}return Me(e,t),e.prototype.subscribeCore=function(t){var e=new Ge,r={pos:0,subscription:e,o:t,sources:this.sources},i=hn.scheduleRecursive(r,n);return new Xe(e,i)},e}(Rn),Fr=function(t){function e(e,n){this._state=e,this._recurse=n,t.call(this)}return Me(e,t),e.prototype.next=function(t){this._state.o.onNext(t)},e.prototype.error=function(){this._recurse(this._state)},e.prototype.completed=function(){this._recurse(this._state)},e}(Sn),Rr=Fn.onErrorResumeNext=function(){var t=[];if(Array.isArray(arguments[0]))t=arguments[0];else{var e=arguments.length;t=new Array(e);for(var n=0;n<e;n++)t[n]=arguments[n]}return new jr(t)},Tr=function(t){function e(e,n){this._s=e,this._o=Xt(n)?Hn(n):n,this._open=!1,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){var e=new $e;e.setDisposable(this._s.subscribe(new Mr(t,this))),Xt(this._o)&&(this._o=Hn(this._o));var n=new $e;return n.setDisposable(this._o.subscribe(new Pr(t,this,n))),new Xe(e,n)},e}(Rn),Mr=function(t){function e(e,n){this._o=e,this._p=n,t.call(this)}return Me(e,t),e.prototype.next=function(t){this._p._open&&this._o.onNext(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.onCompleted=function(){this._p._open&&this._o.onCompleted()},e}(Sn),Pr=function(t){function e(e,n,r){this._o=e,this._p=n,this._r=r,t.call(this)}return Me(e,t),e.prototype.next=function(){this._p._open=!0,this._r.dispose()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.onCompleted=function(){this._r.dispose()},e}(Sn);An.skipUntil=function(t){return new Tr(this,t)};var Lr=function(t){function e(e){this.source=e,t.call(this)}function n(t,e){this.o=t,this.inner=e,this.stopped=!1,this.latest=0,this.hasLatest=!1,Sn.call(this)}function r(t,e){this.parent=t,this.id=e,Sn.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){var e=new Ge,r=this.source.subscribe(new n(t,e));return new Xe(r,e)},Me(n,Sn),n.prototype.next=function(t){var e=new $e,n=++this.latest;this.hasLatest=!0,this.inner.setDisposable(e),Xt(t)&&(t=Hn(t)),e.setDisposable(t.subscribe(new r(this,n)))},n.prototype.error=function(t){this.o.onError(t)},n.prototype.completed=function(){this.stopped=!0,!this.hasLatest&&this.o.onCompleted()},Me(r,Sn),r.prototype.next=function(t){this.parent.latest===this.id&&this.parent.o.onNext(t)},r.prototype.error=function(t){this.parent.latest===this.id&&this.parent.o.onError(t)},r.prototype.completed=function(){this.parent.latest===this.id&&(this.parent.hasLatest=!1,this.parent.stopped&&this.parent.o.onCompleted())},e}(Rn);An.switch=An.switchLatest=function(){return new Lr(this)};var Wr=function(t){function e(e,n){this.source=e,this.other=Xt(n)?Hn(n):n,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){return new Xe(this.source.subscribe(t),this.other.subscribe(new Vr(t)))},e}(Rn),Vr=function(t){function e(e){this._o=e,t.call(this)}return Me(e,t),e.prototype.next=function(){this._o.onCompleted()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.onCompleted=Kt,e}(Sn);An.takeUntil=function(t){return new Wr(this,t)};var zr=function(t){function e(e,n,r){this._s=e,this._ss=n,this._cb=r,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){for(var e=this._ss.length,n={hasValue:C(e,L),hasValueAll:!1,values:new Array(e)},r=this._ss.length,i=new Array(r+1),o=0;o<r;o++){var s=this._ss[o],u=new $e;Xt(s)&&(s=Hn(s)),u.setDisposable(s.subscribe(new Ir(t,o,n))),i[o]=u}var c=new $e;return c.setDisposable(this._s.subscribe(new Br(t,this._cb,n))),i[r]=c,new Ye(i)},e}(Rn),Ir=function(t){function e(e,n,r){this._o=e,this._i=n,this._state=r,t.call(this)}return Me(e,t),e.prototype.next=function(t){this._state.values[this._i]=t,this._state.hasValue[this._i]=!0,this._state.hasValueAll=this._state.hasValue.every(Ht)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=Kt,e}(Sn),Br=function(t){function e(e,n,r){this._o=e,this._cb=n,this._state=r,t.call(this)}return Me(e,t),e.prototype.next=function(t){var e=[t].concat(this._state.values);if(this._state.hasValueAll){var n=te(this._cb).apply(null,e);if(n===Zt)return this._o.onError(n.e);this._o.onNext(n)}},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Sn);An.withLatestFrom=function(){if(0===arguments.length)throw new Error("invalid arguments");for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Yt(e[t-1])?e.pop():W;return Array.isArray(e[0])&&(e=e[0]),new zr(this,e,r)};var Ur=function(t){function e(e,n){this._s=e,this._cb=n,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){for(var e=this._s.length,n=new Array(e),r=C(e,L),i=C(e,V),o=0;o<e;o++){var s=this._s[o],u=new $e;n[o]=u,Xt(s)&&(s=Hn(s)),u.setDisposable(s.subscribe(new Kr(t,o,this,i,r)))}return new Ye(n)},e}(Rn),Kr=function(t){function e(e,n,r,i,o){this._o=e,this._i=n,this._p=r,this._q=i,this._d=o,t.call(this)}function n(t){return t.length>0}function r(t){return t.shift()}function i(t){return function(e,n){return n!==t}}return Me(e,t),e.prototype.next=function(t){if(this._q[this._i].push(t),this._q.every(n)){var e=this._q.map(r),o=te(this._p._cb).apply(null,e);if(o===Zt)return this._o.onError(o.e);this._o.onNext(o)}else this._d.filter(i(this._i)).every(Ht)&&this._o.onCompleted()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._d[this._i]=!0,this._d.every(Ht)&&this._o.onCompleted()},e}(Sn);An.zip=function(){if(0===arguments.length)throw new Error("invalid arguments");for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Yt(e[t-1])?e.pop():W;Array.isArray(e[0])&&(e=e[0]);var i=this;return e.unshift(i),new Ur(e,r)},Fn.zip=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Array.isArray(e[0])&&(e=Yt(e[1])?e[0].concat(e[1]):e[0]);var r=e.shift();return r.zip.apply(r,e)};var Hr=function(t){function e(e,n){this.sources=e,this._cb=n,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){for(var e=this.sources,n=e.length,r=new Array(n),i={q:C(n,V),done:C(n,L),cb:this._cb,o:t},o=0;o<n;o++)!function(t){var n=e[t],o=new $e;(_e(n)||de(n))&&(n=er(n)),r[t]=o,o.setDisposable(n.subscribe(new Jr(i,t)))}(o);return new Ye(r)},e}(Rn),Jr=function(t){function e(e,n){this._s=e,this._i=n,t.call(this)}function n(t){return t.length>0}function r(t){return t.shift()}function i(t){return function(e,n){return n!==t}}return Me(e,t),e.prototype.next=function(t){if(this._s.q[this._i].push(t),this._s.q.every(n)){var e=this._s.q.map(r),o=te(this._s.cb).apply(null,e);if(o===Zt)return this._s.o.onError(o.e);this._s.o.onNext(o)}else this._s.done.filter(i(this._i)).every(Ht)&&this._s.o.onCompleted()},e.prototype.error=function(t){this._s.o.onError(t)},e.prototype.completed=function(){this._s.done[this._i]=!0,this._s.done.every(Ht)&&this._s.o.onCompleted()},e}(Sn);An.zipIterable=function(){if(0===arguments.length)throw new Error("invalid arguments");for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Yt(e[t-1])?e.pop():W,i=this;return e.unshift(i),new Hr(e,r)},An.asObservable=function(){return new ps(z(this),this)},An.bufferWithCount=An.bufferCount=function(t,e){return"number"!=typeof e&&(e=t),this.windowWithCount(t,e).flatMap(I).filter(B)};var Qr=function(t){function e(e){this.source=e,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new $r(t))},e}(Rn),$r=function(t){function e(e){this._o=e,t.call(this)}return Me(e,t),e.prototype.next=function(t){t.accept(this._o)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Sn);An.dematerialize=function(){return new Qr(this)};var Gr=function(t){function e(e,n,r){this.source=e,this.keyFn=n,this.comparer=r,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Xr(t,this.keyFn,this.comparer))},e}(Rn),Xr=function(t){function e(e,n,r){this.o=e,this.keyFn=n,this.comparer=r,this.hasCurrentKey=!1,this.currentKey=null,t.call(this)}return Me(e,t),e.prototype.next=function(t){var e,n=t
;return Yt(this.keyFn)&&(n=te(this.keyFn)(t))===Zt?this.o.onError(n.e):this.hasCurrentKey&&(e=te(this.comparer)(this.currentKey,n))===Zt?this.o.onError(e.e):void(this.hasCurrentKey&&e||(this.hasCurrentKey=!0,this.currentKey=n,this.o.onNext(t)))},e.prototype.error=function(t){this.o.onError(t)},e.prototype.completed=function(){this.o.onCompleted()},e}(Sn);An.distinctUntilChanged=function(t,e){return e||(e=Qt),new Gr(this,t,e)};var Yr=function(t){function e(e,n,r,i){this.source=e,this._oN=n,this._oE=r,this._oC=i,t.call(this)}function n(t,e){this.o=t,this.t=!e._oN||Yt(e._oN)?Dn(e._oN||Kt,e._oE||Kt,e._oC||Kt):e._oN,this.isStopped=!1,Sn.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t,this))},Me(n,Sn),n.prototype.next=function(t){var e=te(this.t.onNext).call(this.t,t);e===Zt&&this.o.onError(e.e),this.o.onNext(t)},n.prototype.error=function(t){var e=te(this.t.onError).call(this.t,t);if(e===Zt)return this.o.onError(e.e);this.o.onError(t)},n.prototype.completed=function(){var t=te(this.t.onCompleted).call(this.t);if(t===Zt)return this.o.onError(t.e);this.o.onCompleted()},e}(Rn);An.do=An.tap=An.doAction=function(t,e,n){return new Yr(this,t,e,n)},An.doOnNext=An.tapOnNext=function(t,e){return this.tap(void 0!==e?function(n){t.call(e,n)}:t)},An.doOnError=An.tapOnError=function(t,e){return this.tap(Kt,void 0!==e?function(n){t.call(e,n)}:t)},An.doOnCompleted=An.tapOnCompleted=function(t,e){return this.tap(Kt,null,void 0!==e?function(){t.call(e)}:t)};var Zr=function(t){function e(e,n,r){this.source=e,this._fn=be(n,r,0),t.call(this)}function n(t,e){this.isDisposed=!1,this._s=t,this._fn=e}return Me(e,t),e.prototype.subscribeCore=function(t){var e=te(this.source.subscribe).call(this.source,t);return e===Zt&&(this._fn(),s(e.e)),new n(e,this._fn)},n.prototype.dispose=function(){if(!this.isDisposed){var t=te(this._s.dispose).call(this._s);this._fn(),t===Zt&&s(t.e)}},e}(Rn);An.finally=function(t,e){return new Zr(this,t,e)};var ti=function(t){function e(e){this.source=e,t.call(this)}function n(t){this.o=t,this.isStopped=!1}return Me(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t))},n.prototype.onNext=Kt,n.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.o.onError(t))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.o.onCompleted())},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(t){return!this.isStopped&&(this.isStopped=!0,this.observer.onError(t),!0)},e}(Rn);An.ignoreElements=function(){return new ti(this)};var ei=function(t){function e(e,n){this.source=e,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new ni(t))},e}(Rn),ni=function(t){function e(e){this._o=e,t.call(this)}return Me(e,t),e.prototype.next=function(t){this._o.onNext(Cn(t))},e.prototype.error=function(t){this._o.onNext(gn(t)),this._o.onCompleted()},e.prototype.completed=function(){this._o.onNext(xn()),this._o.onCompleted()},e}(Sn);An.materialize=function(){return new ei(this)},An.repeat=function(t){return Vn(this,t).concat()},An.retry=function(t){return Vn(this,t).catchError()};var ri=function(t){function e(t){return{isDisposed:!1,dispose:function(){this.isDisposed||(this.isDisposed=!0,t.isDisposed=!0)}}}function n(e,n){this.source=e,this._notifier=n,t.call(this)}return Me(n,t),n.prototype.subscribeCore=function(t){var n=new _s,r=new _s,i=this._notifier(n),o=i.subscribe(r),s=this.source["@@iterator"](),u={isDisposed:!1},c=new Ge,h=pn.scheduleRecursive(null,function(e,i){if(!u.isDisposed){var o=s.next();if(o.done)return void t.onCompleted();var h=o.value;Xt(h)&&(h=Hn(h));var a=new $e,p=new $e;c.setDisposable(new Xe(p,a)),a.setDisposable(h.subscribe(function(e){t.onNext(e)},function(e){p.setDisposable(r.subscribe(i,function(e){t.onError(e)},function(){t.onCompleted()})),n.onNext(e),a.dispose()},function(){t.onCompleted()}))}});return new Ye([o,c,h,e(u)])},n}(Rn);An.retryWhen=function(t){return new ri(U(this),t)};var ii=function(t){function e(t){return{isDisposed:!1,dispose:function(){this.isDisposed||(this.isDisposed=!0,t.isDisposed=!0)}}}function n(e,n){this.source=e,this._notifier=n,t.call(this)}return Me(n,t),n.prototype.subscribeCore=function(t){var n=new _s,r=new _s,i=this._notifier(n),o=i.subscribe(r),s=this.source["@@iterator"](),u={isDisposed:!1},c=new Ge,h=pn.scheduleRecursive(null,function(e,i){if(!u.isDisposed){var o=s.next();if(o.done)return void t.onCompleted();var h=o.value;Xt(h)&&(h=Hn(h));var a=new $e,p=new $e;c.setDisposable(new Xe(p,a)),a.setDisposable(h.subscribe(function(e){t.onNext(e)},function(e){t.onError(e)},function(){p.setDisposable(r.subscribe(i,function(e){t.onError(e)},function(){t.onCompleted()})),n.onNext(null),a.dispose()}))}});return new Ye([o,c,h,e(u)])},n}(Rn);An.repeatWhen=function(t){return new ii(U(this),t)};var oi=function(t){function e(e,n,r,i){this.source=e,this.accumulator=n,this.hasSeed=r,this.seed=i,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new si(t,this))},e}(Rn),si=function(t){function e(e,n){this._o=e,this._p=n,this._fn=n.accumulator,this._hs=n.hasSeed,this._s=n.seed,this._ha=!1,this._a=null,this._hv=!1,this._i=0,t.call(this)}return Me(e,t),e.prototype.next=function(t){if(!this._hv&&(this._hv=!0),this._ha?this._a=te(this._fn)(this._a,t,this._i,this._p):(this._a=this._hs?te(this._fn)(this._s,t,this._i,this._p):t,this._ha=!0),this._a===Zt)return this._o.onError(this._a.e);this._o.onNext(this._a),this._i++},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){!this._hv&&this._hs&&this._o.onNext(this._s),this._o.onCompleted()},e}(Sn);An.scan=function(){var t,e=!1,n=arguments[0];return 2===arguments.length&&(e=!0,t=arguments[1]),new oi(this,n,e,t)};var ui=function(t){function e(e,n){this.source=e,this._c=n,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new ci(t,this._c))},e}(Rn),ci=function(t){function e(e,n){this._o=e,this._c=n,this._q=[],t.call(this)}return Me(e,t),e.prototype.next=function(t){this._q.push(t),this._q.length>this._c&&this._o.onNext(this._q.shift())},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Sn);An.skipLast=function(t){if(t<0)throw new ce;return new ui(this,t)},An.startWith=function(){var t,e=0;arguments.length&&rn(arguments[0])?(t=arguments[0],e=1):t=hn;for(var n=[],r=e,i=arguments.length;r<i;r++)n.push(arguments[r]);return gr.apply(null,[rr(n,t),this])};var hi=function(t){function e(e,n){this._o=e,this._c=n,this._q=[],t.call(this)}return Me(e,t),e.prototype.next=function(t){this._q.push(t),this._q.length>this._c&&this._q.shift()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){for(;this._q.length>0;)this._o.onNext(this._q.shift());this._o.onCompleted()},e}(Sn);An.takeLast=function(t){if(t<0)throw new ce;var e=this;return new ps(function(n){return e.subscribe(new hi(n,t))},e)};var ai=function(t){function e(e,n){this._o=e,this._c=n,this._q=[],t.call(this)}return Me(e,t),e.prototype.next=function(t){this._q.push(t),this._q.length>this._c&&this._q.shift()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(this._q),this._o.onCompleted()},e}(Sn);An.takeLastBuffer=function(t){if(t<0)throw new ce;var e=this;return new ps(function(n){return e.subscribe(new ai(n,t))},e)},An.windowWithCount=An.windowCount=function(t,e){var n=this;if(+t||(t=0),Math.abs(t)===1/0&&(t=0),t<=0)throw new ce;if(null==e&&(e=t),+e||(e=0),Math.abs(e)===1/0&&(e=0),e<=0)throw new ce;return new ps(function(r){function i(){var t=new _s;c.push(t),r.onNext(Le(t,s))}var o=new $e,s=new Ze(o),u=0,c=[];return i(),o.setDisposable(n.subscribe(function(n){for(var r=0,o=c.length;r<o;r++)c[r].onNext(n);var s=u-t+1;s>=0&&s%e==0&&c.shift().onCompleted(),++u%e==0&&i()},function(t){for(;c.length>0;)c.shift().onError(t);r.onError(t)},function(){for(;c.length>0;)c.shift().onCompleted();r.onCompleted()})),s},n)},An.selectConcat=An.concatMap=function(t,e,n){return Yt(t)&&Yt(e)?this.concatMap(function(n,r){var i=t(n,r);return Xt(i)&&(i=Hn(i)),(_e(i)||de(i))&&(i=er(i)),i.map(function(t,i){return e(n,t,r,i)})}):Yt(t)?K(this,t,n):K(this,function(){return t})},An.concatMapObserver=An.selectConcatObserver=function(t,e,n,r){var i=this,o=be(t,r,2),s=be(e,r,1),u=be(n,r,0);return new ps(function(t){var e=0;return i.subscribe(function(n){var r;try{r=o(n,e++)}catch(e){return void t.onError(e)}Xt(r)&&(r=Hn(r)),t.onNext(r)},function(e){var n;try{n=s(e)}catch(e){return void t.onError(e)}Xt(n)&&(n=Hn(n)),t.onNext(n),t.onCompleted()},function(){var e;try{e=u()}catch(e){return void t.onError(e)}Xt(e)&&(e=Hn(e)),t.onNext(e),t.onCompleted()})},this).concatAll()};var pi=function(t){function e(e,n){this._o=e,this._d=n,this._f=!1,t.call(this)}return Me(e,t),e.prototype.next=function(t){this._f=!0,this._o.onNext(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){!this._f&&this._o.onNext(this._d),this._o.onCompleted()},e}(Sn);An.defaultIfEmpty=function(e){var n=this;return e===t&&(e=null),new ps(function(t){return n.subscribe(new pi(t,e))},n)},J.prototype.push=function(t){var e=-1===H(this.set,t,this.comparer);return e&&this.set.push(t),e};var fi=function(t){function e(e,n,r){this.source=e,this._keyFn=n,this._cmpFn=r,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new li(t,this._keyFn,this._cmpFn))},e}(Rn),li=function(t){function e(e,n,r){this._o=e,this._keyFn=n,this._h=new J(r),t.call(this)}return Me(e,t),e.prototype.next=function(t){var e=t;if(Yt(this._keyFn)&&(e=te(this._keyFn)(t))===Zt)return this._o.onError(e.e);this._h.push(e)&&this._o.onNext(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Sn);An.distinct=function(t,e){return e||(e=Qt),new fi(this,t,e)},An.groupBy=function(t,e){return this.groupByUntil(t,e,ur)},An.groupByUntil=function(e,n,r){var i=this;return new ps(function(o){var s=new Oo,u=new ze,c=new Ze(u),h=function(t){return function(e){e.onError(t)}};return u.add(i.subscribe(function(i){var a=te(e)(i);if(a===Zt)return s.forEach(h(a.e)),o.onError(a.e);var p=!1,f=s.get(a);if(f===t&&(f=new _s,s.set(a,f),p=!0),p){var l=new ds(a,f,c),d=new ds(a,f),_=te(r)(d);if(_===Zt)return s.forEach(h(_.e)),o.onError(_.e);o.onNext(l);var b=new $e;u.add(b),b.setDisposable(_.take(1).subscribe(Kt,function(t){s.forEach(h(t)),o.onError(t)},function(){s.delete(a)&&f.onCompleted(),u.remove(b)}))}var v=i;if(Yt(n)&&(v=te(n)(i))===Zt)return s.forEach(h(v.e)),o.onError(v.e);f.onNext(v)},function(t){s.forEach(h(t)),o.onError(t)},function(){s.forEach(function(t){t.onCompleted()}),o.onCompleted()})),c},i)};var di=function(t){function e(e,n,r){this.source=e,this.selector=be(n,r,3),t.call(this)}function n(t,e){return function(n,r,i){return t.call(this,e.selector(n,r,i),r,i)}}function r(t,e,n){this.o=t,this.selector=e,this.source=n,this.i=0,Sn.call(this)}return Me(e,t),e.prototype.internalMap=function(t,r){return new e(this.source,n(t,this),r)},e.prototype.subscribeCore=function(t){return this.source.subscribe(new r(t,this.selector,this))},Me(r,Sn),r.prototype.next=function(t){var e=te(this.selector)(t,this.i++,this.source);if(e===Zt)return this.o.onError(e.e);this.o.onNext(e)},r.prototype.error=function(t){this.o.onError(t)},r.prototype.completed=function(){this.o.onCompleted()},e}(Rn);An.map=An.select=function(t,e){var n="function"==typeof t?t:function(){return t};return this instanceof di?this.internalMap(n,e):new di(this,n,e)},An.pluck=function(){var t=arguments.length,e=new Array(t);if(0===t)throw new Error("List of properties cannot be empty.");for(var n=0;n<t;n++)e[n]=arguments[n];return this.map(Q(e,t))},An.flatMap=An.selectMany=An.mergeMap=function(t,e,n){return new Tn(this,t,e,n).mergeAll()},An.flatMapObserver=An.selectManyObserver=function(t,e,n,r){var i=this;return new ps(function(o){var s=0;return i.subscribe(function(e){var n;try{n=t.call(r,e,s++)}catch(t){return void o.onError(t)}Xt(n)&&(n=Hn(n)),o.onNext(n)},function(t){var n;try{n=e.call(r,t)}catch(t){return void o.onError(t)}Xt(n)&&(n=Hn(n)),o.onNext(n),o.onCompleted()},function(){var t;try{t=n.call(r)}catch(t){return void o.onError(t)}Xt(t)&&(t=Hn(t)),o.onNext(t),o.onCompleted()})},i).mergeAll()},An.flatMapLatest=An.switchMap=function(t,e,n){return new Tn(this,t,e,n).switchLatest()};var _i=function(t){function e(e,n){this.source=e,this._count=n,t.call(this)}function n(t,e){this._o=t,this._r=e,Sn.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t,this._count))},Me(n,Sn),n.prototype.next=function(t){this._r<=0?this._o.onNext(t):this._r--},n.prototype.error=function(t){this._o.onError(t)},n.prototype.completed=function(){this._o.onCompleted()},e}(Rn);An.skip=function(t){if(t<0)throw new ce;return new _i(this,t)};var bi=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new vi(t,this))},e}(Rn),vi=function(t){function e(e,n){this._o=e,this._p=n,this._i=0,this._r=!1,t.call(this)}return Me(e,t),e.prototype.next=function(t){if(!this._r){var e=te(this._p._fn)(t,this._i++,this._p);if(e===Zt)return this._o.onError(e.e);this._r=!e}this._r&&this._o.onNext(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Sn);An.skipWhile=function(t,e){var n=be(t,e,3);return new bi(this,n)};var yi=function(t){function e(e,n){this.source=e,this._count=n,t.call(this)}function n(t,e){this._o=t,this._c=e,this._r=e,Sn.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t,this._count))},Me(n,Sn),n.prototype.next=function(t){this._r-- >0&&(this._o.onNext(t),this._r<=0&&this._o.onCompleted())},n.prototype.error=function(t){this._o.onError(t)},n.prototype.completed=function(){this._o.onCompleted()},e}(Rn);An.take=function(t,e){if(t<0)throw new ce;return 0===t?Yn(e):new yi(this,t)};var wi=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new mi(t,this))},e}(Rn),mi=function(t){function e(e,n){this._o=e,this._p=n,this._i=0,this._r=!0,t.call(this)}return Me(e,t),e.prototype.next=function(t){if(this._r&&(this._r=te(this._p._fn)(t,this._i++,this._p),this._r===Zt))return this._o.onError(this._r.e);this._r?this._o.onNext(t):this._o.onCompleted()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Sn);An.takeWhile=function(t,e){var n=be(t,e,3);return new wi(this,n)};var Ei=function(t){function e(e,n,r){this.source=e,this.predicate=be(n,r,3),t.call(this)}function n(t,e){return function(n,r,i){return e.predicate(n,r,i)&&t.call(this,n,r,i)}}function r(t,e,n){this.o=t,this.predicate=e,this.source=n,this.i=0,Sn.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new r(t,this.predicate,this))},e.prototype.internalFilter=function(t,r){return new e(this.source,n(t,this),r)},Me(r,Sn),r.prototype.next=function(t){var e=te(this.predicate)(t,this.i++,this.source);if(e===Zt)return this.o.onError(e.e);e&&this.o.onNext(t)},r.prototype.error=function(t){this.o.onError(t)},r.prototype.completed=function(){this.o.onCompleted()},e}(Rn);An.filter=An.where=function(t,e){return this instanceof Ei?this.internalFilter(t,e):new Ei(this,t,e)};var Ci=function(t){function e(e,n,r){this.source=e,this._k=n,this._c=r,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new gi(t,this._k,this._c))},e}(Rn),gi=function(t){function e(e,n,r){this._o=e,this._k=n,this._c=r,this._v=null,this._hv=!1,this._l=[],t.call(this)}return Me(e,t),e.prototype.next=function(t){var e=te(this._k)(t);if(e===Zt)return this._o.onError(e.e);var n=0;if(this._hv){if((n=te(this._c)(e,this._v))===Zt)return this._o.onError(n.e)}else this._hv=!0,this._v=e;n>0&&(this._v=e,this._l=[]),n>=0&&this._l.push(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(this._l),this._o.onCompleted()},e}(Sn),xi=function(t){function e(e,n,r,i){this.source=e,this.accumulator=n,this.hasSeed=r,this.seed=i,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Ni(t,this))},e}(Rn),Ni=function(t){function e(e,n){this._o=e,this._p=n,this._fn=n.accumulator,this._hs=n.hasSeed,this._s=n.seed,this._ha=!1,this._a=null,this._hv=!1,this._i=0,t.call(this)}return Me(e,t),e.prototype.next=function(t){if(!this._hv&&(this._hv=!0),this._ha?this._a=te(this._fn)(this._a,t,this._i,this._p):(this._a=this._hs?te(this._fn)(this._s,t,this._i,this._p):t,this._ha=!0),this._a===Zt)return this._o.onError(this._a.e);this._i++},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._hv&&this._o.onNext(this._a),!this._hv&&this._hs&&this._o.onNext(this._s),!this._hv&&!this._hs&&this._o.onError(new se),this._o.onCompleted()},e}(Sn);An.reduce=function(){var t,e=!1,n=arguments[0];return 2===arguments.length&&(e=!0,t=arguments[1]),new xi(this,n,e,t)};var Di=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Ai(t,this._fn,this.source))},e}(Rn),Ai=function(t){function e(e,n,r){this._o=e,this._fn=n,this._s=r,this._i=0,t.call(this)}return Me(e,t),e.prototype.next=function(t){var e=te(this._fn)(t,this._i++,this._s);if(e===Zt)return this._o.onError(e.e);Boolean(e)&&(this._o.onNext(!0),this._o.onCompleted())},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(!1),this._o.onCompleted()},e}(Sn);An.some=function(t,e){var n=be(t,e,3);return new Di(this,n)};var Si=function(t){function e(e){this.source=e,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Oi(t))},e}(Rn),Oi=function(t){function e(e){this._o=e,t.call(this)}return Me(e,t),e.prototype.next=function(){this._o.onNext(!1),this._o.onCompleted()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(!0),this._o.onCompleted()},e}(Sn);An.isEmpty=function(){return new Si(this)};var qi=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new ki(t,this._fn,this.source))},e}(Rn),ki=function(t){function e(e,n,r){this._o=e,this._fn=n,this._s=r,this._i=0,t.call(this)}return Me(e,t),e.prototype.next=function(t){var e=te(this._fn)(t,this._i++,this._s);if(e===Zt)return this._o.onError(e.e);Boolean(e)||(this._o.onNext(!1),this._o.onCompleted())},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(!0),this._o.onCompleted()},e}(Sn);An.every=function(t,e){var n=be(t,e,3);return new qi(this,n)};var ji=function(t){function e(e,n,r){var i=+r||0;Math.abs(i)===1/0&&(i=0),this.source=e,this._elem=n,this._n=i,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){return this._n<0?(t.onNext(!1),t.onCompleted(),Ke):this.source.subscribe(new Fi(t,this._elem,this._n))},e}(Rn),Fi=function(t){function e(e,n,r){this._o=e,this._elem=n,this._n=r,this._i=0,t.call(this)}function n(t,e){return 0===t&&0===e||t===e||isNaN(t)&&isNaN(e)}return Me(e,t),e.prototype.next=function(t){this._i++>=this._n&&n(t,this._elem)&&(this._o.onNext(!0),this._o.onCompleted())},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(!1),this._o.onCompleted()},e}(Sn);An.includes=function(t,e){return new ji(this,t,e)};var Ri=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Ti(t,this._fn,this.source))},e}(Rn),Ti=function(t){function e(e,n,r){this._o=e,this._fn=n,this._s=r,this._i=0,this._c=0,t.call(this)}return Me(e,t),e.prototype.next=function(t){if(this._fn){var e=te(this._fn)(t,this._i++,this._s);if(e===Zt)return this._o.onError(e.e);Boolean(e)&&this._c++}else this._c++},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(this._c),this._o.onCompleted()},e}(Sn);An.count=function(t,e){var n=be(t,e,3);return new Ri(this,n)};var Mi=function(t){function e(e,n,r){this.source=e,this._e=n,this._n=r,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){return this._n<0?(t.onNext(-1),t.onCompleted(),Ke):this.source.subscribe(new Pi(t,this._e,this._n))},e}(Rn),Pi=function(t){function e(e,n,r){this._o=e,this._e=n,this._n=r,this._i=0,t.call(this)}return Me(e,t),e.prototype.next=function(t){this._i>=this._n&&t===this._e&&(this._o.onNext(this._i),this._o.onCompleted()),this._i++},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(-1),this._o.onCompleted()},e}(Sn);An.indexOf=function(t,e){var n=+e||0;return Math.abs(n)===1/0&&(n=0),new Mi(this,t,n)};var Li=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Wi(t,this._fn,this.source))},e}(Rn),Wi=function(t){function e(e,n,r){this._o=e,this._fn=n,this._s=r,this._i=0,this._c=0,t.call(this)}return Me(e,t),e.prototype.next=function(t){if(this._fn){var e=te(this._fn)(t,this._i++,this._s);if(e===Zt)return this._o.onError(e.e);this._c+=e}else this._c+=t},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(this._c),this._o.onCompleted()},e}(Sn);An.sum=function(t,e){var n=be(t,e,3);return new Li(this,n)},An.minBy=function(t,e){return e||(e=$t),new Ci(this,t,function(t,n){return-1*e(t,n)})},An.min=function(t){return this.minBy(Ht,t).map($)},An.maxBy=function(t,e){return e||(e=$t),new Ci(this,t,e)},An.max=function(t){return this.maxBy(Ht,t).map($)};var Vi=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new zi(t,this._fn,this.source))},e}(Rn),zi=function(t){function e(e,n,r){this._o=e,this._fn=n,this._s=r,this._c=0,this._t=0,t.call(this)}return Me(e,t),e.prototype.next=function(t){if(this._fn){var e=te(this._fn)(t,this._c++,this._s);if(e===Zt)return this._o.onError(e.e);this._t+=e}else this._c++,this._t+=t},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){if(0===this._c)return this._o.onError(new se);this._o.onNext(this._t/this._c),this._o.onCompleted()},e}(Sn);An.average=function(t,e){var n,r=this;return Yt(t)&&(n=be(t,e,3)),new Vi(r,n)},An.sequenceEqual=function(t,e){var n=this;return e||(e=Qt),new ps(function(r){var i=!1,o=!1,s=[],u=[],c=n.subscribe(function(t){if(u.length>0){var n=u.shift(),i=te(e)(n,t);if(i===Zt)return r.onError(i.e);i||(r.onNext(!1),r.onCompleted())}else o?(r.onNext(!1),r.onCompleted()):s.push(t)},function(t){r.onError(t)},function(){i=!0,0===s.length&&(u.length>0?(r.onNext(!1),r.onCompleted()):o&&(r.onNext(!0),r.onCompleted()))});(_e(t)||de(t))&&(t=er(t)),Xt(t)&&(t=Hn(t));var h=t.subscribe(function(t){if(s.length>0){var n=s.shift(),o=te(e)(n,t);if(o===Zt)return r.onError(o.e);o||(r.onNext(!1),r.onCompleted())}else i?(r.onNext(!1),r.onCompleted()):u.push(t)},function(t){r.onError(t)},function(){o=!0,0===u.length&&(s.length>0?(r.onNext(!1),r.onCompleted()):i&&(r.onNext(!0),r.onCompleted()))});return new Xe(c,h)},n)};var Ii=function(t){function e(e,n,r){this.source=e,this._i=n,this._d=r,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Bi(t,this._i,this._d))},e}(Rn),Bi=function(e){function n(t,n,r){this._o=t,this._i=n,this._d=r,e.call(this)}return Me(n,e),n.prototype.next=function(t){0==this._i--&&(this._o.onNext(t),this._o.onCompleted())},n.prototype.error=function(t){this._o.onError(t)},n.prototype.completed=function(){this._d===t?this._o.onError(new ce):(this._o.onNext(this._d),this._o.onCompleted())},n}(Sn);An.elementAt=function(t,e){if(t<0)throw new ce;return new Ii(this,t,e)};var Ui=function(e){function n(t,n,r){this._o=t,this._obj=n,this._s=r,this._i=0,this._hv=!1,this._v=null,e.call(this)}return Me(n,e),n.prototype.next=function(t){var e=!1;if(this._obj.predicate){var n=te(this._obj.predicate)(t,this._i++,this._s);if(n===Zt)return this._o.onError(n.e);Boolean(n)&&(e=!0)}else this._obj.predicate||(e=!0);if(e){if(this._hv)return this._o.onError(new Error("Sequence contains more than one matching element"));this._hv=!0,this._v=t}},n.prototype.error=function(t){this._o.onError(t)},n.prototype.completed=function(){this._hv?(this._o.onNext(this._v),this._o.onCompleted()):this._obj.defaultValue===t?this._o.onError(new se):(this._o.onNext(this._obj.defaultValue),this._o.onCompleted())},n}(Sn);An.single=function(t,e){var n={},r=this;if(n="object"==typeof arguments[0]?arguments[0]:{predicate:arguments[0],thisArg:arguments[1],defaultValue:arguments[2]},Yt(n.predicate)){var i=n.predicate;n.predicate=be(i,n.thisArg,3)}return new ps(function(t){return r.subscribe(new Ui(t,n,r))},r)};var Ki=function(t){function e(e,n){this.source=e,this._obj=n,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Hi(t,this._obj,this.source))},e}(Rn),Hi=function(e){function n(t,n,r){this._o=t,this._obj=n,this._s=r,this._i=0,e.call(this)}return Me(n,e),n.prototype.next=function(t){if(this._obj.predicate){var e=te(this._obj.predicate)(t,this._i++,this._s);if(e===Zt)return this._o.onError(e.e);Boolean(e)&&(this._o.onNext(t),this._o.onCompleted())}else this._obj.predicate||(this._o.onNext(t),this._o.onCompleted())},n.prototype.error=function(t){this._o.onError(t)},n.prototype.completed=function(){this._obj.defaultValue===t?this._o.onError(new se):(this._o.onNext(this._obj.defaultValue),this._o.onCompleted())},n}(Sn);An.first=function(){var t={};if(t="object"==typeof arguments[0]?arguments[0]:{predicate:arguments[0],thisArg:arguments[1],defaultValue:arguments[2]},Yt(t.predicate)){var e=t.predicate;t.predicate=be(e,t.thisArg,3)}return new Ki(this,t)};var Ji=function(t){function e(e,n){this.source=e,this._obj=n,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Qi(t,this._obj,this.source))},e}(Rn),Qi=function(e){function n(t,n,r){this._o=t,this._obj=n,this._s=r,this._i=0,this._hv=!1,this._v=null,e.call(this)}return Me(n,e),n.prototype.next=function(t){var e=!1;if(this._obj.predicate){var n=te(this._obj.predicate)(t,this._i++,this._s);if(n===Zt)return this._o.onError(n.e);Boolean(n)&&(e=!0)}else this._obj.predicate||(e=!0);e&&(this._hv=!0,this._v=t)},n.prototype.error=function(t){this._o.onError(t)},n.prototype.completed=function(){this._hv?(this._o.onNext(this._v),this._o.onCompleted()):this._obj.defaultValue===t?this._o.onError(new se):(this._o.onNext(this._obj.defaultValue),this._o.onCompleted())},n}(Sn);An.last=function(){var t={};if(t="object"==typeof arguments[0]?arguments[0]:{predicate:arguments[0],thisArg:arguments[1],defaultValue:arguments[2]},Yt(t.predicate)){var e=t.predicate;t.predicate=be(e,t.thisArg,3)}return new Ji(this,t)};var $i=function(t){function e(e,n,r,i){this._o=e,this._s=n,this._cb=r,this._y=i,this._i=0,t.call(this)}return Me(e,t),e.prototype.next=function(t){var e=te(this._cb)(t,this._i,this._s);if(e===Zt)return this._o.onError(e.e);e?(this._o.onNext(this._y?this._i:t),this._o.onCompleted()):this._i++},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._y&&this._o.onNext(-1),this._o.onCompleted()},e}(Sn);An.find=function(t,e){return G(this,t,e,!1)},An.findIndex=function(t,e){return G(this,t,e,!0)};var Gi=function(t){function e(e){this.source=e,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Xi(t))},e}(Rn),Xi=function(t){function e(e){this._o=e,this._s=new Bt.Set,t.call(this)}return Me(e,t),e.prototype.next=function(t){this._s.add(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(this._s),this._o.onCompleted()},e}(Sn);An.toSet=function(){if(void 0===Bt.Set)throw new TypeError;return new Gi(this)};var Yi=function(t){function e(e,n,r){this.source=e,this._k=n,this._e=r,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Zi(t,this._k,this._e))},e}(Rn),Zi=function(t){function e(e,n,r){this._o=e,this._k=n,this._e=r,this._m=new Bt.Map,t.call(this)}return Me(e,t),e.prototype.next=function(t){var e=te(this._k)(t);if(e===Zt)return this._o.onError(e.e);var n=t;if(this._e&&(n=te(this._e)(t))===Zt)return this._o.onError(n.e);this._m.set(e,n)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(this._m),this._o.onCompleted()},e}(Sn);An.toMap=function(t,e){if(void 0===Bt.Map)throw new TypeError;return new Yi(this,t,e)};var to=function(t){function e(e,n,r){this.source=e,this._b=n,this._e=r,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new eo(t,this._b,this._e))},e}(Rn),eo=function(t){function e(e,n,r){this._o=e,this._b=n,this._e=r,this._i=0,t.call(this)}return Me(e,t),e.prototype.next=function(t){this._i>=this._b&&(this._e===this._i?this._o.onCompleted():this._o.onNext(t)),this._i++},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Sn);An.slice=function(t,e){var n=t||0;if(n<0)throw new Ut.ArgumentOutOfRangeError;if("number"==typeof e&&e<n)throw new Ut.ArgumentOutOfRangeError;return new to(this,n,e)};var no=function(t){function e(e,n,r){this.source=e,this._e=n,this._n=r,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){return this._n<0?(t.onNext(-1),t.onCompleted(),Ke):this.source.subscribe(new ro(t,this._e,this._n))},e}(Rn),ro=function(t){function e(e,n,r){this._o=e,this._e=n,this._n=r,this._v=0,this._hv=!1,this._i=0,t.call(this)}return Me(e,t),e.prototype.next=function(t){this._i>=this._n&&t===this._e&&(this._hv=!0,this._v=this._i),this._i++},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._hv?this._o.onNext(this._v):this._o.onNext(-1),this._o.onCompleted()},e}(Sn);An.lastIndexOf=function(t,e){var n=+e||0;return Math.abs(n)===1/0&&(n=0),new no(this,t,n)},Fn.wrap=function(t){function e(){return Fn.spawn.call(this,t.apply(this,arguments))}return e.__generatorFunction__=t,e};var io=Fn.spawn=function(){for(var t=arguments[0],e=this,n=[],r=1,i=arguments.length;r<i;r++)n.push(arguments[r]);return new ps(function(r){function i(e){var n=te(t.next).call(t,e);if(n===Zt)return r.onError(n.e);s(n)}function o(e){var n=te(t.next).call(t,e);if(n===Zt)return r.onError(n.e);s(n)}function s(t){if(t.done)return r.onNext(t.value),void r.onCompleted();var n=X.call(e,t.value),s=null,c=!1;Fn.isObservable(n)?u.add(n.subscribe(function(t){c=!0,s=t},o,function(){c&&i(s)})):o(new TypeError("type not supported"))}var u=new ze;return Yt(t)&&(t=t.apply(e,n)),t&&Yt(t.next)?(i(),u):(r.onNext(t),r.onCompleted())})};Fn.start=function(t,e,n){return oo(t,e,n)()};var oo=Fn.toAsync=function(t,e,n){return rn(n)||(n=bn),function(){var r=arguments,i=new bs;return n.schedule(null,function(){var n;try{n=t.apply(e,r)}catch(t){return void i.onError(t)}i.onNext(n),i.onCompleted()}),i.asObservable()}};Fn.fromCallback=function(t,e,n){return function(){void 0===e&&(e=this);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return it(t,e,n,i)}},Fn.fromNodeCallback=function(t,e,n){return function(){void 0===e&&(e=this);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return st(t,e,n,i)}},ht.prototype.dispose=function(){this.isDisposed||(this._e.removeEventListener(this._n,this._fn,!1),this.isDisposed=!0)},
Ut.config.useNativeEvents=!1;var so=function(t){function e(e,n,r){this._el=e,this._n=n,this._fn=r,t.call(this)}function n(t,e){return function(){var n=arguments[0];if(Yt(e)&&(n=te(e).apply(null,arguments))===Zt)return t.onError(n.e);t.onNext(n)}}return Me(e,t),e.prototype.subscribeCore=function(t){return at(this._el,this._n,n(t,this._fn))},e}(Rn);Fn.fromEvent=function(t,e,n){return t.addListener?co(function(n){t.addListener(e,n)},function(n){t.removeListener(e,n)},n):Ut.config.useNativeEvents||"function"!=typeof t.on||"function"!=typeof t.off?new so(t,e,n).publish().refCount():co(function(n){t.on(e,n)},function(n){t.off(e,n)},n)};var uo=function(t){function e(e,n,r){this._add=e,this._del=n,this._fn=r,t.call(this)}function n(t,e){return function(){var n=arguments[0];if(Yt(e)&&(n=te(e).apply(null,arguments))===Zt)return t.onError(n.e);t.onNext(n)}}function r(t,e,n){this._del=t,this._fn=e,this._ret=n,this.isDisposed=!1}return Me(e,t),e.prototype.subscribeCore=function(t){var e=n(t,this._fn),i=this._add(e);return new r(this._del,e,i)},r.prototype.dispose=function(){this.isDisposed||(Yt(this._del)&&this._del(this._fn,this._ret),this.isDisposed=!0)},e}(Rn),co=Fn.fromEventPattern=function(t,e,n){return new uo(t,e,n).publish().refCount()};Fn.startAsync=function(t){var e=te(t)();return e===Zt?lr(e.e):Hn(e)};var ho=function(t){function e(e,n){this.source=e,this.controller=new _s,this.paused=!0,n&&n.subscribe?this.pauser=this.controller.merge(n):this.pauser=this.controller,t.call(this)}return Me(e,t),e.prototype._subscribe=function(t){var e=this.source.publish(),n=e.subscribe(t),r=Ke,i=this.pauser.startWith(!this.paused).distinctUntilChanged().subscribe(function(t){t?r=e.connect():(r.dispose(),r=Ke)});return new Ye([n,r,i])},e.prototype.pause=function(){this.paused=!0,this.controller.onNext(!1)},e.prototype.resume=function(){this.paused=!1,this.controller.onNext(!0)},e}(Fn);An.pausable=function(t){return new ho(this,t)};var ao=function(e){function n(t,n){this.source=t,this.controller=new _s,this.paused=!0,n&&n.subscribe?this.pauser=this.controller.merge(n):this.pauser=this.controller,e.call(this)}return Me(n,e),n.prototype._subscribe=function(e){function n(){for(;i.length>0;)e.onNext(i.shift())}var r,i=[];return pt(this.source,this.pauser.startWith(!this.paused).distinctUntilChanged(),function(t,e){return{data:t,shouldFire:e}}).subscribe(function(o){r!==t&&o.shouldFire!==r?(r=o.shouldFire,o.shouldFire&&n()):(r=o.shouldFire,o.shouldFire?e.onNext(o.data):i.push(o.data))},function(t){n(),e.onError(t)},function(){n(),e.onCompleted()})},n.prototype.pause=function(){this.paused=!0,this.controller.onNext(!1)},n.prototype.resume=function(){this.paused=!1,this.controller.onNext(!0)},n}(Fn);An.pausableBuffered=function(t){return new ao(this,t)};var po=function(t){function e(e,n,r){t.call(this),this.subject=new fo(n,r),this.source=e.multicast(this.subject).refCount()}return Me(e,t),e.prototype._subscribe=function(t){return this.source.subscribe(t)},e.prototype.request=function(t){return this.subject.request(null==t?-1:t)},e}(Fn),fo=function(t){function e(e,n){null==e&&(e=!0),t.call(this),this.subject=new _s,this.enableQueue=e,this.queue=e?[]:null,this.requestedCount=0,this.requestedDisposable=null,this.error=null,this.hasFailed=!1,this.hasCompleted=!1,this.scheduler=n||pn}return Me(e,t),Pe(e.prototype,Nn,{_subscribe:function(t){return this.subject.subscribe(t)},onCompleted:function(){this.hasCompleted=!0,this.enableQueue&&0!==this.queue.length?this.queue.push(yn.createOnCompleted()):(this.subject.onCompleted(),this.disposeCurrentRequest())},onError:function(t){this.hasFailed=!0,this.error=t,this.enableQueue&&0!==this.queue.length?this.queue.push(yn.createOnError(t)):(this.subject.onError(t),this.disposeCurrentRequest())},onNext:function(t){this.requestedCount<=0?this.enableQueue&&this.queue.push(yn.createOnNext(t)):(0==this.requestedCount--&&this.disposeCurrentRequest(),this.subject.onNext(t))},_processRequest:function(t){if(this.enableQueue)for(;this.queue.length>0&&(t>0||"N"!==this.queue[0].kind);){var e=this.queue.shift();e.accept(this.subject),"N"===e.kind?t--:(this.disposeCurrentRequest(),this.queue=[])}return t},request:function(t){this.disposeCurrentRequest();var e=this;return this.requestedDisposable=this.scheduler.schedule(t,function(t,n){var r=e._processRequest(n);if(!e.hasCompleted&&!e.hasFailed&&r>0)return e.requestedCount=r,Ue(function(){e.requestedCount=0})}),this.requestedDisposable},disposeCurrentRequest:function(){this.requestedDisposable&&(this.requestedDisposable.dispose(),this.requestedDisposable=null)}}),e}(Fn);An.controlled=function(t,e){return t&&rn(t)&&(e=t,t=!0),null==t&&(t=!0),new po(this,t,e)};var lo=function(t){function e(e){t.call(this),this.source=e}function n(t,e){return e.source.request(1)}Me(e,t),e.prototype._subscribe=function(t){return this.subscription=this.source.subscribe(new r(t,this,this.subscription)),new Xe(this.subscription,bn.schedule(this,n))};var r=function(t){function e(e,n,r){t.call(this),this.observer=e,this.observable=n,this.cancel=r,this.scheduleDisposable=null}function n(t,e){return e.observable.source.request(1)}return Me(e,t),e.prototype.completed=function(){this.observer.onCompleted(),this.dispose()},e.prototype.error=function(t){this.observer.onError(t),this.dispose()},e.prototype.next=function(t){this.observer.onNext(t),this.scheduleDisposable=bn.schedule(this,n)},e.dispose=function(){this.observer=null,this.cancel&&(this.cancel.dispose(),this.cancel=null),this.scheduleDisposable&&(this.scheduleDisposable.dispose(),this.scheduleDisposable=null),t.prototype.dispose.call(this)},e}(Sn);return e}(Fn);po.prototype.stopAndWait=function(){return new lo(this)};var _o=function(t){function e(e,n){t.call(this),this.source=e,this.windowSize=n}function n(t,e){return e.source.request(e.windowSize)}Me(e,t),e.prototype._subscribe=function(t){return this.subscription=this.source.subscribe(new r(t,this,this.subscription)),new Xe(this.subscription,bn.schedule(this,n))};var r=function(t){function e(e,n,r){this.observer=e,this.observable=n,this.cancel=r,this.received=0,this.scheduleDisposable=null,t.call(this)}function n(t,e){return e.observable.source.request(e.observable.windowSize)}return Me(e,t),e.prototype.completed=function(){this.observer.onCompleted(),this.dispose()},e.prototype.error=function(t){this.observer.onError(t),this.dispose()},e.prototype.next=function(t){this.observer.onNext(t),this.received=++this.received%this.observable.windowSize,0===this.received&&(this.scheduleDisposable=bn.schedule(this,n))},e.prototype.dispose=function(){this.observer=null,this.cancel&&(this.cancel.dispose(),this.cancel=null),this.scheduleDisposable&&(this.scheduleDisposable.dispose(),this.scheduleDisposable=null),t.prototype.dispose.call(this)},e}(Sn);return e}(Fn);po.prototype.windowed=function(t){return new _o(this,t)},An.pipe=function(t){function e(){n.resume()}var n=this.pausableBuffered();return t.addListener("drain",e),n.subscribe(function(e){!t.write(e)&&n.pause()},function(e){t.emit("error",e)},function(){!t._isStdio&&t.end(),t.removeListener("drain",e)}),n.resume(),t};var bo=function(t){function e(e,n,r){this.source=e,this._fn1=n,this._fn2=r,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){var e=this.source.multicast(this._fn1());return new Xe(this._fn2(e).subscribe(t),e.connect())},e}(Rn);An.multicast=function(t,e){return Yt(t)?new bo(this,t,e):new wo(this,t)},An.publish=function(t){return t&&Yt(t)?this.multicast(function(){return new _s},t):this.multicast(new _s)},An.share=function(){return this.publish().refCount()},An.publishLast=function(t){return t&&Yt(t)?this.multicast(function(){return new bs},t):this.multicast(new bs)},An.publishValue=function(t,e){return 2===arguments.length?this.multicast(function(){return new vs(e)},t):this.multicast(new vs(t))},An.shareValue=function(t){return this.publishValue(t).refCount()},An.replay=function(t,e,n,r){return t&&Yt(t)?this.multicast(function(){return new ys(e,n,r)},t):this.multicast(new ys(e,n,r))},An.shareReplay=function(t,e,n){return this.replay(null,t,e,n).refCount()};var vo=function(t,e){this._s=t,this._o=e};vo.prototype.dispose=function(){if(!this._s.isDisposed&&null!==this._o){var t=this._s.observers.indexOf(this._o);this._s.observers.splice(t,1),this._o=null}};var yo=function(t){function e(e){this.source=e,this._count=0,this._connectableSubscription=null,t.call(this)}function n(t,e){this._p=t,this._s=e,this.isDisposed=!1}return Me(e,t),e.prototype.subscribeCore=function(t){var e=this.source.subscribe(t);return 1==++this._count&&(this._connectableSubscription=this.source.connect()),new n(this,e)},n.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._s.dispose(),0==--this._p._count&&this._p._connectableSubscription.dispose())},e}(Rn),wo=Ut.ConnectableObservable=function(t){function e(e,n){this.source=e,this._connection=null,this._source=e.asObservable(),this._subject=n,t.call(this)}function n(t,e){this._p=t,this._s=e}return Me(e,t),n.prototype.dispose=function(){this._s&&(this._s.dispose(),this._s=null,this._p._connection=null)},e.prototype.connect=function(){if(!this._connection){if(this._subject.isStopped)return Ke;var t=this._source.subscribe(this._subject);this._connection=new n(this,t)}return this._connection},e.prototype._subscribe=function(t){return this._subject.subscribe(t)},e.prototype.refCount=function(){return new yo(this)},e}(Fn);An.singleInstance=function(){function t(){return r||(r=!0,e=n.finally(function(){r=!1}).publish().refCount()),e}var e,n=this,r=!1;return new ps(function(e){return t().subscribe(e)})},An.join=function(t,e,n,r){var i=this;return new ps(function(o){var s=new ze,u=!1,c=!1,h=0,a=0,p=new Oo,f=new Oo,l=function(t){o.onError(t)};return s.add(i.subscribe(function(t){var n=h++,i=new $e;p.set(n,t),s.add(i);var c=te(e)(t);if(c===Zt)return o.onError(c.e);i.setDisposable(c.take(1).subscribe(Kt,l,function(){p.delete(n)&&0===p.size&&u&&o.onCompleted(),s.remove(i)})),f.forEach(function(e){var n=te(r)(t,e);if(n===Zt)return o.onError(n.e);o.onNext(n)})},l,function(){u=!0,(c||0===p.size)&&o.onCompleted()})),s.add(t.subscribe(function(t){var e=a++,i=new $e;f.set(e,t),s.add(i);var u=te(n)(t);if(u===Zt)return o.onError(u.e);i.setDisposable(u.take(1).subscribe(Kt,l,function(){f.delete(e)&&0===f.size&&c&&o.onCompleted(),s.remove(i)})),p.forEach(function(e){var n=te(r)(e,t);if(n===Zt)return o.onError(n.e);o.onNext(n)})},l,function(){c=!0,(u||0===f.size)&&o.onCompleted()})),s},i)},An.groupJoin=function(t,e,n,r){var i=this;return new ps(function(o){function s(t){}var u=new ze,c=new Ze(u),h=new Oo,a=new Oo,p=0,f=0,s=function(t){return function(e){e.onError(t)}};return u.add(i.subscribe(function(t){var n=new _s,i=p++;h.set(i,n);var f=te(r)(t,Le(n,c));if(f===Zt)return h.forEach(s(f.e)),o.onError(f.e);o.onNext(f),a.forEach(function(t){n.onNext(t)});var l=new $e;u.add(l);var d=te(e)(t);if(d===Zt)return h.forEach(s(d.e)),o.onError(d.e);l.setDisposable(d.take(1).subscribe(Kt,function(t){h.forEach(s(t)),o.onError(t)},function(){h.delete(i)&&n.onCompleted(),u.remove(l)}))},function(t){h.forEach(s(t)),o.onError(t)},function(){o.onCompleted()})),u.add(t.subscribe(function(t){var e=f++;a.set(e,t);var r=new $e;u.add(r);var i=te(n)(t);if(i===Zt)return h.forEach(s(i.e)),o.onError(i.e);r.setDisposable(i.take(1).subscribe(Kt,function(t){h.forEach(s(t)),o.onError(t)},function(){a.delete(e),u.remove(r)})),h.forEach(function(e){e.onNext(t)})},function(t){h.forEach(s(t)),o.onError(t)})),c},i)},An.buffer=function(){return this.window.apply(this,arguments).flatMap(I)},An.window=function(t,e){return 1===arguments.length&&"function"!=typeof arguments[0]?lt.call(this,t):"function"==typeof t?dt.call(this,t):ft.call(this,t,e)};var mo=function(t){function e(e){this.source=e,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Eo(t))},e}(Rn),Eo=function(t){function e(e){this._o=e,this._p=null,this._hp=!1,t.call(this)}return Me(e,t),e.prototype.next=function(t){this._hp?this._o.onNext([this._p,t]):this._hp=!0,this._p=t},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Sn);An.pairwise=function(){return new mo(this)},An.partition=function(t,e){var n=be(t,e,3);return[this.filter(t,e),this.filter(function(t,e,r){return!n(t,e,r)})]};var Co=function(t){function e(t,e){this.c=t,this.s=e}return Me(e,t),e.prototype[fe]=function(){var t=this;return{next:function(){return t.c()?{done:!1,value:t.s}:{done:!0,value:void 0}}}},e}(Mn);An.letBind=An.let=function(t){return t(this)},Fn.if=function(t,e,n){return $n(function(){return n||(n=Yn()),Xt(e)&&(e=Hn(e)),Xt(n)&&(n=Hn(n)),"function"==typeof n.now&&(n=Yn(n)),t()?e:n})},Fn.for=Fn.forIn=function(t,e,n){return In(t,e,n).concat()};var go=Fn.while=Fn.whileDo=function(t,e){return Xt(e)&&(e=Hn(e)),_t(t,e).concat()};An.doWhile=function(t){return gr([this,go(t,this)])},Fn.case=function(t,e,n){return $n(function(){Xt(n)&&(n=Hn(n)),n||(n=Yn()),rn(n)&&(n=Yn(n));var r=e[t()];return Xt(r)&&(r=Hn(r)),r||n})};var xo=function(t){function e(e,n,r){this.source=e,this._fn=n,this._scheduler=r,t.call(this)}function n(t,e){var n,r=t[0],i=t[1];if(!(r.q.length>0))return void(r.isAcquired=!1);n=r.q.shift();var o=new $e;r.d.add(o),o.setDisposable(n.subscribe(new No(r,i,o))),e([r,i])}return Me(e,t),e.prototype._ensureActive=function(t){var e=!1;t.q.length>0&&(e=!t.isAcquired,t.isAcquired=!0),e&&t.m.setDisposable(this._scheduler.scheduleRecursive([t,this],n))},e.prototype.subscribeCore=function(t){var e=new Ge,n=new ze(e),r={q:[],m:e,d:n,activeCount:0,isAcquired:!1,o:t};return r.q.push(this.source),r.activeCount++,this._ensureActive(r),n},e}(Rn),No=function(t){function e(e,n,r){this._s=e,this._p=n,this._m1=r,t.call(this)}return Me(e,t),e.prototype.next=function(t){this._s.o.onNext(t);var e=te(this._p._fn)(t);if(e===Zt)return this._s.o.onError(e.e);this._s.q.push(e),this._s.activeCount++,this._p._ensureActive(this._s)},e.prototype.error=function(t){this._s.o.onError(t)},e.prototype.completed=function(){this._s.d.remove(this._m1),0===--this._s.activeCount&&this._s.o.onCompleted()},e}(Sn);An.expand=function(t,e){return rn(e)||(e=pn),new xo(this,t,e)};var Do=function(t){function e(e,n){this._sources=e,this._cb=n,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){if(0===this._sources.length)return t.onCompleted(),Ke;for(var e=this._sources.length,n={finished:!1,hasResults:new Array(e),hasCompleted:new Array(e),results:new Array(e)},r=new ze,i=0,o=this._sources.length;i<o;i++){var s=this._sources[i];Xt(s)&&(s=Hn(s)),r.add(s.subscribe(new Ao(t,n,i,this._cb,r)))}return r},e}(Rn),Ao=function(t){function e(e,n,r,i,o){this._o=e,this._s=n,this._i=r,this._cb=i,this._subs=o,t.call(this)}return Me(e,t),e.prototype.next=function(t){this._s.finished||(this._s.hasResults[this._i]=!0,this._s.results[this._i]=t)},e.prototype.error=function(t){this._s.finished=!0,this._o.onError(t),this._subs.dispose()},e.prototype.completed=function(){if(!this._s.finished){if(!this._s.hasResults[this._i])return this._o.onCompleted();this._s.hasCompleted[this._i]=!0;for(var t=0;t<this._s.results.length;t++)if(!this._s.hasCompleted[t])return;this._s.finished=!0;var e=te(this._cb).apply(null,this._s.results);if(e===Zt)return this._o.onError(e.e);this._o.onNext(e),this._o.onCompleted()}},e}(Sn);Fn.forkJoin=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Yt(e[t-1])?e.pop():W;return Array.isArray(e[0])&&(e=e[0]),new Do(e,r)},An.forkJoin=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Array.isArray(e[0])?e[0].unshift(this):e.unshift(this),Fn.forkJoin.apply(null,e)},An.manySelect=An.extend=function(t,e){rn(e)||(e=Ut.Scheduler.immediate);var n=this;return $n(function(){var r;return n.map(function(t){var e=new So(t);return r&&r.onNext(t),r=e,e}).tap(Kt,function(t){r&&r.onError(t)},function(){r&&r.onCompleted()}).observeOn(e).map(t)},n)};var So=function(t){function e(e){t.call(this),this.head=e,this.tail=new bs}return Me(e,t),Pe(e.prototype,Nn,{_subscribe:function(t){var e=new ze;return e.add(pn.schedule(this,function(n,r){t.onNext(r.head),e.add(r.tail.mergeAll().subscribe(t))})),e},onCompleted:function(){this.onNext(Fn.empty())},onError:function(t){this.onNext(Fn.throw(t))},onNext:function(t){this.tail.onNext(t),this.tail.onCompleted()}}),e}(Fn),Oo=Bt.Map||function(){function e(){this.size=0,this._values=[],this._keys=[]}return e.prototype.delete=function(t){var e=this._keys.indexOf(t);return-1!==e&&(this._values.splice(e,1),this._keys.splice(e,1),this.size--,!0)},e.prototype.get=function(e){var n=this._keys.indexOf(e);return-1===n?t:this._values[n]},e.prototype.set=function(t,e){var n=this._keys.indexOf(t);return-1===n?(this._keys.push(t),this._values.push(e),this.size++):this._values[n]=e,this},e.prototype.forEach=function(t,e){for(var n=0;n<this.size;n++)t.call(e,this._values[n],this._keys[n])},e}();bt.prototype.and=function(t){return new bt(this.patterns.concat(t))},bt.prototype.thenDo=function(t){return new vt(this,t)},vt.prototype.activate=function(t,e,n){for(var r=[],i=yt(e),o=0,s=this.expression.patterns.length;o<s;o++)r.push(mt(t,this.expression.patterns[o],i));var u=new Et(r,wt(this,e),function(){for(var t=0,e=r.length;t<e;t++)r[t].removeActivePlan(u);n(u)});for(o=0,s=r.length;o<s;o++)r[o].addActivePlan(u);return u},Et.prototype.dequeue=function(){this.joinObservers.forEach(function(t){t.queue.shift()})},Et.prototype.match=function(){var t,e,n=!0;for(t=0,e=this.joinObserverArray.length;t<e;t++)if(0===this.joinObserverArray[t].queue.length){n=!1;break}if(n){var r=[],i=!1;for(t=0,e=this.joinObserverArray.length;t<e;t++)r.push(this.joinObserverArray[t].queue[0]),"C"===this.joinObserverArray[t].queue[0].kind&&(i=!0);if(i)this.onCompleted();else{this.dequeue();var o=[];for(t=0,e=r.length;t<r.length;t++)o.push(r[t].value);this.onNext.apply(this,o)}}};var qo=function(t){function e(e,n){t.call(this),this.source=e,this.onError=n,this.queue=[],this.activePlans=[],this.subscription=new $e,this.isDisposed=!1}Me(e,t);var n=e.prototype;return n.next=function(t){if(!this.isDisposed){if("E"===t.kind)return this.onError(t.error);this.queue.push(t);for(var e=this.activePlans.slice(0),n=0,r=e.length;n<r;n++)e[n].match()}},n.error=Kt,n.completed=Kt,n.addActivePlan=function(t){this.activePlans.push(t)},n.subscribe=function(){this.subscription.setDisposable(this.source.materialize().subscribe(this))},n.removeActivePlan=function(t){this.activePlans.splice(this.activePlans.indexOf(t),1),0===this.activePlans.length&&this.dispose()},n.dispose=function(){t.prototype.dispose.call(this),this.isDisposed||(this.isDisposed=!0,this.subscription.dispose())},e}(Sn);An.and=function(t){return new bt([this,t])},An.thenDo=function(t){return new bt([this]).thenDo(t)},Fn.when=function(){var t,e=arguments.length;if(Array.isArray(arguments[0]))t=arguments[0];else{t=new Array(e);for(var n=0;n<e;n++)t[n]=arguments[n]}return new ps(function(e){var n=[],r=new Oo,i=Dn(function(t){e.onNext(t)},function(t){r.forEach(function(e){e.onError(t)}),e.onError(t)},function(t){e.onCompleted()});try{for(var o=0,s=t.length;o<s;o++)n.push(t[o].activate(r,i,function(t){var r=n.indexOf(t);n.splice(r,1),0===n.length&&e.onCompleted()}))}catch(t){return lr(t).subscribe(e)}var u=new ze;return r.forEach(function(t){t.subscribe(),u.add(t)}),u})};var ko=function(t){function e(e,n){this._dt=e,this._s=n,t.call(this)}function n(t,e){e.onNext(0),e.onCompleted()}return Me(e,t),e.prototype.subscribeCore=function(t){return this._s.scheduleFuture(t,this._dt,n)},e}(Rn),jo=Fn.interval=function(t,e){return xt(t,t,rn(e)?e:bn)};Fn.timer=function(e,n,r){var i;return rn(r)||(r=bn),null!=n&&"number"==typeof n?i=n:rn(n)&&(r=n),(e instanceof Date||"number"==typeof e)&&i===t?Ct(e,r):e instanceof Date&&i!==t?gt(e,n,r):xt(e,i,r)};An.delay=function(){var t=arguments[0];if("number"==typeof t||t instanceof Date){var e=t,n=arguments[1];return rn(n)||(n=bn),e instanceof Date?Dt(this,e,n):Nt(this,e,n)}if(Fn.isObservable(t)||Yt(t))return At(this,t,arguments[1]);throw new Error("Invalid arguments")};var Fo=function(t){function e(e,n,r){rn(r)||(r=bn),this.source=e,this._dt=n,this._s=r,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){var e=new Ge;return new Xe(this.source.subscribe(new Ro(t,this._dt,this._s,e)),e)},e}(Rn),Ro=function(t){function e(e,n,r,i){this._o=e,this._d=n,this._scheduler=r,this._c=i,this._v=null,this._hv=!1,this._id=0,t.call(this)}return Me(e,t),e.prototype.next=function(t){this._hv=!0,this._v=t;var e=++this._id,n=new $e;this._c.setDisposable(n),n.setDisposable(this._scheduler.scheduleFuture(this,this._d,function(n,r){r._hv&&r._id===e&&r._o.onNext(t),r._hv=!1}))},e.prototype.error=function(t){this._c.dispose(),this._o.onError(t),this._hv=!1,this._id++},e.prototype.completed=function(){this._c.dispose(),this._hv&&this._o.onNext(this._v),this._o.onCompleted(),this._hv=!1,this._id++},e}(Sn);An.debounce=function(){if(Yt(arguments[0]))return St(this,arguments[0]);if("number"==typeof arguments[0])return new Fo(this,arguments[0],arguments[1]);throw new Error("Invalid arguments")},An.windowWithTime=An.windowTime=function(t,e,n){var r,i=this;return null==e&&(r=t),rn(n)||(n=bn),"number"==typeof e?r=e:rn(e)&&(r=t,n=e),new ps(function(e){function o(){var t=new $e,i=!1,s=!1;p.setDisposable(t),h===c?(i=!0,s=!0):h<c?i=!0:s=!0;var l=i?h:c,d=l-f;f=l,i&&(h+=r),s&&(c+=r),t.setDisposable(n.scheduleFuture(null,d,function(){if(s){var t=new _s;a.push(t),e.onNext(Le(t,u))}i&&a.shift().onCompleted(),o()}))}var s,u,c=r,h=t,a=[],p=new Ge,f=0;return s=new ze(p),u=new Ze(s),a.push(new _s),e.onNext(Le(a[0],u)),o(),s.add(i.subscribe(function(t){for(var e=0,n=a.length;e<n;e++)a[e].onNext(t)},function(t){for(var n=0,r=a.length;n<r;n++)a[n].onError(t);e.onError(t)},function(){for(var t=0,n=a.length;t<n;t++)a[t].onCompleted();e.onCompleted()})),u},i)},An.windowWithTimeOrCount=An.windowTimeOrCount=function(t,e,n){var r=this;return rn(n)||(n=bn),new ps(function(i){function o(e){var r=new $e;s.setDisposable(r),r.setDisposable(n.scheduleFuture(null,t,function(){if(e===a){h=0;var t=++a;p.onCompleted(),p=new _s,i.onNext(Le(p,c)),o(t)}}))}var s=new Ge,u=new ze(s),c=new Ze(u),h=0,a=0,p=new _s;return i.onNext(Le(p,c)),o(0),u.add(r.subscribe(function(t){var n=0,r=!1;p.onNext(t),++h===e&&(r=!0,h=0,n=++a,p.onCompleted(),p=new _s,i.onNext(Le(p,c))),r&&o(n)},function(t){p.onError(t),i.onError(t)},function(){p.onCompleted(),i.onCompleted()})),c},r)},An.bufferWithTime=An.bufferTime=function(t,e,n){return this.windowWithTime(t,e,n).flatMap(I)},An.bufferWithTimeOrCount=An.bufferTimeOrCount=function(t,e,n){return this.windowWithTimeOrCount(t,e,n).flatMap(I)};var To=function(t){function e(e,n){this.source=e,this._s=n,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Mo(t,this._s))},e}(Rn),Mo=function(t){function e(e,n){this._o=e,this._s=n,this._l=n.now(),t.call(this)}return Me(e,t),e.prototype.next=function(t){var e=this._s.now(),n=e-this._l;this._l=e,this._o.onNext({value:t,interval:n})},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Sn);An.timeInterval=function(t){return rn(t)||(t=bn),new To(this,t)};var Po=function(t){function e(e,n){this.source=e,this._s=n,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Lo(t,this._s))},e}(Rn),Lo=function(t){function e(e,n){this._o=e,this._s=n,t.call(this)}return Me(e,t),e.prototype.next=function(t){this._o.onNext({value:t,timestamp:this._s.now()})},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Sn);An.timestamp=function(t){return rn(t)||(t=bn),new Po(this,t)};var Wo=function(t){function e(e,n){this.source=e,this._sampler=n,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){var e={o:t,atEnd:!1,value:null,hasValue:!1,sourceSubscription:new $e};return e.sourceSubscription.setDisposable(this.source.subscribe(new zo(e))),new Xe(e.sourceSubscription,this._sampler.subscribe(new Vo(e)))},e}(Rn),Vo=function(t){function e(e){this._s=e,t.call(this)}return Me(e,t),e.prototype._handleMessage=function(){this._s.hasValue&&(this._s.hasValue=!1,this._s.o.onNext(this._s.value)),this._s.atEnd&&this._s.o.onCompleted()},e.prototype.next=function(){this._handleMessage()},e.prototype.error=function(t){this._s.onError(t)},e.prototype.completed=function(){this._handleMessage()},e}(Sn),zo=function(t){function e(e){this._s=e,t.call(this)}return Me(e,t),e.prototype.next=function(t){this._s.hasValue=!0,this._s.value=t},e.prototype.error=function(t){this._s.o.onError(t)},e.prototype.completed=function(){this._s.atEnd=!0,this._s.sourceSubscription.dispose()},e}(Sn);An.sample=function(t,e){return rn(e)||(e=bn),"number"==typeof t?new Wo(this,jo(t,e)):new Wo(this,t)};var Io=Ut.TimeoutError=function(t){this.message=t||"Timeout has occurred",this.name="TimeoutError",Error.call(this)};Io.prototype=Object.create(Error.prototype),An.timeout=function(){var t=arguments[0];if(t instanceof Date||"number"==typeof t)return qt(this,t,arguments[1],arguments[2]);if(Fn.isObservable(t)||Yt(t))return Ot(this,t,arguments[1],arguments[2]);throw new Error("Invalid arguments")};var Bo=function(t){function e(e,n,r,i,o,s){this._state=e,this._cndFn=n,this._itrFn=r,this._resFn=i,this._timeFn=o,this._s=s,t.call(this)}function n(t,e){if(t.hasResult&&t.o.onNext(t.result),t.first)t.first=!1;else if(t.newState=te(t.self._itrFn)(t.newState),t.newState===Zt)return t.o.onError(t.newState.e);if(t.hasResult=te(t.self._cndFn)(t.newState),t.hasResult===Zt)return t.o.onError(t.hasResult.e);if(t.hasResult){if(t.result=te(t.self._resFn)(t.newState),t.result===Zt)return t.o.onError(t.result.e);var n=te(t.self._timeFn)(t.newState);if(n===Zt)return t.o.onError(n.e);e(t,n)}else t.o.onCompleted()}return Me(e,t),e.prototype.subscribeCore=function(t){var e={o:t,self:this,newState:this._state,first:!0,hasResult:!1};return this._s.scheduleRecursiveFuture(e,new Date(this._s.now()),n)},e}(Rn);Fn.generateWithAbsoluteTime=function(t,e,n,r,i,o){return rn(o)||(o=bn),new Bo(t,e,n,r,i,o)};var Uo=function(t){function e(e,n,r,i,o,s){this._state=e,this._cndFn=n,this._itrFn=r,this._resFn=i,this._timeFn=o,this._s=s,t.call(this)}function n(t,e){if(t.hasResult&&t.o.onNext(t.result),t.first)t.first=!1;else if(t.newState=te(t.self._itrFn)(t.newState),t.newState===Zt)return t.o.onError(t.newState.e);if(t.hasResult=te(t.self._cndFn)(t.newState),t.hasResult===Zt)return t.o.onError(t.hasResult.e);if(t.hasResult){if(t.result=te(t.self._resFn)(t.newState),t.result===Zt)return t.o.onError(t.result.e);var n=te(t.self._timeFn)(t.newState);if(n===Zt)return t.o.onError(n.e);e(t,n)}else t.o.onCompleted()}return Me(e,t),e.prototype.subscribeCore=function(t){var e={o:t,self:this,newState:this._state,first:!0,hasResult:!1};return this._s.scheduleRecursiveFuture(e,0,n)},e}(Rn);Fn.generateWithRelativeTime=function(t,e,n,r,i,o){return rn(o)||(o=bn),new Uo(t,e,n,r,i,o)};var Ko=function(t){function e(e,n,r){this.source=e,this._dt=n,this._s=r,t.call(this)}function n(t,e){var n=e[0],r=e[1];e[2].setDisposable(n.subscribe(r))}return Me(e,t),e.prototype.subscribeCore=function(t){var e=new Ge;return e.setDisposable(this._s.scheduleFuture([this.source,t,e],this._dt,n)),e},e}(Rn);An.delaySubscription=function(t,e){return rn(e)||(e=bn),new Ko(this,t,e)};var Ho=function(t){function e(e,n,r){this.source=e,this._d=n,this._s=r,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Jo(t,this))},e}(Rn),Jo=function(t){function e(e,n){this._o=e,this._s=n._s,this._d=n._d,this._q=[],t.call(this)}return Me(e,t),e.prototype.next=function(t){var e=this._s.now();for(this._q.push({interval:e,value:t});this._q.length>0&&e-this._q[0].interval>=this._d;)this._o.onNext(this._q.shift().value)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){for(var t=this._s.now();this._q.length>0&&t-this._q[0].interval>=this._d;)this._o.onNext(this._q.shift().value);this._o.onCompleted()},e}(Sn);An.skipLastWithTime=function(t,e){return rn(e)||(e=bn),new Ho(this,t,e)};var Qo=function(t){function e(e,n,r){this.source=e,this._d=n,this._s=r,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new $o(t,this._d,this._s))},e}(Rn),$o=function(t){function e(e,n,r){this._o=e,this._d=n,this._s=r,this._q=[],t.call(this)}return Me(e,t),e.prototype.next=function(t){var e=this._s.now();for(this._q.push({interval:e,value:t});this._q.length>0&&e-this._q[0].interval>=this._d;)this._q.shift()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){for(var t=this._s.now();this._q.length>0;){var e=this._q.shift();t-e.interval<=this._d&&this._o.onNext(e.value)}this._o.onCompleted()},e}(Sn);An.takeLastWithTime=function(t,e){return rn(e)||(e=bn),new Qo(this,t,e)},An.takeLastBufferWithTime=function(t,e){var n=this;return rn(e)||(e=bn),new ps(function(r){var i=[];return n.subscribe(function(n){var r=e.now();for(i.push({interval:r,value:n});i.length>0&&r-i[0].interval>=t;)i.shift()},function(t){r.onError(t)},function(){for(var n=e.now(),o=[];i.length>0;){var s=i.shift();n-s.interval<=t&&o.push(s.value)}r.onNext(o),r.onCompleted()})},n)};var Go=function(t){function e(e,n,r){this.source=e,this._d=n,this._s=r,t.call(this)}function n(t,e){e.onCompleted()}return Me(e,t),e.prototype.subscribeCore=function(t){return new Xe(this._s.scheduleFuture(t,this._d,n),this.source.subscribe(t))},e}(Rn);An.takeWithTime=function(t,e){return rn(e)||(e=bn),new Go(this,t,e)};var Xo=function(t){function e(e,n,r){this.source=e,this._d=n,this._s=r,this._open=!1,t.call(this)}function n(t,e){e._open=!0}return Me(e,t),e.prototype.subscribeCore=function(t){return new Xe(this._s.scheduleFuture(this,this._d,n),this.source.subscribe(new Yo(t,this)))},e}(Rn),Yo=function(t){function e(e,n){this._o=e,this._p=n,t.call(this)}return Me(e,t),e.prototype.next=function(t){this._p._open&&this._o.onNext(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Sn);An.skipWithTime=function(t,e){return rn(e)||(e=bn),new Xo(this,t,e)};var Zo=function(t){function e(e,n,r){this.source=e,this._st=n,this._s=r,t.call(this)}function n(t,e){e._open=!0}return Me(e,t),e.prototype.subscribeCore=function(t){return this._open=!1,new Xe(this._s.scheduleFuture(this,this._st,n),this.source.subscribe(new ts(t,this)))},e}(Rn),ts=function(t){function e(e,n){this._o=e,this._p=n,t.call(this)}return Me(e,t),e.prototype.next=function(t){this._p._open&&this._o.onNext(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Sn);An.skipUntilWithTime=function(t,e){return rn(e)||(e=bn),new Zo(this,t,e)},An.takeUntilWithTime=function(t,e){rn(e)||(e=bn);var n=this;return new ps(function(r){return new Xe(e.scheduleFuture(r,t,function(t,e){e.onCompleted()}),n.subscribe(r))},n)},An.throttle=function(t,e){rn(e)||(e=bn);var n=+t||0;if(n<=0)throw new RangeError("windowDuration cannot be less or equal zero.");var r=this;return new ps(function(t){var i=0;return r.subscribe(function(r){var o=e.now();(0===i||o-i>=n)&&(i=o,t.onNext(r))},function(e){t.onError(e)},function(){t.onCompleted()})},r)};var es=function(t){function e(e,n){this._o=e,this._xform=n,t.call(this)}return Me(e,t),e.prototype.next=function(t){var e=te(this._xform["@@transducer/step"]).call(this._xform,this._o,t);e===Zt&&this._o.onError(e.e)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._xform["@@transducer/result"](this._o)},e}(Sn);An.transduce=function(t){var e=this;return new ps(function(n){var r=t(kt(n));return e.subscribe(new es(n,r))},e)};var ns=function(t){function e(e){this.source=e,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){
var e=new $e,n=new ze,r={hasCurrent:!1,isStopped:!1,o:t,g:n};return n.add(e),e.setDisposable(this.source.subscribe(new rs(r))),n},e}(Rn),rs=function(t){function e(e){this._s=e,t.call(this)}function n(e,n){this._s=e,this._i=n,t.call(this)}return Me(e,t),e.prototype.next=function(t){if(!this._s.hasCurrent){this._s.hasCurrent=!0,Xt(t)&&(t=Hn(t));var e=new $e;this._s.g.add(e),e.setDisposable(t.subscribe(new n(this._s,e)))}},e.prototype.error=function(t){this._s.o.onError(t)},e.prototype.completed=function(){this._s.isStopped=!0,!this._s.hasCurrent&&1===this._s.g.length&&this._s.o.onCompleted()},Me(n,t),n.prototype.next=function(t){this._s.o.onNext(t)},n.prototype.error=function(t){this._s.o.onError(t)},n.prototype.completed=function(){this._s.g.remove(this._i),this._s.hasCurrent=!1,this._s.isStopped&&1===this._s.g.length&&this._s.o.onCompleted()},e}(Sn);An.switchFirst=function(){return new ns(this)},An.flatMapFirst=An.exhaustMap=function(t,e,n){return new Tn(this,t,e,n).switchFirst()},An.flatMapWithMaxConcurrent=An.flatMapMaxConcurrent=function(t,e,n,r){return new Tn(this,e,n,r).merge(t)};var is=Ut.VirtualTimeScheduler=function(t){function e(e,n){this.clock=e,this.comparer=n,this.isEnabled=!1,this.queue=new We(1024),t.call(this)}Me(e,t);var n=e.prototype;return n.now=function(){return this.toAbsoluteTime(this.clock)},n.schedule=function(t,e){return this.scheduleAbsolute(t,this.clock,e)},n.scheduleFuture=function(t,e,n){var r=e instanceof Date?this.toRelativeTime(e-this.now()):this.toRelativeTime(e);return this.scheduleRelative(t,r,n)},n.add=pe,n.toAbsoluteTime=pe,n.toRelativeTime=pe,n.schedulePeriodic=function(t,e,n){return new un(this,t,e,n).start()},n.scheduleRelative=function(t,e,n){var r=this.add(this.clock,e);return this.scheduleAbsolute(t,r,n)},n.start=function(){if(!this.isEnabled){this.isEnabled=!0;do{var t=this.getNext();null!==t?(this.comparer(t.dueTime,this.clock)>0&&(this.clock=t.dueTime),t.invoke()):this.isEnabled=!1}while(this.isEnabled)}},n.stop=function(){this.isEnabled=!1},n.advanceTo=function(t){var e=this.comparer(this.clock,t);if(this.comparer(this.clock,t)>0)throw new ce;if(0!==e&&!this.isEnabled){this.isEnabled=!0;do{var n=this.getNext();null!==n&&this.comparer(n.dueTime,t)<=0?(this.comparer(n.dueTime,this.clock)>0&&(this.clock=n.dueTime),n.invoke()):this.isEnabled=!1}while(this.isEnabled);this.clock=t}},n.advanceBy=function(t){var e=this.add(this.clock,t),n=this.comparer(this.clock,e);if(n>0)throw new ce;0!==n&&this.advanceTo(e)},n.sleep=function(t){var e=this.add(this.clock,t);if(this.comparer(this.clock,e)>=0)throw new ce;this.clock=e},n.getNext=function(){for(;this.queue.length>0;){var t=this.queue.peek();if(!t.isCancelled())return t;this.queue.dequeue()}return null},n.scheduleAbsolute=function(t,e,n){function r(t,e){return i.queue.remove(o),n(t,e)}var i=this,o=new tn(this,t,r,e,this.comparer);return this.queue.enqueue(o),o.disposable},e}(en);Ut.HistoricalScheduler=function(t){function e(e,n){var r=null==e?0:e,i=n||$t;t.call(this,r,i)}Me(e,t);var n=e.prototype;return n.add=function(t,e){return t+e},n.toAbsoluteTime=function(t){return new Date(t).getTime()},n.toRelativeTime=function(t){return t},e}(Ut.VirtualTimeScheduler),jt.prototype.equals=function(t){return t===this||null!=t&&("N"===t.kind&&this.predicate(t.value))},Ft.prototype.equals=function(t){return t===this||null!=t&&("E"===t.kind&&this.predicate(t.error))};var os=Ut.ReactiveTest={created:100,subscribed:200,disposed:1e3,onNext:function(t,e){return"function"==typeof e?new ss(t,new jt(e)):new ss(t,yn.createOnNext(e))},onError:function(t,e){return"function"==typeof e?new ss(t,new Ft(e)):new ss(t,yn.createOnError(e))},onCompleted:function(t){return new ss(t,yn.createOnCompleted())},subscribe:function(t,e){return new us(t,e)}},ss=Ut.Recorded=function(t,e,n){this.time=t,this.value=e,this.comparer=n||Qt};ss.prototype.equals=function(t){return this.time===t.time&&this.comparer(this.value,t.value)},ss.prototype.toString=function(){return this.value.toString()+"@"+this.time};var us=Ut.Subscription=function(t,e){this.subscribe=t,this.unsubscribe=e||Number.MAX_VALUE};us.prototype.equals=function(t){return this.subscribe===t.subscribe&&this.unsubscribe===t.unsubscribe},us.prototype.toString=function(){return"("+this.subscribe+", "+(this.unsubscribe===Number.MAX_VALUE?"Infinite":this.unsubscribe)+")"},(Ut.MockDisposable=function(t){this.scheduler=t,this.disposes=[],this.disposes.push(this.scheduler.clock)}).prototype.dispose=function(){this.disposes.push(this.scheduler.clock)};var cs=function(t){function e(e){t.call(this),this.scheduler=e,this.messages=[]}Me(e,t);var n=e.prototype;return n.onNext=function(t){this.messages.push(new ss(this.scheduler.clock,yn.createOnNext(t)))},n.onError=function(t){this.messages.push(new ss(this.scheduler.clock,yn.createOnError(t)))},n.onCompleted=function(){this.messages.push(new ss(this.scheduler.clock,yn.createOnCompleted()))},e}(Nn);Rt.prototype.then=function(e,n){var r=this;this.subscriptions.push(new us(this.scheduler.clock));var i,o=this.subscriptions.length-1,s=Ut.Observer.create(function(n){var u=e(n);if(u&&"function"==typeof u.then)i=u;else{var c=r.scheduler.clock;i=new Rt(r.scheduler,[Ut.ReactiveTest.onNext(c,t),Ut.ReactiveTest.onCompleted(c)])}var h=r.observers.indexOf(s);r.observers.splice(h,1),r.subscriptions[o]=new us(r.subscriptions[o].subscribe,r.scheduler.clock)},function(t){n(t);var e=r.observers.indexOf(s);r.observers.splice(e,1),r.subscriptions[o]=new us(r.subscriptions[o].subscribe,r.scheduler.clock)});return this.observers.push(s),i||new Rt(this.scheduler,this.messages)};var hs=function(t){function e(e,n){t.call(this);var r,i,o=this;this.scheduler=e,this.messages=n,this.subscriptions=[],this.observers=[];for(var s=0,u=this.messages.length;s<u;s++)r=this.messages[s],i=r.value,function(t){e.scheduleAbsolute(null,r.time,function(){for(var e=o.observers.slice(0),n=0,r=e.length;n<r;n++)t.accept(e[n]);return Ke})}(i)}return Me(e,t),e.prototype._subscribe=function(t){var e=this;this.observers.push(t),this.subscriptions.push(new us(this.scheduler.clock));var n=this.subscriptions.length-1;return Ue(function(){var r=e.observers.indexOf(t);e.observers.splice(r,1),e.subscriptions[n]=new us(e.subscriptions[n].subscribe,e.scheduler.clock)})},e}(Fn),as=function(t){function e(e,n){t.call(this),this.scheduler=e,this.messages=n,this.subscriptions=[]}return Me(e,t),e.prototype._subscribe=function(t){var e,n,r=this;this.subscriptions.push(new us(this.scheduler.clock));for(var i=this.subscriptions.length-1,o=new ze,s=0,u=this.messages.length;s<u;s++)e=this.messages[s],n=e.value,function(n){o.add(r.scheduler.scheduleRelative(null,e.time,function(){return n.accept(t),Ke}))}(n);return Ue(function(){r.subscriptions[i]=new us(r.subscriptions[i].subscribe,r.scheduler.clock),o.dispose()})},e}(Fn);Ut.TestScheduler=function(t){function e(t,e){return t>e?1:t<e?-1:0}function n(){t.call(this,0,e)}return Me(n,t),n.prototype.scheduleAbsolute=function(e,n,r){return n<=this.clock&&(n=this.clock+1),t.prototype.scheduleAbsolute.call(this,e,n,r)},n.prototype.add=function(t,e){return t+e},n.prototype.toAbsoluteTime=function(t){return new Date(t).getTime()},n.prototype.toRelativeTime=function(t){return t},n.prototype.startScheduler=function(t,e){e||(e={}),null==e.created&&(e.created=os.created),null==e.subscribed&&(e.subscribed=os.subscribed),null==e.disposed&&(e.disposed=os.disposed);var n,r,i=this.createObserver();return this.scheduleAbsolute(null,e.created,function(){return n=t(),Ke}),this.scheduleAbsolute(null,e.subscribed,function(){return r=n.subscribe(i),Ke}),this.scheduleAbsolute(null,e.disposed,function(){return r.dispose(),Ke}),this.start(),i},n.prototype.createHotObservable=function(){var t,e=arguments.length;if(Array.isArray(arguments[0]))t=arguments[0];else{t=new Array(e);for(var n=0;n<e;n++)t[n]=arguments[n]}return new hs(this,t)},n.prototype.createColdObservable=function(){var t,e=arguments.length;if(Array.isArray(arguments[0]))t=arguments[0];else{t=new Array(e);for(var n=0;n<e;n++)t[n]=arguments[n]}return new as(this,t)},n.prototype.createResolvedPromise=function(t,e){return new Rt(this,[Ut.ReactiveTest.onNext(t,e),Ut.ReactiveTest.onCompleted(t)])},n.prototype.createRejectedPromise=function(t,e){return new Rt(this,[Ut.ReactiveTest.onError(t,e)])},n.prototype.createObserver=function(){return new cs(this)},n}(is);var ps=Ut.AnonymousObservable=function(t){function e(t){return t&&Yt(t.dispose)?t:Yt(t)?Ue(t):Ke}function n(t,n){var r=n[0],i=n[1],o=te(i.__subscribe).call(i,r);o!==Zt||r.fail(Zt.e)||s(Zt.e),r.setDisposable(e(o))}function r(e,n){this.source=n,this.__subscribe=e,t.call(this)}return Me(r,t),r.prototype._subscribe=function(t){var e=new fs(t),r=[e,this];return pn.scheduleRequired()?pn.schedule(r,n):n(null,r),e},r}(Fn),fs=function(t){function e(e){t.call(this),this.observer=e,this.m=new $e}Me(e,t);var n=e.prototype;return n.next=function(t){var e=te(this.observer.onNext).call(this.observer,t);e===Zt&&(this.dispose(),s(e.e))},n.error=function(t){var e=te(this.observer.onError).call(this.observer,t);this.dispose(),e===Zt&&s(e.e)},n.completed=function(){var t=te(this.observer.onCompleted).call(this.observer);this.dispose(),t===Zt&&s(t.e)},n.setDisposable=function(t){this.m.setDisposable(t)},n.getDisposable=function(){return this.m.getDisposable()},n.dispose=function(){t.prototype.dispose.call(this),this.m.dispose()},e}(Sn),ls=function(t){function e(e,n){this._m=e,this._u=n,t.call(this)}return Me(e,t),e.prototype.subscribeCore=function(t){return new Xe(this._m.getDisposable(),this._u.subscribe(t))},e}(Rn),ds=function(t){function e(e,n,r){t.call(this),this.key=e,this.underlyingObservable=r?new ls(r,n):n}return Me(e,t),e.prototype._subscribe=function(t){return this.underlyingObservable.subscribe(t)},e}(Fn),_s=Ut.Subject=function(t){function e(){t.call(this),this.isDisposed=!1,this.isStopped=!1,this.observers=[],this.hasError=!1}return Me(e,t),Pe(e.prototype,Nn.prototype,{_subscribe:function(t){return Je(this),this.isStopped?this.hasError?(t.onError(this.error),Ke):(t.onCompleted(),Ke):(this.observers.push(t),new vo(this,t))},hasObservers:function(){return Je(this),this.observers.length>0},onCompleted:function(){if(Je(this),!this.isStopped){this.isStopped=!0;for(var t=0,e=i(this.observers),n=e.length;t<n;t++)e[t].onCompleted();this.observers.length=0}},onError:function(t){if(Je(this),!this.isStopped){this.isStopped=!0,this.error=t,this.hasError=!0;for(var e=0,n=i(this.observers),r=n.length;e<r;e++)n[e].onError(t);this.observers.length=0}},onNext:function(t){if(Je(this),!this.isStopped)for(var e=0,n=i(this.observers),r=n.length;e<r;e++)n[e].onNext(t)},dispose:function(){this.isDisposed=!0,this.observers=null}}),e.create=function(t,e){return new ws(t,e)},e}(Fn),bs=Ut.AsyncSubject=function(t){function e(){t.call(this),this.isDisposed=!1,this.isStopped=!1,this.hasValue=!1,this.observers=[],this.hasError=!1}return Me(e,t),Pe(e.prototype,Nn.prototype,{_subscribe:function(t){return Je(this),this.isStopped?(this.hasError?t.onError(this.error):this.hasValue?(t.onNext(this.value),t.onCompleted()):t.onCompleted(),Ke):(this.observers.push(t),new vo(this,t))},hasObservers:function(){return Je(this),this.observers.length>0},onCompleted:function(){var t,e;if(Je(this),!this.isStopped){this.isStopped=!0;var n=i(this.observers),e=n.length;if(this.hasValue)for(t=0;t<e;t++){var r=n[t];r.onNext(this.value),r.onCompleted()}else for(t=0;t<e;t++)n[t].onCompleted();this.observers.length=0}},onError:function(t){if(Je(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=t;for(var e=0,n=i(this.observers),r=n.length;e<r;e++)n[e].onError(t);this.observers.length=0}},onNext:function(t){Je(this),this.isStopped||(this.value=t,this.hasValue=!0)},dispose:function(){this.isDisposed=!0,this.observers=null,this.error=null,this.value=null}}),e}(Fn),vs=Ut.BehaviorSubject=function(t){function e(e){t.call(this),this.value=e,this.observers=[],this.isDisposed=!1,this.isStopped=!1,this.hasError=!1}return Me(e,t),Pe(e.prototype,Nn.prototype,{_subscribe:function(t){return Je(this),this.isStopped?(this.hasError?t.onError(this.error):t.onCompleted(),Ke):(this.observers.push(t),t.onNext(this.value),new vo(this,t))},getValue:function(){return Je(this),this.hasError&&s(this.error),this.value},hasObservers:function(){return Je(this),this.observers.length>0},onCompleted:function(){if(Je(this),!this.isStopped){this.isStopped=!0;for(var t=0,e=i(this.observers),n=e.length;t<n;t++)e[t].onCompleted();this.observers.length=0}},onError:function(t){if(Je(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=t;for(var e=0,n=i(this.observers),r=n.length;e<r;e++)n[e].onError(t);this.observers.length=0}},onNext:function(t){if(Je(this),!this.isStopped){this.value=t;for(var e=0,n=i(this.observers),r=n.length;e<r;e++)n[e].onNext(t)}},dispose:function(){this.isDisposed=!0,this.observers=null,this.value=null,this.error=null}}),e}(Fn),ys=Ut.ReplaySubject=function(t){function e(t,e){return Ue(function(){e.dispose(),!t.isDisposed&&t.observers.splice(t.observers.indexOf(e),1)})}function n(e,n,i){this.bufferSize=null==e?r:e,this.windowSize=null==n?r:n,this.scheduler=i||pn,this.q=[],this.observers=[],this.isStopped=!1,this.isDisposed=!1,this.hasError=!1,this.error=null,t.call(this)}var r=Math.pow(2,53)-1;return Me(n,t),Pe(n.prototype,Nn.prototype,{_subscribe:function(t){Je(this);var n=new kn(this.scheduler,t),r=e(this,n);this._trim(this.scheduler.now()),this.observers.push(n);for(var i=0,o=this.q.length;i<o;i++)n.onNext(this.q[i].value);return this.hasError?n.onError(this.error):this.isStopped&&n.onCompleted(),n.ensureActive(),r},hasObservers:function(){return Je(this),this.observers.length>0},_trim:function(t){for(;this.q.length>this.bufferSize;)this.q.shift();for(;this.q.length>0&&t-this.q[0].interval>this.windowSize;)this.q.shift()},onNext:function(t){if(Je(this),!this.isStopped){var e=this.scheduler.now();this.q.push({interval:e,value:t}),this._trim(e);for(var n=0,r=i(this.observers),o=r.length;n<o;n++){var s=r[n];s.onNext(t),s.ensureActive()}}},onError:function(t){if(Je(this),!this.isStopped){this.isStopped=!0,this.error=t,this.hasError=!0;var e=this.scheduler.now();this._trim(e);for(var n=0,r=i(this.observers),o=r.length;n<o;n++){var s=r[n];s.onError(t),s.ensureActive()}this.observers.length=0}},onCompleted:function(){if(Je(this),!this.isStopped){this.isStopped=!0;var t=this.scheduler.now();this._trim(t);for(var e=0,n=i(this.observers),r=n.length;e<r;e++){var o=n[e];o.onCompleted(),o.ensureActive()}this.observers.length=0}},dispose:function(){this.isDisposed=!0,this.observers=null}}),n}(Fn),ws=Ut.AnonymousSubject=function(t){function e(e,n){this.observer=e,this.observable=n,t.call(this)}return Me(e,t),Pe(e.prototype,Nn.prototype,{_subscribe:function(t){return this.observable.subscribe(t)},onCompleted:function(){this.observer.onCompleted()},onError:function(t){this.observer.onError(t)},onNext:function(t){this.observer.onNext(t)}}),e}(Fn);Ut.Pauser=function(t){function e(){t.call(this)}return Me(e,t),e.prototype.pause=function(){this.onNext(!1)},e.prototype.resume=function(){this.onNext(!0)},e}(_s),"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Bt.Rx=Ut,define(function(){return Ut})):Mt&&Pt?zt?(Pt.exports=Ut).Rx=Ut:Mt.Rx=Ut:Bt.Rx=Ut;var ms=p()}).call(this)});C.r("node_modules/warning/browser.js",function(n,r,o){"use strict";var s=function(){};r.exports=s});C.r("akira/containers/jawbone/details/reviews.jsx",function(e,i,t){"use strict";var s=e("prop-types"),n=e("react"),r=e("create-react-class"),o=e("../../../components/review/review.jsx"),a=e("../../modal/modalManager.jsx"),l=e("../../reviewsModalContainer"),d=e("../../../../utils/eventBus"),v=e("lodash"),m="discovery/akira/Reviews",c=r({displayName:"Reviews",contextTypes:{getI18nString:s.func.isRequired,models:s.object.isRequired},componentDidMount:function(){d.on("reviews:reviewsCountChanged",this.onNumberReviewsChanged)},componentWillUnmount:function(){d.removeListener("reviews:reviewsCountChanged",this.onNumberReviewsChanged),d.removeListener("modal:close:reviewsModal",this.invalidateData)},onNumberReviewsChanged:function(e){e.videoId===this.props.model.getValueSync(["summary"]).id&&this.forceUpdate()},invalidateData:function(){this.props.model.invalidate(["reviewVotes"])},launchModal:function(){var e=["reviews-modal"];0===this.props.numReviews&&e.push("write-first-review"),d.once("modal:close:reviewsModal",this.invalidateData),a.open(l,{name:"reviewsModal",additionalClasses:e,contentProps:{model:this.props.model.hardBind([])}})},render:function(){var e=[],i=void 0,t=void 0,s=!v.get(this,"context.models.truths.data.writeReviewsDisabled",!1);if(this.props.error)return n.createElement("div",{className:"memberReviews error"},this.context.getI18nString(m,"write.review.error.msg.general"));if(this.props.isLoading)return n.createElement("div",{className:"memberReviews loading"},this.context.getI18nString("discovery/akira/JawBone","overview.loading"));if(0===this.props.numReviews)return n.createElement("div",{className:"noReviews"},this.context.getI18nString(m,"no.reviews"),s&&n.createElement("div",{className:"action",onClick:this.launchModal},this.context.getI18nString(m,"write.review.cta")));for(t=0;t<2;t++)i=this.props.model.bind(["helpfulReviews",t]),void 0!==i.getBoundValue()&&e.push(n.createElement("li",{key:"review-"+t},n.createElement(o,{reviewModel:i,videoModel:this.props.model})));var r=void 0===this.props.numReviews?null:n.createElement("div",{className:"seeAllLink",onClick:this.launchModal},this.context.getI18nString(m,"see.all.reviews.with.number",{number:this.props.numReviews}));return n.createElement("div",{className:"memberReviews"},n.createElement("ul",{className:"memberReviews"},e),r)}});i.exports=c});C.r("akira/containers/jawbone/details/tags.jsx",function(e,t,n){"use strict";var s=e("prop-types"),r=e("react"),a=e("create-react-class"),i=e("../../../components/controls/mainViewLink.jsx"),l=e("../../../utils/linkDefs.jsx"),g="discovery/akira/JawBone",o=a({displayName:"Tags",statics:{getPaths:function(e,t,n){return[["genres","summary"],["genres",{to:3},["id","name"]],["tags","summary"],["tags",{to:1},["id","name"]]]}},contextTypes:{getI18nString:s.func.isRequired},renderList:function(e,t,n,s){var a=[],l=void 0;for(l=0;l<Math.min(e,t.length);l++){var g=this.props.model.bind([n,l]);if(g){var o=g.getValueSync(["id"]),c=g.getValueSync(["name"]);c&&o&&a.push(r.createElement("li",{key:n+l},r.createElement(i,{resolver:s,params:{id:o}},c)))}}return a},render:function(){var e=[],t=[],n=this.props.model,s=n.getValueSync(["genres","summary"]),a=n.getValueSync(["tags","summary"]),i=this.props.isShow?this.context.getI18nString(g,"details.this.show.is"):this.context.getI18nString(g,"details.this.movie.is");return s&&(e=this.renderList(4,s,"genres",l.getGenreRoute)),a&&(t=this.renderList(2,a,"tags",l.getGenreRoute)),e.length||t.length?r.createElement("div",null,e.length?r.createElement("h4",{className:"listLabel"},this.context.getI18nString(g,"details.genres")):null,e.length?r.createElement("ul",null,e):null,t.length?r.createElement("h4",{className:"listLabel"},i):null,t.length?r.createElement("ul",null,t):null):null}});t.exports=o});C.r("akira/containers/jawbone/episodes/episodeCard.jsx",function(e,t,s){"use strict";var a=e("prop-types"),n=e("react"),i=e("create-react-class"),o=e("react-dom"),r=e("classnames"),l=e("./../../../components/controls/progress.jsx"),c=e("../../../components/controls/playbutton.jsx"),m=e("../../../components/loader/loadingBox.jsx"),p=e("../../../components/episode/newBadge.jsx"),u=e("../../../../components/presentationTracking/trackingComponents/boxartPresTracking"),d=e("../../../../common/imageExtension"),g=e("../../../utils/akiraContextTypes"),y=e("../../../components/title/duration.jsx"),h=e("../../../../utils/textUtils"),b=e("lodash"),v="discovery/akira/JawBone",E=i({displayName:"EpisodeCard",contextTypes:Object.assign({getI18nString:a.func.isRequired,models:a.object.isRequired},g),childContextTypes:{rowNum:a.number,rankNum:a.number},getChildContext:function(){var e={rankNum:this.props.rankNum};return void 0!==this.props.rowNum&&(e.rowNum=this.props.rowNum),e},statics:{getPaths:function(e,t,s){return[[["summary","synopsis","title","runtime","bookmarkPosition"]],["interestingMoment","_342x192",d.getExtensionForOpaqueImage(e)],["ancestor","summary"]]}},getInterestingMoment:function(){var e=this.props.model,t=d.getExtensionForOpaqueImage(this.context.models);return e.getValueSync(["interestingMoment","_342x192",t])},getImage:function(){var e=this.getInterestingMoment();return e?{backgroundImage:"url("+e.url+")"}:{}},renderPlaceholders:function(){var e={"video-artwork":!0},t=.5+.2*this.props.index;return n.createElement("div",{className:"episodeLockup"},n.createElement(m,{boxClassNames:e,delay:t,pulsate:!0,displayWhenNotPulsing:!1}))},clickPlayButton:function(){this.refs.playButton&&o.findDOMNode(this.refs.playButton).click()},renderAvailabilityDateMessaging:function(e,t,s){return e&&e!==t?n.createElement("div",{className:"bottom-metadata"},e?n.createElement("span",{className:"availabilityDateMessaging"},e):null,n.createElement(y,{runtime:s,onlyInMinutes:!0})):null},render:function(){if(this.props.isLoading)return this.renderPlaceholders();var e=this.props.model,t=this.props.show,s=e.getValueSync(["summary"]),a=s.newBadge,i=e.getValueSync(["bookmarkPosition"]),o=e.getValueSync(["title"]),m=e.getValueSync(["synopsis"]),d=e.getValueSync(["runtime"]),g=i>=0,E=this.context.getI18nString(v,"play.button.episode",{EPISODE_NUMER:s.episode}),k=this.props.showEpisodeNumber,x=this.props.showEpisodeDuration,N=r({episodeLockup:!0,current:this.props.current,sliderItemHidden:!this.props.itemTabbable,titleBehaviorData:Boolean(s.availabilityDateMessaging)}),f=r({episodeNumber:!0,noProgress:!g}),I=void 0,w=b.get(this.context.models,"geo.data.locale.language","en");if(!s)return null;"ja"===w&&(m=h.ellipsize(m,75));var P=this.getImage(),M=(this.getInterestingMoment()||{}).image_key,B=s.availabilityDateMessaging;return I=n.createElement(c,{ref:"playButton",tabIndex:this.props.itemTabbable?0:-1,model:t,episode:e,className:"episodePlay slider-refocus",ariaLabel:E,playbackQueryParams:this.props.playbackQueryParams}),s.isPlayable||(o=o||this.context.getI18nString(v,"new.episode"),d="",m=s.availabilityDateMessaging,I=null,P.opacity=.4),n.createElement("div",{className:N},n.createElement(u,{videoId:s.id,imageKey:M},n.createElement("div",{className:"episodeArt video-artwork",style:P,onClick:this.clickPlayButton},k?[n.createElement("div",{className:"numberVignette"}),n.createElement("div",{className:f},n.createElement("span",{"aria-hidden":!0},s.episode))]:null,g?n.createElement(l,{runtime:d,bookmarkPosition:i,current:this.props.current}):null,I)),n.createElement("div",{className:"episodeTitle"},n.createElement("p",{className:"ellipsized"},n.createElement(p,{newBadge:a}),o),x&&!B?n.createElement(y,{additionalClasses:["ellipsized"],runtime:d,onlyInMinutes:!0}):null),this.props.showEpisodeSummary?n.createElement("div",{className:"episodeSynopsis"},m):null,this.renderAvailabilityDateMessaging(B,m,d))}});t.exports=E});C.r("akira/containers/jawbone/episodes/episodes.jsx",function(e,s,n){"use strict";var t=e("babel-runtime/helpers/extends"),a=function(e){return e&&e.__esModule?e:{default:e}}(t),o=e("prop-types"),r=e("react"),i=e("create-react-class"),d=e("../../episodesListContainer"),u=e("../../simpleEpisodesListContainer"),l=e("../../../components/controls/nfDropdown.jsx"),c=e("shakti-platform/dist/ui/utils/inNode"),p=e("../../../../utils/keyboardEventsWrapper"),m=e("../../../../components/presentationTracking/trackingComponents/jawboneEpisodesPresTracking"),h=e("classnames"),g=function(e,s,n){var t=void 0!==n.seasonIndex?n.seasonIndex:"current";return[["episodeCount"],["seasonList","summary"],["seasonList",{to:void 0!==n.numSeasons?n.numSeasons:20},"summary"]].concat(d.getPaths(e).map(function(e){return["seasonList",t].concat(e)}))},v=i({displayName:"Episodes",contextTypes:{getI18nString:o.func.isRequired,models:o.object.isRequired},statics:{getPaths:g},childContextTypes:{trackId:o.number},getChildContext:function(){var e={};return this.props.trackId&&(e.trackId=this.props.trackId),e},getInitialState:function(){return{seasonIndex:void 0,seasonHasChanged:!1}},getSeasonSelectorOrLabel:function(){var e=this.props.model.bind(["seasonList"]),s=e&&e.getValueSync(["summary"]);if(!s)return null;var n=this.getSeasonOptions();if(void 0===this.state.seasonIndex&&(this.state.seasonIndex=this.currentSeasonIndex||0),(s&&s.length||0)>1){var t=n?n[this.state.seasonIndex]:"",a=!!c||this.props.isLoading;return r.createElement(l,{options:n,defaultValue:t,isLoading:a,refocus:this.state.seasonHasChanged})}var o=e.bind([0]),i=o&&o.getValueSync(["summary"]);return r.createElement("div",{className:"single-season-label"},i.name)},getSeasonOptions:function(){var e=this.props.model,s=[],n=e.bind(["seasonList"]),t=n.getValueSync(["summary"]),a=n.bind(["current"]),o=void 0,i=void 0,d=void 0;if(!t)return null;for(a&&(d=a.getValueSync(["summary"]))&&(i=d.id),o=0;o<t.length;o++){var u=n.bind([o]).getValueSync(["summary"]),l=o,c=void 0;u&&(u.id===i&&(this.currentSeasonIndex=o),c=r.createElement("a",{className:"sub-menu-link",role:"link",tabIndex:0,key:"season"+o,onClick:this.dropDownClickHandler(l),onKeyDown:p.executeOnEnterOrSpace(this.dropDownClickHandler(l))},u.name),s.push(c))}return s},dropDownClickHandler:function(e){var s=this;return function(){s.handleSeasonDropDownChange(e)}},handleSeasonDropDownChange:function(e){this.setState({seasonIndex:e,seasonHasChanged:!0})},renderError:function(){return r.createElement("p",{className:"unavailable"},this.context.getI18nString("discovery/akira/JawBone","episodes.unavailable"))},render:function(){var e=this.props.model,s=this.getSeasonSelectorOrLabel(),n=e.getValueSync(["summary"])||{},t=e.getValueSync(["episodeCount"]),o=e.bind(["seasonList"]),i=void 0!==this.state.seasonIndex?this.state.seasonIndex:0,l=!!c||this.props.isLoading,p=this.props.useSlider?d:u;if(!t&&!l)return null;if(!s&&!l)return this.renderError();var g="episodes-"+n.id+"-"+i,v=o.bind([i]),y=v.getValueSync(["summary"]),f=y&&y.length,S=h("episodesContainer",{overlayEpisodes:this.props.overlayEpisodes});return r.createElement("div",{className:S},r.createElement(m,{videoId:n.id},s,r.createElement(p,(0,a.default)({},this.props,{isLoading:l,key:g,seasonIndex:this.state.seasonIndex,numEpisodes:f,show:e,showEpisodeNumbers:this.props.showEpisodeNumbers,model:v}))))}});s.exports=v});C.r("akira/containers/jawbone/episodes/episodesList.jsx",function(e,s,i){"use strict";var t=(e("prop-types"),e("react")),o=e("create-react-class"),n=e("./episodeCard.jsx"),r=e("../../../../components/presentationTracking/presentationTrackingContainer.jsx"),a=e("../../slider/slider.jsx"),d=e("../../../utils/akiraContextTypes"),p=o({displayName:"EpisodesList",contextTypes:d,statics:{getPaths:function(e,s,i){var t=[["episodes","summary"],["episodes","current","summary"]],o=i&&void 0!==i.numEpisodes?i.numEpisodes:40,r=n.getPaths(e).map(function(e){return["episodes",{from:-1,to:o}].concat(e)});return t.concat(r)}},getDefaultProps:function(){return{showEpisodeNumbers:!0,seasonIndex:"current"}},getEpisodesList:function(){var e=this.props.model,s=[];if(this.initialLowestVisibleIndex=0,!e.getBoundValue())return s;var i=e.getValueSync(["episodes","current","summary"]),o=e.bind(["episodes"]),r=o.getValueSync(["summary"]),a=e.getValueSync(["summary"]),d=a&&!a.hiddenEpisodeNumbers&&this.props.showEpisodeNumbers;if(!r)return s;for(var p=0,u=0;u<r.length;u++){var l=o.bind([u]),c=void 0,m=void 0;l.getBoundValue()&&(c=l.getValueSync(["summary"]),i&&(m=c.id===i.id)&&(this.initialLowestVisibleIndex=u>0?u-1:u),s.push(t.createElement(n,{key:"episode"+p,show:this.props.show,season:e,model:l,current:m,rankNum:p,showEpisodeSummary:this.props.showEpisodeSummary,showEpisodeNumber:d,showEpisodeDuration:this.props.showEpisodeDuration,playbackQueryParams:this.props.playbackQueryParams})),p+=1)}return s},getMaxPlaceHolders:function(){return this.props.maxLoadingTiles||5},getLoadingEpisodeList:function(){for(var e=[],s=this.getMaxPlaceHolders(),i=0;i<s;i++)e.push(t.createElement(n,{key:"episode"+i,isLoading:!0,index:i}));return e},render:function(){var e=void 0,s=void 0,i=void 0;return this.props.isLoading?(e=this.getMaxPlaceHolders(),s=this.getLoadingEpisodeList(),i="placeholder-episodes-"+this.props.seasonIndex):(e=this.context.isOverlayPage?this.context.columnsInRow:this.context.columnsInRow-1,s=this.getEpisodesList(),i="season-"+this.props.seasonIndex+this.initialLowestVisibleIndex),t.createElement("div",{className:"episodeWrapper"},t.createElement(r,null,t.createElement(a,{itemsInRow:e,totalItems:s.length,key:i,initialLowestVisibleIndex:this.initialLowestVisibleIndex,onSliderMove:this.props.onSliderMove},s)))}});s.exports=p});C.r("akira/containers/jawbone/jawBone.jsx",function(e,t,i){"use strict";function a(e,t,i){t||(t={all:!1}),i||(i={isShow:!0});var a=void 0===i.isShow||i.isShow,o=[[["summary","title","maturity","bookmarkPosition","runtime","interactiveBookmark","requestId","availability","watched","hasSensitiveMetadata","dpSupplementalMessage"]]].concat([["trailers",["summary"]]]).concat([Z(e)]).concat(p.getPaths(e,null,{isShow:a})).concat(I.getPaths(e,null,{isShow:a}));return u.get(e,"truths.data.hasVideoMerchInJaw",!1)&&(o=o.concat([["promoVideo"]])),a&&(o=o.concat([["episodeCount"]])),i&&i.isStandaloneJawbone&&(o=o.concat([["trackIds"]])),t.all&&(o=o.concat(w.getPaths(e,t,i)).concat(f.getPaths(e,t,i)).concat(b.getPaths(e,t,i)).concat(v.getPaths(e,t,{seasonIndex:"current"}))),o}var o=e("babel-runtime/helpers/toConsumableArray"),s=function(e){return e&&e.__esModule?e:{default:e}}(o),n=e("prop-types"),r=e("react"),l=e("create-react-class"),d=e("react-dom"),c=e("shakti-platform/dist/ui/ShaktiProperties"),h=e("classnames"),u=e("lodash"),m=e("../../../utils/pathEvaluatorUtils"),p=e("./overview/overview.jsx"),g=e("./overview/heroOverview.jsx"),v=e("../episodesContainer"),y=e("./content-warning/contentWarning.jsx"),w=e("./moreLikeThis/moreLikeThis.jsx"),b=e("./trailers/trailers.jsx"),f=e("./details/details.jsx"),P=e("../slider/slider.jsx"),S=e("./pane.jsx"),M=e("./menu.jsx"),I=e("./background.jsx"),k=e("../../components/controls/mainViewLink.jsx"),x=e("../../../common/imageExtension"),E=e("../../utils/akiraContextTypes"),T=e("../../utils/watched"),C=e("../../utils/scheduler"),j=e("../../../common/keyCodes"),O=e("../../../utils/eventBus"),V=e("../../../utils/transition"),N=e("../../../utils/cssAnimation"),D=e("../../../utils/ab/richOriginalsRowTest"),L=e("shakti-platform/dist/ui/utils/inNode"),B=e("../../utils/linkDefs.jsx"),R=e("../../../utils/imageLoadTracker"),J=e("../../../components/presentationTracking/presentationTrackingContainer.jsx"),_=e("../../../mdx2/hoc/mdxLoader.jsx"),q=e("./content-warning/ContentWarningUtils.js"),W=e("../../../player/domains/videoPlayer/videoPlayerConstants"),H=W.playerIdentifier,U=e("../../components/title/globalSupplementalAudioToggle.jsx"),A=e("../../../player/nfplayer/uiLabel"),F=e("../../../player/videoMerch/VideoMerchStandardPlayer.jsx"),K=e("../../../player/entities/playContext").playContextRecord,Q="discovery/akira/JawBone",X=["Episodes","Trailers","MoreLikeThis"],G=["Overview","Episodes","Trailers","MoreLikeThis","ShowDetails","Warning"],Y=c.get("netflix.ui.akira.prefetch.strategies.jawBone"),z=function(){},Z=function(e){return["bb2OGLogo","_550x124",x.getExtensionForTransparentImage(e)]},$=l({displayName:"JawBoneContent",childContextTypes:{parentContext:n.object,rowNum:n.number,rankNum:n.number,requestId:n.string,trackId:n.number},contextTypes:Object.assign({getModelData:n.func.isRequired,columnsInRow:n.number,getI18nString:n.func.isRequired,closeJawbone:n.func.isRequired,jsongDocument:n.object,models:n.object,renderTracker:n.object,routeHandler:n.object.isRequired},E),getChildContext:function(){var e=this.context,t=e.rowNum,i=e.rankNum,a=e.requestId,o=e.trackId,s=e.jawBoneTrackId,n=this.getRequestId();return{rowNum:0,rankNum:0,parentContext:{rowNum:t,rankNum:i,requestId:a,trackId:o},trackId:s||this.getJawBoneTrackId()||o,requestId:n||a}},videoModel:{id:0,summary:{}},componentWillMount:function(){this.suppressOriginalsJaw=c.get("netflix.ui.akira.originals.jawbone.disable")||!1,this.videoModel=u.assign({},this.props.videoModel,this.getVideoModel(this.state))},componentWillUpdate:function(e,t){this.videoModel=u.assign({},this.props.videoModel,this.getVideoModel(t))},getPlayerSessionId:function(){return this.videoModel.videoMerchId?H.VideoMerchJaw+"|"+String(this.videoModel.videoMerchId):void 0},getVideoModel:function(e){var t=this.props.model,i=t.getValueSync(["summary"]),a=t.getValueSync(["availability"])||{},o={id:i&&i.id,summary:i,supplementalMessage:t.getValueSync(["dpSupplementalMessage"]),isOriginal:i&&i.isOriginal,isShow:t.getValueSync(["episodeCount"]),playState:T.getWatchedState(this.props.model),isPlayable:a.isPlayable,isPrePromo:!a.isPlayable,hasTrailers:!1,logoUrl:""};if(o.isOriginal&&!this.suppressOriginalsJaw){var s=t.getValueSync(["trailers",["summary"]]),n=!this.context.isRtl&&t.getValueSync(Z(this.context.models))||{url:""},r=s&&!!s.length;o.logoUrl=n.url,o.hasTrailers=r}if(this.context.getModelData("truths").hasVideoMerchInJaw&&!o.videoMerchId){var l=t.getValueSync(["promoVideo"])||{};o.videoMerchId=l.id,o.videoMerchStartTime=l.start}return o},animateInfo:function(e,t){if(!this.props.isFirstJaw)for(var i=e.getElementsByClassName("has-jawbone-nav-transition"),a=0;a<i.length;a++)t.target=i[a],N.animate(t)},ID:"jawBone-container",statics:{getPaths:a,prefetchStrategies:Y},getDefaultProps:function(){return{disableClose:!1}},getRequestId:function(){return this.props.model.getValueSync(["requestId"])},getJawBoneTrackId:function(){return this.props.model.getValueSync(["trackIds"])&&this.props.model.getValueSync(["trackIds"]).trackId_jaw},getHasEpisodes:function(){var e=this.props.model.getValueSync(["episodeCount"]);return void 0!==e&&e>0},getDefaultPane:function(e){var t=this.context.routeHandler.query,i=["Overview","Episodes","Trailers"],a=u.get(this.context.models,"truths.data.kidsParityRetest",!1),o=this.context.isKidsPage&&a&&this.getHasEpisodes()?"Episodes":"Overview",s=void 0;return!L&&u.get(window,"location.hash","").indexOf("showEpisodes")>=0?"Episodes":G.indexOf(t.jbt)>=0?t.jbt:(-1!==i.indexOf(t.jbp)&&(s=t.jbp,delete t.jbp),s||o)},getInitialState:function(){return{data:void 0,isShow:!0,visiblePane:this.getDefaultPane(this.props.model),hasClickedMenu:!1,hasPaneData:[],videoMerchPlaying:!1,isFinishedPlayingVideoMerch:!1}},handleNavHover:function(){var e=this,t=this.state,i=t.hasPaneData,o=t.isShow,n=this.props,r=n.model,l=n.videoId,d=this;if(l&&!i[l]){var h=c.get("netflix.ui.akira.prefetch.jawBoneNavHover");C.queue(function(){e.setState({isLoading:!0}),r.get.apply(r,(0,s.default)(a(d.context.models,h,{isShow:o}))).subscribe(z,function(){return e.setState({isLoading:!1})},function(){return e.setState({isLoading:!1})})}),i[l]=!0,this.setState({hasPaneData:i})}},getOveriewPane:function(){return D.isRichOriginalsRow(this.context.isTallRow,this.context.models.truths)?g:p},getVisiblePane:function(e,t){var i=this.props,a=i.model,o=i.hideTitleActions,s=void 0;switch(e){case"Overview":var n=this.getOveriewPane(),l={model:a,videoModel:this.videoModel,isPrePromo:this.videoModel.isPrePromo,isTitleActionsSupported:!o};s=r.createElement("div",null,r.createElement(n,l));break;case"Episodes":s=r.createElement(v,{model:a,trackId:this.context.jawBoneEpisodeTrackId,isLoading:this.state.isLoading,onSliderMove:this._handleSliderMove,useSlider:!0,showEpisodeSummary:!0,showEpisodeDuration:!0,playbackQueryParams:this.props.playbackQueryParams});break;case"Trailers":s=r.createElement(b,{model:a,trackId:this.context.jawBoneTrailerTrackId,isLoading:this.state.isLoading,onSliderMove:this._handleSliderMove,playbackQueryParams:this.props.playbackQueryParams});break;case"Warning":s=r.createElement(y,{model:a,videoModel:this.videoModel,contentWarning:q.getContentWarning(this.videoModel)});break;case"MoreLikeThis":s=r.createElement(w,{model:a,isLoading:this.state.isLoading,onSliderMove:this._handleSliderMove});break;case"ShowDetails":s=r.createElement(f,{model:a,isLoading:this.state.isLoading,onSliderMove:this._handleSliderMove,watched:t})}return r.createElement(S,{key:"pane-"+e,ariaId:e,hasClickedMenu:this.state.hasClickedMenu},r.createElement(J,null,s))},showEpisodesTab:function(){O.emit("jawbone:tab:open",{tab:"Episodes"}),this.setState({visiblePane:"Episodes",hasClickedMenu:!0})},onTabClicked:function(e){O.emit("jawbone:tab:open",{tab:e}),this.setState({visiblePane:e,hasClickedMenu:!0})},_handleSliderMove:function(e,t){P.MOVE_DIRECTION_NEXT===t?O.emit("jawbone:tab:scrollNext"):P.MOVE_DIRECTION_PREV===t&&O.emit("jawbone:tab:scrollPrev")},_handleClick:function(e){var t=e.target;this._isClickFromMenu(t)||O.emit("jawbone:tab:click",{tab:this.state.visiblePane,name:t.innerText||t.alt,url:t.href,type:t.type||t.parent&&t.parent.type})},_isClickFromMenu:function(e){return!!(e.parentElement&&"menu"===e.parentElement.className||e.parentElement.parentElement&&"menu"===e.parentElement.parentElement.className)},prefetchOnLoad:function(){var e=this,t=this.props,i=t.videoId,o=t.isStandaloneJawbone,n=this.state.hasPaneData,r=null,l=null,d=this.context.renderTracker;d&&(r=d.startSession("jawbone"+i),l=function(){R.trackBySelectors(["image-rotator-image"]).then(function(){d.endSession(r)}).catch(function(e){d.endSession(r,e)})}),i&&!n[i]?this.mountPrefetchTimeout=setTimeout(function(){var t,r=a(e.context.models,Y.allJawBonePanes,{isShow:e.state.isShow,isStandaloneJawbone:o}),d=function(){e.setState({isLoading:!1}),l&&l()};e.setState({isLoading:!0}),(t=e.props.model).get.apply(t,(0,s.default)(r)).subscribe(z,d,d),n[i]=!0,e.setState({hasPaneData:n})},600):l&&l()},handleCloseJawBone:function(){O.emit("jawbone:close",{reason:"explicit",listContext:this.context.listContext}),this.context.closeJawbone();var e=document.querySelector("#title-card-"+this.context.rowNum+"-"+this.context.rankNum);e&&e.focus()},handleKeyDown:function(e){switch(e&&e.which){case j.ESC:this.handleCloseJawBone();break;case j.ENTER:var t=d.findDOMNode(this.refs.closeJawboneButton);t&&t.contains(e.target)&&this.handleCloseJawBone()}},onPlayerError:function(e){this.props.logStartPlayError&&this.props.logStartPlayError({playerSessionId:this.getPlayerSessionId()},e),this.handleVideoMerchPlayerComplete()},onPlayerPlaying:function(){this.state.videoMerchPlaying||this.setState({videoMerchPlaying:!0})},handleVideoMerchPlayerComplete:function(){this.setState({isFinishedPlayingVideoMerch:!0,videoMerchPlaying:!1})},logVideoMerchStartPlay:function(){this.context.playerApp.getActionCreators().setStartTime({time:Date.now(),sessionId:this.getPlayerSessionId()}),this.props.logStartPlayStarted&&this.props.logStartPlayStarted({videoId:this.videoModel.videoMerchId,playerSessionId:this.getPlayerSessionId(),playbackType:"videoMerchJaw"})},logVideoMerchCancelPlay:function(){if(this.props.logStartPlayCancel){!this.context.playerApp.getAPI().videoPlayer.isVideoPlayingForSessionId(this.getPlayerSessionId())&&this.props.logStartPlayCancel&&this.props.logStartPlayCancel({playerSessionId:this.getPlayerSessionId()},"BLURRED")}},componentDidMount:function(){var e=this;this.logVideoMerchStartPlay();var t=this,i=d.findDOMNode(this),a=this.context.getModelData("truths").mdx2Enabled,o=a&&_.getManagerInstance();o&&o.on(o.EVENTS.SHOW_EPISODES,this.showEpisodesTab),i&&V.show(i,function(e){t.animateInfo(e,{before:{translateX:"30px",opacity:0},translateX:"0px",opacity:1,delay:250,duration:500})}),this.prefetchOnLoad(),O.emit("jawbone:tab:open",{tab:this.state.visiblePane}),setTimeout(function(){if(e.isMounted()){var t=window.pageXOffset,i=window.pageYOffset,a=d.findDOMNode(e);a&&a.focus(),window.scrollTo(t,i)}},600)},shouldComponentUpdate:function(e,t,i){return this.props.videoId!==e.videoId||this.state.visiblePane!==t.visiblePane||this.state.isLoading!==t.isLoading||this.state.videoMerchPlaying!==t.videoMerchPlaying||u.includes(X,this.state.visiblePane)&&this.context.columnsInRow!==i.columnsInRow},componentDidUpdate:function(){this.prefetchOnLoad()},componentWillUnmount:function(){var e=this,t=d.findDOMNode(this),i=this.context.getModelData("truths").mdx2Enabled,a=i&&_.getManagerInstance();t&&V.show(t,function(t,i){e.animateInfo(t,{opacity:0,duration:250}),setTimeout(i,950)}),clearTimeout(this.mountPrefetchTimeout),a&&a.removeListener(a.EVENTS.SHOW_EPISODES,this.showEpisodesTab),this.logVideoMerchCancelPlay()},componentWillReceiveProps:function(e){if(e.videoId!==this.props.videoId){var t=e.model,i=this.getHasEpisodes();this.setState({isShow:i,visiblePane:this.getDefaultPane(t)})}},renderOriginalsTitle:function(e,t){var i=h("logo",{"small-logo":!t});return r.createElement("img",{alt:e,className:i,src:this.videoModel.logoUrl})},renderText:function(e){return r.createElement("div",{className:"text image-fallback-text"},e)},renderTitle:function(e,t,i){var a="ja"===u.get(this.context.models,"geo.data.locale.language","en"),o=this.videoModel.isOriginal,s=h("title","has-jawbone-nav-transition",{"title-small":e.length>30,"long-title-double-byte-width":a,"long-title-double-byte-font":a&&e.length>25,original:o});return r.createElement(this.props.isStandaloneJawbone?"h1":"h3",{},r.createElement(k,{resolver:B.getTitleRoute,className:h("jawbone-title-link"),params:{id:i},tabIndex:-1},r.createElement("div",{className:s},o&&this.videoModel.logoUrl?this.renderOriginalsTitle(e,t):this.renderText(e))))},render:function(){var e=this.props,t=e.model,i=e.videoId,a=e.disableClose,o=e.hideMoreLikeThis,s=t.getValueSync(["summary"]),n=t.getValueSync(["title"])||this.context.getI18nString(Q,"overview.loading"),l=this.getHasEpisodes(),d=T.isInResumeState(this.props.model)||T.isInNextUpState(this.props.model),c=!this.videoModel.isPlayable&&!this.videoModel.hasTrailers,u=!this.context.isRtl&&this.videoModel.isOriginal&&!d;if(!i||s&&m.isValueError(s))return null;var p=l||"Episodes"!==this.state.visiblePane?this.state.visiblePane:"Overview",g="Overview"===p,v="Warning"===p,y=g||v,w=this.videoModel.videoMerchId,b=q.hasContentWarning(this.videoModel),f=w?g&&!this.state.videoMerchPlaying:g;return r.createElement("div",{id:i,className:"jawBoneContainer slider-hover-trigger-layer",onKeyDown:this.handleKeyDown,onClick:this._handleClick,tabIndex:0},r.createElement(I,{id:i,dim:!g,rotateStills:f,model:t,isStandalone:!l,isFullBleed:u,videoMerchPlayerElement:this.videoModel.videoMerchId&&!this.state.isFinishedPlayingVideoMerch&&r.createElement(F,{allowPlayback:g,isPlacedInJaw:!0,videoStartTime:this.videoModel.videoMerchStartTime||0,videoId:this.videoModel.videoMerchId,playerSessionId:this.getPlayerSessionId(),uiLabel:A.VIDEO_MERCH_JAW,onPlayerError:this.onPlayerError,onPlayerPlaying:this.onPlayerPlaying,onPlaybackComplete:this.handleVideoMerchPlayerComplete,trackId:this.context.trackId,playContextRecord:K({location:"VIDEO_MERCH",row:this.context.rowNum,rank:this.context.rankNum,requestId:this.context.requestId})})}),r.createElement("div",{className:"jawBone"},this.renderTitle(n,y,i),r.createElement("div",{className:h("jawBoneCommon")},r.createElement("div",{className:h("jawBonePanes",{"offset-for-logo":this.videoModel.isOriginal&&this.videoModel.logoUrl&&!y,fullBleed:u})},this.getVisiblePane(p,d))),!c&&r.createElement(M,{hideMoreLikeThis:o,hasEpisodes:l,hasTrailers:this.videoModel.hasTrailers,isPrePromo:this.videoModel.isPrePromo,visiblePane:p,onTabClicked:this.onTabClicked,hasContentWarning:b,onMouseEnter:this.handleNavHover})),!a&&r.createElement("a",{className:h("close-button","icon-close"),ref:"closeJawboneButton",onClick:this.handleCloseJawBone,tabIndex:0,role:"button","aria-label":this.context.getI18nString(Q,"button.close")}),this.videoModel.videoMerchId&&this.state.videoMerchPlaying&&r.createElement(U,{key:"audio-toggle",isHidden:!g}))}});t.exports=$});C.r("akira/containers/jawbone/jawBoneOnRow.jsx",function(e,t,o){"use strict";var i=e("prop-types"),n=e("react"),s=e("create-react-class"),a=e("lodash"),r=e("classnames"),l=e("./jawBone.jsx"),d=e("../slider/slider.jsx"),u=e("../../utils/akiraContextTypes"),m=e("../../../utils/eventBus"),w=e("../timeoutTransition/timeoutTransitionGroup.jsx"),c=e("../../../utils/ab/richOriginalsRowTest"),p=e("../lolomo/lolomoConstants.jsx"),h=e("../../../akira/utils/browseVideoLogging.jsx"),x=h(l),j=s({displayName:"JawBoneOnRow",childContextTypes:{rankNum:i.number},contextTypes:Object.assign({getModelData:i.func.isRequired,models:i.object.isRequired,rowNum:i.number,listContext:i.string,openJawbone:i.func.isRequired},u),getInitialState:function(){return{jawBoneIsNavigating:!1}},getChildContext:function(){return{rankNum:this.props.jawBoneRankNum}},componentWillReceiveProps:function(e){var t=this.props,o=t.jawBoneRankNum,i=t.showJawBone,n=t.lowestVisibleItemIndex,s=t.model;if(o!==e.jawBoneRankNum&&(this.isFirstJaw=null===o),i&&e.lowestVisibleItemIndex!==n){if(this.state.jawBoneIsNavigating)return void(this.state.jawBoneIsNavigating=!1);var r=s.bind(this.props.videoRoot?[e.lowestVisibleItemIndex,this.props.videoRoot]:[e.lowestVisibleItemIndex]),l=r&&r.getValueSync(["summary"]),u=l&&l.id,w=e.sliderMoveDirection===d.MOVE_DIRECTION_NEXT?"rowNext":"rowPrev";u&&(m.emit("jawbone:open",a.assign({},this.context,this.props,{trigger:w,videoId:u,rankNum:e.lowestVisibleItemIndex})),this.context.openJawbone(this.context.rowNum,e.lowestVisibleItemIndex,u))}},getJawBoneModel:function(){var e=this.props,t=e.jawBoneModelIndex,o=e.model;return t>=0?o.bind(this.props.videoRoot?[t,this.props.videoRoot]:[t]):null},renderJawBone:function(e,t){var o=e&&e.getValueSync(["promoVideo"]),i=c.isRichOriginalsRow(this.context.isTallRow,this.context.models.truths),s=o&&o.id,a=s?x:l,r=this.context.listContext===p.LIST_CONTEXTS.SHORT_FORM;return n.createElement(w,{transitionName:"jawBoneFadeInPlace",key:"jawbone",className:"jawBoneOpenContainer",enterTimeout:640,leaveTimeout:640},n.createElement("div",{key:"jawbone-"+t,className:"jawBoneFadeInPlaceContainer"},n.createElement(a,{videoId:t,model:e,hideMoreLikeThis:i,hideTitleActions:r,isFirstJaw:this.isFirstJaw,playbackQueryParams:this.props.playbackQueryParams,disableClose:this.props.disableClose})))},render:function(){var e=this.props.showJawBone,t=!1,o=null;if(e){var i=this.getJawBoneModel(),s=i&&i.getValueSync(["summary"]),a=s&&s.id;t=!!i,o=t&&this.renderJawBone(i,a)}return n.createElement(w,{transitionName:"jawBoneOpen",enterTimeout:640,leaveTimeout:640,className:r("jawBoneContent",{open:t})},o)}});t.exports=j});C.r("akira/containers/jawbone/menu.jsx",function(e,i,r){"use strict";var a=e("prop-types"),s=e("react"),n=e("create-react-class"),t=e("classnames"),o=e("./menuTab.jsx"),l={overview:"tab.overview.capitalized",episodes:"tab.episodes.capitalized","more.like.this":"tab.more.like.this.capitalized",trailers:"tab.trailers.capitalized","show.details":"tab.show.details.capitalized",warning:"tab.warning.capitalized"},d=n({displayName:"JawBoneMenu",contextTypes:{getI18nString:a.func.isRequired},renderMenu:function(e,i){var r=this.props,a=r.visiblePane,n=r.onTabClicked;return s.createElement(o,{id:e,key:e,clickHandler:n,currentPane:a},this.context.getI18nString("discovery/akira/JawBone",l[i]))},render:function(){var e=this.props,i=e.onMouseEnter,r=e.hasEpisodes,a=e.isPrePromo,n=e.hasTrailers,o=e.hideMoreLikeThis,l=e.hasContentWarning;return s.createElement("ul",{className:t("menu"),onMouseEnter:i,role:"tablist"},this.renderMenu("Overview","overview"),r&&!a&&this.renderMenu("Episodes","episodes"),n&&this.renderMenu("Trailers","trailers"),!a&&!o&&this.renderMenu("MoreLikeThis","more.like.this"),!a&&this.renderMenu("ShowDetails","show.details"),l&&this.renderMenu("Warning","warning"))}});i.exports=d});C.r("akira/containers/jawbone/menuTab.jsx",function(e,n,a){"use strict";var r=(e("prop-types"),e("react")),t=e("create-react-class"),c=e("classnames"),s=e("../../../utils/keyboardEventsWrapper"),i=t({displayName:"Tab",_handleClick:function(){this.props.clickHandler(this.props.id)},render:function(){var e=this.props,n=e.id,a=e.currentPane,t=e.children,i=c(n,{current:a===n});return r.createElement("li",{className:i,id:"tab-"+n,onClick:this._handleClick,onKeyDown:s.executeOnEnterOrSpace(this._handleClick)},r.createElement("a",{role:"link",tabIndex:0},t),r.createElement("span",null))}});n.exports=i});C.r("akira/containers/jawbone/moreLikeThis/moreLikeThis.jsx",function(e,t,i){"use strict";var n=e("prop-types"),r=e("react"),s=e("create-react-class"),a=e("./moreLikeThisCard.jsx"),o=e("../../slider/slider.jsx"),c=e("../../../utils/akiraContextTypes"),l=e("../../../../components/presentationTracking/trackingComponents/jawboneSimilarsPresTracking"),m=s({displayName:"MoreLikeThis",contextTypes:Object.assign({getI18nString:n.func.isRequired},c),NUM_PER_PANE:25,statics:{getPaths:function(e,t,i){return[["similars",["summary","trackId"]]].concat(a.getPaths(e,t,i).map(function(e){return["similars",{to:25}].concat(e)}))}},childContextTypes:{trackId:n.number},getChildContext:function(){return{trackId:this.getTrackId()}},getTrackId:function(){return this.props.model.bind(["similars"]).getValueSync(["trackId"])},getSims:function(){var e=this.props.model,t=e.hardBind(["similars"]),i=t.getValueSync(["summary"]),n=[],s=5,o=void 0;if(!i)return null;void 0!==i.length&&(s=Math.min(this.NUM_PER_PANE,i.length));for(var c=0;c<s;c++)o=t.bind([c]),o.getBoundValue()&&n.push(r.createElement(a,{key:"sims"+c,model:o,rankNum:c}));return n},getLoadingSimsList:function(){for(var e=[],t=0;t<5;t++)e.push(r.createElement(a,{key:"sims"+t,isLoading:!0,index:t}));return e},renderError:function(){return r.createElement("p",{className:"unavailable"},this.context.getI18nString("discovery/akira/JawBone","more.like.this.unavailable"))},render:function(){var e=void 0,t=void 0,i=!0;if(this.props.isLoading)e=5,t=this.getLoadingSimsList(),i=!1;else if(e=this.context.isOverlayPage?this.context.columnsInRow:this.context.columnsInRow-1,null===(t=this.getSims())||0===t.length)return this.renderError();return r.createElement("div",{className:"simsWrapper"},r.createElement(l,null,r.createElement(o,{itemsInRow:e,totalItems:t.length,enableLooping:i,onSliderMove:this.props.onSliderMove},t)))}});t.exports=m});C.r("akira/containers/jawbone/moreLikeThis/moreLikeThisCard.jsx",function(e,t,a){"use strict";var s=e("prop-types"),o=e("react"),n=e("create-react-class"),i=e("react-dom"),r=e("classnames"),l=e("../../../components/controls/playbutton.jsx"),c=e("../../../components/loader/loadingBox.jsx"),m=e("../../../components/title/videoMeta.jsx"),d=e("../../../components/title/myListButton.jsx"),u=e("../../../../common/imageExtension"),p=e("../../../../components/presentationTracking/trackingComponents/boxartPresTracking"),g=e("../../../utils/akiraContextTypes"),x=e("../../../../utils/textUtils"),y=e("lodash"),h=n({displayName:"MoreLikeThisCard",contextTypes:Object.assign({models:s.object.isRequired},g),childContextTypes:{rankNum:s.number},getChildContext:function(){return{rankNum:this.props.rankNum}},statics:{getPaths:function(e,t,a){return[[["synopsis","title","summary","queue","trackId"]],["boxarts","_260x146",u.getExtensionForOpaqueImage(e)],["boxarts","_342x192",u.getExtensionForOpaqueImage(e)]].concat(m.getPaths()).concat(l.getPaths())}},clickPlayButton:function(){this.refs.playButton&&i.findDOMNode(this.refs.playButton).click()},renderPlaceholders:function(){var e={"video-artwork":!0},t=.5+.2*this.props.index;return o.createElement("div",{className:"simsLockup"},o.createElement(c,{boxClassNames:e,delay:t,pulsate:!0,displayWhenNotPulsing:!1}))},render:function(){if(this.props.isLoading)return this.renderPlaceholders();var e=this.props.model,t=e.getValueSync(["summary"]),a=u.getExtensionForOpaqueImage(this.context.models),s=e.getValueSync(["boxarts","_260x146",a]),n=e.getValueSync(["title"]),i=e.getValueSync(["queue"]),c=e.getValueSync(["synopsis"]),g=s?s.image_key:void 0,h=t&&t.id,b=y.get(this.context.models,"geo.data.locale.language","en"),k=void 0,v=r({simsLockup:!0,"slider-refocus":!0,sliderItemHidden:!this.props.itemTabbable});return"ja"===b&&(c=x.ellipsize(c,98)),s&&(k={backgroundImage:"url("+s.url+")"}),o.createElement("div",{className:v,tabIndex:-1,"aria-label":n,"aria-role":"group"},o.createElement(p,{videoId:h,imageKey:g},o.createElement("div",{className:"video-artwork sims-artwork",style:k,alt:n,onClick:this.clickPlayButton},o.createElement(l,{model:e,className:"simsPlay",ref:"playButton",tabIndex:this.props.itemTabbable?0:-1}),o.createElement(d,{model:e.hardBind([]),showToolTip:!0,videoId:h,inQueue:i.inQueue,labelOnHover:!0,labelLeft:!0,tabIndex:this.props.itemTabbable?0:-1}))),o.createElement(m,{model:e,readOnly:!0}),o.createElement("div",{className:"simsSynopsis"},c))}});t.exports=h});C.r("akira/containers/jawbone/overview/heroOverview.jsx",function(e,t,n){"use strict";var s=e("lodash"),a=e("prop-types"),r=e("react"),o=e("create-react-class"),i=e("classnames"),l=e("./../resume.jsx"),c=e("../../../components/title/thumbs.jsx"),u=e("../../../components/controls/playbutton.jsx"),m=e("../../../components/title/videoMeta.jsx"),d=e("../../../components/title/myListButton.jsx"),p=e("../../../../components/presentationTracking/presentationTrackingContainer.jsx"),g=e("../../../../components/presentationTracking/trackingComponents/boxartPresTracking"),h=e("../../../utils/watched"),v=e("../../../utils/akiraContextTypes"),y=e("../../../../utils/textUtils"),w="discovery/akira/JawBone",f=o({displayName:"HeroOverview",contextTypes:Object.assign({getI18nString:a.func.isRequired,models:a.object,getModelData:a.func.isRequired},v),statics:{getPaths:function(e){var t=[[["summary","regularSynopsis","queue","watched","episodeCount","dpSupplementalMessage"]],["genres","summary"],["genres",{to:2},["id","name"]],["tags","summary"],["tags",{to:9},["id","name"]],["cast","summary"],["cast",{to:5},["id","name"]]];return e&&(t=t.concat(m.getPaths()).concat(h.getPaths()).concat(l.getPaths()).concat(u.getPaths())),t}},childContextTypes:{trackId:a.number},getInitialState:function(){var e=this.context.models;return{showRatings:s.get(e,"truths.data.showRatings",!0)}},getChildContext:function(){var e={};return this.props.trackId&&(e.trackId=this.props.trackId),e},updateAfterAction:function(){this.isMounted()&&this.forceUpdate()},render:function(){var e=this.props.model,t=e.getValueSync(["summary"]),n=e.getValueSync(["dpSupplementalMessage"]),s=e.getValueSync(["episodeCount"]),a=this.props.isPrePromo,o=[],c=h.isInResumeState(this.props.model),u=h.isInNextUpState(this.props.model),d={overview:!0},v=e.getValueSync(["regularSynopsis"]);if(!t)return null;v=y.ellipsize(v,200);var f=c||u?"continue":"start",S="continue"===f,x=!a,E=o.length&&!a&&!n;return r.createElement("div",{className:i(d)},r.createElement(p,null,r.createElement(g,{videoId:t.id},r.createElement("div",{className:"jawbone-overview-info has-jawbone-nav-transition"},x?r.createElement(m,{model:e,withMaturityReasons:!0,showPlayerFeatureSupport:!0}):null,S?r.createElement(l,{model:e,resume:c,isStandalone:!s}):null,"start"===f?r.createElement("span",null,n&&r.createElement("div",{className:"supplemental-message"},n),r.createElement("div",{className:"synopsis heroSynopsis"},v||r.createElement("b",{style:{color:"#fff"}},this.context.getI18nString(w,"overview.loading")))):null,E?r.createElement("div",{className:"user-evidence"},r.createElement("ul",null,o)):null,this.renderActionsRow(S)),null)))},renderActionsRow:function(e){var t=this.props.model,n=t.getValueSync(["queue"]),s=t.getValueSync(["summary"]);return r.createElement("div",{className:"actionsRow"+(e?" continueWatching":"")},this.renderQueue(n,s,e),this.renderThumbs(t,s))},renderQueue:function(e,t,n){var s=this.props.isPrePromo,a=i({myListWrapper:!0,prePromo:s}),o=s?this.updateAfterAction:null,l=this.context.getModelData("truths").isWatchlistEnabled?"watchlist.prepromo.message":"mylist.prepromo.message";return e?r.createElement("div",{className:a},r.createElement(u,{model:this.props.model,trackId:this.props.trackId,flatButton:!0}),r.createElement(d,{model:this.props.model,videoId:t.id,inQueue:e.inQueue,onStateChange:o,flatButton:!0}),e.inQueue&&s?r.createElement("div",{className:"myListPrepromoMessage"},this.context.getI18nString(w,l)):null):null},renderThumbs:function(e,t){return this.state.showRatings?r.createElement("div",{className:"thumbs-overview-wrapper"},r.createElement(c,{onRating:this.updateAfterAction,model:e,videoId:t.id,ratedLabel:this.context.getI18nString(w,"overview.rating.label.rated"),unratedLabel:this.context.getI18nString(w,"overview.rating.label.cta")})):null}});t.exports=f});C.r("akira/containers/jawbone/overview/overview.jsx",function(e,t,s){"use strict";var a=e("prop-types"),n=e("react"),o=e("create-react-class"),l=e("./../resume.jsx"),i=e("react-dom"),r=e("../../../components/title/thumbs.jsx"),c=e("../../../components/controls/playbutton.jsx"),m=e("../../../../components/presentationTracking/trackingComponents/jawboneOverviewPresTracking"),d=e("../../../utils/watched"),p=e("../../../utils/akiraContextTypes"),u=e("../../../components/title/videoMeta.jsx"),E=e("../../../components/title/supplementalMessage.jsx"),h=e("../../../components/title/synopsis.jsx"),v=e("../../../components/title/currentSynopsis.jsx"),y=e("../../../components/title/evidence.jsx"),x=e("../../../components/title/cast.jsx"),g=e("../../../components/title/genres.jsx"),j=e("../../../components/title/tags.jsx"),P=e("../../../components/title/myListButton.jsx"),S=e("../../../components/title/myListMessage.jsx"),T=e("../../../components/title/name.jsx"),f=e("../../../components/title/creators.jsx"),w=o({displayName:"Overview",contextTypes:Object.assign({models:a.object,trackId:a.number},p),statics:{getPaths:function(e,t,s){return[].concat(T.getPaths(e,t,s),u.getPaths(e,t,s),h.getPaths(e,t,s),y.getPaths(e,t,s),x.getPaths(e,t,{maxResults:3}),g.getPaths(e,t,{maxResults:3}),j.getPaths(e,t,{maxResults:3}),P.getPaths(e,t,s),S.getPaths(e,t,s),E.getPaths(e,t,s),d.getPaths(e,t,s))}},onClickPlayHitZone:function(e){if(this.props.videoModel.isPlayable){var t=i.findDOMNode(this.refs.playButton);t instanceof HTMLElement&&t.click(),e.stopPropagation()}},updateAfterAction:function(){this.isMounted()&&this.forceUpdate()},shouldShowEvidence:function(){var e=this.props.videoModel;return!e.isPrePromo&&!e.supplementalMessage&&e.playState===d.STATES.UNWATCHED&&!e.isOriginal},render:function(){var e=this.props,t=e.model,s=e.videoModel,a=this.context.trackId;if(!s.summary)return null;var o=!s.isPrePromo;return n.createElement("div",{className:"overview"},n.createElement(m,{videoId:s.id},n.createElement("div",{className:"jawbone-overview-info has-jawbone-nav-transition"},o&&n.createElement(u,{model:t,withMaturityReasons:!0,showPlayerFeatureSupport:!0}),n.createElement(E,{model:t}),s.playState!==d.STATES.UNWATCHED&&n.createElement(l,{model:t,resume:s.playState===d.STATES.RESUME,isStandalone:!s.isShow}),s.playState!==d.STATES.UNWATCHED?n.createElement(v,{model:t}):n.createElement(h,{model:t}),n.createElement("div",{className:"jawbone-actions"},n.createElement(c,{ref:"playButton",model:t,trackId:a,flatButton:!0}),n.createElement(P,{model:t,flatButton:!0}),n.createElement("span",{className:"thumbs-container"},n.createElement(r,{onRating:this.updateAfterAction,model:t,videoId:s.id}))),this.shouldShowEvidence()&&n.createElement(y,{model:t}),n.createElement(S,{model:t}),n.createElement("div",{className:"meta-lists"},s.playState!==d.STATES.UNWATCHED?n.createElement(f,{model:t,layout:"inline",maxResults:3}):[n.createElement(x,{model:t,layout:"inline",maxResults:3}),n.createElement(g,{model:t,layout:"inline",maxResults:3}),n.createElement(j,{model:t,layout:"inline",maxResults:3})]))),s.isPlayable&&n.createElement("div",{className:"jaw-play-hitzone",onClick:this.onClickPlayHitZone}))}});t.exports=w});C.r("akira/containers/jawbone/pane.jsx",function(e,n,t){"use strict";var s=(e("prop-types"),e("react")),a=e("create-react-class"),i=e("react-dom"),o=e("classnames"),r=e("../../../utils/transition"),c=a({displayName:"Pane",componentDidMount:function(){r.show(i.findDOMNode(this),Object.assign({},r.presets.fadeIn,{duration:300})),this.props.hasClickedMenu&&i.findDOMNode(this).focus()},componentWillUnmount:function(){r.hide(i.findDOMNode(this),Object.assign({},r.presets.fadeOut,{duration:300}))},render:function(){return s.createElement("div",{className:o("jawBonePane"),id:"pane-"+this.props.ariaId,tabIndex:-1},this.props.children)}});n.exports=c});C.r("akira/containers/jawbone/resume.jsx",function(e,t,r){"use strict";var n=e("prop-types"),i=e("react"),s=e("create-react-class"),a=e("./../../components/controls/progress.jsx"),o=e("../../components/episode/newBadge.jsx"),c=e("../../utils/watched"),u=e("classnames"),l=e("../../../utils/titles/interactiveTitles"),m=e("../../../utils/titles/interactiveFeatures"),d=s({displayName:"Resume",contextTypes:{getI18nString:n.func.isRequired},statics:{getPaths:function(){return[["current",["summary","synopsis","title","runtime","bookmarkPosition","interactiveBookmark"]]].concat(c.getPaths())}},getEpisodeTitle:function(e){var t=e.SEASON_ABBR&&e.EPISODE_NUMBER?"watched.title.overview":"episode.title.quoted";return this.context.getI18nString("discovery/akira/JawBone",t,e)},renderTitleComponent:function(e){var t=c.getResumeParams(this.props.model),r={__html:this.getEpisodeTitle(t)},n=i.createElement("span",{dangerouslySetInnerHTML:r});return this.props.resume&&(n=i.createElement("b",null,n)),i.createElement("div",{className:u("episodeTitle")},i.createElement(o,{newBadge:t.newBadge}),n)},render:function(){var e=this.props,t=e.model,r=e.resume,n=e.isStandalone,s=t.hardBind(["current"]),o=s.getValueSync(["runtime"]),c=s.getValueSync(["interactiveBookmark"]),d=s.getValueSync(["summary"]),p=s.getValueSync(["bookmarkPosition"]),g=!0;if(l.isValidInteractiveBookmark(c)){var v=l.getInteractiveBookmarkPosition(c,o);v&&(p=v);l.supportsInteractiveFeature(m.hideDetailedDurations,d)&&(g=!1)}return i.createElement("div",{className:u("watched")},!n&&this.renderTitleComponent(s),r&&i.createElement(a,{runtime:o,bookmarkPosition:p,showSummary:g,current:!0}))}});t.exports=d});C.r("akira/containers/jawbone/trailers/trailerCard.jsx",function(e,t,r){"use strict";var a=e("prop-types"),n=e("react"),s=e("create-react-class"),o=e("react-dom"),i=e("../../../components/controls/playbutton.jsx"),l=e("../../../components/loader/loadingBox.jsx"),c=e("../../../../components/presentationTracking/trackingComponents/boxartPresTracking"),m=e("../../../../common/imageExtension"),u=e("../../../utils/akiraContextTypes"),p=s({displayName:"TrailerCard",contextTypes:Object.assign({models:a.object.isRequired},u),childContextTypes:{rankNum:a.number},getChildContext:function(){return{rankNum:this.props.rankNum}},getImage:function(){var e=this.props.model,t=m.getExtensionForOpaqueImage(this.context.models),r=e.getValueSync(["interestingMoment","_260x146",t]);return r?{backgroundImage:"url("+r.url+")"}:{}},statics:{getPaths:function(e,t,r){return[[["title","summary","trackId"]],["interestingMoment","_260x146",m.getExtensionForOpaqueImage(e)]].concat(i.getPaths())}},clickPlayButton:function(){this.refs.playButton&&o.findDOMNode(this.refs.playButton).click()},renderPlaceholders:function(){var e={"video-artwork":!0},t=.5+.2*this.props.index;return n.createElement("div",{className:"trailerLockup"},n.createElement(l,{boxClassNames:e,delay:t,pulsate:!0,displayWhenNotPulsing:!1}))},render:function(){if(this.props.isLoading)return this.renderPlaceholders();var e=this.props.model,t=e.getValueSync(["summary"]),r=e.getValueSync(["title"]),a=t&&t.id,s=this.getImage();return n.createElement("div",{className:"trailerLockup"},n.createElement(c,{videoId:a},n.createElement("div",{className:"video-artwork trailer-artwork",style:s,alt:r,onClick:this.clickPlayButton},n.createElement(i,{model:e,className:"trailerPlay",startTime:"0",ref:"playButton",playbackQueryParams:this.props.playbackQueryParams}))),n.createElement("div",{className:"trailerTitle"},r))}});t.exports=p});C.r("akira/containers/jawbone/trailers/trailers.jsx",function(e,r,t){"use strict";var a=e("prop-types"),n=e("react"),i=e("create-react-class"),s=e("./trailerCard.jsx"),o=e("../../slider/slider.jsx"),l=e("../../../utils/akiraContextTypes"),c=e("../../../../components/presentationTracking/trackingComponents/jawboneTrailersPresTracking"),u=i({displayName:"Trailers",contextTypes:Object.assign({getI18nString:a.func.isRequired},l),statics:{getPaths:function(e,r,t){return[["trailers","summary"]].concat(s.getPaths(e,r,t).map(function(e){return["trailers",{to:35}].concat(e)}))}},childContextTypes:{trackId:a.number},getChildContext:function(){var e={};return this.props.trackId&&(e.trackId=this.props.trackId),e},getTrailers:function(){var e=this.props.model,r=e.bind(["trailers"]),t=r.getValueSync(["summary"]),a=[],i=5,o=void 0;if(!t)return null;void 0!==t.length&&(i=Math.min(35,t.length));for(var l=0;l<i;l++)o=r.bind([l]),o.getBoundValue()&&a.push(n.createElement(s,{key:"trailer"+l,model:o,rankNum:l,playbackQueryParams:this.props.playbackQueryParams}));return a},getLoadingTrailersList:function(){for(var e=[],r=0;r<5;r++)e.push(n.createElement(s,{key:"trailer"+r,isLoading:!0,index:r}));return e},renderError:function(){return n.createElement("p",{className:"unavailable"},this.context.getI18nString("discovery/akira/JawBone","trailers.unavailable"))},render:function(){var e=void 0,r=void 0;if(this.props.isLoading)e=5,r=this.getLoadingTrailersList();else if(e=this.context.columnsInRow-1,null===(r=this.getTrailers())||0===r.length)return this.renderError();return n.createElement("div",{className:"trailerWrapper"},n.createElement(c,null,n.createElement(o,{itemsInRow:e,totalItems:r.length,enableLooping:!1,onSliderMove:this.props.onSliderMove},r)))}});r.exports=u});C.r("akira/containers/lolomo/lolomoConstants.jsx",function(o,I,s){"use strict";var a={LIST_CONTEXTS:{CONTINUE_WATCHING:"continueWatching",SUGGESTION_GALLERY:"suggestionsForYouGallery",SUGGESTION_ROW:"galleryDisplayAsRow",BILLBOARD:"billboard",SOCIAL_POPULAR:"socialPopular",RATE_MOVIES:"rateMovies",BIG_ROW:"bigRow",NETFLIX_ORIGINALS:"netflixOriginals",SIMILIARS:"similars",MY_LIST:"queue",CHARACTER_ROW:"character",WATCHLIST:"watchlist",SHORT_FORM:"shortForm"},LIST_TYPES:{FLAT:"flat",COMPOSITE:"composite"},LAZY_LOADING:{IMAGES:6}};I.exports=a});C.r("akira/containers/modal/rating.jsx",function(t,e,n){"use strict";var i=t("prop-types"),r=t("react"),a=t("create-react-class"),o=t("./modalContent.jsx"),s=t("../../../common/svgIcon.jsx"),l="discovery/akira/Messaging",c=a({displayName:"WelcomeToRating",contextTypes:{getI18nString:i.func.isRequired,modalDismiss:i.func,modalUpdate:i.func},buildThumbUpPortion:function(){return r.createElement("div",{className:"rating-portion"},r.createElement("h3",null,this.renderThumb("thumb-up"),this.context.getI18nString(l,"rating.show.more.headline")),r.createElement("p",null,this.context.getI18nString(l,"rating.show.more.body")))},buildThumbDownPortion:function(){return r.createElement("div",{className:"rating-portion"},r.createElement("h3",null,this.renderThumb("thumb-down"),this.context.getI18nString(l,"rating.show.fewer.headline")),r.createElement("p",null,this.context.getI18nString(l,"rating.show.fewer.body")))},buildModal:function(){var t=1===this.props.thumbNumber;return r.createElement("div",{className:"rating-overlay"},r.createElement("div",{className:"rating-description"},r.createElement("h2",{dangerouslySetInnerHTML:{__html:this.context.getI18nString(l,"rating.headline",{name:this.props.firstName})}}),r.createElement("p",{className:"rating-headline-body"},this.context.getI18nString(l,"rating.body")),t?this.buildThumbDownPortion():this.buildThumbUpPortion(),t?this.buildThumbUpPortion():this.buildThumbDownPortion(),r.createElement("button",{className:"nf-flat-button",onClick:this.context.modalDismiss},this.context.getI18nString(l,"rating.action"))))},renderThumb:function(t){var e={thumb:!0};return e[t]=!0,r.createElement(s,{key:t,name:t+"-filled",classes:e})},render:function(){return r.createElement(o,{body:this.buildModal()})}});e.exports=c});C.r("akira/containers/reviewsContainer.js",function(e,t,n){"use strict";var r=e("./jawbone/details/reviews.jsx"),i=e("../utils/falcorConnect.jsx"),o=i(r,{autoFetchPaths:function(e,t,n){return[["reviewsCount"],["helpfulReviews",{from:0,to:1},["id","rating","reviewText","helpfulCount","notHelpfulCount"]],["usersReview",["id","rating","reviewText","helpfulCount","notHelpfulCount"]]]},mapDataToProps:function(e){return{numReviews:e.getValueSync(["reviewsCount"])}}});t.exports=o});C.r("akira/containers/row.jsx",function(e,o,s){"use strict";var t=e("prop-types"),n=e("react"),i=e("create-react-class"),r=e("react-dom"),a=e("classnames"),l=e("./slider/slider.jsx"),p=e("./jawbone/jawBone.jsx"),d=e("./jawbone/jawBoneOnRow.jsx"),h=e("../../utils/cssAnimation"),c=e("../utils/akiraContextTypes"),u=e("../../utils/eventBus"),m=e("../utils/falcorPureRender.jsx"),w=e("../../components/presentationTracking/presentationTrackingContainer.jsx"),B=i({displayName:"Row",sliderMoveDirection:null,contextTypes:Object.assign({models:t.object.isRequired,openJawbone:t.func.isRequired},c),getInitialState:function(){return{lowestVisibleItemIndex:0,isBobOpen:!1}},componentDidMount:function(){this.props.isMyListRow&&(u.on("myList:remove:end",this._decreaseSelectedIndex),u.on("myList:add:end",this._increaseSelectedIndex))},componentWillUnmount:function(){this.props.isMyListRow&&(u.removeListener("myList:remove:end",this._decreaseSelectedIndex),u.removeListener("myList:add:end",this._increaseSelectedIndex))},_increaseSelectedIndex:function(){var e=this.props.totalItems;this.props.showJawBone&&null!==this.props.jawBoneRankNum&&void 0!==this.props.jawBoneRankNum&&e&&(this.props.isGallery?(this.context.columnsInRow&&this.context.columnsInRow>e&&(e=this.context.columnsInRow),this.props.jawBoneRankNum+1<e?this.context.openJawbone(this.props.rowNum,this.props.jawBoneRankNum+1):this.context.openJawbone(this.props.rowNum,0)):this.props.jawBoneRankNum+1<=e&&this.context.openJawbone(this.props.rowNum,this.props.jawBoneRankNum+1))},_decreaseSelectedIndex:function(e){var o=this.props.orderedItemList[e.videoId],s=this.props.totalItems,t=this.props.jawBoneRankNum,n=void 0;this.props.showJawBone&&this.props.orderedItemList&&void 0!==o&&(n=this.props.isGallery?(t+1)*(this.props.rowNum+1):t,t-1>=0&&(o<n||t+1>=s)&&this.context.openJawbone(this.props.rowNum,t-1))},childContextTypes:{rowNum:t.number},getChildContext:function(){return{rowNum:this.props.rowNum}},handleSliderMove:function(e,o){this.setState({lowestVisibleItemIndex:e}),this.sliderMoveDirection=o,"function"==typeof this.props.handleSliderMove&&this.props.handleSliderMove(e,o)},closingBobs:[],onBobLeave:function(e,o){var s=this,t={position:e,callback:o,closeTimeout:setTimeout(function(){s.isMounted()&&s.closePrevBobs(!1)},500)};this.closingBobs.push(t)},onBobOpen:function(e,o,s,t){this.pushSliderItems(e,o,s,t),this.closePrevBobs(!0),this.setState({isBobOpen:!0})},onBobClose:function(e,o,s,t){t&&this.handleRowBlur(),!this.ignoreClosingPush||this.isJawBoneOpen()?this.pushSliderItems(e,0,o,s):s&&s(),this.ignoreClosingPush=!1},closePrevBobs:function(e){this.ignoreClosingPush=e;for(var o=0,s=this.closingBobs.length;o<s;o++){var t=this.closingBobs[o];clearTimeout(t.closeTimeout),t.callback&&t.callback()}this.closingBobs=[]},cleanUpAllBobStyles:function(){if(this.isMounted()){var e=this.refs.slider;if(e){(e.getAllSliderItems()||[]).map(function(e){h.clearStyles(r.findDOMNode(e))})}}},getIsBobOpen:function(){return this.state.isBobOpen},pushSliderItems:function(e,o,s,t){var n=this.refs.slider,i=n&&n.getItem(e);if(i&&s){var a=void 0,l=i.props.viewportPosition;a="leftEdge"===l?1:"rightEdge"===l?-1:0;for(var p,d=n.getSliderItemsInViewport(),c=0;p=d[c];c++){var u=0;if(p===i)u=a*o;else{var m=a?2:1,w=p.props.viewportIndex>i.props.viewportIndex?1:-1;a&&w!==a&&(m=0),u=w*o*m}this.context.isRtl&&(u*=-1),h.animate({target:r.findDOMNode(p),translate3d:Math.floor(u)+"px, 0,0",duration:s,callback:t,easing:"cubic-bezier(0.5, 0, 0.1, 1)",delay:0})}}},isJawBoneOpen:function(){return this.props.showJawBone},getJawBoneModel:function(){if(this.props.jawBoneModelIndex>=0){var e=this.props.videoRoot?[this.props.jawBoneModelIndex,this.props.videoRoot]:[this.props.jawBoneModelIndex];return this.props.model.bind(e)}return null},handleRowBlur:function(){return this.closePrevBobs(!1),this.getIsBobOpen()&&setTimeout(this.cleanUpAllBobStyles,500),this.setState({isBobOpen:!1}),null},wrapChildItems:function(e){var o=this;return e.map(function(e){return n.cloneElement(e,{onBobOpen:o.onBobOpen,onBobClose:o.onBobClose,onBobLeave:o.onBobLeave,getRowHasBobOpen:o.getIsBobOpen,aJawBoneOpen:o.isJawBoneOpen(),myJawBoneOpen:o.isJawBoneOpen()&&o.props.jawBoneRankNum===e.props.rankNum})})},render:function(){var e=this.props.model,o=this.context.columnsInRow,s=void 0,t=void 0,i=void 0,r=void 0,h=void 0;this.props.columnsInRow&&(o=this.props.columnsInRow),this.isJawBoneOpen()&&(t=this.getJawBoneModel(),s=t&&t.getValueSync(["summary"]),i=s&&"show"===s.type,r=p.getPaths(this.context.models,null,{isShow:i}),h=t&&r);var c=a({rowContainer:!0,jawBoneOpen:h&&this.props.isGallery,bobOpen:this.state.isBobOpen,rowContainer_title_card:!0});return n.createElement("div",{className:c,id:"row-"+this.props.rowNum},n.createElement(w,null,n.createElement("div",{className:"rowContent slider-hover-trigger-layer",onMouseLeave:this.handleRowBlur},n.createElement(l,{ref:"slider",itemsInRow:o,totalItems:this.props.totalItems,onSliderMove:this.handleSliderMove,enableLooping:!0,enablePeek:!0,enablePaginationIndicator:this.props.enablePaginationIndicator,parentContext:{rowIndex:this.props.rowNum}},this.wrapChildItems(this.props.children))),n.createElement(d,{model:e,sliderRef:this.refs.slider,jawBoneRankNum:this.props.jawBoneRankNum,showJawBone:this.isJawBoneOpen(),lowestVisibleItemIndex:this.state.lowestVisibleItemIndex,sliderMoveDirection:this.sliderMoveDirection,infinite:!this.props.isGallery,jawBoneModelIndex:this.props.jawBoneModelIndex,playbackQueryParams:this.props.playbackQueryParams,videoRoot:this.props.videoRoot,disableClose:this.props.disableJawClose})))}});o.exports=m(B)});C.r("akira/containers/simpleEpisodesListContainer.js",function(s,i,e){"use strict";var o=s("./jawbone/episodes/simpleEpisodesList.jsx"),t=s("../utils/falcorConnect.jsx"),n=t(o);i.exports=n});C.r("akira/containers/slider/paginationIndicator.jsx",function(a,e,t){"use strict";var r=(a("prop-types"),a("react")),i=a("create-react-class"),s=i({displayName:"PaginationIndicator",render:function(){for(var a=[],e=0;e<this.props.totalPages;e++){var t=e===this.props.activePage?"active":"";a.push(r.createElement("li",{className:t,key:"pi"+e}))}return r.createElement("ul",{className:"pagination-indicator"},a)}});e.exports=s});C.r("akira/containers/slider/simpleSlider.jsx",function(t,e,i){"use strict";var n=t("prop-types"),s=t("react"),a=t("create-react-class"),r=t("react-dom"),c=t("classnames"),o=t("../../../common/presentationTracking/presentationTracking.js"),l=t("../../utils/touchEvents"),h=t("../../utils/horizontalScrolling"),d=t("./simpleSliderNavHandle.jsx"),v=a({displayName:"SimpleSlider",touchStart:{},isAnimating:!1,statics:{MOVE_DIRECTION_NEXT:1,MOVE_DIRECTION_PREV:-1},contextTypes:{isRtl:n.bool},getInitialState:function(){return{translateX:0,canAccessDOM:!1}},advance:function(t,e){this.props.onSliderMove&&this.props.onSliderMove(null,e),this.isAnimating=!0,r.findDOMNode(this.refs.sliderContent).classList.add("animating"),this.setState({translateX:t})},advanceNext:function(){var t=this.context.isRtl?Math.max(this.calculateMinTranslateX(),this.state.translateX+100):Math.max(this.calculateMinTranslateX(),this.state.translateX-100);this.advance(t,this.MOVE_DIRECTION_NEXT)},advancePrev:function(){var t=this.context.isRtl?Math.max(0,this.state.translateX-100):Math.min(0,this.state.translateX+100);this.advance(t,this.MOVE_DIRECTION_PREV)},getReactAnimationStyle:function(t){if(!t)return null;var e="translate3d("+t+"%, 0px, 0px)";return{WebkitTransform:e,MsTransform:e,transform:e}},handleTouchStart:function(t){this.touchStart=l.getTouchObjectStart(t)},handleTouchMove:function(t){var e=h.touchAdvanceDirection(t,this.touchStart,this.context.isRtl);Math.abs(e.deltaX)>Math.abs(e.deltaY)&&t.preventDefault(),this.isAnimating||(e.direction===h.ADVANCE_NEXT&&this.isNextNavActive()?(this.advanceNext(),this.touchStart={}):e.direction===h.ADVANCE_PREV&&this.isPrevNavActive()&&(this.advancePrev(),this.touchStart={}))},handleMouseWheel:function(t){if(!this.isAnimating){var e=h.wheelAdvanceDirection(t);e===h.ADVANCE_NEXT?this.advanceNext(t):e===h.ADVANCE_PREV&&this.advancePrev(t)}},calculateMinTranslateX:function(){var t=this.refs.sliderContent;if(t){var e=r.findDOMNode(t);return-100*(e.scrollWidth/e.clientWidth-1)}return 0},isPrevNavActive:function(){return 0!==this.state.translateX},isNextNavActive:function(){var t=this.context.isRtl?-1*this.state.translateX:this.state.translateX,e=t-this.calculateMinTranslateX();if(this.refs.sliderContent){return e/100*r.findDOMNode(this.refs.sliderContent).clientWidth>3}return e>1},animationComplete:function(){r.findDOMNode(this.refs.sliderContent).classList.remove("animating"),this.isAnimating=!1,o.requestScan()},componentDidMount:function(){var t=r.findDOMNode(this.refs.sliderContent);l.isTouchEnabled()&&(t.addEventListener("pointerdown",this.handleTouchStart),t.addEventListener("pointermove",this.handleTouchMove)),t.addEventListener("transitionend",this.animationComplete),this.setState({canAccessDOM:!0})},componentWillUnmount:function(){var t=r.findDOMNode(this.refs.sliderContent);l.isTouchEnabled()&&(t.removeEventListener("pointerdown",this.handleTouchStart),t.removeEventListener("pointermove",this.handleTouchMove)),t.removeEventListener("transitionend",this.animationComplete)},render:function(){var t=this.getReactAnimationStyle(this.state.translateX),e=c("sliderContent"),i=c("simpleSlider","slider",this.props.classes),n=c("sliderMask");return s.createElement("div",{className:i},s.createElement(d,{direction:"prev",canAccessDOM:this.state.canAccessDOM,onClick:this.advancePrev,isNavActive:this.isPrevNavActive}),s.createElement(d,{direction:"next",canAccessDOM:this.state.canAccessDOM,onClick:this.advanceNext,isNavActive:this.isNextNavActive}),s.createElement("div",{className:n,ref:"sliderMask"},s.createElement("div",{className:e,ref:"sliderContent",style:t,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onWheel:this.handleMouseWheel},this.props.children)))}});e.exports=v});C.r("akira/containers/slider/simpleSliderNavHandle.jsx",function(e,t,n){"use strict";var i=e("prop-types"),a=e("react"),s=e("create-react-class"),c=e("react-dom"),r=e("classnames"),o=s({displayName:"NavHandle",contextTypes:{isRtl:i.bool},setHandleInteraction:function(){this.props.canAccessDOM&&c.findDOMNode(this.refs["nav-handle"]).classList[this.props.isNavActive()?"add":"remove"]("active")},componentDidMount:function(){this.setHandleInteraction()},componentDidUpdate:function(){this.setHandleInteraction()},handleClick:function(e){this.props.isNavActive()&&this.props.onClick(e)},render:function(){var e="prev"===this.props.direction,t=this.context.isRtl,n=r("indicator-icon",{"icon-rightCaret":t?e:!e,"icon-leftCaret":t?!e:e}),i=r("handle",{handlePrev:e,handleNext:!e});return a.createElement("div",{ref:"nav-handle",className:i,onClick:this.handleClick},a.createElement("b",{className:n}))}});t.exports=o});C.r("akira/containers/slider/slider.jsx",function(e,t,i){"use strict";function s(e,t,i){var s=t/e,n=i/e,o=n/s;return Math.ceil(o)}var n=e("prop-types"),o=e("react"),r=e("create-react-class"),a=e("react-dom"),l=e("classnames"),h=e("./sliderItem.jsx"),d=e("./paginationIndicator.jsx"),c=e("../../components/loader/loadingTitle.jsx"),p=e("../../utils/horizontalScrolling"),u=e("../../utils/syntheticMouseEvent.js"),m=e("../../../utils/keyboardEventsWrapper"),I=e("../../utils/touchEvents"),v=e("../../../common/presentationTracking/presentationTracking.js"),g=e("../../../common/presentationTracking/presentationTrackingConsts"),f="discovery/akira/Common",w=r({displayName:"Slider",animateHoverTimeout:null,isAnimating:!1,touchStart:null,statics:{MOVE_DIRECTION_NEXT:1,MOVE_DIRECTION_PREV:-1},contextTypes:{getI18nString:n.func.isRequired,getModelData:n.func,isRtl:n.bool},getDefaultProps:function(){return{parentContext:{},showEmptyHandles:!1}},getInitialState:function(){var e=this.getTotalItemCount(),t=this.props.initialLowestVisibleIndex||0;return!this.props.enableLooping&&e&&t+this.props.itemsInRow>e&&(t=e-this.props.itemsInRow)<0&&(t=0),{lowestVisibleItemIndex:t,hasMovedOnce:this.props.initialLowestVisibleIndex||!1,sliderHandleFocused:!1}},advanceNext:function(e){var t=this.getTotalItemCount(),i=this.props.itemsInRow,n=this.state.lowestVisibleItemIndex,o=this.state.lowestVisibleItemIndex+i;if(e&&e.preventDefault(),this.isNextNavActive()&&!this.isAnimating){this.isAnimating=!0;var r=n+2*i;o!==t&&r>t&&(o=t-this.props.itemsInRow);var a=this.state.lowestVisibleItemIndex-o,l=this.getNewSliderOffset(a),h=l+this.getBaseSliderOffset();o===t&&(o=0),e&&"wheel"===e.type?this.shiftSlider(o,h,w.MOVE_DIRECTION_NEXT,{x:e.clientX,y:e.clientY},!1,s(t,i,o)):e&&"keydown"===e.type?this.shiftSlider(o,h,w.MOVE_DIRECTION_NEXT,null,!0,s(t,i,o)):this.shiftSlider(o,h,w.MOVE_DIRECTION_NEXT,null,!1,s(t,i,o))}},advancePrev:function(e){var t=this.getTotalItemCount(),i=this.props.itemsInRow,n=this.state.lowestVisibleItemIndex,o=this.state.lowestVisibleItemIndex-this.props.itemsInRow;if(e&&e.preventDefault(),this.isPrevNavActive()&&!this.isAnimating){this.isAnimating=!0,0!==this.state.lowestVisibleItemIndex&&o<0&&(o=0);var r=this.state.lowestVisibleItemIndex-o;0===n&&(o=t-i);var a=this.getNewSliderOffset(r),l=a+this.getBaseSliderOffset();e&&"wheel"===e.type?this.shiftSlider(o,l,w.MOVE_DIRECTION_PREV,{x:e.clientX,y:e.clientY},!1,s(t,i,o)):e&&"keydown"===e.type?this.shiftSlider(o,l,w.MOVE_DIRECTION_PREV,null,!0,s(t,i,o)):this.shiftSlider(o,l,w.MOVE_DIRECTION_PREV,null,!1,s(t,i,o))}},shiftSlider:function(e,t,i,s,n,o){var r=this,l=a.findDOMNode(this.refs.sliderContent),h=this.refs.handlePrev?a.findDOMNode(this.refs.handlePrev):null,d=this.getAnimationStyle(t);clearTimeout(this.animateHoverTimeout),"function"==typeof this.props.onSliderMove&&this.props.onSliderMove(e,i),h&&h.classList.add("active"),v.pauseScanning(),l.addEventListener("transitionend",function t(n){n.target===this&&(l.removeEventListener("transitionend",t),l.classList.remove("animating"),r.setState({lowestVisibleItemIndex:e,hasMovedOnce:!0}),r.resetSliderPosition(),r.isAnimating=!1,r.refocusAfterShift(i),v.resumeScanning(),v.requestScan(Object.assign({event:g.LOLOMO_SCROLL,xScrollDirection:i,rowSegment:o},r.props.parentContext)),s&&(clearTimeout(r.animateHoverTimeout),r.animateHoverTimeout=setTimeout(function(){u.mouseOver(s)},100)))}),l.classList.add("animating"),l.setAttribute("style",d)},refocusAfterShift:function(e){var t=this.getSliderItemsInViewport(),i=void 0,s=void 0;t&&t.length>1&&(s=e===w.MOVE_DIRECTION_NEXT?1:t.length-2,(i=a.findDOMNode(t[s]).querySelector(".slider-refocus"))&&i.focus())},resetSliderPosition:function(){if(this.refs.sliderContent){var e=this.getBaseSliderOffset(),t=this.getAnimationStyle(e);a.findDOMNode(this.refs.sliderContent).setAttribute("style",t)}},getSliderItemWidth:function(){return 100/this.props.itemsInRow},getHighestIndex:function(){return Math.min(this.getTotalItemCount(),this.state.lowestVisibleItemIndex+2*this.props.itemsInRow+1)},getLowestIndex:function(){return Math.max(0,this.state.lowestVisibleItemIndex-this.props.itemsInRow-1)},getTotalItemCount:function(){return this.props.totalItems},getTotalPages:function(){return Math.ceil(this.getTotalItemCount()/this.props.itemsInRow)},getPageNumber:function(e){return Math.ceil(e/this.props.itemsInRow)},getBaseSliderOffset:function(){var e=this.props.itemsInRow,t=this.getSliderItemWidth(),i=0;return this.getTotalPages()>1&&((this.state.hasMovedOnce&&0===this.state.lowestVisibleItemIndex&&this.props.enableLooping||this.state.lowestVisibleItemIndex>=e)&&(i=-100),this.state.hasMovedOnce&&(this.props.enableLooping||this.state.lowestVisibleItemIndex>e)&&(i-=t),this.state.lowestVisibleItemIndex>0&&this.state.lowestVisibleItemIndex<e&&(i-=this.state.lowestVisibleItemIndex*t)),i*=this.context.isRtl?-1:1},getNewSliderOffset:function(e){return e*this.getSliderItemWidth()*(this.context.isRtl?-1:1)},getSliderContents:function(){var e=this.props.itemsInRow,t=this.getTotalItemCount(),i=[],s=[],n=0,r=this.state.lowestVisibleItemIndex-this.getLowestIndex();if(this.props.children&&this.props.children.length){i=this.props.children.slice(this.getLowestIndex(),this.getHighestIndex()),n=this.getHighestIndex()-this.getLowestIndex();for(var a=0;i.length<n&&i.length<t;)i.push(o.createElement(c,{className:"fullWidth",delay:.2*a,pulsate:!1,displayWhenNotPulsing:!0,key:"loading-title-"+a})),a++;this.getTotalPages()>1&&this.props.enableLooping&&(this.getHighestIndex()-this.state.lowestVisibleItemIndex<=2*e&&(s=this.state.lowestVisibleItemIndex+e===t?this.props.children.slice(0,this.props.itemsInRow+1):this.props.children.slice(0,1),s=this.cloneItemsWithNewKeys(s,"_appended"),i=i.concat(s)),this.state.hasMovedOnce&&this.state.lowestVisibleItemIndex-e<=0&&(s=0===this.state.lowestVisibleItemIndex?this.props.children.slice(-this.props.itemsInRow-1):this.props.children.slice(-1),r+=s.length,s=this.cloneItemsWithNewKeys(s,"_prepended"),i=s.concat(i)))}return this.wrapSliderItems(i,r)},cloneItemsWithNewKeys:function(e,t){return e.map(function(e){return o.cloneElement(e,{key:e.key+t})})},sliderWrappedItems:[],getSliderItemsInViewport:function(){return this.getSliderItems(this.sliderWrappedItems.filter(function(e){return e.inViewport}))},getAllSliderItems:function(){return this.getSliderItems(this.sliderWrappedItems)},getSliderItems:function(e){var t=[],i=void 0,s=void 0;for(i=0;s=e[i];i++)this.refs[s.uid]&&t.push(this.refs[s.uid]);return t},getItem:function(e){return this.refs[e]},isItemInMiddle:function(e){var t=this.getItem("item_"+e);return t&&("middle"===t.props.viewportPosition||"leftEdge"===t.props.viewportPosition||"rightEdge"===t.props.viewportPosition)},wrapSliderItems:function(e,t){var i=t+this.props.itemsInRow-1,s=this,n=0;return this.sliderWrappedItems=[],o.Children.map(e,function(e,r){var a="",l=!1;r===t?(a="leftEdge",l=!0):r===t-1?a="leftPeek":r===i+1?a="rightPeek":r===i?(a="rightEdge",l=!0):r>=t&&r<=i&&(a="middle",l=!0);var d=a?n:"",c="item_"+r,p=!1;a&&(++n,p=!0),s.sliderWrappedItems.push({uid:c,inViewport:p});var u=o.cloneElement(e,{sliderItemId:c,itemTabbable:l});return o.createElement(h,{ref:c,key:c,viewportIndex:d,viewportPosition:a},u)})},getAnimationStyle:function(e){var t=e?"translate3d("+e+"%, 0px, 0px)":"";return["-webkit-transform: "+t,"-ms-transform: "+t,"transform: "+t].join(";")},getReactAnimationStyle:function(e){if(e){var t="translate3d("+e+"%, 0px, 0px)";return{WebkitTransform:t,MsTransform:t,transform:t}}return null},handleMouseLeaveSliderMask:function(){clearTimeout(this.animateHoverTimeout)},handleTouchStart:function(e){if(e.pointerType&&"touch"!==e.pointerType)return void e.stopPropagation();this.touchStart=I.getTouchObjectStart(e)},handleTouchMove:function(e){if(e.pointerType&&"touch"!==e.pointerType)return void e.stopPropagation();var t=p.touchAdvanceDirection(e,this.touchStart,this.context.isRtl);Math.abs(t.deltaX)>Math.abs(t.deltaY)&&e.preventDefault(),this.isAnimating||(t.direction===p.ADVANCE_NEXT&&this.isNextNavActive()?(this.advanceNext(),this.touchStart={}):t.direction===p.ADVANCE_PREV&&this.isPrevNavActive()&&(this.advancePrev(),this.touchStart={}))},handleMouseWheel:function(e){if(!this.isAnimating){var t=p.wheelAdvanceDirection(e);t===p.ADVANCE_NEXT?this.advanceNext(e):t===p.ADVANCE_PREV&&this.advancePrev(e)}},componentDidUpdate:function(e){this.props.itemsInRow!==e.itemsInRow&&this.resetSliderPosition()},componentWillReceiveProps:function(e){e.totalItems<this.props.totalItems&&this.isLastPage()&&this.setState({lowestVisibleItemIndex:Math.max(0,e.totalItems-e.itemsInRow)})},hasMorePrevPages:function(){var e=this.state.lowestVisibleItemIndex-this.props.itemsInRow;return this.props.enableLooping||e>-this.props.itemsInRow},hasMoreNextPages:function(){var e=this.state.lowestVisibleItemIndex+this.props.itemsInRow;return this.props.enableLooping||e<this.getTotalItemCount()},isPrevNavActive:function(){return this.getTotalPages()>1&&this.state.hasMovedOnce&&this.hasMorePrevPages()},isNextNavActive:function(){return this.getTotalPages()>1&&this.hasMoreNextPages()},isLastPage:function(){return this.getPageNumber(this.state.lowestVisibleItemIndex)+1===this.getTotalPages()},componentDidMount:function(){if(I.isTouchEnabled()){var e=a.findDOMNode(this.refs.sliderContent);e.addEventListener("pointerdown",this.handleTouchStart),e.addEventListener("pointermove",this.handleTouchMove)}},componentWillUnmount:function(){if(I.isTouchEnabled()){var e=a.findDOMNode(this.refs.sliderContent);e.removeEventListener("pointerdown",this.handleTouchStart),e.removeEventListener("pointermove",this.handleTouchMove)}},renderPageHandle:function(e,t,i,s,n){var r=l("handle",{handlePrev:t,handleNext:!t,active:s});if(e<=1||t&&!this.state.hasMovedOnce)return this.props.showEmptyHandles?o.createElement("span",{className:r,tabIndex:-1,ref:i,role:"presentation","aria-label":""}):null;var a=this.context.isRtl,h=l("indicator-icon",{"icon-leftCaret":a?!t:t,"icon-rightCaret":a?t:!t}),d=this.props.sliderHandlePrevString?this.props.sliderHandlePrevString:this.context.getI18nString(f,"slider.handle.previous"),c=this.props.sliderHandleNextString?this.props.sliderHandleNextString:this.context.getI18nString(f,"slider.handle.next"),p=t?d:c;return o.createElement("span",{className:r,tabIndex:!t||this.state.hasMovedOnce?0:-1,ref:i,onClick:n,onKeyDown:m.executeOnEnterOrSpace(n),onMouseEnter:this.props.onMouseEnterSliderHandle,onFocus:this.props.onMouseEnterSliderHandle,onMouseLeave:this.props.onMouseLeaveSliderHandle,onBlur:this.props.onMouseLeaveSliderHandle,role:"button","aria-label":p},o.createElement("b",{className:h}))},render:function(){var e=this.getReactAnimationStyle(this.getBaseSliderOffset()),t=l("sliderContent","row-with-x-columns"),i=this.getTotalPages(),s=this.props.enablePaginationIndicator&&i>1,n=l("sliderMask",{showPeek:this.props.enablePeek});return o.createElement("div",{className:"slider"},this.renderPageHandle(i,!0,"handlePrev",this.isPrevNavActive(),this.advancePrev),s?o.createElement(d,{totalPages:i,activePage:this.getPageNumber(this.state.lowestVisibleItemIndex)}):null,o.createElement("div",{className:n,onMouseLeave:this.handleMouseLeaveSliderMask},o.createElement("div",{className:t,ref:"sliderContent",style:e,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onWheel:this.handleMouseWheel},this.getSliderContents())),this.renderPageHandle(i,!1,"handleNext",this.isNextNavActive(),this.advanceNext))}});t.exports=w});C.r("akira/containers/slider/sliderItem.jsx",function(e,s,t){"use strict";var r=(e("prop-types"),e("react")),i=e("create-react-class"),a=e("lodash"),d=e("classnames"),l=i({displayName:"SliderItem",getDefaultProps:function(){return{additionalClasses:{}}},statics:{className:"slider-item"},render:function(){var e=a.extend({"slider-item":!0},this.props.additionalClasses);return void 0!==this.props.viewportIndex&&(e["slider-item-"+this.props.viewportIndex]=!0),r.createElement("div",{className:d(e)},this.props.children)}});s.exports=l});C.r("akira/containers/subHeaders/suggestionHeader.jsx",function(e,t,r){"use strict";var s=(e("prop-types"),e("react")),a=e("create-react-class"),n=a({displayName:"SuggestionHeader",statics:{getPaths:function(e,t,r){return[["header"]]}},getSuggestionTitle:function(){var e=this.props.suggestionsModel.getValueSync(["length"]),t=this.props.model.getValueSync(["header"]),r=t&&t.suggestionId,s=t&&t.suggestionType;if(!r||!s)return"";for(var a=0;a<e;a++){var n=this.props.suggestionsModel.bind([a]),i=n&&n.getValueSync(["summary"]);if(i&&i.id===r&&i.type===s)return i.name}return t.fallbackTitle},getHeaderString:function(){var e=this.props.model.getValueSync(["header"]);return e&&e.listNameTemplate.replace("${TITLE}",this.getSuggestionTitle())},render:function(){return s.createElement("div",{className:"suggestionHeader"},s.createElement("div",{className:"title"},this.getHeaderString()))}});t.exports=n});C.r("akira/containers/title/bobCardContainer.jsx",function(e,t,o){"use strict";var s=e("prop-types"),i=e("react"),n=e("create-react-class"),a=e("lodash"),r=e("../../components/title/videoMeta.jsx"),l=e("../../components/artwork/heroImages.jsx"),h=e("../../components/controls/playbutton.jsx"),d=e("../slider/sliderItem.jsx"),c=e("../../../common/imageExtension"),p=e("../../components/episode/episodeBadge.jsx"),g=e("../../utils/akiraContextTypes"),u=e("../../utils/watched"),m=e("../../../utils/eventBus"),w=e("../lolomo/lolomoConstants.jsx"),y=e("../../../utils/mouseUtils"),T=e("../../components/bob/bobCardVideoMerch.jsx"),b=e("../../components/bob/bobCardKids.jsx"),I=e("../../components/bob/bobCardAdultTallPanel.jsx"),P=e("../../components/bob/bobCardKidsTallPanel.jsx"),S=e("../../../utils/ab/kidsParityTest"),x=e("../../redux/logging/commandTriggers"),C=e("../../../player/domains/videoPlayer/videoPlayerConstants"),M=C.playerIdentifier,v="discovery/akira/Common",f=n({displayName:"BobCardContainer",contextTypes:Object.assign({getModelData:s.func.isRequired,getI18nString:s.func.isRequired,openJawbone:s.func.isRequired,rowNum:s.number,rankNum:s.number,trackId:s.number,requestId:s.string,playerApp:s.object.isRequired,models:s.object},g),statics:{SIZE:"_665x375",SIZE_PANEL:"_848x477",getPaths:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=o.isTallPanel?"_848x477":"_665x375";return[["summary"],["title"],["availability"],["synopsis"],["queue"],["episodeCount"],["boxarts",s,c.getExtensionForOpaqueImage(e)],["current",["summary","runtime","bookmarkPosition","interactiveBookmark","creditsOffset"]]].concat(r.getPaths(e),l.getPaths(e,null,{isShow:o.isShow,height:480,size:s}),u.getPaths(),h.getPaths(),p.getPaths(e,t,o).map(function(e){return["current"].concat(e)}))}},bobComponent:null,componentDidMount:function(){var e=this.props.videoModel;this.context.getModelData("truths").hasVideoMerchInBob&&e.videoMerchId&&this.logVideoMerchStartPlay()},componentWillUnmount:function(){var e=this.props.videoModel;this.context.getModelData("truths").hasVideoMerchInBob&&e.videoMerchId&&this.logVideoMerchCancelPlay()},getPlayerSessionId:function(){return M.VideoMerchBob+"|"+this.props.videoModel.id},logVideoMerchStartPlay:function(){var e=this.context.playerApp,t=this.props.videoModel;e.getActionCreators().setStartTime({time:Date.now(),sessionId:this.getPlayerSessionId()});var o=this.props.logStartPlayStarted;o&&o({videoId:t.videoMerchId,playerSessionId:this.getPlayerSessionId(),playbackType:"videoMerch"})},logVideoMerchCancelPlay:function(){var e=this.context.playerApp.getAPI(),t=this.getPlayerSessionId();!e.videoPlayer.isVideoPlayingForSessionId(t)&&this.props.logStartPlayCancel&&this.props.logStartPlayCancel({playerSessionId:t},"BLURRED")},showPlayerTimedText:function(){this.context.playerApp.getActionCreators().playerShowTimedText({sessionId:this.getPlayerSessionId()})},hidePlayerTimedText:function(){this.context.playerApp.getActionCreators().playerHideTimedText({sessionId:this.getPlayerSessionId()})},onPlayerError:function(e){var t=this.props.logStartPlayError;t&&t({playerSessionId:this.getPlayerSessionId()},e)},onClickJawHitZone:x.ViewDetailsCommand(function(e,t){var o=this.props.videoModel;if(!y.modifiedClick(e)){var s=o.userRating.matchScore,i=o.userRating.tooNewForMatchScore;e&&e.preventDefault(),m.emit("jawbone:open",a.assign({videoId:o.id,trackId:this.context.trackId,rowNum:this.context.rowNum,rankNum:this.context.rankNum,requestId:this.context.requestId},this.props,{trigger:"bob"},void 0!==s?{matchScore:s}:{},void 0!==i?{tooNewForMatchScore:i}:{})),this.props.onJawOpen&&this.props.onJawOpen(t);var n=void 0;"string"==typeof t&&(n=t),this.context.openJawbone(this.context.rowNum,this.context.rankNum,o.id,void 0,void 0,n)}}),getParentSliderItem:function(e){if(!this.isMounted())return null;for(;e&&(e=e.parentNode);)if(e instanceof HTMLElement&&e.classList.contains(d.className))return e;return null},onMylistChange:function(e){e&&this.props.onBobClose(0,null,e)},getComponentToggles:function(){var e=this.props.videoModel,t={showMetaData:!0,showPercentMatch:!0,showSynopsis:!0,showThumbRatingIcons:!0,showProgressBar:!1,showAudioToggle:e.hasVideoMerch,showAddToMyList:!!e.queue,showPlayButton:e.isPlayable,showRecentInterestingMoment:e.watchState!==u.STATES.UNWATCHED,showNewEpisodeBadge:!0,showJawExpander:!0,forceTitleCardImage:!1};return e.watchState===u.STATES.RESUME&&(t.showProgressBar=!0),e.watchState!==u.STATES.UNWATCHED&&(t.showSynopsis=!1,t.showMetaData=!1),this.context.listContext===w.LIST_CONTEXTS.CONTINUE_WATCHING&&(t.showSynopsis=!1,t.showProgressBar=!1),this.context.listContext===w.LIST_CONTEXTS.SHORT_FORM&&(t.showThumbRatingIcons=!1,t.showJawExpander=!1,t.showAddToMyList=!1,t.forceTitleCardImage=!0,t.showPercentMatch=!1),e.isOriginal&&!e.isPlayable&&(t.showMetaData=!1),t},getResumeTitleText:function(){var e=this.props.videoModel,t=e.resumeParams,o="";return e.watchState===u.STATES.UNWATCHED||e.isStandalone||(t.TITLE&&e.isNSRE?o=this.context.getI18nString(v,"episode.title.quoted",t):t.SEASON_ABBR&&t.EPISODE_NUMBER?o=this.context.getI18nString(v,"watched.title.bob",t):t.TITLE&&(o=this.context.getI18nString(v,"episode.title.quoted",t))),o},getComponent:function(){var e=this.props.isTallPanel;return S.kidsProfileWithoutParity(this.context.models)?e?P:b:e?I:T},componentWillLeave:function(e){this.bobComponent&&"function"==typeof this.bobComponent.componentWillLeave?this.bobComponent.componentWillLeave(e):e()},setBobComponent:function(e){this.bobComponent=e},render:function(){var e=this.props,t=e.playbackQueryParams,o=e.onBobOpen,s=e.videoModel,n=e.onBobClose,a=this.getComponent(),r=this.getComponentToggles();return i.createElement(a,{ref:this.setBobComponent,model:this.props.model,videoModel:s,trackingInfo:this.props.trackingInfo,showRecentInterestingMoment:r.showRecentInterestingMoment,showNewEpisodeBadge:r.showNewEpisodeBadge,showMetaData:r.showMetaData,showSynopsis:r.showSynopsis,showAddToMyList:r.showAddToMyList,showAudioToggle:r.showAudioToggle,showProgressBar:r.showProgressBar,showThumbRatingIcons:r.showThumbRatingIcons,showPlayButton:r.showPlayButton,showJawExpander:r.showJawExpander,showPercentMatch:r.showPercentMatch,forceTitleCardImage:r.forceTitleCardImage,resumeTitleText:this.getResumeTitleText(),episodesButtonText:this.context.getI18nString(v,"label.episodes"),titleCardImage:s.image,titleCardImageHighRes:s.imageHighRes,playbackQueryParams:t,onBobOpen:o,onBobClose:n,showPlayerTimedText:this.showPlayerTimedText,hidePlayerTimedText:this.hidePlayerTimedText,getParentSliderItem:this.getParentSliderItem,onMylistChange:this.onMylistChange,onClickJawHitZone:this.onClickJawHitZone,onPlayerError:this.context.getModelData("truths").hasVideoMerchInBob?this.onPlayerError:void 0})}});t.exports=f});C.r("akira/containers/title/playerSupportBadgesContainer.js",function(e,p,r){"use strict";function t(e,p){return{playerEnhancedFeatureSupport:e.discoveryApp.getAPI().playerFeatures.playerEnhancedFeatureSupport()}}var a=e("../../components/title/playerSupportBadges.jsx"),n=e("../../../player/app/connect/connectToApps");p.exports=n(t,void 0,void 0,{appKeys:["discoveryApp"]})(a)});C.r("akira/containers/title/titleCardContainer.jsx",function(t,e,o){"use strict";var i=t("babel-runtime/helpers/toConsumableArray"),n=function(t){return t&&t.__esModule?t:{default:t}}(i),s=t("prop-types"),a=t("react"),r=t("create-react-class"),l=t("react-dom"),c=t("lodash"),u=t("../../../utils/pathEvaluatorUtils"),d=t("./bobCardContainer.jsx"),h=t("../jawbone/jawBone.jsx"),p=t("../lolomo/lolomoConstants.jsx"),m=t("../../../common/imageExtension"),g=t("../../utils/falcorPureRender.jsx"),b=t("../../../utils/eventBus"),y=t("../../../common/keyCodes"),B=t("../../utils/linkDefs.jsx"),k=t("../../utils/playLinkHelper"),v=t("../../../common/position"),f=t("../../components/titleCard/titleCard.jsx"),T=t("../../components/titleCard/titleCardTallPanel.jsx"),x=t("../../components/titleCard/titleCardShortForm.jsx"),I=t("../../../utils/ab/kidsParityTest"),w=t("../../../common/playPrediction/playPredictionUtils"),C=t("../../redux/logging/commandTriggers"),M=t("../../../components/presentationTracking/trackingComponents/logPresentationManually"),S=t("../../../utils/textUtils"),R=t("../../utils/watched"),O=t("../../utils/browseVideoLogging.jsx"),P=t("shakti-platform/dist/ui/ShaktiProperties"),E=t("../../../utils/titles/interactiveTitles"),N=t("../../../components/presentationTracking/trackingComponents/getTrackingInfoFromContext"),V=t("../../../components/presentationTracking/trackingComponents/boxartPresTracking"),F=t("shakti-platform/dist/ui/consolidatedLogging/constants/eventTypes"),L=O(d,{shouldLogCL1Events:!1}),j="_342x192",D={bobs:{bobs:!0,forceUpdate:!0},jawBones:{jawBones:!0,forceUpdate:!0}},q=function(){},J=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=I.kidsProfileWithoutParity(t,!1),n=c.get(t,"truths.data.currentProfileIsKids",!1),s=[],a=[["summary"],["title"],["titleMaturity"],["userRating"],["userRatingRequestId"],["boxarts",j,m.getExtensionForOpaqueImage(t)]];return o.progress&&(a=a.concat([["current",["runtime","bookmarkPosition","interactiveBookmark","title"]]])),e.bobs&&(a=a.concat(d.getPaths(t,e,o))),e.jawBones&&!i&&(a=a.concat(h.getPaths(t,e,{isShow:o.isShow}))),o.watchlistContent&&(s=s.concat([["context","isContinueWatching"]])),o.tallPanelBoxart&&(a=a.concat([["tallBoxarts",m.getExtensionForOpaqueImage(t)]])),o.shortformContent&&(a=a.concat([["ancestor","title"],["interestingMoment",j,m.getExtensionForOpaqueImage(t)]])),n&&(a=a.concat([["episodeCount"]])),c.get(t,"truths.data.hasVideoMerchInBob",!1)&&(a=a.concat([["promoVideo"]])),o.videoPrefix&&(a=a.map(function(t){return o.videoPrefix.concat(t)})),s.concat(a)},H=r({displayName:"TitleCardContainer",contextTypes:{getModelData:s.func.isRequired,history:s.object.isRequired,openJawbone:s.func.isRequired,rowNum:s.number,trackId:s.number,requestId:s.string,models:s.object.isRequired,listContext:s.string.isRequired,isKidsPage:s.bool,logger:s.object.isRequired},statics:{getPaths:J,getSize:function(){return j}},childContextTypes:{rankNum:s.number},getChildContext:function(){return{rankNum:this.props.rankNum}},getInitialState:function(){return this.scope={isHovering:!1,hasFetchedBobData:!1},{isBobOpen:!1}},scope:{},videoModel:{id:0,image:"",userRating:{},maturityMisMatchEdgy:!1,maturityMisMatchNonEdgy:!1,summary:{},episodeRuntime:0,wideImage:"",watchState:"",episodeBookmark:-1,imageKey:"",userRatingRequestId:""},onBobFocusEnd:void 0,onBoxartFocusEnd:void 0,jawBoneDataLoadTimeout:void 0,bobOpenTimeout:void 0,titleCardRect:void 0,componentWillMount:function(){this.videoModel=this.getVideoModel(this.state)},componentDidMount:function(){b.on("rating:set",this.onRating)},componentWillUpdate:function(t,e){this.videoModel=this.getVideoModel(e)},componentWillReceiveProps:function(t){!this.props.myJawBoneOpen&&t.myJawBoneOpen?this.onBoxartFocusEnd=this.props.logFocus("boxArt",this.getBoxartTrackingInfo()):this.props.myJawBoneOpen&&!t.myJawBoneOpen&&this.onBoxartFocusEnd&&this.onBoxartFocusEnd()},componentWillUnmount:function(){this.clearDelays(),b.removeListener("rating:set",this.onRating),this.onBobFocusEnd&&(this.onBobFocusEnd(),delete this.onBobFocusEnd),this.onBoxartFocusEnd&&(this.onBoxartFocusEnd(),delete this.onBoxartFocusEnd)},getBoxart:function(t,e,o){return this.context.listContext===p.LIST_CONTEXTS.SHORT_FORM?t.getValueSync(["interestingMoment",e,o]):t.getValueSync(["boxarts",e,o])},getFalcorVideoModel:function(){return this.props.videoRoot?this.props.model.bind([this.props.videoRoot]):this.props.model},getVideoModel:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state,e=this.getFalcorVideoModel(),o=m.getExtensionForOpaqueImage(this.context.models),i=this.getBoxart(e,j,o),n=this.getBoxart(e,d.SIZE,o),s=e.getValueSync(["summary"]),a=e.getValueSync(["current","runtime"]),r=e.getValueSync(["current","bookmarkPosition"]),l=e.getValueSync(["current","interactiveBookmark"]),u=e.getValueSync(["current","summary"]);if(E.isValidInteractiveBookmark(l)){var h=E.getInteractiveBookmarkPosition(l,a);h&&(r=h)}var g=!1,b=!1;if(P.get("web.ui.akira.enable.maturity.mismatch.logging")){var y=c.get(this.context.models,"userInfo.data.maturity",1e6),B=c.get(e.getValueSync(["titleMaturity"]),"level",0);y<B&&(g=!0,B>96&&(b=!0))}var k=Object.assign({},this.props.videoModel,{id:this.props.videoId,title:e.getValueSync(["title"]),summary:s,newBadge:u&&u.newBadge,image:i?i.url:"",imageHighRes:n?n.url:"",wideImage:i&&i.url,imageKey:i&&i.image_key,userRating:e.getValueSync(["userRating"])||{},userRatingRequestId:e.getValueSync(["userRatingRequestId"])||"",maturityMisMatchEdgy:g,maturityMisMatchNonEdgy:b,isStandalone:(e.getValueSync(["episodeCount"])||0)<=0,isStandaloneEpisode:!1,isOriginal:s&&s.isOriginal,isNSRE:s&&s.isNSRE,episodeRuntime:a,episodeBookmark:r,interactiveBookmark:l,watchState:R.getWatchedState(e),queue:null,synopsis:null,episodeTitle:"",bookmarkPosition:null,isPlayable:!1,resumeParams:{},tallImage:null,tallImageKey:null,tallImageFocalPoint:null});if(t.isBobOpen&&(k.synopsis=S.ellipsize(e.getValueSync(["synopsis"]),160),k.episodeTitle=e.getValueSync(["current","title"]),k.bookmarkPosition=e.getValueSync(["bookmarkPosition"]),k.isPlayable=this.isVideoPlayable(),k.resumeParams=R.getResumeParams(e),k.queue=e.getValueSync(["watchlistQueue"])||e.getValueSync(["queue"])),this.context.listContext===p.LIST_CONTEXTS.SHORT_FORM&&(k.title=e.getValueSync(["ancestor","title"]),k.synopsis=e.getValueSync(["title"]),k.episodeRuntime=e.getValueSync(["runtime"]),k.isStandaloneEpisode=!0),this.props.isTallPanel){var v=e.getValueSync(["tallBoxarts",o]);k.image=v&&v.url,k.tallImage=v&&v.url,k.tallImageKey=v&&v.image_key,k.tallImageFocalPoint=v&&v.focalPoint}if(this.context.getModelData("truths").hasVideoMerchInBob){var f=e.getValueSync(["promoVideo"])||{};k.hasVideoMerch=!!f.id,k.videoMerchId=f.id,k.videoMerchStartTime=f.start}return k},isVideoPlayable:function(){var t=this.getFalcorVideoModel().getValueSync(["availability"]),e=t&&t.isPlayable;return!t||e},getBobTrackingInfo:function(){var t=this.videoModel,e=t.userRating,o=t.userRatingRequestId,i=e.matchScore,n=e.tooNewForMatchScore,s=e.predicted;return this.props.getTrackingInfoFromContext({matchRequestId:o,predictedRating:s,matchScore:i,tooNewForMatchScore:n,rowNum:"number"==typeof this.props.rowNum?this.props.rowNum:this.context.rowNum,rankNum:this.props.rankNum},["trackId","lolomoId","listId","requestId","videoId"])},getBoxartTrackingInfo:function(){return this.props.getTrackingInfoFromContext({image_key:this.videoModel.imageKey,rank:this.props.rankNum,row:this.props.rowNum},Object.keys(V.trackedFields))},handleKeyDown:function(t){switch(t&&t.which){case y.ENTER:this.handleClick()}},handleClick:function(t){this.context.isKidsPage&&I.kidsProfileWithoutParity(this.context.models)?this.props.videoId>0&&this.context.history.pushState(B.getTitleRoute(this.context.models,this.context.isKidsPage).makePath({id:this.props.videoId}),this.getBobTrackingInfo()):this.openJawBone(t)},openJawBone:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.getBobTrackingInfo();this.props.myJawBoneOpen||"keydown"!==t.type&&this.state.isBobOpen||(b.emit("jawbone:open",c.assign(e,{trigger:"miniBob"})),this.context.openJawbone(e.rowNum,e.rankNum,this.props.videoId,t.type),this.handleLeave())},handleMouseEnter:function(t,e){var o=document.activeElement||document.body;e&&e.currentTarget&&t instanceof HTMLElement&&t.contains(e.currentTarget)&&!this.state.isBobOpen&&(o&&o!==document.body&&!o.getAttribute("data-search-input")&&o.blur(),this.handleEnter(e))},handleMouseLeave:function(t,e){(e&&!e.relatedTarget||e.relatedTarget.location||e.relatedTarget&&t instanceof HTMLElement&&!t.contains(e.relatedTarget))&&this.handleLeave()},handleEnter:function(t,e){var o=this,i=this,s=this.context.models;if(this.scope.isHovering=!0,!this.scope.hasFetchedBobData){this.scope.hasFetchedBobData=!0;var a=this.props.videoRoot?[this.props.videoRoot]:[],r=function(t){var e,r=function(){t.forceUpdate&&o.forceUpdate()};(e=i.props.model).get.apply(e,(0,n.default)(J(s,t,{videoPrefix:a}))).subscribe(q,r,r)};setTimeout(function(){r(D.bobs)}),setTimeout(function(){r(D.jawBones)},700)}this.props.aJawBoneOpen?this.jawBoneDataLoadTimeout||this.props.myJawBoneOpen||(this.jawBoneDataLoadTimeout=setTimeout(C.ViewDetailsCommand(function(){b.emit("jawbone:open",c.assign(i.getBobTrackingInfo(),i.props,{trigger:"miniBob"})),i.context.openJawbone(i.context.rowNum,i.props.rankNum,i.props.videoId),i.clearDelays()}),300)):this.queueBobOpen()},queueBobOpen:function(){if(!this.bobOpenTimeout&&!this.state.isBobOpen){var t=void 0;this.titleCardRect=v.getRect(l.findDOMNode(this)),t=this.props.getRowHasBobOpen&&this.props.getRowHasBobOpen()?100:400,this.bobOpenTimeout=setTimeout(this.openBob,t)}},openBob:function(){if(this.scope.isHovering&&this.isMounted()&&(this.onBobFocusEnd=this.props.logFocus("bob",this.getBobTrackingInfo()),b.emit("bob:open",c.assign(this.getBobTrackingInfo(),this.props)),this.setState({isBobOpen:!0}),w.isPlayPredictionEnabled(this.context.getModelData("truths")))){var t=this.getBobTrackingInfo();b.emit("play:focus",c.assign({trackId:this.context.trackId,rankNum:t.rankNum,rowNum:t.rowNum,listContext:this.context.listContext},this.props))}},clearDelays:function(){this.jawBoneDataLoadTimeout&&clearTimeout(this.jawBoneDataLoadTimeout),this.bobOpenTimeout&&clearTimeout(this.bobOpenTimeout),this.jawBoneDataLoadTimeout=void 0,this.bobOpenTimeout=void 0},handleLeave:function(){var t=this;this.scope.isHovering=!1,this.clearDelays(),this.state.isBobOpen&&-1===window.location.href.indexOf("stickybob")&&(this.onBobFocusEnd&&(this.onBobFocusEnd(),delete this.onBobFocusEnd),b.emit("bob:close",c.assign({trackId:this.context.trackId,videoId:this.props.videoId,rowNum:this.context.rowNum,rankNum:this.props.rankNum,requestId:this.context.requestId},this.props)),this.props.onBobLeave(this.props.rankNum,function(){t.isMounted()&&t.setState({isBobOpen:!1})}))},handleJawOpen:function(){this.handleLeave(),this.setState({isBobOpen:!1})},onBobOpen:function(t,e){if(this.props.onBobOpen&&this.props.sliderItemId&&this.titleCardRect){var o=this.titleCardRect.width*t,i=(o-this.titleCardRect.width)/2;this.props.onBobOpen(this.props.sliderItemId,i,e)}},onBobClose:function(t,e,o){this.props.onBobClose&&this.props.sliderItemId&&this.props.onBobClose(this.props.sliderItemId,t,e,o)},onRating:function(){this.isMounted()&&this.forceUpdate()},isDisliked:function(){var t=this.videoModel.userRating;return t&&"thumb"===t.type&&1===t.userRating},getWatchURL:function(){var t=this.getBobTrackingInfo();return k.buildAkiraPlayerURL(this.videoModel&&this.videoModel.summary&&this.videoModel.summary.id,k.buildAkiraPlayerQuery({videoTrackingInfo:t}))},getComponent:function(){var t=this.props.isTallPanel;return this.context.listContext===p.LIST_CONTEXTS.SHORT_FORM?x:t?T:f},shouldShowProgress:function(){return this.context.listContext===p.LIST_CONTEXTS.WATCHLIST?this.props.model.getValueSync(["context","isContinueWatching"]):this.context.listContext===p.LIST_CONTEXTS.CONTINUE_WATCHING&&!!this.videoModel.episodeRuntime},render:function(){var t=this.props,e=t.itemTabbable,o=t.className,i=t.animateIn,n=t.isTallPanel,s=this.context.logger,r=this.getBobTrackingInfo(),l=this.videoModel,c=this.shouldShowProgress(),h=u.isValueError(l.summary)||!l.summary;s&&h&&s.logEvent(F.DebugEvent,{name:"TitleCardError",data:l});var p=this.getComponent(),m=this.context.getModelData("truths").hasVideoMerchInBob?L:d;return a.createElement(p,{model:this.getFalcorVideoModel(),videoModel:l,className:o,isDisliked:this.isDisliked(),watchURL:this.getWatchURL(),isFocused:this.props.myJawBoneOpen,isDimmed:this.props.aJawBoneOpen&&!this.props.myJawBoneOpen,isInvalid:h,showProgress:c,isBobOpen:this.state.isBobOpen,itemTabbable:e,animateIn:i,rankNum:r.rankNum,rowNum:r.rowNum,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:this.handleClick,onKeyDown:this.handleKeyDown},a.createElement(m,{videoModel:l,model:this.getFalcorVideoModel(),onBobOpen:this.onBobOpen,onBobClose:this.onBobClose,onJawOpen:this.handleJawOpen,isTallPanel:n,playbackQueryParams:this.props.playbackQueryParams,trackingInfo:this.getBobTrackingInfo()}))}}),U=g(N(M(H)));U.BaseComponent=H,e.exports={getPaths:J,TitleCardContainer:U}});C.r("akira/containers/verticalList.jsx",function(e,t,r){"use strict";var s=e("babel-runtime/helpers/extends"),a=function(e){return e&&e.__esModule?e:{default:e}}(s),l=(e("prop-types"),e("react")),i=e("create-react-class"),n=e("lodash"),c=e("classnames"),m=i({displayName:"VerticalList",renderLabel:function(e){return l.createElement("h4",{key:"label",className:"list-label"},e)},renderItem:function(e,t){return l.createElement("li",{key:"item-"+t,className:"list-item"},e)},render:function(){var e=this,t=this.props,r=t.label,s=t.items,i=s.map(function(t,r){return e.renderItem(t,r)});return l.createElement("div",(0,a.default)({},n.omit(this.props,["items"]),{className:c(this.props.className,"vertical-list")}),r&&this.renderLabel(r),l.createElement("ul",{className:c("list-items")},i))}});t.exports=m});C.r("akira/entities/video.js",function(e,i,r){"use strict";var o=e("prop-types"),t=function(e){return{id:e}},n=o.shape({id:o.number.isRequired,isStandalone:o.bool,bookmarkPosition:o.number,synopsis:o.string,episodeRuntime:o.number,episodeBookmark:o.number,queue:o.object,title:o.string,userRating:o.object,newBadge:o.string,releaseYear:o.number,runtime:o.number,seasonCount:o.number,delivery:o.object,numSeasonsLabel:o.string,rating:o.object,maturity:o.object,availability:o.object,isOriginal:o.bool,image:o.string,interactiveBookmark:o.object,isPlayable:o.bool,videoMerchStartTime:o.number,videoMerchId:o.number,hasVideoMerch:o.bool});i.exports=t,i.exports.propType=n});C.r("akira/redux/createActionGroup.js",function(t,n,r){"use strict";function i(t){return t.do?t:a.create(function(n){return t.subscribe(function(t){return n.next(t)},function(t){return n.error(t)},function(){return n.complete()}),c.noop})}function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,e=r(),c=function(n){var r=this;return n===s?function(){return r}:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};void 0===t[n]&&d("Key "+n+" is not an available action");var i=r instanceof Object?r:{data:r};return t[n](Object.assign({},i,{eventUuid:e})),this}};return{dispatchStartAction:c(n.start||s),dispatchSuccessAction:c(n.success||s),dispatchFailureAction:c(n.failure||s),dispatchCancelAction:c(n.cancel||s),wrapObservable:function(t){var n=this;return i(t).do(function(t){t&&t.error?n.dispatchFailureAction(t):n.dispatchSuccessAction(t)},function(t){return n.dispatchFailureAction(t)})}}}var c=t("lodash"),o=t("tiny-uuid"),u=t("../../utils/throwError"),a=t("../../utils/rx/shakti-rx").RxObservable,s="__no_binding_provided__",d=function(t){return u("ActionKeyNotPresentError",t)};n.exports=e});C.r("akira/redux/decorators/decorateActionCreators.js",function(r,t,n){"use strict";function e(r,t){return o.mapValues(r,function(r){return function(){return r(t.apply(null,arguments))}})}var o=r("lodash");t.exports=e});C.r("akira/redux/decorators/decorateWithUuid.js",function(r,t,e){"use strict";function n(){var r=u();return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.eventUuid=r,t}}var i=r("./decorateActionCreators"),u=r("tiny-uuid");t.exports=function(r){return i(r,n())}});C.r("akira/redux/discovery/discoveryActions.js",function(e,s,o){"use strict";var t=e("../../../player/nfplayer/domain/common/createAction"),a={addToPlaylist:"addToPlaylist",addToPlaylistSuccess:"addToPlaylistSuccess",addToPlaylistFailed:"addToPlaylistFailed",expireApp:"expireApp",INIT_CSRF_TOKEN_REFRESH:"INIT_CSRF_TOKEN_REFRESH",REFRESH_CSRF_TOKEN:"REFRESH_CSRF_TOKEN",UPDATE_CSRF_TOKEN:"UPDATE_CSRF_TOKEN",forceUpdate:"forceUpdate",websocketError:"websocketError",websocketClose:"websocketClose",removeFromPlaylist:"removeFromPlaylist",removeFromPlaylistSuccess:"removeFromPlaylistSuccess",removeFromPlaylistFailed:"removeFromPlaylistFailed",setThumbRating:"setThumbRating",setThumbRatingSuccess:"setThumbRatingSuccess",setThumbRatingFailed:"setThumbRatingFailed",SET_LOLOMO_LOGGING_CONTEXT:"SET_LOLOMO_LOGGING_CONTEXT",REMOVE_LOLOMO_LOGGING_CONTEXT:"REMOVE_LOLOMO_LOGGING_CONTEXT"},l=t(a.addToPlaylist),i=t(a.addToPlaylistSuccess),r=t(a.addToPlaylistFailed),T=t(a.expireApp),c=t(a.websocketError),d=t(a.websocketClose),E=t(a.removeFromPlaylist),m=t(a.removeFromPlaylistSuccess),O=t(a.removeFromPlaylistFailed),F=t(a.setThumbRating),_=t(a.setThumbRatingSuccess),R=t(a.setThumbRatingFailed),S=t(a.INIT_CSRF_TOKEN_REFRESH),n=t(a.REFRESH_CSRF_TOKEN),u=t(a.UPDATE_CSRF_TOKEN),y=t(a.SET_LOLOMO_LOGGING_CONTEXT),P=t(a.REMOVE_LOLOMO_LOGGING_CONTEXT);s.exports={TYPES:a,actions:{addToPlaylist:l,addToPlaylistSuccess:i,addToPlaylistFailed:r,expireApp:T,initCsrfTokenRefresh:S,refreshCsrfToken:n,updateCsrfToken:u,forceUpdate:t(a.forceUpdate),websocketError:c,websocketClose:d,removeFromPlaylist:E,removeFromPlaylistSuccess:m,removeFromPlaylistFailed:O,setThumbRating:F,setThumbRatingSuccess:_,setThumbRatingFailed:R,setLolomoLoggingContext:y,removeLolomoLoggingContext:P}}});C.r("akira/redux/logging/createCommandMiddleware.js",function(n,t,e){"use strict";function r(n){return function(t){var e=a(n)(t);return function(r){return function(a){return function(i){var s=i.type,c=i.data;if(s===n.bindings.start){var u=t.startSession(n.commandName);e(r)(o.noop)({type:s,data:c}),u?t.endSession(u):d(n._console||console,["CommandFailedToStartError","Command "+n.commandName+" could not properly start"])}else e(r)(o.noop)({type:s,data:c});return a({type:s,data:c})}}}}}var a=n("./createSessionMiddleware"),o=n("lodash"),d=function(n,t){};t.exports=r});C.r("akira/redux/logging/createSessionMiddleware.js",function(e,t,n){"use strict";function r(e){var t=e.bindings,n=e.sessionName,r=e.transformers,a=void 0===r?{}:r,f=e._console,c=void 0===f?console:f;return function(e){function r(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments[1];if(!a)return void S.printErrorNoEventUuidGiven("No eventUuid provided in data for event "+t.start);var o=e.startSession(n,i(r));if(!o)return void S.printErrorSessionFailedToStart("Session '"+n+"' failed to start with data "+JSON.stringify(r));p[a]=o}var f,v,p={},S=d(c),_=function(t){return function(r,i){var a=p[i];if(!a)return void S.printErrorSessionNotStarted("Session '"+n+"' requested to end, but has not started yet");e.endSession(a,Object.assign({type:t},r)),delete p[i]}},g={start:t.start,end:t.end,failed:t.failed||l.failed,cancelled:t.cancelled||l.cancelled},E=(f={},(0,o.default)(f,g.start,r),(0,o.default)(f,g.end,_(void 0)),(0,o.default)(f,g.failed,_("ActionFailed")),(0,o.default)(f,g.cancelled,_("SessionCanceled")),f),b=Object.assign((v={},(0,o.default)(v,g.start,s),(0,o.default)(v,g.end,u),(0,o.default)(v,g.failed,u),(0,o.default)(v,g.cancelled,u),v),a);return function(e){return function(e){return function(t){var n=t.data,r=t.type,a=E[r];if(a){a(i((b[r]||s)(n)),n.eventUuid)}return e({data:n,type:r})}}}}}function i(e){var t=Object.assign({},e);return delete t.eventUuid,t}var a=e("babel-runtime/helpers/defineProperty"),o=function(e){return e&&e.__esModule?e:{default:e}}(a),d=function(e){return{printErrorSessionNotStarted:function(e){},printErrorSessionFailedToStart:function(e){},printErrorNoEventUuidGiven:function(e){}}},s=function(e){return e},u=function(){return{}},l={failed:"__failed_not_present__",cancelled:"__cancelled_not_present__"};t.exports=r});C.r("node_modules/babel-runtime/core-js/object/define-property.js",function(e,o,r){o.exports={default:e("core-js/library/fn/object/define-property"),__esModule:!0}});C.r("node_modules/babel-runtime/helpers/defineProperty.js",function(e,r,u){"use strict";u.__esModule=!0;var n=e("../core-js/object/define-property"),t=function(e){return e&&e.__esModule?e:{default:e}}(n);u.default=function(e,r,u){return r in e?(0,t.default)(e,r,{value:u,enumerable:!0,configurable:!0,writable:!0}):e[r]=u,e}});C.r("node_modules/core-js/library/fn/object/define-property.js",function(e,r,o){e("../../modules/es6.object.define-property");var n=e("../../modules/_core").Object;r.exports=function(e,r,o){return n.defineProperty(e,r,o)}});C.r("node_modules/core-js/library/modules/es6.object.define-property.js",function(e,r,o){var t=e("./_export");t(t.S+t.F*!e("./_descriptors"),"Object",{defineProperty:e("./_object-dp").f})});C.r("node_modules/shakti-platform/dist/ui/consolidatedLogging/constants/commandTypes.js",function(m,a,d){"use strict";var o={SelectCommand:"SelectCommand",CloseCommand:"CloseCommand",BackCommand:"BackCommand",ForwardCommand:"ForwardCommand",SubmitCommand:"SubmitCommand",SignInCommand:"SignInCommand",SignOutCommand:"SignOutCommand",SignUpCommand:"SignUpCommand",AddToPlaylistCommand:"AddToPlaylistCommand",RemoveFromPlaylistCommand:"RemoveFromPlaylistCommand",PlayCommand:"PlayCommand",PlayNextCommand:"PlayNextCommand",SearchCommand:"SearchCommand",ChangeValueCommand:"ChangeValueCommand",ViewDetailsCommand:"ViewDetailsCommand",ShareCommand:"ShareCommand",CloseAppCommand:"CloseAppCommand",ViewCachedVideosCommand:"ViewCachedVideosCommand",AddCachedVideoCommand:"AddCachedVideoCommand",RemoveCachedVideoCommand:"RemoveCachedVideoCommand",RemoveCachedVideoAndPlayNextCommand:"RemoveCachedVideoAndPlayNextCommand",RemoveAllCachedVideosCommand:"RemoveAllCachedVideosCommand",PauseDownloadCommand:"PauseDownloadCommand",ResumeDownloadCommand:"ResumeDownloadCommand",RetryDownloadCommand:"RetryDownloadCommand",CancelCommand:"CancelCommand",EditPlanCommand:"EditPlanCommand",EditPaymentCommand:"EditPaymentCommand",StartMembershipCommand:"StartMembershipCommand",EnterFullscreenCommand:"EnterFullscreenCommand",ExitFullscreenCommand:"ExitFullscreenCommand",ViewEpisodesSelectorCommand:"ViewEpisodesSelectorCommand",ViewAudioSubtitlesSelectorCommand:"ViewAudioSubtitlesSelectorCommand",MuteCommand:"MuteCommand",UnmuteCommand:"UnmuteCommand",EnterBattleCommand:"EnterBattleCommand",EndCommand:"EndCommand",SkipBackCommand:"SkipBackCommand",SkipAheadCommand:"SkipAheadCommand",RewindCommand:"RewindCommand",FastForwardCommand:"FastForwardCommand",PauseCommand:"PauseCommand",UnpauseCommand:"UnpauseCommand",SeekCommand:"SeekCommand",WatchCreditsCommand:"WatchCreditsCommand"};a.exports=o});C.r("player/nfplayer/domain/common/createAction.js",function(n,t,r){"use strict";var e=function(n){return function(t){return{data:t,type:n}}};t.exports=e});C.r("akira/redux/discovery/logAddToPlaylist.js",function(a,s,d){"use strict";var i=a("../logging/createCommandMiddleware"),o=a("./discoveryActions"),t=o.TYPES,l=a("shakti-platform/dist/ui/consolidatedLogging/constants/commandTypes"),n=a("shakti-platform/dist/ui/consolidatedLogging/constants/actionTypes");s.exports=i({commandName:l.AddToPlaylistCommand,sessionName:n.AddToPlaylist,bindings:{start:t.addToPlaylist,end:t.addToPlaylistSuccess,failed:t.addToPlaylistFailed}})});C.r("akira/redux/discovery/logRemoveFromPlaylist.js",function(o,e,s){"use strict";var i=o("../logging/createCommandMiddleware"),a=o("./discoveryActions"),t=a.TYPES,m=o("shakti-platform/dist/ui/consolidatedLogging/constants/commandTypes"),r=o("shakti-platform/dist/ui/consolidatedLogging/constants/actionTypes");e.exports=i({bindings:{start:t.removeFromPlaylist,end:t.removeFromPlaylistSuccess,failed:t.removeFromPlaylistFailed},sessionName:r.RemoveFromPlaylist,commandName:m.RemoveFromPlaylistCommand})});C.r("akira/redux/eventUuidUtils.js",function(e,n,t){"use strict";function i(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign({eventUuid:e},n)}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i(d(),e)}function r(e){var n=Object.assign({},e);return delete n.eventUuid,n}var d=e("tiny-uuid");n.exports={ensureUuid:i,ensureWithRandomUuid:u,removeEventUuid:r}});C.r("akira/redux/logging/commandTriggers.js",function(n,t,i){"use strict";function o(n,t){if("function"==typeof n)return n;if(t)return t;throw new Error("Triggering function not properly defined")}function r(n,t,i){var r=o(t,i),a=e.isPlainObject(t)?t:void 0;return c||!u.getModelData("truths").isCl2LoggingEnabledForDiscoveryPlayback?r:function(){var t=s.getInstance(),i=t.startSession(n,a),o=r.apply(this,arguments);return t.endSession(i),o}}var e=n("lodash"),s=n("shakti-platform/dist/ui/consolidatedLogging"),a=n("shakti-platform/dist/ui/consolidatedLogging/constants/commandTypes"),u=n("../../../common/appContext"),c=n("shakti-platform/dist/ui/utils/inNode"),g=e.mapValues(a,function(n){return function(t,i){return r(n,t,i)}});t.exports=g});C.r("akira/redux/logging/getLoggingMiddleware.js",function(t,i,n){"use strict";function o(t){if(e||!a.getModelData("truths").isCl2LoggingEnabledForDiscoveryPlayback)return[];var i=r.getInstance(),n=function(t){return t(i)};return t.map(n)}var r=t("shakti-platform/dist/ui/consolidatedLogging"),a=t("../../../common/appContext"),e=t("shakti-platform/dist/ui/utils/inNode");i.exports=o});C.r("akira/utils/browseVideoLogging.jsx",function(e,t,o){"use strict";var n=e("babel-runtime/helpers/extends"),a=function(e){return e&&e.__esModule?e:{default:e}}(n),r=e("react"),s=e("create-react-class"),i=e("./akiraContextTypes"),p=e("hoist-non-react-statics"),l=e("prop-types");t.exports=function(e){var t=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],s({displayName:e.displayName?"BrowseVideoLogging("+e.displayName+")":"BrowseVideoLogging()",componentProps:void 0,component:void 0,contextTypes:Object.assign({supplementalVideoId:l.number},i),_preparePlaySessionOpen:!1,getDataContext:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.trackId=e.trackId||this.context.trackId,e.rowNum=void 0!==e.rowNum?e.rowNum:this.context.rowNum,e.rankNum=void 0!==e.rankNum?e.rankNum:this.context.rankNum,e.requestId=e.requestId||this.context.requestId,e.supp_video_id=e.supplementalVideoId||this.context.supplementalVideoId,e},componentWillMount:function(){var e=this,t={logPrepareStarted:function(t,o){e._preparePlaySessionOpen=!0,e.context.playerApp.getActionCreators().logPreparePlayStart(Object.assign({},e.getDataContext(o),{videoId:t.videoId,sessionId:t.playerSessionId,playbackType:t.playbackType}))},logPrepareEnded:function(t,o){e._preparePlaySessionOpen&&(e._preparePlaySessionOpen=!1,e.context.playerApp.getActionCreators().logPreparePlayEnd(Object.assign({},e.getDataContext(o),{videoId:t.videoId,sessionId:t.playerSessionId,playbackType:t.playbackType})))},logStartPlayStarted:function(t,o){e.context.playerApp.getActionCreators().logPlayRequestStart(Object.assign({},e.getDataContext(o),{videoId:t.videoId,sessionId:t.playerSessionId,playbackType:t.playbackType}))},logStartPlayError:function(t,o){e.context.playerApp.getActionCreators().logPlayRequestError({sessionId:t.playerSessionId,errorType:o})},logStartPlayCancel:function(t,o){e.context.playerApp.getActionCreators().logPlayRequestCancel({sessionId:t.playerSessionId,reason:o})},loggingConstants:{VIDEO_ERRORS:{TIMEOUT:"loadTimeout",LOAD_ERROR:"loadError",UNSUPPORTED:"Unsupported Device/Platform"}}};this.componentProps=t},componentWillLeave:function(e){this.component&&"function"==typeof this.component.componentWillLeave?this.component.componentWillLeave(e):e()},setRef:function(e){e&&(this.component=e)},render:function(){return r.createElement(e,(0,a.default)({ref:this.setRef},this.props,this.componentProps))}}));return p(t,e),t}});C.r("akira/utils/falcor/getFalcorLoaderQuery.js",function(r,t,a){"use strict";var e=r("../getLolomoQueryParameters"),o=function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign(e(r.truths&&r.truths.data?r.truths.data:{},r.browserInfo&&r.browserInfo.data?r.browserInfo.data:{}),t,{withSize:!0,materialize:!0})};t.exports=o});C.r("akira/utils/falcorPureRender.jsx",function(e,t,r){"use strict";function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.modelChangeDetector,o=u({displayName:"FalcorPureRender("+(e.displayName||"")+")",prevGeneration:-1,prevKey:"",customModelChangeDetector:void 0,propTypes:{children:a.any},statics:{Component:e},hasFalcorPropChanged:function(e){if(this.customModelChangeDetector)return this.customModelChangeDetector.didChange();var t=e.getBoundValue(),r=t.__generation||t.$_version,o=t.__key||t.$_key;return this.prevGeneration!==r||this.prevKey!==o},updateUniqueModelKey:function(e){if(this.customModelChangeDetector)return void this.customModelChangeDetector.updateUniqueKey();var t=e.getBoundValue();this.prevGeneration=t.__generation||t.$_version,this.prevKey=t.__key||t.$_key},isFalcorProp:function(e){var t=e&&e.getBoundValue&&e.getBoundValue();return!!t&&!(!t.__generation&&!t.$_version)},haveChildrenChanged:function(e,t){return e&&t?e.length!==t.length:e&&!t||!e&&t},componentDidMount:function(){r&&(this.customModelChangeDetector=r(this.props));var e=void 0;for(e in this.props)if(this.props.hasOwnProperty(e)&&this.isFalcorProp(this.props[e]))return void this.updateUniqueModelKey(this.props[e])},shouldComponentUpdate:function(e,t){var r={},o={},n=void 0,s=!1,a=void 0,h=void 0,u=void 0;for(n in e)if(e.hasOwnProperty(n))if(this.isFalcorProp(e[n])){if(this.hasFalcorPropChanged(this.props[n]))return this.updateUniqueModelKey(this.props[n]),!0}else if("children"===n){if(this.haveChildrenChanged(this.props.children,e.children))return!0}else if("object"===(0,i.default)(e[n])&&"object"===(0,i.default)(this.props[n])){h=e[n],u=this.props[n];for(a in h)if(h.hasOwnProperty(a)&&(!u.hasOwnProperty(a)||h[a]!==u[a]))return!0;for(a in u)if(u.hasOwnProperty(a)&&!h.hasOwnProperty(a))return!0}else r[n]=this.props[n],o[n]=e[n];return(Object.keys(r).length>0||Object.keys(this.state).length>0)&&(s=!p(r,o)||!p(this.state,t)),s},render:function(){return s.createElement(e,this.props)}});return h(o,e,{Component:!0}),o}var n=e("babel-runtime/helpers/typeof"),i=function(e){return e&&e.__esModule?e:{default:e}}(n),s=e("react"),a=e("prop-types"),h=e("hoist-non-react-statics"),p=e("fbjs/lib/shallowEqual"),u=e("create-react-class");t.exports=o});C.r("akira/utils/focusUtils.js",function(e,t,a){"use strict";t.exports={focusableElementsString:"a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]",focusElement:function(e){if(e&&document.activeElement!==e)if(e.focus(),"number"==typeof e.selectionStart&&e.value)e.selectionStart=e.selectionEnd=e.value.length;else if(e.createTextRange&&e.value){var t=e.createTextRange();t.collapse(!1),t.select()}}}});C.r("akira/utils/getLolomoQueryParameters.js",function(t,e,a){"use strict";var r=function(t,e){return{drmSystem:e.features&&e.features.drmSystem,isWatchlistEnabled:t.isWatchlistEnabled,isShortformEnabled:t.isShortformContentAvailable,isVolatileBillboardsEnabled:t.volatileBillboardsEnabled}};e.exports=r});C.r("akira/utils/horizontalScrolling.js",function(t,e,n){"use strict";var _=t("./touchEvents"),i={MIN_HORZ_SWIPE_THRESHOLD_IN_PX:65,MIN_VERT_SWIPE_THRESHOLD_IN_PX:30,ADVANCE_NEXT:"next",ADVANCE_PREV:"prev",deltaIndicatesAdvancement:function(t,e,n){var _=(n?-1:1)*t;if(Math.abs(e)<=this.MIN_VERT_SWIPE_THRESHOLD_IN_PX){if(_>=this.MIN_HORZ_SWIPE_THRESHOLD_IN_PX)return this.ADVANCE_NEXT;if(_<=-this.MIN_HORZ_SWIPE_THRESHOLD_IN_PX)return this.ADVANCE_PREV}return null},wheelAdvanceDirection:function(t,e){var n=Math.abs(t.deltaY);return"wheel"===t.type&&n<=this.MIN_VERT_SWIPE_THRESHOLD_IN_PX?(t.stopPropagation(),this.deltaIndicatesAdvancement(t.deltaX,t.deltaY,e)):null},touchAdvanceDirection:function(t,e,n){var i=_.getTouchObject(t),a=e?e.x-i.clientX:0,r=e?e.y-i.clientY:0;return{deltaX:a,deltaY:r,direction:this.deltaIndicatesAdvancement(a,r,n)}}};e.exports=i});C.r("akira/utils/inViewport.jsx",function(e,t,o){"use strict";var i=e("babel-runtime/helpers/extends"),n=function(e){return e&&e.__esModule?e:{default:e}}(i),r=(e("prop-types"),e("react")),s=e("create-react-class"),l=e("react-dom"),c=e("lodash"),a=e("../../utils/browserScroll"),d=e("../../common/position"),u=e("hoist-non-react-statics");t.exports=function(e){var t=s({displayName:"inViewport("+(e.displayName?e.displayName:"")+")",node:void 0,getInitialState:function(){return{inViewport:!1}},componentDidMount:function(){a.addEventListener("scroll",this.onScroll)},componentWillUnmount:function(){a.removeEventListener("scroll",this.onScroll),this.node=void 0},onScroll:function(){var e=this.props.inViewportSelector,t=void 0;e&&this.node&&document&&((t=this.node.querySelector(e))||(t=document.querySelector(e)));var o=t||this.node;o&&this.setState({inViewport:d.isElementInViewport(o)})},_setRowNode:function(e){if(!this.node&&e){var t=e&&l.findDOMNode(e);t&&(this.node=t,this.onScroll())}else e||(this.node=void 0)},render:function(){var t=c.omit(this.props,"inViewportSelector");return r.createElement(e,(0,n.default)({},t,{inViewport:this.state.inViewport,ref:this._setRowNode}))}});return u(t,e),t}});C.r("akira/utils/linkDefs.jsx",function(e,t,i){"use strict";var r=e("../../utils/Routes"),s={getHomeRoute:function(e,t){return t?r.kidsHome:r.browse},getGenreRoute:function(e,t){return t?r.kidsCategory:r.genre},getSimilarRoute:function(e,t){return t?r.kidsSimilars:r.similars},getTitleRoute:function(e,t){return t?r.kidsTitle:r.title},getEpisodeRoute:function(e,t){return t?r.kidsTitle:r.titleShowEpisodes},getSearchRoute:function(e,t){return t?r.kidsSearch:r.search},getNetflixOriginalsRoute:function(e,t){return t?r.kidsOriginals:r.netflixOriginals},getWatchRoute:function(){return r.watchNow},hd:r.hd,person:r.person,recentlyAdded:r.recentlyAdded,justAdded:r.justAdded,newRelease:r.newRelease,genrenewrelease:r.genreNewRelease,audioDescription:r.audioDescription,audioDescriptionByGenre:r.audioDescriptionByGenre,subtitle:r.subtitle,subtitles:r.subtitle,audio:r.audio,tag:r.genre,queue:r.myList,searchDVD:r.searchDVD,kidsCharacter:r.kidsCharacter,kidsSearch:r.kidsSearch,kidsSearchSuggestion:r.kidsSearch,kidsCharacterGallery:r.kidsCharacterGallery,kidsOriginals:r.kidsOriginals,newArrivals:r.newArrivals,manageProfiles:r.manageProfiles,editProfiles:r.manageProfiles};s.home=s.getHomeRoute,s.genre=s.getGenreRoute,s.similars=s.getSimilarRoute,s.title=s.getTitleRoute,s.watchNow=s.getWatchRoute,s.search=s.getSearchRoute,s.searchSuggestion=s.getSearchRoute,s.netflixOriginals=s.getNetflixOriginalsRoute,t.exports=s});C.r("akira/utils/playLinkHelper.js",function(e,t,a){"use strict";var r=e("babel-runtime/helpers/typeof"),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=e("../../utils/cssAnimation"),n=e("../redux/logging/commandTriggers"),l=e("../../utils/player/playerFeatureDetection"),d=e("../../common/position"),s=e("../../mdx2/hoc/mdxLoader.jsx"),u=e("../../utils/Routes"),c=e("shakti-platform/dist/ui/utils/URLGenerator"),y=e("../../player/domains/videoPlayer/videoPlayerConstants"),m=y.playerIdentifier,g={navigateToPlayer:n.PlayCommand(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.videoId,a=e.videoTrackingInfo,r=e.history,i=e.playerApp,o=e.playbackQueryParams,n=e.event,d=e.startTime,u=e.isInteractiveTitle,c=e.replaceHistory,y=e.audioDescription,m=e.videoSummary;g._startNavigateToPlaybackLogging(t,i,a,n);var p=g.buildAkiraPlayerQuery({startTime:d,audioDescription:y,playbackQueryParams:o,videoTrackingInfo:a}),v=g.buildAkiraPlayerURL(t,p),f=s&&s.getManagerInstance&&s.getManagerInstance(),I=!1,k=u||!l.canPlayHTML5withDRM()||l.shouldUpgradePlayerType();if(f&&f.canAttemptToCast())f.cast(t,a&&a.trackId,!1,m),I=!0;else if(k)window.location=v,I=!0;else{var b=function(){r&&(c?r.replaceState(v):r.pushState(v))};g.animateToPlayer(b)&&(I=!0)}I&&n&&(n.preventDefault(),n.stopPropagation())}),buildAkiraPlayerURL:function(e,t){var a={};return isNaN(parseInt(e,10))&&(e=0),"object"!==(void 0===t?"undefined":(0,i.default)(t))&&(t={}),a.path=u.watchNow.makePath({id:e}),a.query=t,c.createRelative(a)},buildAkiraPlayerQuery:function(e){var t=e.startTime,a=e.audioDescription,r=e.videoTrackingInfo,i=void 0===r?{}:r,o=e.playbackQueryParams,n=void 0===o?{}:o,l=Object.assign({},n,{trackId:i.trackId,tctx:g.buildUIPlayContext(i)});return a&&(l.ad="true"),void 0!==t&&(l.t=t),l},buildUIPlayContext:function(e){return[e.rowNum,e.rankNum,e.requestId,e.listId,e.lolomoId].join(",")},animateToPlayer:function(e){function t(){i||(i=!0,document.body&&(document.body.style.overflowX=""),"function"==typeof e&&e())}var a=document.getElementsByClassName("bd"),r=a.length&&a[0],i=!1;if(!r)return!1;var n=d.getScrollTop()+Math.floor(d.getWindowRect().height/2);return document.body&&(document.body.style.overflowX="hidden"),setTimeout(t,850),o.animate({target:r,before:{origin:"50% "+n+"px"},scale:1.04,opacity:0,duration:750,easing:"easeIn",after:{reset:!0,opacity:0},callback:t}),!0},_startNavigateToPlaybackLogging:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3];if(t){var i=t.getActionCreators();i.setStartTime({time:Date.now(),sessionId:m.Watch}),i.logPlayRequestStart({triggerEl:r&&r.target,trackId:a.trackId,videoId:e,rowNum:a.rowNum,rankNum:a.rankNum,requestId:a.requestId,listId:a.listId,lolomoId:a.lolomoId,sessionId:m.Watch})}}};t.exports=g});C.r("akira/utils/scheduler.js",function(e,u,t){"use strict";u.exports={queue:function(e,u){return u=u||10,setTimeout(function(){e()},u)},cancelQueuedItem:function(e){clearTimeout(e)}}});C.r("akira/utils/setDataAsProps.jsx",function(t,s,e){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}var o=t("babel-runtime/helpers/extends"),r=a(o),n=t("babel-runtime/helpers/typeof"),i=a(n),l=t("prop-types"),u=t("react"),d=t("create-react-class"),h=t("lodash"),p=t("../../utils/pathEvaluatorUtils"),c=t("hoist-non-react-statics"),f=t("./falcorConnect.jsx"),P=function(t){var s=t&&(t.from||t.to);return void 0!==s&&null!==s},m=function(t,s){var e=s[t];if(!e)return!1;var a=e.length,o=P(e[a-2]),r=e[a-1]&&e[a-1].length;return o||(o=P(e[a-3])),o&&r};s.exports=function(t){function s(s,e,o,r,n){if(!a.paths)return t.getPaths(s,e,o,r,n);var i=void 0;return i=h.isFunction(a.paths)?a.paths(s,e,o,r,n):a.paths,i.myPaths=i.myPaths||{},i.boundLists=i.boundLists||{},i.childrenPaths=i.childrenPaths||[],i}function e(t,e,a,o,r){var n=s(t,e,a,o,r);return g=n.myPaths,A=n.boundLists,v&&(D=n.childrenPaths),h.values(g).concat(n.childrenPaths)}var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=a.autoFetch,n=a.usePqls,v=a.debug,g=void 0,A=void 0,D=void 0,y=d({displayName:"SetDataAsProps"+t.displayName,contextTypes:{models:l.object.isRequired},statics:{getPaths:e,Component:t},modelDataAsProps:{},defaultProps:{},componentWillMount:function(){this.setModelDataAsProps(this.props),this.defaultProps="function"==typeof t.getDefaultProps&&t.getDefaultProps()},componentWillUpdate:function(t){this.setModelDataAsProps(t)},getMyPaths:function(){return g||(g=s(this.context.models,null,{}).myPaths),g},getChildPaths:function(){return D||(D=s(this.context.models,null,{}).childrenPaths),D},getBoundLists:function(){return A||(A=s(this.context.models,null,{}).boundLists),A},setModelDataAsProps:function(t){var s=t.model,e=t.mappedPqls;if(this.modelDataAsProps={},s){var a=n?e:this.getMyPaths();for(var o in a)a.hasOwnProperty(o)&&(m(o,a)?this.setListWithValues(t,o,a):this.setSimpleValue(t,o,a));if(!n){var r=this.getBoundLists();for(var i in r)r.hasOwnProperty(i)&&this.setListAsBoundPaths(t,i,r)}}},setListWithValues:function(t,s,e){var a=this,o=e[s],r=o.length,n=P(o[r-3])?3:2,i=o[r-n];if(i){var l=i.from||0,u=i.to||1,d=o.slice(0,r-n),h=d.length?t.model.bind(d):t.model,c=Array.isArray(o[r-1])?o[r-1]:[o[r-1]],f=3===n?o[r-2]:null;this.modelDataAsProps[s]=[];for(var m=l;m<u;m++)!function(t){var e=f?h.bind([t,f]):h.bind([t]),o=!1;if(e&&e.getBoundValue()&&c&&c.length){var r={};c.map(function(t){var s=e.getValueSync([t]);p.isValueValid(s)&&(o=!0,r[t]=s)}),o&&(a.modelDataAsProps[s][t]=r)}}(m)}},setListAsBoundPaths:function(t,s,e){var a=e[s],o=a.length,r=t.model.bind(a.slice(0,o-1)),n=a[o-1],i=n.from||0,l=n.to||1;this.modelDataAsProps[s]=[];for(var u=i;u<l;u++){var d=r.bind([u]);d&&d.getBoundValue()&&(this.modelDataAsProps[s][u]=d)}},setSimpleValue:function(t,s,e){var a=e[s],o=(0,i.default)(this.defaultProps[s]),r=t.model.getValueSync(a),n=!p.isValueValid(r);n&&(this.modelDataAsProps.dataErrors||(this.modelDataAsProps.dataErrors={}),this.modelDataAsProps.dataErrors[s]=r),(!n||n&&!o)&&(this.modelDataAsProps[s]=r)},render:function(){var s=Object.assign({},this.modelDataAsProps,this.props);return o?u.createElement(t,(0,r.default)({},s,{isFetchingData:this.props.isLoading})):u.createElement(t,s)}});return c(y,t,{getPaths:!0,Component:!0}),o?f(y):y}});C.r("akira/utils/sortable.js",function(R,_,O){"use strict";var r=R("lodash"),E={DEFAULT_SORT_ORDER:"su",ARO_DEFAULT_SORT_ORDER:"rw",ORDER_BY:{SUGGESTIONS:"su",YEAR:"yr",A_Z:"az",Z_A:"za",MATURITY:"mr",ROW:"rw"},getSortOrder:function(R,_){return r.includes(E.SORT_ORDER_QUERY_PARAMS,R.so)?R.so:_||E.DEFAULT_SORT_ORDER}};E.SORT_ORDER_QUERY_PARAMS=r.values(E.ORDER_BY),_.exports=E});C.r("akira/utils/syntheticMouseEvent.js",function(e,t,n){"use strict";function o(e){var t=document.createEvent("MouseEvent"),n=document.elementFromPoint(e.x,e.y);t.initMouseEvent(e.type,!0,!0,window,null,e.x,e.y,0,0,!1,!1,!1,!1,0,null),t.synthetic=!0,n.dispatchEvent(t)}var s=e("lodash"),i={mouseOver:function(e){o(s.assign({type:"mouseover"},e))}};t.exports=i});C.r("akira/utils/touchEvents.js",function(t,n,o){"use strict";var e=t("shakti-platform/dist/ui/utils/inNode"),i={isTouchEnabled:function(){return!e&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)},getTouchObject:function(t){return!this.isTouchEnabled()||t.pointerType&&"mouse"===t.pointerType?t:t.changedTouches?t.changedTouches[0]:t},getTouchObjectStart:function(t){var n=this.getTouchObject(t);return{x:n.clientX,y:n.clientY}}};n.exports=i});C.r("akira/utils/watched.js",function(e,t,n){"use strict";function r(e){var t=e.bind(["current"]),n=e.getValueSync(["summary"]),r=t.getValueSync(["summary"]);return(n&&n.id)===(r&&r.id)}var u=function(e){var t=void 0,n=void 0,r=void 0,u=void 0,a=e.getValueSync(["current","title"]),i=e.getValueSync(["current","summary"]),s=e.getValueSync(["seasonList","current","summary"]),o=i&&i.newBadge;return i&&i.hiddenEpisodeNumbers||s&&s.hiddenEpisodeNumbers?{TITLE:a,SEASON:t,newBadge:o}:(s&&(t=s.name,n=s.shortName),i&&(r=i.episode,u=i.season),{SEASON:t,SEASON_ABBR:n,SEASON_NUMBER:u,EPISODE_NUMBER:r,TITLE:a,newBadge:o})};t.exports={STATES:{RESUME:"resume",NEXTUP:"nextup",UNWATCHED:"unwatched"},getPaths:function(){return[["watched"],["episodeCount"],["seasonList","current","summary"]].concat([["current",["title","bookmarkPosition","summary"]]])},isInResumeState:function(e){var t=e.bind(["current"]);if(!t.getBoundValue())return!1;var n=t.getValueSync(["bookmarkPosition"]),u=t.getValueSync(["runtime"]);if(!n||!u)return!1;var a=n/u,i=n&&n>30,s=r(e)?a<.95:u-n>20;return i&&s},isInNextUpState:function(e){var t=e.getValueSync(["current","bookmarkPosition"]),n=e.getValueSync(["watched"]);return e.getValueSync(["episodeCount"])&&n&&t<=30},getWatchedState:function(e){var t=this.STATES.UNWATCHED;return this.isInResumeState(e)?t=this.STATES.RESUME:this.isInNextUpState(e)&&(t=this.STATES.NEXTUP),t},hasBeenWatched:function(e){return e.getValueSync(["watched"])},getResumeParams:function(e){return u(e)}}});C.r("akira/utils/windowVisibility.jsx",function(i,t,n){"use strict";var e=i("babel-runtime/helpers/extends"),s=function(i){return i&&i.__esModule?i:{default:i}}(e),a=i("react"),o=i("create-react-class"),l=i("../../utils/eventBus"),r=i("hoist-non-react-statics");t.exports=function(i){var t=o({displayName:"windowVisibility("+(i.displayName?i.displayName:"")+")",getInitialState:function(){return{isWindowVisible:!0}},_handleWindowVisibilityChange:function(i){this.setState({isWindowVisible:i})},componentDidMount:function(){l.on("window-visibility:changed",this._handleWindowVisibilityChange)},componentWillUnmount:function(){l.removeListener("window-visibility:changed",this._handleWindowVisibilityChange)},render:function(){return a.createElement(i,(0,s.default)({},this.props,{isWindowVisible:this.state.isWindowVisible}))}});return r(t,i),t}});C.r("akira/views/search.jsx",function(e,t,r){"use strict";var s=e("babel-runtime/helpers/extends"),i=function(e){return e&&e.__esModule?e:{default:e}}(s),n=e("lodash"),a=e("prop-types"),o=e("react"),c=e("create-react-class"),d=e("classnames"),h=e("../containers/galleryContainer"),l=e("../containers/subHeaders/suggestionHeader.jsx"),g=e("../components/search/noResults.jsx"),u=e("../components/search/searchSuggestions.jsx"),p=e("../components/search/searchDVDs.jsx"),f=e("../components/search/hybridDVDDetails.jsx"),m=e("../../utils/eventBus"),I=e("../../common/appContext"),y=e("../../utils/RouteHelpers"),S=e("../utils/akiraContextTypes"),v=e("../../utils/imageLoadTracker"),k=e("./searchPresentationTracking.jsx"),E=function(e){return["search","byTerm","|"+e]},x=function(e,t,r){return e?["search","byEntity",e,t]:r.concat("titles",t)},R=function(e,t,r,s){return h.getPaths(e,t,Object.assign({},r,{videoRoot:"reference"})).map(function(e){return s.concat(e)})},T=function(e,t){return u.getPaths(e).map(function(e){return t.concat(e)})},P=function(e,t){return I.getModelData("userInfo","isDVD")?p.getPaths(e).map(function(e){return t.concat(e)}):[]},b=["dvdresult",["id","title","synopsis"]],F=function(e,t,r){return t.suggestionId||t.dvdId?[b].concat(l.getPaths(e)).map(function(e){return r.concat(e)}):[]},M=function(e,t,r,s){return[s.concat([h.getPathRange(e,t,r),"summary"])]},V=function(e,t,r){var s=E(r.term),i=r.suggestionId||r.dvdId,n=h.getNumTitlesToFetch(t,r),a=x(i,n,s);return[a.concat(["referenceId"])].concat(R(e,t,r,a),T(e,s),P(e,s),F(e,r,a),M(e,t,r,a))},B=c({displayName:"Search",contextTypes:Object.assign({history:a.object.isRequired,models:a.object.isRequired,renderTracker:a.object},S),statics:{pathPrefix:E,getPaths:V},pageKey:null,hasLoggedImpression:!1,getFalcorModel:function(){return this.props.model.pathEvaluator},getSearchGalleryModel:function(){return this.getFalcorModel().bind(["search","byReference",this.getReferenceId()])},getSuggestionsModel:function(){return this.getSearchBaseModel().bind(u.pathPrefix)},getEntityId:function(){return this.props.suggestionId||this.props.dvdId},getEntityListReferenceId:function(){return this.getFalcorModel().getValueSync(["search","byEntity",this.getEntityId(),h.getNumTitlesToFetch(),"referenceId"])},isRailPage:function(){return Boolean(this.getEntityId())},hasSuggestions:function(){return u.hasSuggestions(this.getSuggestionsModel())},hasFallBackPage:function(){return!this.isRailPage()&&this.hasSuggestions()},getFirstSuggestionId:function(){return u.getFirstSuggestionId(this.getSuggestionsModel())},getSuggestionUrl:function(e){return e||0===e?y.getSearchSuggestionUrl(this.props.term,e,this.context.isKidsPage):null},getFallBackPage:function(){return this.hasFallBackPage()?this.getSuggestionUrl(this.getFirstSuggestionId()):void 0},getSearchBaseModel:function(){return this.getFalcorModel().bind(E(this.props.term))},getReferenceId:function(){if(this.getEntityId())return this.getEntityListReferenceId();var e=this.getSearchBaseModel().bind(["titles",h.getNumTitlesToFetch()]);return e&&e.getValueSync(["referenceId"])},getSearchView:function(){return this.props.suggestionId?"suggestionTitleResults":this.props.dvdId?"dvdTitleResults":"titleResults"},getSearchPageKey:function(){return this.props.term+":"+this.props.suggestionId+":"+this.props.dvdId},logSearchImpression:function(e){var t=void 0;this.props.isLoading||!this.props.initialFetchCompleted||!e&&this.hasLoggedImpression||(t=this.getReferenceId())&&(m.emit("search:impression",{referenceId:t,view:this.getSearchView()}),this.hasLoggedImpression=!0)},componentDidMount:function(){this.context.renderTracker&&(this.renderId=this.context.renderTracker.startSession("search")),this.logSearchImpression()},logSearchError:function(e){m.emit("search:error",{view:this.getSearchView(),id:e,reffId:this.getReferenceId()})},logSuggestionFallBack:function(){var e=this.getSearchBaseModel(),t=e.bind(u.pathPrefix.concat(0));m.emit("search:focus",{autoClick:!0,id:this.getFirstSuggestionId(),referenceId:t.getValueSync(["referenceId"])})},redirectToFallbackIfExists:function(){var e=this.getFallBackPage();e&&(this.logSuggestionFallBack(),this.context.history.replaceState(e))},isEmpty:function(){return h.isEmpty(this.getSearchGalleryModel(),"reference")},componentDidUpdate:function(e,t){var r=this.getSearchPageKey(),s=this.pageKey!==r;this.isEmpty()&&(this.isRailPage()?this.logSearchError(this.getEntityId()):this.redirectToFallbackIfExists()),s&&(this.pageKey=r,this.hasLoggedImpression=!1),this.logSearchImpression()},componentWillReceiveProps:function(e,t){var r=this;t.renderTracker&&["term","dvdId","suggestionId"].some(function(t){return e[t]!==r.props[t]})&&(this.renderId=t.renderTracker.startSession("search"))},shouldComponentUpdate:function(e){return!e.isLoading&&e.initialFetchCompleted},onRailClick:function(e,t){var r=t.resolver?t.resolver(this.context.models,this.context.isKidsPage):t.to;this.isRailPage()?this.context.history.replaceState(r.makePath(t.params,t.query)):this.context.history.pushState(r.makePath(t.params,t.query)),e.preventDefault(),e.stopPropagation()},getTrackIdOverrides:function(e){if(this.props.suggestionId)return this.getFalcorModel().getValueSync(["search","byEntity",this.props.suggestionId,"trackId"]);var t=e.bind(u.pathPrefix).getValueSync(["trackId"]);return{trackId:t,jawBoneTrackId:t,jawBoneEpisodeTrackId:t,jawBoneTrailerTrackId:t}},logRenderCompleted:function(){var e=this;this.context.renderTracker&&this.renderId&&v.trackBySelectors([".boxart-image"]).then(function(){e.context.renderTracker.endSession(e.renderId),e.renderId=null}).catch(function(t){e.context.renderTracker.endSession(e.renderId,t),e.renderId=null})},logPageError:function(){this.logSearchError(),this.context.renderTracker&&this.context.renderTracker.cancel()},componentWillUnmount:function(){this.props.model.pathEvaluator.invalidate(["search","byTerm"]),this.props.model.pathEvaluator.invalidate(["search","byEntity"])},render:function(){var e=this.props.term,t=this.getSearchBaseModel(),r=this.getSearchGalleryModel(),s=n.get(this.context.models,"userInfo.data"),a=this.props.suggestionId,c=t.bind(u.pathPrefix),m=this.props.dvdId,I=!(!s||!s.isDVD)&&s.isDVD,y=this.getReferenceId(),S=this.getSearchPageKey(),v=r&&r.bind(["dvdresult"]),E=a&&v&&v.getValueSync(["title"])&&!this.context.isKidsPage,x=I&&(m||E),R=a?this.getTrackIdOverrides(t):void 0,T=d({"search-title-header":!0,"search-title-header-with-suggestion":a||m}),P=o.createElement("div",{className:T},o.createElement("div",{className:"rail"},I&&!this.context.isKidsPage&&o.createElement(p,{model:t,searchKey:S,term:e,ref:"searchDVDs",dvdId:m,onRailClick:this.onRailClick}),o.createElement(u,{model:t,searchKey:S,term:e,ref:"searchSuggestions",suggestionId:a,onRailClick:this.onRailClick})),x&&o.createElement(f,{id:v.getValueSync(["id"]),title:v.getValueSync(["title"]),synopsis:v.getValueSync(["synopsis"]),referenceId:y}),a&&o.createElement(l,{model:r,suggestionsModel:c}));return o.createElement("div",{className:"search"},o.createElement(k,{term:e,entityId:this.getEntityId(),titlesReferenceId:t.getValueSync(["titles",h.getNumTitlesToFetch(),"referenceId"]),suggestionsReferenceId:c.getValueSync(["referenceId"]),suggestionTitlesReferenceId:this.getEntityListReferenceId()}),o.createElement(h,(0,i.default)({},this.props,{keyPrefix:"search",videoRoot:"reference",key:S,model:r,noResults:this.hasFallBackPage()?o.createElement("div",null):o.createElement(g,{term:this.props.term}),enableInitialFetch:!1,isLoading:this.props.isLoading||!this.props.initialFetchCompleted,listId:y,trackIds:R,onInteractive:this.logRenderCompleted,onError:this.logPageError,searchOnlyListIdThatIsUsedAsARequestIdBecauseOfDumbLegacyReasons:y,header:P})))}});t.exports=B});C.r("akira/views/searchPresentationTracking.jsx",function(e,t,s){"use strict";var n=e("prop-types"),i=e("react"),r=e("create-react-class"),o=e("../../components/presentationTracking/trackingComponents/logPresentationManually"),c=e("shakti-platform/dist/ui/consolidatedLogging/constants/appViewTypes"),a=r({displayName:"SearchPresentationTracking",contextTypes:{discoveryApp:n.object.isRequired},endPresentation:void 0,componentWillReceiveProps:function(e){var t=e.term,s=e.entityId,n=e.titlesReferenceId,i=e.suggestionsReferenceId,r=e.suggestionTitlesReferenceId;if(this.props.titlesReferenceId!==n||this.props.suggestionTitlesReferenceId!==r){if(this.endPresentation&&this.endPresentation(),!n)return;this.context.discoveryApp.getActionCreators().searchSuccess({term:t,entityId:s,titlesReferenceId:n,suggestionsReferenceId:i,suggestionTitlesReferenceId:r}),this.endPresentation=e.suggestionTitlesReferenceId?this.props.logPresentationStart(c.searchSuggestionTitleResults,{referenceId:r}):this.props.logPresentationStart(c.searchTitleResults,{referenceId:n})}},componentDidMount:function(){if(this.props.titlesReferenceId){var e=this.props,t=e.term,s=e.entityId,n=e.titlesReferenceId,i=e.suggestionsReferenceId,r=e.suggestionTitlesReferenceId;this.context.discoveryApp.getActionCreators().searchSuccess({term:t,entityId:s,titlesReferenceId:n,suggestionsReferenceId:i,suggestionTitlesReferenceId:r}),this.endPresentation=this.props.suggestionTitlesReferenceId?this.props.logPresentationStart(c.searchSuggestionTitleResults,{referenceId:this.props.suggestionTitlesReferenceId}):this.props.logPresentationStart(c.searchTitleResults,{referenceId:this.props.titlesReferenceId})}},componentWillUnmount:function(){this.endPresentation&&this.endPresentation()},render:function(){return i.createElement("div",null,this.props.children)}});t.exports=o(a)});C.r("common/HTMLConstants.js",function(E,A,T){"use strict";A.exports={Event:{NONE:0,CAPTURING_PHASE:1,AT_TARGET:2,BUBBLING_PHASE:3},HTMLMediaElement:{HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4,NETWORK_EMPTY:0,NETWORK_IDLE:1,NETWORK_LOADING:2,NETWORK_NO_SOURCE:3}}});C.r("common/imageExtension.js",function(e,n,t){"use strict";var r=e("../common/appContext"),o={canUseWebPFromContext:function(e){var n=e?e.browserInfo&&e.browserInfo.data||e.browserInfo:r.getModelData("browserInfo");return!!n&&n.features.webp},getExtensionForOpaqueImage:function(e){return this.getWebpOrFallback(e,"jpg")},getExtensionForTransparentImage:function(e){return this.getWebpOrFallback(e,"png")},getWebpOrFallback:function(e,n){return this.canUseWebPFromContext(e)?"webp":n}};n.exports=o});C.r("common/playPrediction/playPredictionUtils.js",function(i,n,t){"use strict";function e(i){return i.playPredictionEnabled||i.playPredictionV2Enabled}n.exports={isPlayPredictionEnabled:e}});C.r("common/position.js",function(t,e,i){"use strict";var n={getRect:function(t){return t&&t.getBoundingClientRect()},getWindowRect:function(){var t=window,e=document,i=e.documentElement,n=e.getElementsByTagName("body")[0],o=t.innerWidth||i.clientWidth||n.clientWidth,h=t.innerHeight||i.clientHeight||n.clientHeight;return{top:0,bottom:h,left:0,right:o,width:o,height:h}},isElementInViewport:function(t){return this.isElementInRegion(this.getRect(t),this.getWindowRect())},isElementInRegion:function(t,e){var i=t.left+(t.right-t.left)/2,n=t.top+(t.bottom-t.top)/2;return t.left!==t.right&&e.left!==e.right&&(i>=e.left&&i<=e.right&&n>=e.top&&n<=e.bottom)},getScrollTop:function(){return window.pageYOffset},getDistanceToTopOfElement:function(t){var e=this.getScrollTop(),i=this.getWindowRect(),n=this.getRect(t),o=e+i.height;return n.top+e-o},getDistanceToBottomOfElement:function(t){var e=this.getScrollTop(),i=this.getWindowRect(),n=this.getRect(t),o=e+i.height;return n.top+e+n.height-o},getTotalDocumentSize:function(){return{height:void 0!==document.height?document.height:document.body.offsetHeight,width:void 0!==document.width?document.width:document.body.offsetWidth}}};e.exports=n});C.r("common/presentationTracking/presentationTracking.js",function(e,t,n){"use strict";var i=e("lodash"),r=e("../../common/appContext"),o=e("../position"),a=(e("../nfNamespace"),e("../../utils/eventBus")),c=e("./presentationTrackingConsts"),s=e("./presentationTrackingStorage.js"),l=e("./presentationTrackingSender.js"),u=function(e){return c.IN_NODE?void 0:i.get(r.getModelData("fastProps"),e)},d={_viewportRegion:null,_onScreen:{},_onScreenElems:{},_headerEl:null,_initialized:!1,_verticalScrollPosition:0,_trackedElements:[],_isPaused:!1,_isElementInRegion:function(e,t){var n=e.left+(e.right-e.left)/2,i=e.top+(e.bottom-e.top)/2;return e.left!==e.right&&t.left!==t.right&&(n>=t.left&&n<=t.right&&i>=t.top&&i<=t.bottom)},_calcWindowActiveRegion:function(){if(!this._headerEl){var e=document.querySelector(c.GLOBAL_HEADER_SELECTOR);this._headerEl=e}var t=o.getWindowRect();return{left:0,top:this._headerEl&&"fixed"===window.getComputedStyle(this._headerEl).getPropertyValue("position")?this._headerEl.getBoundingClientRect().height:0,right:t.right,bottom:t.bottom}},_scanElement:function(e){return this._isElementInRegion(o.getRect(e),this._viewportRegion)},_extractTrackingData:function(e){return JSON.parse(decodeURI(e.getAttribute("data-ui-tracking-context")))},_findAllVisibleElements:function(e,t){var n=this,r=e.filter(function(e){return-1===t.indexOf(e)&&n._scanElement(e)}).map(function(e){return e.getElementsByClassName(c.ELEMENT_SELECTOR_CLASS)}).reduce(function(e,t){return Object.assign(e,i.mapKeys(t,function(e){return e.getAttribute("data-tracking-uuid")}))},{});return i.pick(r,function(e){return n._scanElement(e)})},_fullScan:function(e,t){return function(){return t.apply(this,arguments)}}("fullScan",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this,n=this._onScreen,r=Array.prototype.slice.call(document.getElementsByClassName(c.CONTAINER_SELECTOR_CLASS)),o=Array.prototype.slice.call(document.querySelectorAll("."+c.DISABLED_SECTION_SELECTOR_CLASS+" ."+c.CONTAINER_SELECTOR_CLASS)),a=(new Date).getTime();t._viewportRegion=t._calcWindowActiveRegion();var s=window.scrollY;t._verticalScrollPosition!==s&&(e.yScrollDirection=t._verticalScrollPosition<s?c.Y_SCROLL_DIRECTION.DOWN:c.Y_SCROLL_DIRECTION.UP);var l=t._findAllVisibleElements(r,o),u=i.mapValues(l,function(e){var n=t._extractTrackingData(e);return n.time=n.time||a,n}),d=Object.keys(l).filter(function(e){return!n[e]}),_=Object.keys(n).filter(function(e){return!l[e]});return e.data={elements:u,added:d,removed:_},t._verticalScrollPosition=s,t._onScreen=u,t._onScreenElems=l,e}),requestScan:i.debounce(function(e){d._initialized&&!d._isPaused&&a.emit(c.FULL_SCAN,d._fullScan(e))},u(c.FAST_PROPS.DEBOUNCE_MS)),init:function(){if(!this._initialized&&!c.IN_NODE&&u(c.FAST_PROPS.ACTIVE)){var e=this,t=r.getModelData("truths").isBeaconEnabled;t&&(s.init(),l.start());var n=function(){window.addEventListener("scroll",function(){e.requestScan({event:c.SCAN_EVENTS.SCROLL})}),window.addEventListener("resize",function(){e.requestScan({isResize:!0,event:c.SCAN_EVENTS.RESIZE})})};"complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState?n():document.addEventListener("DOMContentLoaded",n,!1),a.on(c.FULL_SCAN,function(e){var n=e.data,r=n.added,o=n.elements;!i.isEmpty(r)&&t&&s.save(r.map(function(e){return o[e]}))}),this._verticalScrollPosition=window.scrollY,this._initialized=!0}},pauseScanning:function(){this._isPaused=!0},resumeScanning:function(){this._isPaused=!1},registerElement:function(e,t){this._trackedElements[t]=e},unregisterElement:function(e){delete this._trackedElements[e]}};t.exports=d});C.r("common/presentationTracking/presentationTrackingConsts.js",function(t,E,n){"use strict";var e=t("lodash"),S=t("shakti-platform/dist/ui/ShaktiProperties"),i=t("../../common/appContext"),o=t("shakti-platform/dist/ui/utils/inNode"),T={IN_NODE:o,DEFAULT_TRACKING_VALUES:{NUMBER:-99,OBJECT:{},ARRAY:[],STRING:"unknown",BOOLEAN:!1},FAST_PROPS:{SEND_INTERVAL_MS:"ui.presTracking.sendIntervalMs",ACTIVE:"ui.presTracking.isActive",DEBOUNCE_MS:"ui.presTracking.scanDebounceMs"},TRANSPORT:{MAX_SEND_ERROR:10,MAX_CONCURRENT_ATTEMPTS:4,ENDPOINT:"/uitracking/users/presentationtracking"},STORAGE:{NAMESPACE:"nfpt",MAX_ITEMS:250,DEFAULT_DATASTORE:{totalContentLength:0,values:[]}},DISABLED_SECTION_SELECTOR_CLASS:"ptrack-disabled",GLOBAL_HEADER_SELECTOR:"#hdPinTarget",CONTAINER_SELECTOR_CLASS:"ptrack-container",ELEMENT_SELECTOR_CLASS:"ptrack-content",DEBUG_ENTERING_CLASS:"ptdebug-entering",DEBUG_CURRENT_CLASS:"ptdebug-current",GEO:i.getModelData("geo"),BROWSERINFO:i.getModelData("browserInfo"),FULL_SCAN:"pt:fullscan",SCAN_EVENTS:{INIT:"init",SCROLL:"scroll",RESIZE:"resize"},Y_SCROLL_DIRECTION:{UP:1,DOWN:-1},LOLOMO_SCROLL:"lolomoScroll"};T.TRANSPORT.IMPRESSION_SEND_INTERVAL_MS_START=T.IN_NODE?void 0:S.get(T.FAST_PROPS.SEND_INTERVAL_MS),T.DEBUG=!T.IN_NODE&&!!window.location.search.match(/ptdebug=1/),T.TIMING=!T.IN_NODE&&!!window.location.search.match(/pttiming=1/),T.TRANSPORT.REQUEST_DEFAULTS={country:e.get(T.GEO,"requestCountry.id","null"),application_name:"AKIRA",application_v:e.get(i.getModelData("serverDefs"),"BUILD_IDENTIFIER"),sw_version:function(t){return t&&t.os?t.os.name+" "+t.os.version+", "+t.name+" "+t.version:"null"}(T.BROWSERINFO)},E.exports=T});C.r("common/svgIcon.jsx",function(e,a,r){"use strict";var t=e("babel-runtime/helpers/extends"),l=function(e){return e&&e.__esModule?e:{default:e}}(t),o=e("classnames"),n=(e("prop-types"),e("react")),i=e("create-react-class"),s=["chevron-down","add","check","check-mark","episodes","play","play-with-ring","thumb-up","thumb-down","thumb-up-filled","thumb-down-filled","edit","grips","moveToTop","close","down-arrow-small","mylist-add","mylist-added","nmodp-play-button","n-logo","expand","audio-off","audio-on","facebook-logo","instagram-logo","twitter-logo","youtube-logo","rows","grid","uma-plan-selector-selected","uma-plan-selector-not-selected","maturity-rating-KR-KMRB-35","maturity-rating-KR-KMRB-70","maturity-rating-KR-KMRB-95","maturity-rating-KR-KMRB-124","maturity-advisory-KR-KMRB-lewdness","maturity-advisory-KR-KMRB-harmful-themes","maturity-advisory-KR-KMRB-profanity","maturity-advisory-KR-KMRB-violence","maturity-advisory-KR-KMRB-immatatable-behaviors","maturity-advisory-KR-KMRB-fear","maturity-advisory-KR-KMRB-drugs","bvuiExit","bvuiFullScreenOff","bvuiFullScreenOn","nfplayerReplay","nfplayerCheck","nfplayerExit","nfplayerBack","nfplayerFullscreen","nfplayerNextEpisode","nfplayerPause","nfplayerPauser","nfplayerPlay","nfplayerStop","nfplayerReportAProblem","nfplayerMdx","nfplayerMdxFull","nfplayerOpticalCenterPause","nfplayerOpticalCenterPlay","nfplayerSubtitles","nfplayerWindowed","nfplayerEpisodes","nfplayerBackTen","nfplayerFastForward","volumeMuted","volumeLow","volumeMedium","volumeMax","netflixLogo","playerShare","dolby-vision-atmos","dolby-atmos","dolby-vision"],u=i({displayName:"SVGIcon",getDefaultProps:function(){return{classes:{},attributes:{},preventFocus:!1}},render:function(){var e=this.props,a=e.attributes,r=e.classes,t=e.filter,i=e.name,u=e.preventFocus;return s.indexOf(i)>-1&&n.createElement("svg",(0,l.default)({},a,{className:o("svg-icon","svg-icon-"+i,r),focusable:!u,key:i}),n.createElement("use",{filter:t?"url("+t+")":"",xlinkHref:"#"+i}))}});a.exports=u});C.r("components/CenteredImage.jsx",function(e,t,a){"use strict";var s=e("lodash"),r=(e("prop-types"),e("react")),n=e("create-react-class"),o=e("../utils/focalPoint"),i=n({displayName:"CenteredImage",render:function(){var e=this.props,t=e.focalPoint,a=s.assign({},e.style,{backgroundImage:"url("+e.url+")",backgroundPosition:t?o.getBackgroundPositionOffset(t.containerWidth,t.imageWidth,t.x):"50% 50%"});return r.createElement("div",{className:e.className,style:a})}});t.exports=i});C.r("components/presentationTracking/presentationTrackingContainer.jsx",function(e,r,a){"use strict";var n=(e("prop-types"),e("react")),s=e("create-react-class"),t=e("classnames"),c=s({displayName:"PresTrackedContainer",render:function(){return n.createElement("div",{className:t("ptrack-container",this.props.className)},this.props.children)}});r.exports=c});C.r("components/presentationTracking/trackingComponents/accountDropdownPanelPresTracking.js",function(n,o,t){"use strict";var a=n("./createTrackingComponent"),e=n("shakti-platform/dist/ui/consolidatedLogging/constants/appViewTypes");o.exports=a({appView:e.accountDropdownPanel})});C.r("components/presentationTracking/trackingComponents/addToMyListButtonPresTracking.js",function(t,n,e){"use strict";var o=t("./createTrackingComponent"),r=t("prop-types"),s=t("shakti-platform/dist/ui/consolidatedLogging/constants/appViewTypes");n.exports=o({appView:s.addToMyListButton,usePresentedEvent:!0,propTypes:{lolomoId:r.string,listId:r.string,location:r.string,rank:r.number,requestId:r.string,row:r.number,trackId:r.number,videoId:r.number,supplementalVideoId:r.number}})});C.r("components/presentationTracking/trackingComponents/boxartPresTracking.js",function(t,e,n){"use strict";var r=t("./createTrackingComponent"),o=t("prop-types"),i=t("shakti-platform/dist/ui/consolidatedLogging/constants/appViewTypes");e.exports=r({appView:i.boxArt,usePresentedEvent:!0,propTypes:{listId:o.string,location:o.string,rank:o.number,requestId:o.string,row:o.number,trackId:o.number,videoId:o.number,imageKey:o.string,supplementalVideoId:o.number,lolomoId:o.string,maturityMisMatchEdgy:o.bool,maturityMisMatchNonEdgy:o.bool}})});C.r("components/presentationTracking/trackingComponents/createTrackingComponent.js",function(t,e,n){"use strict";function i(t){var e=t.appView,n=t.usePresentedEvent,i=t.propTypes,f=void 0===i?{}:i,k=t.propsTransformer,l=void 0===k?c:k,T=g(a({displayName:"createTrackingComponent("+e+")",contextTypes:{currentPage:o.string,rowNum:o.number,rankNum:o.number,requestId:o.string,trackId:o.number,impressionToken:o.string,videoId:o.number,imageKey:o.string,listId:o.string,supplementalVideoId:o.number,lolomoId:o.string},statics:{trackedFields:f},propTypes:Object.assign({children:o.node,trackingInfo:o.object,getTrackingInfoFromContext:o.func.isRequired},f),getInitialState:function(){return{__uuid__:u()}},componentDidMount:function(){var t=s.findDOMNode(this);this.writeDataAttributesToNode(t),m.requestScan()},componentDidUpdate:function(){this.writeDataAttributesToNode(s.findDOMNode(this))},componentWillUnmount:function(){n||m.requestScan()},getDataAttribute:function(t,e,n){return p.isUndefined(t)?p.isUndefined(this.context[e])?n:this.context[e]:t},getTrackingInfo:function(){var t={__uuid__:this.state.uuid,appView:e,usePresentedEvent:n},i=l(this.props);if(i.trackingInfo)return Object.assign({},i.trackingInfo,t);var r=Object.keys(p.omit(T.propTypes,["className","children"]));return this.props.getTrackingInfoFromContext(t,r)},writeDataAttributesToNode:function(t){t instanceof HTMLElement&&(t.setAttribute("data-ui-tracking-context",encodeURI(JSON.stringify(this.getTrackingInfo()))),t.setAttribute("data-tracking-uuid",this.state.__uuid__))},render:function(){return r.createElement("div",{className:d(this.props.className,"ptrack-content")},this.props.children)}}));return T}var r=t("react"),o=t("prop-types"),s=t("react-dom"),a=t("create-react-class"),c=t("ramda/src/identity"),u=t("tiny-uuid"),d=t("classnames"),p=t("lodash"),m=t("../../../common/presentationTracking/presentationTracking"),g=t("./getTrackingInfoFromContext");e.exports=i});C.r("components/presentationTracking/trackingComponents/getTrackingInfoFromContext.js",function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){var e=m({displayName:"getTrackingInfoFromContext("+(t.displayName||"")+")",contextTypes:{currentPage:d.string,rowNum:d.number,rankNum:d.number,requestId:d.string,trackId:d.number,impressionToken:d.string,videoId:d.number,imageKey:d.string,listId:d.string,supplementalVideoId:d.number,lolomoId:d.string},statics:{Component:t},propTypes:g.omit(t.propTypes||{},"getTrackingInfoFromContext"),getDataAttribute:function(t,e,n){return g.isUndefined(t)?g.isUndefined(this.context[e])?n:this.context[e]:t},getTrackingInfoFromContext:function(t,e){var n=this,r={listId:function(t){return{list_id:n.getDataAttribute(t,"listId",p.STRING)}},location:function(t){return{location:n.getDataAttribute(t,"currentPage",p.STRING)}},rank:function(t){return{rank:n.getDataAttribute(t,"rankNum",p.NUMBER)}},requestId:function(t){return{request_id:n.getDataAttribute(t,"requestId",p.STRING)}},row:function(t){return{row:n.getDataAttribute(t,"rowNum",p.NUMBER)}},trackId:function(t){return{track_id:n.getDataAttribute(t,"trackId",1)}},videoId:function(t){return{video_id:n.getDataAttribute(t,"videoId",1)}},supplementalVideoId:function(t){return{supp_video_id:n.getDataAttribute(t,"supplementalVideoId",1)}},imageKey:function(t){return{image_key:n.getDataAttribute(t,"imageKey",p.STRING)}},lolomoId:function(t){return{lolomo_id:n.getDataAttribute(t,"lolomoId",p.STRING)}}},o=g.reduce(e,function(t,e){var o=n.props[e];return r[e]?Object.assign(t,r[e](o)):void 0!==o?Object.assign(t,(0,u.default)({},e,o)):t},{}),i=Object.assign(o,t);this.context.impressionToken&&(o.impression_token=this.context.impressionToken);var a=this.context.parentContext;return a&&(o.parent_context={row:a.rowNum,rank:a.rankNum,request_id:a.requestId,track_id:a.trackId}),i},render:function(){return c.createElement(t,(0,a.default)({},this.props,{getTrackingInfoFromContext:this.getTrackingInfoFromContext}))}});return l(e,t,{Component:!0}),e}var i=t("babel-runtime/helpers/extends"),a=r(i),s=t("babel-runtime/helpers/defineProperty"),u=r(s),c=t("react"),d=t("prop-types"),m=t("create-react-class"),g=t("lodash"),p=t("../../../common/presentationTracking/presentationTrackingConsts").DEFAULT_TRACKING_VALUES,l=t("hoist-non-react-statics");e.exports=o});C.r("components/presentationTracking/trackingComponents/jawboneEpisodesPresTracking.js",function(n,e,o){"use strict";var s=n("./createTrackingComponent"),t=n("shakti-platform/dist/ui/consolidatedLogging/constants/appViewTypes");e.exports=s({appView:t.jawboneEpisodes})});C.r("components/presentationTracking/trackingComponents/jawboneOverviewPresTracking.js",function(e,n,o){"use strict";var r=e("./createTrackingComponent"),t=e("shakti-platform/dist/ui/consolidatedLogging/constants/appViewTypes"),i=e("prop-types");n.exports=r({appView:t.jawboneOverview,propTypes:{videoId:i.number,trackId:i.number}})});C.r("components/presentationTracking/trackingComponents/jawboneShowDetailsPresTracking.js",function(n,t,e){"use strict";var o=n("./createTrackingComponent"),a=n("shakti-platform/dist/ui/consolidatedLogging/constants/appViewTypes");t.exports=o({appView:a.jawboneShowDetails})});C.r("components/presentationTracking/trackingComponents/jawboneSimilarsPresTracking.js",function(n,i,a){"use strict";var t=n("./createTrackingComponent"),e=n("shakti-platform/dist/ui/consolidatedLogging/constants/appViewTypes");i.exports=t({appView:e.jawboneSimilars})});C.r("components/presentationTracking/trackingComponents/jawboneTrailersPresTracking.js",function(n,e,a){"use strict";var t=n("./createTrackingComponent"),i=n("shakti-platform/dist/ui/consolidatedLogging/constants/appViewTypes");e.exports=t({appView:i.jawboneTrailers})});C.r("components/presentationTracking/trackingComponents/kidsCharacterPresTracking.js",function(r,e,n){"use strict";var t=r("./createTrackingComponent"),s=r("prop-types"),i=r("shakti-platform/dist/ui/consolidatedLogging/constants/appViewTypes");e.exports=t({appView:i.kidsCharacter,usePresentedEvent:!0,propTypes:{listId:s.string,kidsCharacterId:s.number,rank:s.number,row:s.number,requestId:s.string,imageKey:s.string,videoId:s.number},propsTransformer:function(r){return Object.assign({},r,{videoId:r.kidsCharacterId,kidsCharacterId:void 0})}})});C.r("components/presentationTracking/trackingComponents/logPresentationManually.js",function(t,e,n){"use strict";function o(t){var e=g({displayName:"logPresentationManually("+(t.displayName||"")+")",contextTypes:{logger:a.object.isRequired,models:a.object.isRequired,getModelData:a.func.isRequired},_presentationId:void 0,_focusId:void 0,statics:{Component:t},isLoggingEnabled:function(){return this.context.getModelData("truths").isCl2LoggingEnabledForDiscoveryPlayback},getLogger:function(){return this.context.logger},logPresentationStart:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isLoggingEnabled())return l.noop;var o=this.getLogger().startSession("Presentation",{view:t,trackingInfo:u(n)});return function(t){e.getLogger().endSession(o,t)}},logPresented:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.isLoggingEnabled()&&this.getLogger().logEvent(c.Presented,{view:t,trackingInfo:u(e)})},logFocus:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isLoggingEnabled())return l.noop;var o=this.getLogger().startSession("Focus",{view:t,trackingInfo:u(n)});return function(t){e.getLogger().endSession(o,t)}},logNavigationLevel:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isLoggingEnabled())return l.noop;var o=this.getLogger().startSession("NavigationLevel",{view:t,trackingInfo:u(n)});return function(t){e.getLogger().endSession(o,t)}},logCommand:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isLoggingEnabled)return l.noop;var o=this.getLogger().startSession(t,n);return function(t){e.getLogger().endSession(o,t)}},render:function(){return r.createElement(t,(0,s.default)({},this.props,{logPresentationStart:this.logPresentationStart,logPresented:this.logPresented,logFocus:this.logFocus,logNavigationLevel:this.logNavigationLevel,logCommand:this.logCommand}))}});return d(e,t,{Component:!0}),e}var i=t("babel-runtime/helpers/extends"),s=function(t){return t&&t.__esModule?t:{default:t}}(i),r=(t("shakti-platform/dist/ui/consolidatedLogging/cl-types"),t("react")),g=t("create-react-class"),a=t("prop-types"),l=t("lodash"),c=t("shakti-platform/dist/ui/consolidatedLogging/constants/eventTypes"),d=t("hoist-non-react-statics"),u=t("./mapTrackingInfoToNewForm");e.exports=o});C.r("components/presentationTracking/trackingComponents/mapTrackingInfoToNewForm.js",function(o,t,e){"use strict";function i(o){return r||!n.getModelData("truths").isCl2TrackingInfoMigrated?o:Object.keys(o).reduce(function(t,e){var i=o[e];return t[a[e]||e]=i,t},{})}var n=o("../../../common/appContext"),r=o("shakti-platform/dist/ui/utils/inNode"),a={list_id:"listId",location:"location",rankNum:"rank",rowNum:"row",request_id:"requestId",track_id:"trackId",video_id:"videoId",image_key:"imageKey",supp_video_id:"supplementalVideoId",lolomo_id:"lolomoId"};t.exports=i});C.r("components/presentationTracking/trackingComponents/notificationItemPresTracking.js",function(t,n,i){"use strict";var o=t("./createTrackingComponent"),e=t("shakti-platform/dist/ui/consolidatedLogging/constants/appViewTypes");n.exports=o({appView:e.notificationItem})});C.r("components/presentationTracking/trackingComponents/notificationSelectorPresTracking.js",function(t,n,i){"use strict";var o=t("./createTrackingComponent"),e=t("shakti-platform/dist/ui/consolidatedLogging/constants/appViewTypes");n.exports=o({appView:e.notificationSelector})});C.r("components/presentationTracking/trackingComponents/searchSuggestionResultsPresTracking.js",function(e,s,t){"use strict";var n=e("./createTrackingComponent"),r=e("shakti-platform/dist/ui/consolidatedLogging/constants/appViewTypes"),o=e("prop-types");s.exports=n({appView:r.searchSuggestionResults,propTypes:{referenceId:o.string}})});C.r("components/presentationTracking/trackingComponents/storyArtPresTracking.js",function(t,e,r){"use strict";var n=t("./createTrackingComponent"),s=t("shakti-platform/dist/ui/consolidatedLogging/constants/appViewTypes"),o=t("./boxartPresTracking");e.exports=n({appView:s.storyArt,usePresentedEvent:!0,propTypes:o.trackedFields})});C.r("components/presentationTracking/trackingComponents/suggestionItemPresTracking.js",function(e,t,n){"use strict";var s=e("./createTrackingComponent"),i=e("shakti-platform/dist/ui/consolidatedLogging/constants/appViewTypes");t.exports=s({appView:i.suggestionItem,usePresentedEvent:!0})});C.r("components/presentationTracking/trackingComponents/watchlistButtonPresTracking.js",function(t,n,e){"use strict";var r=t("./createTrackingComponent"),s=t("prop-types"),o=t("shakti-platform/dist/ui/consolidatedLogging/constants/appViewTypes");n.exports=r({appView:o.watchlistButton,usePresentedEvent:!0,propTypes:{lolomoId:s.string,listId:s.string,location:s.string,rank:s.number,requestId:s.string,row:s.number,trackId:s.number,videoId:s.number,supplementalVideoId:s.number}})});C.r("components/string.jsx",function(t,s,e){"use strict";var r=t("prop-types"),n=t("react"),p=t("create-react-class"),o=p({displayName:"String",contextTypes:{getICUString:r.func.isRequired},getDefaultProps:function(){return{componentName:"span",formats:{},dangerouslySetInnerHTML:!1}},render:function(){var t=this.context.getICUString(this.props.bundle,this.props.stringKey,this.props.stringParams,this.props.formats),s={className:this.props.className};return this.props.id&&(s.id=this.props.id),this.props.dangerouslySetInnerHTML&&(s.dangerouslySetInnerHTML={__html:t},t=null),n.createElement(this.props.componentName,s,t)}});s.exports=o});C.r("components/touchable.jsx",function(e,o,n){"use strict";function t(e){if("string"!=typeof e)throw new Error("Touchable HOC should only be used with host (DOM) elements, not Composite components.");return a({componentWillMount:function(){this._called=!1,this.previousEventWasKeyDownViaSpaceEnter=!1},componentDidMount:function(){this.updateHandlers()},componentDidUpdate:function(e){this.updateHandlers()},componentWillUnmount:function(){this.removeHandlers()},render:function(){var o=c.omit(this.props,_),n=p("touchable",this.props.className);return s.createElement(e,(0,i.default)({className:n},o))},getPointerType:function(e){if(e.pointerType)return e.pointerType;switch(e.type){case"touchstart":case"touchmove":case"touchend":return"touch"}switch(e.mozInputSource){case void 0:break;case MouseEvent.MOZ_SOURCE_TOUCH:return"touch";case MouseEvent.MOZ_SOURCE_PEN:case MouseEvent.MOZ_SOURCE_ERASER:return"pen"}return null},setPointerType:function(e){var o=Date.now(),n=this.getPointerType(e);n&&"mouse"!==n&&(this._persistedPointerType=n,this._persistedPointerTime=o),o>this._persistedPointerTime+h&&(this._persistedPointerType=null),void 0===e.pointerType&&(e.pointerType=n||this._persistedPointerType||"mouse")},handleEvent:function(e){this.setPointerType(e);var o=M[e.type],n=this.props[o+"Capture"],t=this.props[o];if(e.eventPhase===T){if(this._called)return void(this._called=!1);this._called=!0}n&&(e.eventPhase!==O&&e.eventPhase!==T||n.call(this,e,this.previousEventWasKeyDownViaSpaceEnter)),t&&(e.eventPhase!==D&&e.eventPhase!==T||t.call(this,e,this.previousEventWasKeyDownViaSpaceEnter)),o!==M.keydown||!n&&!t||e.keyCode!==d.SPACE&&e.keyCode!==d.ENTER||document.activeElement!==u.findDOMNode(this)&&!u.findDOMNode(this).contains(document.activeElement)?-1===e.type.indexOf("key")&&(this.previousEventWasKeyDownViaSpaceEnter=!1):this.previousEventWasKeyDownViaSpaceEnter=!0},addHandler:function(e,o){e.addEventListener(o,this.handleEvent,U),e.addEventListener(o,this.handleEvent,H)},removeHandler:function(e,o){e.removeEventListener(o,this.handleEvent,U),e.removeEventListener(o,this.handleEvent,H)},updateHandler:function(e,o){var n=M[o];Boolean(this.props[n])||Boolean(this.props[n+"Capture"])||P.indexOf(o)>=0?this.addHandler(e,o):this.removeHandler(e,o)},updateHandlers:function(){var e=this,o=u.findDOMNode(this),n=[].concat(m,E);n=window.PointerEvent?n.concat(f):n.concat(P,y),n.forEach(function(n){e.updateHandler(o,n)})},removeHandlers:function(){var e=u.findDOMNode(this);for(var o in M)M.hasOwnProperty(o)&&this.removeHandler(e,o)}})}var r=e("babel-runtime/helpers/extends"),i=function(e){return e&&e.__esModule?e:{default:e}}(r),s=(e("prop-types"),e("react")),a=e("create-react-class"),u=e("react-dom"),c=e("lodash"),p=e("classnames"),d=e("../common/keyCodes"),v=e("../common/HTMLConstants"),h=100,l=["onClick","onDoubleClick","onMouseDown","onMouseMove","onMouseUp","onMouseEnter","onMouseLeave","onMouseOver","onMouseOut","onPointerDown","onPointerMove","onPointerUp","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut","onTouchStart","onTouchMove","onTouchEnd","onKeyDown","onKeyPress","onKeyUp"],m=["click","doubleclick"],E=["keyup","keydown","keypress"],P=["touchstart","touchmove","touchend"],y=["mousedown","mousemove","mouseup","mouseenter","mouseleave","mouseover","mouseout"],f=["pointerdown","pointermove","pointerup","pointerenter","pointerleave","pointerover","pointerout"],M={click:"onClick",doubleclick:"onDoubleClick",keyup:"onKeyUp",keydown:"onKeyDown",keypress:"onKeyPress",touchstart:"onPointerDown",touchmove:"onPointerMove",touchend:"onPointerUp",mousedown:"onPointerDown",mousemove:"onPointerMove",mouseup:"onPointerUp",mouseenter:"onPointerEnter",mouseleave:"onPointerLeave",mouseover:"onPointerOver",mouseout:"onMouseOut",pointerdown:"onPointerDown",pointermove:"onPointerMove",pointerup:"onPointerUp",pointerenter:"onPointerEnter",pointerleave:"onPointerLeave",pointerover:"onPointerOver",pointerout:"onPointerOut"},w=v.Event,O=w.CAPTURING_PHASE,T=w.AT_TARGET,D=w.BUBBLING_PHASE,k=l,C=l.map(function(e){return e+"Capture"}),_=[].concat("className",k,C),H=!1,U=!0;o.exports=c.memoize(t)});C.r("mdx2/errors/mdxError.js",function(r,o,s){"use strict";var e=function(r,o,s){this.errorcode=r,this.errorsubcode=o,this.errordetails=s};o.exports=e});C.r("mdx2/utils/mdxConstants.js",function(_,E,D){"use strict";var N={TRANSITION_DURATION:300,DEBUG_PARAM:"mdxDebug",ERROR_CODES:{FAILED_TO_LOAD_CAST_SDK:4e3,FAILED_TO_LOAD_MDX_ASSET:4001,MDX_INIT_TIMEOUT:4002,FAILED_TO_LOAD_VIDEO_SESSION:4003,UNHANDLED_EXCEPTION:4004,FAILED_TO_INIT_MDX_INSTANCE:4005,SDK_CONNECTION_TIMEOUT:4006,MDX_CONNECTION_TIMEOUT:4007,CONNECTION_CANCELED:4008,DISCONNECT_TIMEOUT:4009,MDX_CONNECT_FAILED:4010,MDX_RECONNECT_FAILED:4011,MDX_DISCONNECT_FAILED:4012}};E.exports=N});C.r("mdx2/utils/mdxException.js",function(n,e,r){"use strict";function t(n){if(n){var e=n.stack,r=n.number,t=n.message;t||(t=""+n);var i=void 0;return e?(i=""+e,0!==i.indexOf(t)&&(i=t+"\n"+i)):i=t,r&&(i+="\nnumber:"+r),i}return""}e.exports={exceptionToString:t}});C.r("mdx2/utils/mdxLogblob.js",function(o,e,s){"use strict";function n(o,e,s){s.ctrlcat="Web",s.platformVersion=a.getModelData("browserInfo").version,s.platformname=a.getModelData("browserInfo").name,u&&(s.mdxver=u),i.queueLogblob(o,e,s).subscribe()}function r(){i.flushLogblobs().subscribe()}function t(o){u=o}var i=o("../../player/domains/videoPlayer/videoSession"),a=o("../../common/appContext"),u=void 0;e.exports={queue:n,flush:r,setMdxVersion:t}});C.r("node_modules/nf-cl-logger/index.js",function(e,o,r){"use strict";o.exports=e("./src/logger")});C.r("node_modules/nf-cl-logger/src/logger-core.js",function(t,e,i){"use strict";function n(){this._init.apply(this,arguments)}var s=t("nf-cl-schema-ui"),r=Math.pow(2,28)-1,a=Math.pow(2,25);n.prototype={constructor:n,batchInterval:3e4,batchSize:50,timeOffset:0,source:"",requestSender:null,getClientTime:null,addContext:function(t,e){var i=this._initContext([t],e);return this._state.pending[i.id]=i,i.id},removeContext:function(t){return this._state.pending[t]?(delete this._state.pending[t],t):this._state.current[t]?(this._state.currentDelta.push(this._state.current[t]),delete this._state.current[t],t):null},logEvent:function(t,e){var i=this._initEventContext([t,"DiscreteEvent"],e);return this._snapshot(i),i.id},startSession:function(t,e){var i=this._initEventContext([t,"Session"],e);return this._state.current[i.id]=i,this._snapshot(),i.id},endSession:function(t,e){var i=this._state.current[t];if(i){var n=e&&e.type?[e.type,"SessionEnded"]:["SessionEnded"],s=this._initEventContext(n,e);return s.duration=s.time-i.time,s.sessionId=t,delete this._state.current[t],this._snapshot(s,i),t}return null},flush:function(){var t=this._state;if(!t.ending&&t.snapshots&&t.snapshots.length){var e={currentState:t.current,reverseDeltas:t.snapshots,type:"CompactConsolidatedLoggingEnvelope",version:2,clientSendTime:this._timestamp()};t.snapshots=[],this.requestSender(JSON.stringify(e))}},serialize:function(){var t=this._batchTimeout;this._batchTimeout=null;var e=JSON.stringify(this);return this._batchTimeout=t,e},sever:function(t){this.end(t||"Severed"),this._init(this)},end:function(t){t&&this.addContext(t),this._state.ending=!0,this._stopBatching();for(var e=Object.keys(this._state.current).sort(function(t,e){return e-t}),i=e.pop(),n=0;n<e.length;n++){var s=this._state.current[e[n]],r=s.type;"Session"===r[r.length-1]&&this.endSession(s.id,{type:"SessionCanceled"})}this.endSession(i,{type:"SessionEnded"}),this._state.ending=!1,this.flush(),this._state=null},_init:function(t){this._initOptions(t),this._startBatching(),t.existingState||this._startLogSession(),this._logInitializedEvent()},_initOptions:function(t){t.existingState?this._restore(t.existingState):this._initState(),this._initProperties(t)},_initState:function(){var t={};t.sequenceNumber=0,t.lastIncrementingBits=0,t.pending={},t.current={},t.snapshots=[],t.currentDelta=[],this._state=t},_startLogSession:function(){this.startSession("Log",{source:this.source,schema:{name:s.name,version:s.version}})},_logInitializedEvent:function(){this.logEvent("LoggerInitialized",{version:"2.0.3"})},_restore:function(t){for(var e=JSON.parse(t),i=Object.keys(e),n=0;n<i.length;n++){var s=i[n];this[s]=e[s]}},_initProperties:function(t){for(var e in this)"function"!=typeof this[e]&&t&&"_"!==e.charAt(0)&&(void 0!==t[e]?this[e]=t[e]:this[e]=this[e])},_copyData:function(t){var e={};for(var i in t)e[i]=t[i];return e},_initContext:function(t,e){var i;return i=e?this._copyData(e):{},s&&s.types[t[0]]?i.type=s.types[t[0]]:i.type=t,i.id=this._getNextContextId(),i},_initEventContext:function(t,e){var i=this._initContext(t,e);return i.sequence=++this._state.sequenceNumber,void 0===i.time&&(i.time=this._timestamp()),i},_getClientTime:function(){return(new Date).getTime()},_timestamp:function(){return(this.getClientTime||this._getClientTime)()+this.timeOffset},_getNextContextId:function(){var t=Math.floor(this._timestamp()/1e3),e=r,i=a,n=t&e,s=Math.floor(Math.random()*i);return n<=this._state.lastIncrementingBits&&(n=this._state.lastIncrementingBits+1),this._state.lastIncrementingBits=n,n*i+s},_snapshot:function(t){for(var e=1,i=this._state.current,n=this._state.pending,s=Object.keys(n),r=0;r<s.length;r++){var a=s[r];i[a]=n[a],e++}this._state.pending={},this._state.currentDelta.push(e),this._state.currentDelta=[],this._state.snapshots.push(this._state.currentDelta),arguments.length&&this._state.currentDelta.push.apply(this._state.currentDelta,arguments),this._state.snapshots.length>=this.batchSize&&this.flush()},_startBatching:function(){var t=this;t._batchTimeout=setTimeout(function(){t.flush(),t._startBatching()},t.batchInterval)},_stopBatching:function(){clearTimeout(this._batchTimeout),this._batchTimeout=null}},e.exports=n});C.r("node_modules/nf-cl-logger/src/logger.js",function(e,o,n){"use strict";function r(e){var o=e||{};return o.version=o.version||"2.0",o.envelopeName=o.envelopeName||"CompactConsolidatedLoggingEnvelope",new g(o)}var g=e("./logger-core");o.exports=r});C.r("node_modules/nf-cl-schema-ui/dist/schema/nf-cl-schema-netflixApp.js",function(e,o,n){o.exports={version:"1.19.0",name:"netflixApp",types:{AcceptTermsOfUse:["AcceptTermsOfUse","Action","Session"],AdaptiveEcomFallbackExperience:["AdaptiveEcomFallbackExperience","FallbackExperience"],AddCachedVideo:["AddCachedVideo","Action","Session"],AddCachedVideoCommand:["AddCachedVideoCommand","Command","Session"],AddProfile:["AddProfile","Action","Session"],AddToPlaylist:["AddToPlaylist","Action","Session"],AddToPlaylistCommand:["AddToPlaylistCommand","Command","Session"],BackCommand:["BackCommand","Command","Session"],BoxartRenderCanceled:["BoxartRenderCanceled","BoxartRenderEnded","DiscreteEvent"],BoxartRenderFailed:["BoxartRenderFailed","BoxartRenderEnded","DiscreteEvent"],CachedPlay:["CachedPlay","Play","Action","Session"],CancelCommand:["CancelCommand","Command","Session"],CancelMembership:["CancelMembership","Action","Session"],ChangeValueCommand:["ChangeValueCommand","Command","Session"],CloseApp:["CloseApp","Action","Session"],CloseAppCommand:["CloseAppCommand","Command","Session"],CloseCommand:["CloseCommand","Command","Session"],ConnectWithLineAccount:["ConnectWithLineAccount","Action","Session"],CreateAccount:["CreateAccount","Action","Session"],DeepLinkInput:["DeepLinkInput","UserInput"],DeleteProfile:["DeleteProfile","Action","Session"],DirectedGestureInput:["DirectedGestureInput","GestureInput","UserInput"],Download:["Download","Action","Session"],EditPaymentCommand:["EditPaymentCommand","Command","Session"],EditPlanCommand:["EditPlanCommand","Command","Session"],EditProfile:["EditProfile","Action","Session"],EnterFullscreenCommand:["EnterFullscreenCommand","Command","Session"],EnterKidsModeCommand:["EnterKidsModeCommand","Command","Session"],ExitFullscreenCommand:["ExitFullscreenCommand","Command","Session"],ExitKidsModeCommand:["ExitKidsModeCommand","Command","Session"],FastForwardCommand:["FastForwardCommand","TrickplayCommand","Command","Session"],FillVideoCommand:["FillVideoCommand","Command","Session"],FitVideoCommand:["FitVideoCommand","Command","Session"],ForwardCommand:["ForwardCommand","Command","Session"],GestureInput:["GestureInput","UserInput"],HomeCommand:["HomeCommand","Command","Session"],KeyboardInput:["KeyboardInput","UserInput"],LolomoDataModel:["LolomoDataModel","DataModel"],MobileConnection:["MobileConnection","NetworkConnection"],MuteCommand:["MuteCommand","Command","Session"],Navigate:["Navigate","Action","Session"],NavigateBackward:["NavigateBackward","Navigate","Action","Session"],NavigateForward:["NavigateForward","Navigate","Action","Session"],NetflixId:["NetflixId","ProfileIdentity","Session"],NotifyUms:["NotifyUms","Action","Session"],PauseCommand:["PauseCommand","TrickplayCommand","Command","Session"],PauseDownloadCommand:["PauseDownloadCommand","Command","Session"],Play:["Play","Action","Session"],PlayCommand:["PlayCommand","Command","Session"],PlayNextCommand:["PlayNextCommand","Command","Session"],PointerInput:["PointerInput","UserInput"],PrepareOnramp:["PrepareOnramp","Action","Session"],PreparePlay:["PreparePlay","Action","Session"],ProcessStateTransition:["ProcessStateTransition","Action","Session"],ProfileGuid:["ProfileGuid","ProfileIdentity","Session"],PushNotificationAcknowledged:["PushNotificationAcknowledged","PushNotificationResolved","DiscreteEvent"],PushNotificationDismissed:["PushNotificationDismissed","PushNotificationAcknowledged","PushNotificationResolved","DiscreteEvent"],PushNotificationIgnored:["PushNotificationIgnored","PushNotificationResolved","DiscreteEvent"],RedeemGiftCard:["RedeemGiftCard","Action","Session"],RedeemGiftCardCommand:["RedeemGiftCardCommand","Command","Session"],RegisterForPushNotifications:["RegisterForPushNotifications","Action","Session"],RemoveAllCachedVideosCommand:["RemoveAllCachedVideosCommand","Command","Session"],RemoveCachedVideo:["RemoveCachedVideo","Action","Session"],RemoveCachedVideoAndPlayNextCommand:["RemoveCachedVideoAndPlayNextCommand","Command","Session"],RemoveCachedVideoCommand:["RemoveCachedVideoCommand","Command","Session"],RemoveDownloadDevice:["RemoveDownloadDevice","Action","Session"],RemoveFromPlaylist:["RemoveFromPlaylist","Action","Session"],RemoveFromPlaylistCommand:["RemoveFromPlaylistCommand","Command","Session"],RemoveFromViewingActivity:["RemoveFromViewingActivity","Action","Session"],RenderNavigationLevel:["RenderNavigationLevel","Action","Session"],RequestSharedCredentials:["RequestSharedCredentials","Action","Session"],ResumeDownloadCommand:["ResumeDownloadCommand","Command","Session"],RetryDownloadCommand:["RetryDownloadCommand","Command","Session"],RewindCommand:["RewindCommand","TrickplayCommand","Command","Session"],Search:["Search","Action","Session"],SearchCommand:["SearchCommand","Command","Session"],SearchSuggestionResults:["SearchSuggestionResults","DataModel"],SearchSuggestionTitleResults:["SearchSuggestionTitleResults","DataModel"],SearchTitleResults:["SearchTitleResults","DataModel"],SeekCommand:["SeekCommand","TrickplayCommand","Command","Session"],SelectCommand:["SelectCommand","Command","Session"],SelectPlan:["SelectPlan","Action","Session"],SelectProfile:["SelectProfile","Action","Session"],SetStarRating:["SetStarRating","Action","Session"],SetThumbRating:["SetThumbRating","Action","Session"],SeveredForVppa:["SeveredForVppa","Severed"],SeveredForWebpageUnload:["SeveredForWebpageUnload","Severed"],Share:["Share","Action","Session"],ShareCommand:["ShareCommand","Command","Session"],SignIn:["SignIn","Action","Session"],SignInCommand:["SignInCommand","Command","Session"],SignOut:["SignOut","Action","Session"],SignOutCommand:["SignOutCommand","Command","Session"],SignUpCommand:["SignUpCommand","Command","Session"],SkipAheadCommand:["SkipAheadCommand","TrickplayCommand","Command","Session"],SkipBackCommand:["SkipBackCommand","TrickplayCommand","Command","Session"],SkipCommand:["SkipCommand","Command","Session"],StartAppExperience:["StartAppExperience","Action","Session"],StartMembership:["StartMembership","Action","Session"],StartMembershipCommand:["StartMembershipCommand","Command","Session"],StartPlay:["StartPlay","Action","Session"],StoreSharedCredentials:["StoreSharedCredentials","Action","Session"],SubmitCommand:["SubmitCommand","Command","Session"],SubmitOnrampResults:["SubmitOnrampResults","Action","Session"],ThrottleSearch:["ThrottleSearch","Action","Session"],UnmuteCommand:["UnmuteCommand","Command","Session"],UnpauseCommand:["UnpauseCommand","TrickplayCommand","Command","Session"],UpdatePaymentInfo:["UpdatePaymentInfo","Action","Session"],ValidateInput:["ValidateInput","Action","Session"],ValidateMemberId:["ValidateMemberId","Action","Session"],ValidatePin:["ValidatePin","Action","Session"],ViewAccountMenuCommand:["ViewAccountMenuCommand","Command","Session"],ViewAudioSubtitlesSelectorCommand:["ViewAudioSubtitlesSelectorCommand","Command","Session"],ViewCachedVideosCommand:["ViewCachedVideosCommand","Command","Session"],ViewCategoriesCommand:["ViewCategoriesCommand","Command","Session"],ViewDetailsCommand:["ViewDetailsCommand","Command","Session"],ViewEpisodesSelectorCommand:["ViewEpisodesSelectorCommand","Command","Session"],ViewPreviewsCommand:["ViewPreviewsCommand","Command","Session"],ViewProfilesCommand:["ViewProfilesCommand","Command","Session"],ViewSettingsCommand:["ViewSettingsCommand","Command","Session"],ViewTitlesCommand:["ViewTitlesCommand","Command","Session"],VisitorDeviceId:["VisitorDeviceId","AccountIdentity","Session"],VoiceInput:["VoiceInput","UserInput"],WatchCreditsCommand:["WatchCreditsCommand","Command","Session"],WifiConnection:["WifiConnection","NetworkConnection"],WiredConnection:["WiredConnection","NetworkConnection"],"android.SystemBackCommand":["android.SystemBackCommand","Command","Session"],"cs.Call":["cs.Call","Action","Session"],"cs.CallCommand":["cs.CallCommand","Command","Session"],"cs.EndCallCommand":["cs.EndCallCommand","Command","Session"],"edx.AlertsOperation":["edx.AlertsOperation","edx.ApiOperation","Action","Session"],"edx.ApiOperation":["edx.ApiOperation","Action","Session"],"edx.AtlasOperation":["edx.AtlasOperation","edx.ApiOperation","Action","Session"],"edx.ChronosOperation":["edx.ChronosOperation","edx.ApiOperation","Action","Session"],"edx.CommandLineInterface":["edx.CommandLineInterface","Action","Session"],"edx.DashboardsOperation":["edx.DashboardsOperation","edx.ApiOperation","Action","Session"],"edx.ElasticSearchOperation":["edx.ElasticSearchOperation","edx.ApiOperation","Action","Session"],"edx.GitOperation":["edx.GitOperation","edx.ApiOperation","Action","Session"],"edx.HttpRequest":["edx.HttpRequest","Action","Session"],"edx.KeymasterOperation":["edx.KeymasterOperation","edx.ApiOperation","Action","Session"],"edx.MantisOperation":["edx.MantisOperation","edx.ApiOperation","Action","Session"],"edx.NodeQuarkIndexOperation":["edx.NodeQuarkIndexOperation","edx.ApiOperation","Action","Session"],"edx.PagerDutyOperation":["edx.PagerDutyOperation","edx.ApiOperation","Action","Session"],"edx.PrimerIndexOperation":["edx.PrimerIndexOperation","edx.ApiOperation","Action","Session"],"edx.PrimerOperation":["edx.PrimerOperation","edx.ApiOperation","Action","Session"],"edx.RavenOperation":["edx.RavenOperation","edx.ApiOperation","Action","Session"],"edx.SkipperOperation":["edx.SkipperOperation","edx.ApiOperation","Action","Session"],"edx.SpinnakerOperation":["edx.SpinnakerOperation","edx.ApiOperation","Action","Session"],"edx.TitusOperation":["edx.TitusOperation","edx.ApiOperation","Action","Session"],"iko.EndCommand":["iko.EndCommand","Command","Session"],"iko.EnterBattleCommand":["iko.EnterBattleCommand","Command","Session"],"iko.Presentation":["iko.Presentation","Presentation","Session"],"ios.DeepLinkInput":["ios.DeepLinkInput","UserInput"],"ios.LoadConfigurationService":["ios.LoadConfigurationService","Action","Session"],"ios.LoadDownloadService":["ios.LoadDownloadService","Action","Session"],"ios.LoadIdentityService":["ios.LoadIdentityService","Action","Session"],"ios.LoadNrdService":["ios.LoadNrdService","Action","Session"],"ios.RegisterForPushNotifications":["ios.RegisterForPushNotifications","Action","Session"],"tvui.JankMeasurementReported":["tvui.JankMeasurementReported","MeasurementReported","DiscreteEvent"],"tvui.MetadataDownloadPlayDelay":["tvui.MetadataDownloadPlayDelay","tvui.PlayDelay","Session"],"tvui.PlatformPlayDelay":["tvui.PlatformPlayDelay","tvui.PlayDelay","Session"],"tvui.RequestImeCandidateList":["tvui.RequestImeCandidateList","Action","Session"],"tvui.UiPlayDelay":["tvui.UiPlayDelay","tvui.PlayDelay","Session"],"tvui.VideoPresentationPlayDelay":["tvui.VideoPresentationPlayDelay","tvui.PlayDelay","Session"],"www.ExtendedAreaFocus":["www.ExtendedAreaFocus","Focus","Session"]}}});C.r("node_modules/ramda/src/clone.js",function(n,e,o){var r=n("./internal/_clone"),c=n("./internal/_curry1");e.exports=c(function(n){return null!=n&&"function"==typeof n.clone?n.clone():r(n,[],[],!0)})});C.r("node_modules/ramda/src/defaultTo.js",function(r,n,u){var e=r("./internal/_curry2");n.exports=e(function(r,n){return null==n||n!==n?r:n})});C.r("node_modules/ramda/src/empty.js",function(n,t,r){var o=n("./internal/_curry1"),e=n("./internal/_isArguments"),u=n("./internal/_isArray"),c=n("./internal/_isObject"),l=n("./internal/_isString");t.exports=o(function(n){return null!=n&&"function"==typeof n["fantasy-land/empty"]?n["fantasy-land/empty"]():null!=n&&null!=n.constructor&&"function"==typeof n.constructor["fantasy-land/empty"]?n.constructor["fantasy-land/empty"]():null!=n&&"function"==typeof n.empty?n.empty():null!=n&&null!=n.constructor&&"function"==typeof n.constructor.empty?n.constructor.empty():u(n)?[]:l(n)?"":c(n)?{}:e(n)?function(){return arguments}():void 0})});C.r("node_modules/ramda/src/internal/_clone.js",function(e,r,n){var t=e("./_cloneRegExp"),a=e("../type");r.exports=function e(r,n,u,c){var o=function(t){for(var a=n.length,o=0;o<a;){if(r===n[o])return u[o];o+=1}n[o+1]=r,u[o+1]=t;for(var s in r)t[s]=c?e(r[s],n,u,!0):r[s];return t};switch(a(r)){case"Object":return o({});case"Array":return o([]);case"Date":return new Date(r.valueOf());case"RegExp":return t(r);default:return r}}});C.r("node_modules/ramda/src/internal/_cloneRegExp.js",function(e,n,o){n.exports=function(e){return new RegExp(e.source,(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.sticky?"y":"")+(e.unicode?"u":""))}});C.r("node_modules/ramda/src/internal/_curry3.js",function(n,r,t){var u=n("./_curry1"),e=n("./_curry2"),c=n("./_isPlaceholder");r.exports=function(n){return function r(t,o,i){switch(arguments.length){case 0:return r;case 1:return c(t)?r:e(function(r,u){return n(t,r,u)});case 2:return c(t)&&c(o)?r:c(t)?e(function(r,t){return n(r,o,t)}):c(o)?e(function(r,u){return n(t,r,u)}):u(function(r){return n(t,o,r)});default:return c(t)&&c(o)&&c(i)?r:c(t)&&c(o)?e(function(r,t){return n(r,t,i)}):c(t)&&c(i)?e(function(r,t){return n(r,o,t)}):c(o)&&c(i)?e(function(r,u){return n(t,r,u)}):c(t)?u(function(r){return n(r,o,i)}):c(o)?u(function(r){return n(t,r,i)}):c(i)?u(function(r){return n(t,o,r)}):n(t,o,i)}}}});C.r("node_modules/ramda/src/internal/_isArray.js",function(r,t,n){t.exports=Array.isArray||function(r){return null!=r&&r.length>=0&&"[object Array]"===Object.prototype.toString.call(r)}});C.r("node_modules/ramda/src/internal/_isObject.js",function(t,e,n){e.exports=function(t){return"[object Object]"===Object.prototype.toString.call(t)}});C.r("node_modules/ramda/src/internal/_isString.js",function(t,n,r){n.exports=function(t){return"[object String]"===Object.prototype.toString.call(t)}});C.r("node_modules/ramda/src/isEmpty.js",function(r,n,e){var t=r("./internal/_curry1"),u=r("./empty"),s=r("./equals");n.exports=t(function(r){return null!=r&&s(r,u(r))})});C.r("node_modules/ramda/src/mergeDeepRight.js",function(e,r,n){var t=e("./internal/_curry2"),u=e("./mergeDeepWithKey");r.exports=t(function(e,r){return u(function(e,r,n){return n},e,r)})});C.r("node_modules/ramda/src/mergeDeepWithKey.js",function(e,r,n){var t=e("./internal/_curry3"),i=e("./internal/_isObject"),u=e("./mergeWithKey");r.exports=t(function e(r,n,t){return u(function(n,t,u){return i(t)&&i(u)?e(r,t,u):r(n,t,u)},n,t)})});C.r("node_modules/ramda/src/mergeWithKey.js",function(r,n,e){var a=r("./internal/_curry3"),i=r("./internal/_has");n.exports=a(function(r,n,e){var a,o={};for(a in n)i(a,n)&&(o[a]=i(a,e)?r(a,n[a],e[a]):n[a]);for(a in e)i(a,e)&&!i(a,o)&&(o[a]=e[a]);return o})});C.r("node_modules/ramda/src/path.js",function(r,n,t){var e=r("./internal/_curry2");n.exports=e(function(r,n){for(var t=n,e=0;e<r.length;){if(null==t)return;t=t[r[e]],e+=1}return t})});C.r("node_modules/ramda/src/pathOr.js",function(r,n,t){var a=r("./internal/_curry3"),e=r("./defaultTo"),o=r("./path");n.exports=a(function(r,n,t){return e(r,o(n,t))})});C.r("node_modules/shakti-platform/dist/ui/consolidatedLogging/cl-inert-logger.js",function(t,n,e){"use strict";var o=function(){},r=function(){return-1},s=function(t){return t},i={addContext:r,removeContext:s,logEvent:r,startSession:r,endSession:s,flush:o,sever:o,inert:!0};n.exports=i});C.r("node_modules/shakti-platform/dist/ui/consolidatedLogging/cl-networking.js",function(t,e,n){"use strict";function r(t,e,n,r,i){var s=a.getAllMatchingKeys(u),f=null;if(s&&s.length<l){var d=Math.floor(46656*Math.random()).toString(36);f=c+"-"+(new Date).getTime()+"-"+d,a.setItem(f,e)}o(t,e,n,r,function(t,e){t||f&&a.removeItem(f),i(t,e)})}function o(t,e,n,o,i){s(t,e,function(s,a){s?n>0?window.setTimeout(function(){r(t,e,--n,2*o,i)},o):i(s):i(null,a)})}function i(){var t=!1;if(window.XMLHttpRequest)t=new XMLHttpRequest;else if(window.ActiveXObject)try{t=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{t=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){t=!1}}return t.withCredentials=!0,t}function s(t,e,n){if(!e||"string"!=typeof e)return n(new Error("Data must be a string"));var r=i();if(!r)return n(new Error("No HttpObject found."));try{r.onreadystatechange=function(){4===r.readyState&&(200===r.status||202===r.status||304===r.status?n(null,r.responseText):n(r,null))},r.open("POST",t),r.setRequestHeader("Content-Type","application/json"),r.send(e)}catch(t){return n(new Error("Send failed."))}}var a=t("../localStorage"),c="nf-cl-ls",u=new RegExp(c),l=10;e.exports={retryingPost:r,lsNetworkPrefix:c,maxStoredRequests:l}});C.r("node_modules/shakti-platform/dist/ui/consolidatedLogging/index.js",function(e,n,t){"use strict";function o(e,n,t,o){var r=f.getAllMatchingKeys(new RegExp(v.lsNetworkPrefix));if(r&&r.length>0){var i=o;r.sort().reverse();for(var s=0;s<r.length;s++)!function(o){var s=i;i=function(){var i=f.getItem(r[o]);f.removeItem(r[o]),v.retryingPost(e,i,n,t,function(e,n){s&&s(e,n)})}}(s);setTimeout(i,b)}}function r(e){return{addContext:s(e,e.addContext),removeContext:s(e,e.removeContext),logEvent:s(e,e.logEvent),startSession:s(e,e.startSession),endSession:s(e,e.endSession),flush:s(e,e.flush),sever:s(e,e.sever),end:s(e,e.end)}}function i(n){if(n){for(var t=["enabled","sendRetries","sendBackoffMs","batchIntervalMs","batchSize","endpointUrl"],o=[],r=0;r<t.length;r++)n.hasOwnProperty(t[r])||o.push(t[r]);if(o.length>0)return;w=n}else{var i=e("../ShaktiProperties");i&&i.get?w={enabled:i.get("shakti.consolidated.logging.enabled"),sendRetries:i.get("shakti.consolidatedLogging.sendRetries"),sendBackoffMs:i.get("shakti.consolidatedLogging.sendBackoffMs"),batchIntervalMs:i.get("shakti.consolidatedLogging.batchIntervalMs"),batchSize:i.get("shakti.consolidatedLogging.batchSize"),endpointUrl:i.get("shakti.consolidatedLogging.endpointUrl")}:console.warn("Attempt to init Consolidated Logging failed due to lack of environment variables.")}}function s(e,n){return function(){if(p&&!u&&k.closed)console.warn("Logging called, but cl has been closed. This log will not be sent.",n.name,arguments[0]);else{if(p&&!u&&k.inert)throw new Error("Logging called, but cl not initialized yet.");if(p)return n.apply(e,arguments);try{return n.apply(e,arguments)}catch(e){return null}}}}function a(e){for(var n=e,t=1;t<arguments.length;t++){var o=arguments[t];if("object"===(void 0===o?"undefined":(0,c.default)(o)))for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(n[r]=o[r])}return n}function l(e){var n=function(e,n){e&&console.error("There was an error sending the data to CL",e)};v.retryingPost(w.endpointUrl,e,w.sendRetries,w.sendBackoffMs,n)}var d=e("babel-runtime/helpers/typeof"),c=function(e){return e&&e.__esModule?e:{default:e}}(d),g=e("nf-cl-logger"),f=e("../localStorage"),u=e("../utils/inNode"),h=e("./cl-inert-logger"),v=e("./cl-networking"),b=5e3,p=!1,w={enabled:!1},k=a({},h,r(h));n.exports={init:function(e,n){if(!u&&(i(n),o(w.endpointUrl,w.sendRetries,w.sendBackoffMs,function(){}),w.enabled&&k.inert)){var t={source:"www",batchInterval:w.batchIntervalMs,batchSize:w.batchSize,requestSender:l,timeOffset:0},s=r(g(a({},t,e)));for(var d in s)s.hasOwnProperty(d)&&(k[d]=s[d]);delete k.inert,window.addEventListener("beforeunload",function(e){k.end(),k.closed=!0},!1)}},getInstance:function(){return k}}});C.r("node_modules/shakti-platform/dist/ui/localStorage/index.js",function(t,e,r){"use strict";var n=t("../utils/inNode"),o=function(){if(n)return!1;try{var t="__nf_storage_test__";return window.localStorage.setItem(t,t),window.localStorage.removeItem(t),!0}catch(t){return!1}}(),l={setItem:function(t,e){if(o)try{window.localStorage.setItem(t,e)}catch(t){}},removeItem:function(t){if(o)try{window.localStorage.removeItem(t)}catch(t){}},getItem:function(t){if(!o)return null;try{return window.localStorage.getItem(t)}catch(t){return null}},key:function(t){if(!o)return null;try{return window.localStorage.key(t)}catch(t){return null}},exists:function(t){return o&&null!==this.getItem(t)},getAllMatchingKeys:function(t){var e=[];try{if(o){var r=window.localStorage;if(r.length&&r.length>0)for(var n=0;n<r.length;n++){var l=r.key(n);t.test(l)&&e.push(l)}}}catch(t){}return e},isStorageAvailable:function(){return o}};e.exports=l});C.r("node_modules/tiny-uuid/index.js",function(n,o,t){o.exports=function(n,o){for(o=n="";n++<36;o+=51*n&52?(15^n?8^Math.random()*(20^n?16:4):4).toString(16):"-");return o}});C.r("player/domains/videoPlayer/cadmiumPlayerState.js",function(e,t,r){"use strict";var a=e("./cadmiumUtils"),d=a.convertNullToFalse,o=a.convertNullToNum,s=a.convertNullToUndef,i=e("./playbackState"),l=i.playbackState,u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l(),r=e.getBusy();return l(Object.assign({},t,{audioTrackList:e.getAudioTrackList(),bufferedTime:o(e.getBufferedTime()),busyProgress:r&&void 0!==r.progress&&null!==r.progress?r.progress:-1,busyProgressRollback:!!r&&r.progressRollback,currentAudioTrack:s(e.getAudioTrack()),currentSegmentId:void 0,currentTime:o(e.getSegmentTime()),currentTimedTextTrack:e.getTimedTextTrack(),duration:e.getDuration(),ended:!!e.getEnded(),muted:d(e.getMuted()),networkStalled:!!r&&r.networkStalled,paused:e.getPaused(),stalled:!!r&&r.stalled,timedTextTrackList:e.getTimedTextTrackList(),volume:o(e.getVolume()),xid:e.getXid(),ready:e.getReady()}))};t.exports={transformPlayerToPlaybackState:u}});C.r("player/domains/videoPlayer/cadmiumUtils.js",function(n,l,o){"use strict";var r=function(n){return function(l){return null===l?n:l}},e=r(!1),t=r(-1),u=r(void 0);l.exports={convertNull:r,convertNullToFalse:e,convertNullToNum:t,convertNullToUndef:u}});C.r("player/domains/videoPlayer/playbackState.js",function(e,d,a){"use strict";var i=e("../../nfplayer/uiLabel"),o=e("./videoPlayerConstants"),t={LOAD_ERROR:"LOAD_ERROR",LOADED:"LOADED",LOADING:"LOADING",NOT_LOADED:"NOT_LOADED"},r={CLOSE_ERROR:"CLOSE_ERROR",CLOSED:"CLOSED",CLOSING:"CLOSING",NOT_CLOSED:"NOT_CLOSED"},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=e.audioTrackList,a=void 0===d?[]:d,t=e.autoplay,r=void 0!==t&&t,s=e.autoplayBlocked,l=void 0!==s&&s,n=e.bufferedTime,u=void 0===n?-1:n,v=e.busyProgress,c=void 0===v?-1:v,T=e.busyProgressRollback,O=void 0!==T&&T,y=e.closedState,m=void 0===y?"NOT_CLOSED":y,L=e.currentAudioTrack,S=e.currentSegmentId,k=e.currentTime,D=void 0===k?-1:k,p=e.currentTimedTextTrack,b=e.duration,g=void 0===b?-1:b,E=e.ended,I=void 0!==E&&E,R=e.engaged,A=void 0!==R&&R,C=e.loadedState,N=void 0===C?"NOT_LOADED":C,_=e.muted,x=void 0!==_&&_,P=e.networkStalled,f=void 0!==P&&P,w=e.paused,B=void 0!==w&&w,G=e.playbackInitiator,V=void 0===G?o.playbackInitiator.USER:G,h=e.playbackParams,M=e.playing,j=void 0!==M&&M,U=e.ready,q=void 0!==U&&U,z=e.seamlessVideosByVideoId,F=void 0===z?{}:z,H=e.segmentMap,J=e.sessionId,K=e.showTimedText,Q=void 0!==K&&K,W=e.stalled,X=void 0!==W&&W,Y=e.timedTextTrackList,Z=void 0===Y?[]:Y,$=e.trackId,ee=void 0===$?-1:$,de=e.transitioningSeamlessly,ae=void 0!==de&&de,ie=e.uiLabel,oe=void 0===ie?i.STANDARD:ie,te=e.videoId,re=e.volume,se=void 0===re?-1:re,le=e.xid;return{audioTrackList:a,autoplay:r,autoplayBlocked:l,bufferedTime:u,busyProgress:c,busyProgressRollback:O,closedState:m,currentAudioTrack:L,currentSegmentId:S,currentTime:D,currentTimedTextTrack:p,duration:g,ended:I,engaged:A,loadedState:N,muted:x,networkStalled:f,paused:B,playbackInitiator:V,playbackParams:h,playing:j,ready:q,seamlessVideosByVideoId:F,segmentMap:H,sessionId:J,showTimedText:Q,stalled:X,timedTextTrackList:Z,trackId:ee,transitioningSeamlessly:ae,uiLabel:oe,videoId:te,volume:se,xid:void 0===le?-1:le}};d.exports={closedState:r,loadedState:t,playbackState:s}});C.r("player/domains/videoPlayer/videoPlayerConstants.js",function(E,_,R){"use strict";var A=E("tiny-uuid"),L={ADD_NEXT_SEAMLESS_VIDEO:"ADD_NEXT_SEAMLESS_VIDEO",ADD_PREPARE_VIDEOS:"ADD_PREPARE_VIDEOS",APPLY_SESSION_CONFIG:"APPLY_SESSION_CONFIG",CREATE_CADMIUM_PLAYER:"CREATE_CADMIUM_PLAYER",CREATE_CADMIUM_PLAYER_WITH_BOOKMARK_OVERRIDE:"CREATE_CADMIUM_PLAYER_WITH_BOOKMARK_OVERRIDE",CREATE_PLAYER:"CREATE_PLAYER",DISABLE_PREPARE:"DISABLE_PREPARE",DISABLE_SEAMLESS:"DISABLE_SEAMLESS",ENABLE_PREPARE:"ENABLE_PREPARE",ENABLE_SEAMLESS:"ENABLE_SEAMLESS",LOAD_VIDEO_SESSION:"LOAD_VIDEO_SESSION",LOG_PLAY_NEXT_SEAMLESS_VIDEO_END:"LOG_PLAY_NEXT_SEAMLESS_VIDEO_END",LOG_PLAY_NEXT_SEAMLESS_VIDEO_START:"LOG_PLAY_NEXT_SEAMLESS_VIDEO_START",PAUSE_PREPARE:"PAUSE_PREPARE",PLAY_BRANCH_FAILED:"PLAY_BRANCH_FAILED",PLAY_BRANCH_SUCCESS:"PLAY_BRANCH_SUCCESS",PLAY_BRANCH:"PLAY_BRANCH",PLAY_NEXT_SEAMLESS_VIDEO:"PLAY_NEXT_SEAMLESS_VIDEO",PLAYER_CLOSE:"PLAYER_CLOSE",PLAYER_CLOSE_ALL:"PLAYER_CLOSE_ALL",PLAYER_CLOSED:"PLAYER_CLOSED",PLAYER_ENGAGE:"PLAYER_ENGAGE",PLAYER_HIDE_TIMED_TEXT:"PLAYER_HIDE_TIMED_TEXT",PLAYER_LOAD:"PLAYER_LOAD",PLAYER_MUTE_ALL:"PLAYER_MUTE_ALL",PLAYER_MUTE:"PLAYER_MUTE",PLAYER_PAUSE_ALL:"PLAYER_PAUSE_ALL",PLAYER_PAUSE:"PLAYER_PAUSE",PLAYER_PLAY:"PLAYER_PLAY",PLAYER_SEEK:"PLAYER_SEEK",PLAYER_SHOW_TIMED_TEXT:"PLAYER_SHOW_TIMED_TEXT",PLAYER_UNMUTE_ALL:"PLAYER_UNMUTE_ALL",PLAYER_UNMUTE:"PLAYER_UNMUTE",PLAYER_VOLUME_ALL:"PLAYER_VOLUME_ALL",PLAYER_VOLUME:"PLAYER_VOLUME",PREPARE_SEAMLESS_TRANSITION:"PREPARE_SEAMLESS_TRANSITION",PREPARE_VIDEOS:"PREPARE_VIDEOS",QUERY_DEVICE_THROUGHPUT_NIQR:"QUERY_DEVICE_THROUGHPUT_NIQR",QUERY_DEVICE_THROUGHPUT:"QUERY_DEVICE_THROUGHPUT",QUERY_HDR:"QUERY_HDR",QUERY_SESSION_UI_INTENT:"QUERY_SESSION_UI_INTENT",QUERY_ULTRA_HD:"QUERY_ULTRA_HD",QUEUE_BRANCH_FAILED:"QUEUE_BRANCH_FAILED",QUEUE_BRANCH_SUCCESS:"QUEUE_BRANCH_SUCCESS",QUEUE_BRANCH:"QUEUE_BRANCH",RECEIVE_CADMIUM_PLAYER:"RECEIVE_CADMIUM_PLAYER",RECEIVE_FATAL_ERROR:"RECEIVE_FATAL_ERROR",RECEIVE_HTML5_VIDEO_PLAYER:"RECEIVE_HTML5_VIDEO_PLAYER",RECEIVE_PLAYER_CLOSING:"RECEIVE_PLAYER_CLOSING",RECEIVE_PLAYER_ERROR:"RECEIVE_PLAYER_ERROR",RECEIVE_PLAYBACK_STATE_DIFF:"RECEIVE_PLAYBACK_STATE_DIFF",RECEIVE_SEGMENT_MAP:"RECEIVE_SEGMENT_MAP",RECEIVE_TIMEOUT_ERROR:"RECEIVE_TIMEOUT_ERROR",RECEIVE_UI_LABEL:"RECEIVE_UI_LABEL",RECEIVE_UPSELL_ERROR:"RECEIVE_UPSELL_ERROR",RECEIVE_VIDEO_METADATA:"RECEIVE_VIDEO_METADATA",RECEIVE_VIDEO_SESSION_ERROR:"RECEIVE_VIDEO_SESSION_ERROR",RECEIVE_VIDEO_SESSION_INIT:"RECEIVE_VIDEO_INIT",RECEIVE_VIDEO_SESSION:"RECEIVE_VIDEO_SESSION",REMOVE_PREPARE_VIDEOS:"REMOVE_PREPARE_VIDEOS",REMOVE_SEAMLESS_STATE:"REMOVE_SEAMLESS_STATE",RESUME_PREPARE:"RESUME_PREPARE",SEAMLESS_VIDEO_INCOMPLETE:"SEAMLESS_VIDEO_INCOMPLETE",SEAMLESS_VIDEO_PREPARED:"SEAMLESS_VIDEO_PREPARED",UPDATE_PPM:"UPDATE_PPM"},S={LARGE:"LARGE",MEDIUM:"MEDIUM",SMALL:"SMALL"},I={UI_COUNTDOWN:"UI_COUNTDOWN",USER:"USER",VIDEO_MERCH:"VIDEO_MERCH"},P={BigRow:"big-row-"+A(),MotionBillboard:"motion-billboard-"+A(),Watch:"watch-"+A(),Embedded:"embedded-"+A(),VideoMerch:"video-merch-"+A(),VideoMerchBob:"video-merch-bob-"+A(),VideoMerchJaw:"video-merch-jaw-"+A()};_.exports={actionTypes:L,playbackInitiator:I,playerIdentifier:P,timedTextSize:S}});C.r("player/domains/videoPlayer/videoSession.js",function(e,o,a){"use strict";function n(e){return!e.isEnabled&&e.isAdultVerified}function t(e){return i().do(function(){h&&h.ppmUpdate&&h.ppmUpdate(e)})}function r(e,o){return i().do(function(){if(h){if("function"!=typeof h.prepare)return;h.prepare(e,o)}})}function i(e,o){if(o){var a=o.getState().videoPlayer.videoSession;a&&(h=a)}return h?(e&&h.applyConfig(e),f.of(h)):I?I.do(function(){e&&h&&h.applyConfig(e)}):I=v.getCorePlayerJS().take(1).flatMap(function(a){return Boolean(window.netflix&&window.netflix.player)?(e=e||p.getCachedInitParams(),s(new window.netflix.player.VideoSession(e)).do(function(a){h=a,o&&h&&o.getActionCreators().receiveVideoSession({initParams:e,videoSession:h})})):f.throw(new g.AssetError)}).publishReplay().refCount().observeOn(y)}function l(e,o,a,t){return i(e.initParams,a).flatMap(function(r){return f.create(function(i){function l(){try{var l=function e(o){i.error(o),c.removeEventListener("loaded",s),c.removeEventListener("error",e)},s=function e(o){c.loaded=!0,c.loading=!1,c.removeEventListener("loaded",e),c.removeEventListener("error",l),i.complete()},d=function(e){a&&a.getActionCreators().playbackBlocked({playProxy:e.player,sessionId:o})};if(void 0===e.creationParams.uiPlayStartTime&&(e.creationParams.uiLabel.indexOf("billboard")>=0&&P.nfplayerBillboardStart(),e.creationParams.uiPlayStartTime=Date.now()),t&&!t())return i.error(new Error("Create Player Predicate returned false")),i.complete(),m.noop;var c=r.createPlayer(e.videoId,e.creationParams);c.addEventListener("autoplaywasblocked",d);var p=a?a.getActionCreators():void 0;e.initParams.isTestAccount&&(window.netflix.cadmium||(window.netflix.cadmium={}),window.netflix.cadmium.diagnostics=c.diagnostics),e.autoPlay||c.pause(),e.playerState&&("number"==typeof e.playerState.volume&&c.setVolume(e.playerState.volume),"boolean"==typeof e.playerState.muted&&c.setMuted(e.playerState.muted));var y=c.close,v=c.load,b=c.engage;c.hasLoggedClose=!1,c.loaded=!1,c.loading=!1,c.addEventListener("error",l),c.addEventListener("loaded",s),c.observables={loaded:f.fromEvent(c,"loaded").publishReplay(1),loadedTracks:f.fromEvent(c,"loadedtracks").publishReplay(1),loadedMetadata:f.fromEvent(c,"loadedmetadata").publishReplay(1)};var g=c.observables.loaded.connect(),h=c.observables.loadedTracks.connect(),I=c.observables.loadedMetadata.connect();c.close=function(e){c.removeEventListener("autoplaywasblocked",d),p&&p.receivePlayerClosing&&!c.hasLoggedClose&&p.receivePlayerClosing({sessionId:o}),c.hasLoggedClose||(c.hasLoggedClose=!0),g&&g.unsubscribe(),h&&h.unsubscribe(),I&&I.unsubscribe();var a=function(){p&&p.playerClosed({sessionId:o}),e&&e.apply(void 0,arguments)};y.apply(c,[a])},c.getLoaded=function(){return c.loaded},c.isLoading=function(){return c.loading},c.load=function(){c.loading=!0,v.apply(c,arguments)},c.engage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"User_Interaction",o=arguments[1],n=a?a.getAPI():void 0;!!n&&n.playerApp.callVideoPlayerEngageMethod()&&!c._hasBeenEngaged&&b.apply(c,[e,function(e){e.success&&(c._hasBeenEngaged=!0),o&&o(e)}])},!e.showTimedText&&c.hideTimedText&&c.hideTimedText(),p&&p.receiveCadmiumPlayer&&p.receiveCadmiumPlayer({initialPlaybackState:(0,u.transformPlayerToPlaybackState)(c,{autoplay:e.autoPlay,sessionId:o,showTimedText:e.showTimedText,trackId:e.creationParams.trackingId,uiLabel:e.creationParams.uiLabel,videoId:e.videoId}),sessionId:o,videoPlayer:c}),p&&p.receiveVideoId&&p.receiveVideoId({sessionId:o,videoId:e.videoId}),(e.creationParams.loadImmediately||n(e.initParams.pinConfig))&&c.load(),i.next(c)}catch(e){i.error(e)}return m.noop}return e.shouldCloseAllPlayers&&a?b.closeAllPlayers(l,o,a):l()})})}function s(e){return e?f.create(function(o){function a(e){o.next(e),o.complete()}function n(e){var a=e||new Error("VideoSession initialization failed.");o.error(a)}try{e.init(function(o){o.success?a(e):n(o&&o.error)})}catch(e){n(e)}return function(){}}):f.throw("VideoSession instance does not exist.")}function d(e,o,a){return i().do(function(){h&&h.nccp&&h.nccp.queueLogblob&&h.nccp.queueLogblob(e,o,a)})}function c(){return i().do(function(){h&&h.nccp&&h.nccp.flushLogblobs&&h.nccp.flushLogblobs()})}var u=e("./cadmiumPlayerState"),p=e("../../nfplayer/utils/playerConfig"),f=e("../../../utils/rx/shakti-rx").RxObservable,y=e("../../../utils/rx/shakti-rx").RxSchedulerAsync,m=e("lodash"),v=e("../../../utils/player/playerAssets"),b=e("../../nfplayer/common/playerInterfaceManager"),g=e("../../nfplayer/common/playerErrors"),P=e("../../../akira/components/billboard/common/ReportMetrics"),h=void 0,I=void 0,S=function(){return!(!h||"function"!=typeof h.isSeamlessEnabled)&&h.isSeamlessEnabled()},w=function(e,o,a){return h&&h.canFulfillUIIntent?h.canFulfillUIIntent(e,"number"==typeof o&&o>=0?o:void 0,a):a(!1)};o.exports={createPlayerSafely:l,get:i,prepare:r,updatePredictionModel:t,isSeamlessEnabled:S,queueLogblob:d,flushLogblobs:c,canFulfillUIIntent:w}});C.r("player/nfplayer/common/playerErrors.js",function(e,r,t){"use strict";function s(e){this.code=3010,this.name=l[this.code],this.message=e||"Error loading player assets.",this.stack=(new Error).stack,this.display={code:"UI"+this.code},this.messageIdList=["default"]}function a(e){this.code=3011,this.name=l[this.code],this.message=e||"No UI Label provided for playback.",this.stack=(new Error).stack,this.display={code:"UI"+this.code},this.messageIdList=["default"]}function i(e){this.code=3012,this.name=l[this.code],this.message=e||"Invalid or no viewable data.",this.stack=(new Error).stack,this.display={code:"UI"+this.code},this.messageIdList=["default"]}function o(e){this.name="PlayerUICreationError",this.message=e||"Error creating the player UI.",this.stack=(new Error).stack,this.code=3013,this.display={code:"UI"+this.code},this.messageIdList=["default"]}function n(e,r){this.code=3003,this.name=l[this.code],this.message=e||"Title is unavailable for region.",this.stack=(new Error).stack,this.display={code:"UI"+this.code},this.messageIdList=["UI"+this.code,d[r]?"title-unavailable-"+r:"title-unavailable"]}var d={us:"us",ca:"ca",mx:"mx",br:"br",uk:"uk",ie:"ie",dk:"dk",fi:"fi",no:"no",se:"se",nl:"nl",fr:"fr",de:"de",ch:"ch",at:"at",be:"be",lu:"lu"},l={3003:"TitleUnavailableError",3010:"AssetError",3011:"UILabelError",3012:"InvalidDataError",3013:"PlayerUICreationError"};s.prototype=new Error,a.prototype=new Error,i.prototype=new Error,o.prototype=new Error,n.prototype=new Error,r.exports={AssetError:s,UILabelError:a,InvalidDataError:i,PlayerUICreationError:o,TitleUnavailableError:n,ERROR_TYPES:l}});C.r("player/nfplayer/common/playerInterfaceManager.js",function(e,n,r){"use strict";function t(e,n){return n.filter(function(n){return n!==e})}function o(e,n,r){var o=r.getAPI().videoPlayer,i=o.getAllPlayerSessionIds(),l=n?t(n,i):i;if(!l.length)return e(),u;var s=function(e){return a.create(function(n){return"function"==typeof e.close?e.close(function(){n.next(),n.complete()},{dataToLog:{reason:"playerInterfaceManager::closeAllPlayers"}}):(n.next(),n.complete()),u})},c=l.map(o.getVideoPlayerBySessionId).filter(function(e){return!!e}).map(s),f=a.forkJoin(c).do(e).subscribe(u,function(e){},u);return function(){f.unsubscribe()}}function i(e,n){var r=n.getAPI().videoPlayer;r.getAllPlayerSessionIds().filter(function(n){return n!==e}).map(r.getVideoPlayerBySessionId).forEach(c)}var l=e("../../../utils/rx/shakti-rx"),a=l.RxObservable,s=e("../uiLabel"),u=function(){},c=function(e){return e.pause()},f=function(e,n){var r=!0,t=n.getAPI().videoPlayer;return e.map(function(e){return{uiLabel:t.getUILabelForSessionId(e),isClosing:t.isVideoPlayerClosingForSessionId(e)||t.isVideoPlayerClosedForSessionId(e)}}).forEach(function(e){e.uiLabel!==s.STANDARD||e.isClosing||(r=!1)}),r},y=function(e,n){var r=n.getAPI().videoPlayer,o=r.getAllPlayerSessionIds(),i=e?t(e,o):o;return[f].reduce(function(e,r){return e&&r(i,n)},!0)};n.exports={closeAllPlayers:o,isPlayerCreationAvailable:y,pauseAllPlayersExceptActive:i}});C.r("player/nfplayer/uiLabel.js",function(a,l,r){"use strict";var A={STANDARD:"standard",DEBUG:"debug",PREPLAY:"preplay",PREPLAY_PREROLL:"prePlay-originalsPreRoll",POSTPLAY:"postplay",POSTPLAY_TEASER:"postplay-teaser",POSTPLAY_TRAILER:"postplay-trailer",POSTPLAY_SEAMLESS:"postplay-seamless",POSTPLAY_SEAMLESS_FALLBACK:"postplay-seamless-fallback",TRAILER:"trailer",BILLBOARD_STANDARD:"billboard-standard",BILLBOARD_STANDARD_3LOOP:"billboard-standard-3loop",BILLBOARD_CACHED:"billboard-cached",BILLBOARD_BIG_ROW:"billboard-bigRow",BILLBOARD_TRAILER_FULL:"billboard-trailer",EMBEDDED:"embedded",BRANCHING:"branching",BRANCHING_TUTORIAL:"branching-tutorial",VIDEO_MERCH_BOB_HORIZONTAL:"video-merch-bob-horizontal",VIDEO_MERCH_BOB_VERTICAL:"video-merch-bob-vertical",VIDEO_MERCH_JAW:"video-merch-jaw"};l.exports=A});C.r("player/nfplayer/utils/playerConfig.js",function(r,t,e){"use strict";function n(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];return v({browserInfo:{os:{name:t.os&&t.os.name,version:t.os&&t.os.version},name:t.name,version:t.version}},v(h(y({},["ui","initParams"],r)),h(y({},["core","initParams"],r))))}function o(){if(g)throw new Error("Can't access cached init params in node environment.")}function a(r){return g&&r&&!P(r)?y({},["data"],p("shakti-platform/dist/lib/modelRegistry").getModel(r,"playerModel"))||{}:g?{}:b=b||f.getModelData("playerModel")||{}}function i(r){return g&&r&&!P(r)?y({},["data"],p("shakti-platform/dist/lib/modelRegistry").getModel(r,"browserInfo"))||{}:g?{}:I=I||f.getModelData("browserInfo")||{}}function s(r){return a(r).config||{}}function c(r){return a(r).playbackSupport||{}}function d(r){return n(s(r),i(r))}function l(){return o(),M=M||d()}function u(r,t){return y(t,[r],l())}function m(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(r&&r.config,t)}var f=r("../../../common/appContext"),g=r("shakti-platform/dist/ui/utils/inNode"),p=r,v=r("ramda/src/mergeDeepRight"),h=r("ramda/src/clone"),y=r("ramda/src/pathOr"),P=r("ramda/src/isEmpty"),b=void 0,I=void 0,M=void 0;t.exports={getConfig:s,getPlaybackSupport:c,getFreshInitParams:d,getCachedInitParams:l,getInitParam:u,getInitParamsFromPlayerModel:m}});C.r("utils/player/playerAssets.js",function(e,r,t){"use strict";var o=e("../../utils/rx/shakti-rx").RxObservable,n=e("../../utils/rx/shakti-rx").RxSchedulerAsync,s=e("shakti-platform/dist/ui/ShaktiProperties"),i=e("../../akira/components/billboard/common/ReportMetrics"),a=e("lodash"),u=e("../../player/nfplayer/utils/playerConfig"),l=e("../../player/nfplayer/common/playerErrors"),c=s.get("wwwplayer.asset.timeout")||3e4,p=void 0,f=void 0,d=void 0,m=!1,y=function(e){var r=s.get("wwwplayer.asset.crossorigin.enabled"),t=document.getElementsByTagName("script")[0],o=document.createElement("script");return o.src=e,r&&(o.crossOrigin="anonymous"),t&&t.parentNode&&t.parentNode.insertBefore(o,t),o},h=function(e,r){return o.merge(o.fromEvent(e,"load"),o.fromEvent(e,"error").flatMap(function(){return o.throw(new l.AssetError)})).take(1).timeoutWith(c,o.throw(new l.AssetError)).publishReplay().refCount().observeOn(n)},w={getCorePlayerJS:function(){if(p)return p;var e=document.getElementById("player-core-js");return e&&e instanceof HTMLScriptElement?(p=window.netflix.player?o.of(!0):h(e,e.src),p.do(function(){i.cadmiumOrAkiraLoaded()})):p=o.throw(new Error("No script element for the player core found."))},getPlayerAssets:function(){if(d)return d;var e=this.getAssetUrls(),r=u.getConfig();return r.ui=r.ui||{},e.core||r.ui.isFallback?d=o.zip(this.getCorePlayerJS(),a.noop).publishReplay().refCount():o.throw(new Error("No assets defined!"))},loadCastSDK:function(){return f||(f=o.create(function(e){return window.__onGCastApiAvailable=function(r,t){m||(r?(m=!0,e.next(r),e.complete()):e.error(t))},a.noop}).publishReplay().refCount(),y("https://www.gstatic.com/cv/js/sender/v1/cast_sender.js"),f)},getAssetUrls:function(e){var r={},t=u.getConfig(e);t.ui=t.ui||{},t.core=t.core||{};var o=u.getFreshInitParams(e);return a.forEach(t.ui.assets||{},function(e,t){e&&(r[t]=e)}),!1===o.preferCadmium?r.core=null:a.forEach(t.core.assets||{},function(e,t){e&&(r[t]=e)}),r}};r.exports=w});C.r("mdx2/utils/mdxBootstrap.js",function(n,o,t){"use strict";function e(o){var t=o.initParams,e=o.profileGuid,x=o.onConnectionStart,_=o.onConnectionEnd;if(f)return f;var D=Date.now();return f=a.loadCastSDK().catch(function(n){throw new l(d.ERROR_CODES.FAILED_TO_LOAD_CAST_SDK,void 0,E.exceptionToString(n))}).flatMap(function(){return c.get(t).catch(function(n){throw new l(d.ERROR_CODES.FAILED_TO_LOAD_VIDEO_SESSION,void 0,E.exceptionToString(n))})}).flatMap(function(o){return i.create(function(r){return n.ensure("../mdx2Manager.js",function(){var i=n("../mdx2Manager.js");if(!i||i.stub)return void r.error(new l(d.ERROR_CODES.FAILED_TO_LOAD_MDX_ASSET,void 0,E.exceptionToString(new Error("Mdx Manager not Present"))));o.init(function(n){if(n.success){var o=new i({videoSessionInstance:n,profileGuid:e,initParams:t,onConnectionStart:x,onConnectionEnd:_,startedCallback:function(n){n.success?(r.next(o),r.complete()):r.error(n.error)}});"function"==typeof s&&s(o)}else r.error(n.error)})}),function(){}}).catch(function(n){throw new l(d.ERROR_CODES.FAILED_TO_INIT_MDX_INSTANCE,void 0,E.exceptionToString(n))})}).timeoutWith(t.mdxInitTimeout,i.throw({errorcode:d.ERROR_CODES.MDX_INIT_TIMEOUT,timeout:t.mdxInitTimeout})).do(r.noop,function(n){n.errorcode||(n={errorcode:d.ERROR_CODES.UNHANDLED_EXCEPTION,errordetails:E.exceptionToString(n)}),n.delay=Date.now()-D,u.queue("mdxinit","error",n),u.flush()},function(){u.queue("mdxinit","info",{delay:Date.now()-D})}).publishReplay(),f.connect(),f}var r=n("lodash"),i=n("../../utils/rx/shakti-rx").RxObservable,a=n("../../utils/player/playerAssets"),c=n("../../player/domains/videoPlayer/videoSession"),s=n("../utils/automationHook"),u=n("../utils/mdxLogblob"),d=n("./mdxConstants"),E=n("./mdxException"),l=n("../errors/mdxError"),f=void 0;o.exports={initMdx:e}});C.r("mdx2/hoc/mdxLoader.jsx",function(t,e,n){"use strict";function a(t){x.push(t)}function o(t){x=x.filter(function(e){return e!==t})}function i(){return N}function r(t){N=Boolean(t),I=t,N||c(),x.forEach(function(e){e.props.onTargetChanged(t),e.setMdxState()})}function s(){b=!0,P=!1,_=I?I.getCatalogId():void 0,G=I?I.getContentId():void 0,x.forEach(function(t){t.props.onCast(),t.setMdxState()})}function c(){b=!1,P=!0,_=void 0,G=void 0,x.forEach(function(t){t.props.onCastStop()})}function d(){c(),x.forEach(function(t){t.setMdxState()})}function g(){return h}function l(t){h=t}function u(t){M=t,x.forEach(function(e){e.props.onDevicesAvailable(t),e.setMdxState()})}function p(){}function T(t){var e=C({displayName:"MdxWrapper",contextTypes:{playerApp:S.object.isRequired,profileManager:S.object.isRequired,getModelData:S.func.isRequired},getDefaultProps:function(){return{connected:!1,onCast:p,onCastStop:p,onTargetChanged:p,onDevicesAvailable:p}},getInitialState:function(){return{isTargetCasting:N,isTargetPlaying:b,isTargetStopped:P,mdxDevicesAvailable:M,mdxManager:h,mdxTarget:I,targetCatalogId:_,targetContentId:G}},componentDidMount:function(){function t(t){l(t),D||(D=!0,t.on(t.EVENTS.TARGET_PLAYING,s),t.on(t.EVENTS.TARGET_STOPPED,d),t.on(t.EVENTS.TARGET_CONNECTION_CHANGED,r),t.on(t.EVENTS.MDX_DEVICES_AVAILABLE,u)),e.setMdxState()}var e=this,n=this.props.onDevicesAvailable,o=this.state.mdxDevicesAvailable,i=this.context,c=i.getModelData,g=i.playerApp,T=i.profileManager;a(this);var f=g.getAPI().playerApp;m.initMdx({initParams:f.getInitParams(),profileGuid:c("userInfo","userGuid"),onConnectionStart:function(){T.disableProfileGateSessionTracking()},onConnectionEnd:function(){T.enableProfileGateSessionTracking()}}).do(t).subscribe(p,function(t){},p),o&&n&&n(!0)},setMdxState:function(){this.setState({isTargetCasting:N,isTargetPlaying:b,isTargetStopped:P,mdxDevicesAvailable:M,mdxManager:h,mdxTarget:I,targetCatalogId:_,targetContentId:G})},componentWillUnmount:function(){o(this),h&&!x.length&&D&&(h.removeListener(h.EVENTS.TARGET_PLAYING,s),h.removeListener(h.EVENTS.TARGET_STOPPED,d),h.removeListener(h.EVENTS.TARGET_CONNECTION_CHANGED,r),h.removeListener(h.EVENTS.MDX_DEVICES_AVAILABLE,u),D=!1)},render:function(){var e=this.props,n=e.connected,a=e.onCast,o=e.onCastStop,i=e.onDevicesAvailable,r=e.onTargetChanged,s=this.state,c=s.isTargetCasting,d=s.isTargetPlaying,g=s.isTargetStopped,l=s.mdxDevicesAvailable,u=s.mdxManager,p=s.mdxTarget,T=s.targetCatalogId,f=s.targetContentId;return v.createElement(t,(0,E.default)({},this.props,{connected:n,isTargetCasting:c,isTargetPlaying:d,isTargetStopped:g,mdxDevicesAvailable:l,mdxManager:u,mdxTarget:p,onCast:a,onCastStop:o,onDevicesAvailable:i,onTargetChanged:r,targetCatalogId:T,targetContentId:f}))}});return A(e,t),e}var f=t("babel-runtime/helpers/extends"),E=function(t){return t&&t.__esModule?t:{default:t}}(f),v=t("react"),C=t("create-react-class"),S=t("prop-types"),A=t("hoist-non-react-statics"),m=t("../utils/mdxBootstrap"),x=[],h=null,I=null,D=!1,M=void 0,N=void 0,b=void 0,P=void 0,G=void 0,_=void 0;e.exports={createComponent:T,isCasting:i,getManagerInstance:g,propTypes:{}}});C.r("node_modules/babel-runtime/core-js/get-iterator.js",function(e,r,t){r.exports={default:e("core-js/library/fn/get-iterator"),__esModule:!0}});C.r("node_modules/babel-runtime/core-js/is-iterable.js",function(e,r,s){r.exports={default:e("core-js/library/fn/is-iterable"),__esModule:!0}});C.r("node_modules/babel-runtime/core-js/object/create.js",function(e,o,r){o.exports={default:e("core-js/library/fn/object/create"),__esModule:!0}});C.r("node_modules/babel-runtime/core-js/object/set-prototype-of.js",function(e,o,t){o.exports={default:e("core-js/library/fn/object/set-prototype-of"),__esModule:!0}});C.r("node_modules/babel-runtime/helpers/classCallCheck.js",function(e,n,s){"use strict";s.__esModule=!0,s.default=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}});C.r("node_modules/babel-runtime/helpers/createClass.js",function(e,r,n){"use strict";n.__esModule=!0;var t=e("../core-js/object/define-property"),u=function(e){return e&&e.__esModule?e:{default:e}}(t);n.default=function(){function e(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),(0,u.default)(e,t.key,t)}}return function(r,n,t){return n&&e(r.prototype,n),t&&e(r,t),r}}()});C.r("node_modules/babel-runtime/helpers/inherits.js",function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}o.__esModule=!0;var u=e("../core-js/object/set-prototype-of"),n=r(u),l=e("../core-js/object/create"),f=r(l),i=e("../helpers/typeof"),s=r(i);o.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,s.default)(t)));e.prototype=(0,f.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(n.default?(0,n.default)(e,t):e.__proto__=t)}});C.r("node_modules/babel-runtime/helpers/possibleConstructorReturn.js",function(e,n,t){"use strict";t.__esModule=!0;var r=e("../helpers/typeof"),u=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!==(void 0===n?"undefined":(0,u.default)(n))&&"function"!=typeof n?e:n}});C.r("node_modules/babel-runtime/helpers/slicedToArray.js",function(r,e,t){"use strict";function n(r){return r&&r.__esModule?r:{default:r}}t.__esModule=!0;var u=r("../core-js/is-iterable"),a=n(u),i=r("../core-js/get-iterator"),o=n(i);t.default=function(){function r(r,e){var t=[],n=!0,u=!1,a=void 0;try{for(var i,l=(0,o.default)(r);!(n=(i=l.next()).done)&&(t.push(i.value),!e||t.length!==e);n=!0);}catch(r){u=!0,a=r}finally{try{!n&&l.return&&l.return()}finally{if(u)throw a}}return t}return function(e,t){if(Array.isArray(e))return e;if((0,a.default)(Object(e)))return r(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()});C.r("node_modules/core-js/library/fn/get-iterator.js",function(e,r,o){e("../modules/web.dom.iterable"),e("../modules/es6.string.iterator"),r.exports=e("../modules/core.get-iterator")});C.r("node_modules/core-js/library/fn/is-iterable.js",function(e,r,o){e("../modules/web.dom.iterable"),e("../modules/es6.string.iterator"),r.exports=e("../modules/core.is-iterable")});C.r("node_modules/core-js/library/fn/object/create.js",function(e,r,o){e("../../modules/es6.object.create");var c=e("../../modules/_core").Object;r.exports=function(e,r){return c.create(e,r)}});C.r("node_modules/core-js/library/fn/object/set-prototype-of.js",function(o,e,t){o("../../modules/es6.object.set-prototype-of"),e.exports=o("../../modules/_core").Object.setPrototypeOf});C.r("node_modules/core-js/library/modules/_set-proto.js",function(t,o,r){var e=t("./_is-object"),c=t("./_an-object"),n=function(t,o){if(c(t),!e(o)&&null!==o)throw TypeError(o+": can't set as prototype!")};o.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(o,r,e){try{e=t("./_ctx")(Function.call,t("./_object-gopd").f(Object.prototype,"__proto__").set,2),e(o,[]),r=!(o instanceof Array)}catch(t){r=!0}return function(t,o){return n(t,o),r?t.__proto__=o:e(t,o),t}}({},!1):void 0),check:n}});C.r("node_modules/core-js/library/modules/core.get-iterator.js",function(r,e,o){var t=r("./_an-object"),n=r("./core.get-iterator-method");e.exports=r("./_core").getIterator=function(r){var e=n(r);if("function"!=typeof e)throw TypeError(r+" is not iterable!");return t(e.call(r))}});C.r("node_modules/core-js/library/modules/core.is-iterable.js",function(r,e,o){var t=r("./_classof"),s=r("./_wks")("iterator"),i=r("./_iterators");e.exports=r("./_core").isIterable=function(r){var e=Object(r);return void 0!==e[s]||"@@iterator"in e||i.hasOwnProperty(t(e))}});C.r("node_modules/core-js/library/modules/es6.object.create.js",function(e,r,c){var o=e("./_export");o(o.S,"Object",{create:e("./_object-create")})});C.r("node_modules/core-js/library/modules/es6.object.set-prototype-of.js",function(e,o,t){var r=e("./_export");r(r.S,"Object",{setPrototypeOf:e("./_set-proto").set})});C.r("node_modules/daggy/src/daggy.js",function(t,n,e){!function(e){"use strict";"object"==typeof n&&"object"==typeof n.exports?n.exports=e(t("sanctuary-type-classes"),t("sanctuary-type-identifiers")):"function"==typeof define&&null!=define.amd?define(["sanctuary-type-classes","sanctuary-type-identifiers"],e):self.daggy=e(self.sanctuaryTypeClasses,self.sanctuaryTypeIdentifiers)}(function(t,n){"use strict";function e(t,n){var e={toString:s},r=p(n,e);return r.toString=o,r.prototype=e,r.is=l,r[b]=t,e.constructor=r,r}function r(t,n){var e={cata:u,toString:c},r=e.constructor={toString:o,prototype:e,is:l,"@@type":t};return Object.keys(n).forEach(function(u){var c=n[u],o=Object.create(e);if(h(o,d,u),0===c.length)return r[u]=g(c,o,[],0),void(r[u].is=f);r[u]=p(c,o),r[u].is=a,r[u][d]=u,r[u][j]=t,r[u].toString=i}),r}function u(t){var n=this[d];if(!t[n])throw new TypeError("Constructors given to cata didn't include: "+n);return t[n].apply(t,this[v])}function i(){return this[j]+"."+this[d]}function c(){return this.constructor[b]+"."+this[d]+y(this[v])}function o(){return this[b]}function s(){return this.constructor[b]+y(this[v])}function a(t){return Boolean(t)&&this[d]===t[d]&&this[j]===n(t)}function f(t){return this===t||Boolean(t)&&this[d]===t[d]&&n(this)===n(t)}function l(t){return this[b]===n(t)}function g(t,n,e,r){if(r!==t.length)throw new TypeError("Expected "+t.length+" arguments, got "+r);var u=Object.create(n);h(u,v,e);for(var i=0;i<t.length;i+=1)u[t[i]]=e[i];return u}function h(t,n,e){var r=h.desc||(h.desc={enumerable:!1,writable:!1,configurable:!1,value:null});r.value=e,Object.defineProperty(t,n,r)}function y(n){if(0===n.length)return"";for(var e="("+t.toString(n[0]),r=1;r<n.length;r+=1)e=e+", "+t.toString(n[r]);return e+")"}function p(t,n){switch(t.length){case 1:return function(e){return g(t,n,[e],arguments.length)};case 2:return function(e,r){return g(t,n,[e,r],arguments.length)};case 3:return function(e,r,u){return g(t,n,[e,r,u],arguments.length)};case 4:return function(e,r,u,i){return g(t,n,[e,r,u,i],arguments.length)};case 5:return function(e,r,u,i,c){return g(t,n,[e,r,u,i,c],arguments.length)};case 6:return function(e,r,u,i,c,o){return g(t,n,[e,r,u,i,c,o],arguments.length)};case 7:return function(e,r,u,i,c,o,s){return g(t,n,[e,r,u,i,c,o,s],arguments.length)};case 8:return function(e,r,u,i,c,o,s,a){return g(t,n,[e,r,u,i,c,o,s,a],arguments.length)};case 9:return function(e,r,u,i,c,o,s,a,f){return g(t,n,[e,r,u,i,c,o,s,a,f],arguments.length)};case 10:return function(e,r,u,i,c,o,s,a,f,l){return g(t,n,[e,r,u,i,c,o,s,a,f,l],arguments.length)};default:return Object.defineProperty(function(){return g(t,n,arguments,arguments.length)},"length",{value:t.length})}}var d="@@tag",v="@@values",b="@@type",j="@@ret_type";return{tagged:e,taggedSum:r}})});C.r("node_modules/dom-helpers/class/addClass.js",function(s,e,a){"use strict";function l(s,e){s.classList?s.classList.add(e):(0,c.default)(s,e)||("string"==typeof s.className?s.className=s.className+" "+e:s.setAttribute("class",(s.className&&s.className.baseVal||"")+" "+e))}Object.defineProperty(a,"__esModule",{value:!0}),a.default=l;var t=s("./hasClass"),c=function(s){return s&&s.__esModule?s:{default:s}}(t);e.exports=a.default});C.r("node_modules/dom-helpers/class/hasClass.js",function(s,e,a){"use strict";function l(s,e){return s.classList?!!e&&s.classList.contains(e):-1!==(" "+(s.className.baseVal||s.className)+" ").indexOf(" "+e+" ")}Object.defineProperty(a,"__esModule",{value:!0}),a.default=l,e.exports=a.default});C.r("node_modules/dom-helpers/class/removeClass.js",function(s,e,a){"use strict";function c(s,e){return s.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(s,e){s.classList?s.classList.remove(e):"string"==typeof s.className?s.className=c(s.className,e):s.setAttribute("class",c(s.className&&s.className.baseVal||"",e))}});C.r("node_modules/dom-helpers/transition/properties.js",function(n,i,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.animationEnd=t.animationDelay=t.animationTiming=t.animationDuration=t.animationName=t.transitionEnd=t.transitionDuration=t.transitionDelay=t.transitionTiming=t.transitionProperty=t.transform=void 0;var a=n("../util/inDOM"),o=function(n){return n&&n.__esModule?n:{default:n}}(a),r="transform",e=void 0,m=void 0,d=void 0,s=void 0,u=void 0,f=void 0,l=void 0,v=void 0,y=void 0,p=void 0,c=void 0;if(o.default){var D=function(){for(var n=document.createElement("div").style,i={O:function(n){return"o"+n.toLowerCase()},Moz:function(n){return n.toLowerCase()},Webkit:function(n){return"webkit"+n},ms:function(n){return"MS"+n}},t=Object.keys(i),a=void 0,o=void 0,r="",e=0;e<t.length;e++){var m=t[e];if(m+"TransitionProperty"in n){r="-"+m.toLowerCase(),a=i[m]("TransitionEnd"),o=i[m]("AnimationEnd");break}}return!a&&"transitionProperty"in n&&(a="transitionend"),!o&&"animationName"in n&&(o="animationend"),n=null,{animationEnd:o,transitionEnd:a,prefix:r}}();e=D.prefix,t.transitionEnd=m=D.transitionEnd,t.animationEnd=d=D.animationEnd,t.transform=r=e+"-"+r,t.transitionProperty=s=e+"-transition-property",t.transitionDuration=u=e+"-transition-duration",t.transitionDelay=l=e+"-transition-delay",t.transitionTiming=f=e+"-transition-timing-function",t.animationName=v=e+"-animation-name",t.animationDuration=y=e+"-animation-duration",t.animationTiming=p=e+"-animation-delay",t.animationDelay=c=e+"-animation-timing-function"}t.transform=r,t.transitionProperty=s,t.transitionTiming=f,t.transitionDelay=l,t.transitionDuration=u,t.transitionEnd=m,t.animationName=v,t.animationDuration=y,t.animationTiming=p,t.animationDelay=c,t.animationEnd=d,t.default={transform:r,end:m,property:s,timing:f,delay:l,duration:u}});C.r("node_modules/dom-helpers/util/inDOM.js",function(e,d,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=!("undefined"==typeof window||!window.document||!window.document.createElement),d.exports=t.default});C.r("node_modules/dom-helpers/util/requestAnimationFrame.js",function(e,n,t){"use strict";function o(e){var n=(new Date).getTime(),t=Math.max(0,16-(n-s)),o=setTimeout(e,t);return s=n,o}Object.defineProperty(t,"__esModule",{value:!0});var i=e("./inDOM"),u=function(e){return e&&e.__esModule?e:{default:e}}(i),r=["","webkit","moz","o","ms"],a="clearTimeout",c=o,d=void 0,f=function(e,n){return e+(e?n[0].toUpperCase()+n.substr(1):n)+"AnimationFrame"};u.default&&r.some(function(e){var n=f(e,"request");if(n in window)return a=f(e,"cancel"),c=function(e){return window[n](e)}});var s=(new Date).getTime();d=function(e){return c(e)},d.cancel=function(e){window[a]&&"function"==typeof window[a]&&window[a](e)},t.default=d,n.exports=t.default});C.r("node_modules/invariant/browser.js",function(e,r,n){"use strict";var i=function(e,r,n,i,o,a,t,s){if(!e){var f;if(void 0===r)f=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[n,i,o,a,t,s],u=0;f=new Error(r.replace(/%s/g,function(){return d[u++]})),f.name="Invariant Violation"}throw f.framesToPop=1,f}};r.exports=i});C.r("node_modules/nf-algebraic-data-types/Option.js",function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var u=e("./identity"),o=r(u),i=e("./isNullOrUndef"),f=r(i),c=e("./throwError"),a=r(c),s=e("daggy"),l=(0,s.taggedSum)("Option",{Some:["a"],None:[]});l.empty=function(){return l.None},l.of=l.Some,l.fromEither=function(e){return(0,f.default)(e)||e.isLeft()?l.None:l.Some(e.get())},l.fromNullable=function(e){return(0,f.default)(e)?l.None:l.Some(e)},l.prototype=Object.assign(l.prototype,{ap:function(e){var t=this;return e.chain(function(e){return t.map(e)})},chain:function(e){return this.reduce(e,l.empty)},get:function(){return this.reduce(o.default,function(){return(0,a.default)("OptionError","You can't get the value of None")})},getOrElse:function(e){return this.reduce(o.default,function(){return e})},isNone:function(){return this===l.None},isSome:function(){return this!==l.None},map:function(e){return this.chain(function(t){return l.fromNullable(e(t))})},orElse:function(e){return this.reduce(l.Some,e)},reduce:function(e,t){return this.cata({Some:e,None:t})}}),n.default=l,t.exports=n.default});C.r("node_modules/nf-algebraic-data-types/Record.js",function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function s(t,e){return Object.defineProperty(t,e,{get:function(){return this.getOrElse(e)}})}function o(t,e){return e.forEach(s.bind(null,t)),t}function i(t,e){var r=Object.create(Object.getPrototypeOf(t));return r._map=e,r}function a(t,e){function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof r))return new r(e);var s=r.prototype,i=Object.keys(t);n||(o(s,i),s._keys=i,s._defaultProps=t,n=!0),this._map=e}if((0,c.default)(t)&&(0,p.default)("RecordError","Expected default props."),!(this instanceof a))return new a(t,e);var n=!1;return r._name=e,r.getRecordName=function(){return r._name},r.prototype=Object.assign(Object.create(a.prototype),{clear:function(){var t=this.constructor;return t._empty||(t._empty=i(this,{}))},getOrElse:function(t,e){if(!this.has(t))return e;var r=this._defaultProps[t];return this._map&&this._map.hasOwnProperty(t)?this._map[t]:r},has:function(t){return this._defaultProps.hasOwnProperty(t)},set:function(t,e){if(this._map&&!this._map.hasOwnProperty(t)){if(e===this._defaultProps[t])return this}if(this._map&&e===this._map[t])return this;var r=Object.assign({},this._map);return r[t]=e,i(this,r)}}),r.prototype.constructor=r,r}Object.defineProperty(r,"__esModule",{value:!0});var u=t("./isNullOrUndef"),c=n(u),f=t("./throwError"),p=n(f);r.default=a,e.exports=r.default});C.r("node_modules/nf-algebraic-data-types/identity.js",function(t,e,n){"use strict";var r=function(t){return t};e.exports=r});C.r("node_modules/nf-algebraic-data-types/isNullOrUndef.js",function(n,e,r){"use strict";var t=function(n){return null===n||void 0===n};e.exports=t});C.r("node_modules/nf-algebraic-data-types/throwError.js",function(r,o,t){"use strict";var e=function(r,o){var t=new Error(o);throw t.name=r,t};o.exports=e});C.r("node_modules/nf-client-video-capabilities/dist/nf-client-video-capabilities.js",function(e,i,t){!function(e){if("object"==typeof t&&void 0!==i)i.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.videoCapabilities=e()}}(function(){return function i(t,n,o){function a(c,s){if(!n[c]){if(!t[c]){var u="function"==typeof e&&e;if(!s&&u)return u(c,!0);if(r)return r(c,!0);var d=new Error("Cannot find module '"+c+"'");throw d.code="MODULE_NOT_FOUND",d}var p=n[c]={exports:{}};t[c][0].call(p.exports,function(e){var i=t[c][1][e];return a(i||e)},p,p.exports,i,t,n,o)}return n[c].exports}for(var r="function"==typeof e&&e,c=0;c<o.length;c++)a(o[c]);return a}({1:[function(e,i,t){"use strict";i.exports=function(e){var i=window.WebKitMediaKeys&&window.WebKitMediaKeys.isTypeSupported("com.apple.fps.2_0");e(!!i&&Boolean(i))}},{}],2:[function(e,i,t){"use strict";var n=[{initDataTypes:["keyids","cenc"],audioCapabilities:[{contentType:'audio/mp4; codecs="mp4a"'}],videoCapabilities:[{contentType:'video/mp4; codecs="avc1"'}]}];i.exports=function(e){var i=function(){e(!1)},t=void 0,o=void 0;if("function"==typeof window.navigator.requestMediaKeySystemAccess)o=setTimeout(i,1e3),window.navigator.requestMediaKeySystemAccess("com.microsoft.playready",n).then(function(){clearTimeout(o),e(!0)}).catch(function(){clearTimeout(o),e(!1)});else try{window&&window.MSMediaKeys&&(t=new window.MSMediaKeys("com.microsoft.playready")),e(t?!0:!1)}catch(i){e(!1)}}},{}],3:[function(e,i,t){"use strict";var n=[{distinctiveIdentifier:"not-allowed",initDataTypes:["cenc"],persistentState:"required",videoCapabilities:[{contentType:'video/mp4; codecs="avc1.640028"',robustness:"HW_SECURE_DECODE"},{contentType:'video/mp4; codecs="avc1.640028"',robustness:"SW_SECURE_DECODE"}]},{distinctiveIdentifier:"not-allowed",initDataTypes:["cenc"],persistentState:"required"}];i.exports=function(e){var i=function(){e(!1)},t=void 0;"function"==typeof window.navigator.requestMediaKeySystemAccess?(t=setTimeout(i,1e3),window.navigator.requestMediaKeySystemAccess("com.widevine.alpha",n).then(function(){clearTimeout(t),e(!0)}).catch(function(){clearTimeout(t),e(!1)})):e(!1)}},{}],4:[function(e,i,t){"use strict";i.exports=function(e){var i=e.volume,t=(i+.5)%1;try{e.volume=t}catch(e){return!0}return e.volume===i||(e.volume=i,!1)}},{}],5:[function(e,i,t){"use strict";function n(e,i){return void 0===e||null===e?L:"boolean"==typeof e?e?i||g:L:e}function o(e){return Boolean(e&&e.canPlayType)}function a(e,i){var t=e&&e.canPlayType(i);return t===O?g:t===P?P:L}function r(e,i){return i?o(e)&&a(e,i):o(e)}function c(){return window.MediaSource||window.WebKitMediaSource}function s(e,i){return!!e.isTypeSupported&&e.isTypeSupported(i)}function u(e){var i=c();return e?i&&s(i,e):Boolean(i)}function d(e,i){e.isSafari?l(i):e.isChrome||e.isOpera||e.isFirefox?v(i):e.isEdge||e.isIE?y(i):i(p(e,"maybeSupportsHTML5withDRM")?P:L)}function p(e,i){return e&&e.features&&e.features[i]||!1}function f(e,i,t){var o=e||document.createElement("video"),a=0,c={TAG:n(r(o)),TAG_UA:n(p(i,"maybeSupportsHTML5"),P),H264:n(r(o,M)),WEBM:n(r(o,S)),HLS:n(r(o,_)),MSE:n(u()),MSE_MP4_AUDIO:n(u(h)),MSE_MP4:n(u(A)),MSE_WEBM:n(u(T)),MSE_EME_TYPE_MP4:n(u(b)),SILVERLIGHT:n(m()),SILVERLIGHT_UA:n(p(i,"maybeSupportsSL"),P),FLASH:n(w.detect()),EME_UA:n(p(i,"maybeSupportsHTML5withDRM"),P),READ_ONLY_AUDIO:n(E(o))},s=function(){1===++a&&t(c)};d(i,function(e){c.EME=n(e),s()})}var l=e("./eme/fairplay"),v=e("./eme/widevine"),y=e("./eme/playready"),w=e("./plugins/flash"),m=e("./plugins/silverlight"),E=e("./features/readOnlyAudio"),M='video/mp4; codecs="avc1.42E01E, mp4a.40.2"',S='video/webm; codecs="vp8.0, vorbis"',T='video/webm; codecs="vp9"',_='application/x-mpegURL; codecs="avc1.42E01E"',b='video/mp4; codecs="avc1.640028"',h='audio/mp4; codecs="mp4a.40.5"',A='video/mp4; codecs="avc1.4d401e"',P="maybe",g="yes",L="no",O="probably";i.exports={detectVideoCapabilities:f,YES:g,NO:L,MAYBE:P,PROBABLY:O,MIME_TYPE_FLASH:w.MIME_TYPE_FLASH,TYPE_H264:M,TYPE_WEBM:S,TYPE_VP9:T,TYPE_HLS:_,MSE_TYPE_MP4_AUDIO:h,MSE_TYPE_MP4:A,MSE_EME_TYPE_MP4:b,_transformStatus:n}},{"./eme/fairplay":1,"./eme/playready":2,"./eme/widevine":3,"./features/readOnlyAudio":4,"./plugins/flash":6,"./plugins/silverlight":7}],6:[function(e,i,t){"use strict";function n(){var e=window&&window.navigator&&window.navigator.mimeTypes&&window.navigator.mimeTypes[o];if(window&&window.ActiveXObject)try{e=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(i){e=!1}return Boolean(e)}var o="application/x-shockwave-flash";i.exports={detect:n,MIME_TYPE_FLASH:o}},{}],7:[function(e,i,t){"use strict";i.exports=function(){return window.SilverlightVersion&&window.SilverlightVersion.isInstalled()}},{}]},{},[5])(5)})});C.r("node_modules/promise-polyfill/promise.js",function(e,n,t){!function(e){function t(){}function o(e,n){return function(){e.apply(n,arguments)}}function i(e){if(!(this instanceof i))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],a(e,this)}function r(e,n){for(;3===e._state;)e=e._value;if(0===e._state)return void e._deferreds.push(n);e._handled=!0,i._immediateFn(function(){var t=1===e._state?n.onFulfilled:n.onRejected;if(null===t)return void(1===e._state?f:u)(n.promise,e._value);var o;try{o=t(e._value)}catch(e){return void u(n.promise,e)}f(n.promise,o)})}function f(e,n){try{if(n===e)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var t=n.then;if(n instanceof i)return e._state=3,e._value=n,void c(e);if("function"==typeof t)return void a(o(t,n),e)}e._state=1,e._value=n,c(e)}catch(n){u(e,n)}}function u(e,n){e._state=2,e._value=n,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var n=0,t=e._deferreds.length;n<t;n++)r(e,e._deferreds[n]);e._deferreds=null}function s(e,n,t){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof n?n:null,this.promise=t}function a(e,n){var t=!1;try{e(function(e){t||(t=!0,f(n,e))},function(e){t||(t=!0,u(n,e))})}catch(e){if(t)return;t=!0,u(n,e)}}var l=setTimeout;i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,n){var o=new this.constructor(t);return r(this,new s(e,n,o)),o},i.all=function(e){return new i(function(n,t){function o(e,f){try{if(f&&("object"==typeof f||"function"==typeof f)){var u=f.then;if("function"==typeof u)return void u.call(f,function(n){o(e,n)},t)}i[e]=f,0==--r&&n(i)}catch(e){t(e)}}if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var i=Array.prototype.slice.call(e);if(0===i.length)return n([]);for(var r=i.length,f=0;f<i.length;f++)o(f,i[f])})},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i(function(n){n(e)})},i.reject=function(e){return new i(function(n,t){t(e)})},i.race=function(e){return new i(function(n,t){for(var o=0,i=e.length;o<i;o++)e[o].then(n,t)})},i._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){l(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},i._setImmediateFn=function(e){i._immediateFn=e},i._setUnhandledRejectionFn=function(e){i._unhandledRejectionFn=e},void 0!==n&&n.exports?n.exports=i:e.Promise||(e.Promise=i)}(this)});C.r("node_modules/ramda/src/always.js",function(r,n,t){var u=r("./internal/_curry1");n.exports=u(function(r){return function(){return r}})});C.r("node_modules/ramda/src/bind.js",function(n,r,t){var e=n("./internal/_arity"),a=n("./internal/_curry2");r.exports=a(function(n,r){return e(n.length,function(){return n.apply(r,arguments)})})});C.r("node_modules/ramda/src/compose.js",function(e,r,o){var n=e("./pipe"),s=e("./reverse");r.exports=function(){if(0===arguments.length)throw new Error("compose requires at least one argument");return n.apply(this,s(arguments))}});C.r("node_modules/ramda/src/cond.js",function(r,n,t){var a=r("./internal/_arity"),e=r("./internal/_curry1"),i=r("./map"),u=r("./max"),o=r("./reduce");n.exports=e(function(r){var n=o(u,0,i(function(r){return r[0].length},r));return a(n,function(){for(var n=0;n<r.length;){if(r[n][0].apply(this,arguments))return r[n][1].apply(this,arguments);n+=1}})})});C.r("node_modules/ramda/src/contains.js",function(n,r,a){var o=n("./internal/_contains"),s=n("./internal/_curry2");r.exports=s(o)});C.r("node_modules/ramda/src/converge.js",function(r,n,e){var t=r("./internal/_curry2"),u=r("./internal/_map"),a=r("./curryN"),c=r("./max"),o=r("./pluck"),i=r("./reduce");n.exports=t(function(r,n){return a(i(c,0,o("length",n)),function(){var e=arguments,t=this;return r.apply(t,u(function(r){return r.apply(t,e)},n))})})});C.r("node_modules/ramda/src/curryN.js",function(r,n,t){var a=r("./internal/_arity"),e=r("./internal/_curry1"),u=r("./internal/_curry2"),c=r("./internal/_curryN");n.exports=u(function(r,n){return 1===r?e(n):a(r,c(r,[],n))})});C.r("node_modules/ramda/src/identity.js",function(n,r,t){var e=n("./internal/_curry1"),i=n("./internal/_identity");r.exports=e(i)});C.r("node_modules/ramda/src/internal/_arity.js",function(t,n,r){n.exports=function(t,n){switch(t){case 0:return function(){return n.apply(this,arguments)};case 1:return function(t){return n.apply(this,arguments)};case 2:return function(t,r){return n.apply(this,arguments)};case 3:return function(t,r,e){return n.apply(this,arguments)};case 4:return function(t,r,e,u){return n.apply(this,arguments)};case 5:return function(t,r,e,u,a){return n.apply(this,arguments)};case 6:return function(t,r,e,u,a,i){return n.apply(this,arguments)};case 7:return function(t,r,e,u,a,i,s){return n.apply(this,arguments)};case 8:return function(t,r,e,u,a,i,s,c){return n.apply(this,arguments)};case 9:return function(t,r,e,u,a,i,s,c,p){return n.apply(this,arguments)};case 10:return function(t,r,e,u,a,i,s,c,p,o){return n.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}});C.r("node_modules/ramda/src/internal/_checkForMethod.js",function(r,n,t){var e=r("./_isArray");n.exports=function(r,n){return function(){var t=arguments.length;if(0===t)return n();var o=arguments[t-1];return e(o)||"function"!=typeof o[r]?n.apply(this,arguments):o[r].apply(o,Array.prototype.slice.call(arguments,0,t-1))}}});C.r("node_modules/ramda/src/internal/_contains.js",function(n,r,e){var o=n("./_indexOf");r.exports=function(n,r){return o(r,n,0)>=0}});C.r("node_modules/ramda/src/internal/_curryN.js",function(r,n,t){var e=r("./_arity"),a=r("./_isPlaceholder");n.exports=function r(n,t,l){return function(){for(var o=[],i=0,u=n,c=0;c<t.length||i<arguments.length;){var h;c<t.length&&(!a(t[c])||i>=arguments.length)?h=t[c]:(h=arguments[i],i+=1),o[c]=h,a(h)||(u-=1),c+=1}return u<=0?l.apply(this,o):e(u,r(n,o,l))}}});C.r("node_modules/ramda/src/internal/_dispatchable.js",function(r,n,t){var e=r("./_isArray"),a=r("./_isTransformer");n.exports=function(r,n,t){return function(){if(0===arguments.length)return t();var i=Array.prototype.slice.call(arguments,0),l=i.pop();if(!e(l)){for(var o=0;o<r.length;){if("function"==typeof l[r[o]])return l[r[o]].apply(l,i);o+=1}if(a(l)){return n.apply(null,i)(l)}}return t.apply(this,arguments)}}});C.r("node_modules/ramda/src/internal/_identity.js",function(n,r,t){r.exports=function(n){return n}});C.r("node_modules/ramda/src/internal/_indexOf.js",function(e,n,r){var t=e("../equals");n.exports=function(e,n,r){var f,i;if("function"==typeof e.indexOf)switch(typeof n){case"number":if(0===n){for(f=1/n;r<e.length;){if(0===(i=e[r])&&1/i===f)return r;r+=1}return-1}if(n!==n){for(;r<e.length;){if("number"==typeof(i=e[r])&&i!==i)return r;r+=1}return-1}return e.indexOf(n,r);case"string":case"boolean":case"function":case"undefined":return e.indexOf(n,r);case"object":if(null===n)return e.indexOf(n,r)}for(;r<e.length;){if(t(e[r],n))return r;r+=1}return-1}});C.r("node_modules/ramda/src/internal/_isArrayLike.js",function(r,e,n){var t=r("./_curry1"),o=r("./_isArray"),s=r("./_isString");e.exports=t(function(r){return!!o(r)||!!r&&("object"==typeof r&&(!s(r)&&(1===r.nodeType?!!r.length:0===r.length||r.length>0&&(r.hasOwnProperty(0)&&r.hasOwnProperty(r.length-1)))))})});C.r("node_modules/ramda/src/internal/_isTransformer.js",function(n,r,e){r.exports=function(n){return"function"==typeof n["@@transducer/step"]}});C.r("node_modules/ramda/src/internal/_map.js",function(r,n,a){n.exports=function(r,n){for(var a=0,e=n.length,o=Array(e);a<e;)o[a]=r(n[a]),a+=1;return o}});C.r("node_modules/ramda/src/internal/_pipe.js",function(n,r,t){r.exports=function(n,r){return function(){return r.call(this,n.apply(this,arguments))}}});C.r("node_modules/ramda/src/internal/_reduce.js",function(r,e,n){var t=r("./_isArrayLike"),u=r("./_xwrap"),a=r("../bind");e.exports=function(){function r(r,e,n){for(var t=0,u=n.length;t<u;){if((e=r["@@transducer/step"](e,n[t]))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}t+=1}return r["@@transducer/result"](e)}function e(r,e,n){for(var t=n.next();!t.done;){if((e=r["@@transducer/step"](e,t.value))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}t=n.next()}return r["@@transducer/result"](e)}function n(r,e,n,t){return r["@@transducer/result"](n[t](a(r["@@transducer/step"],r),e))}var c="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";return function(a,d,o){if("function"==typeof a&&(a=u(a)),t(o))return r(a,d,o);if("function"==typeof o["fantasy-land/reduce"])return n(a,d,o,"fantasy-land/reduce");if(null!=o[c])return e(a,d,o[c]());if("function"==typeof o.next)return e(a,d,o);if("function"==typeof o.reduce)return n(a,d,o,"reduce");throw new TypeError("reduce: list must be array or iterable")}}()});C.r("node_modules/ramda/src/internal/_xfBase.js",function(n,r,t){r.exports={init:function(){return this.xf["@@transducer/init"]()},result:function(n){return this.xf["@@transducer/result"](n)}}});C.r("node_modules/ramda/src/internal/_xmap.js",function(t,r,n){var e=t("./_curry2"),s=t("./_xfBase");r.exports=function(){function t(t,r){this.xf=r,this.f=t}return t.prototype["@@transducer/init"]=s.init,t.prototype["@@transducer/result"]=s.result,t.prototype["@@transducer/step"]=function(t,r){return this.xf["@@transducer/step"](t,this.f(r))},e(function(r,n){return new t(r,n)})}()});C.r("node_modules/ramda/src/internal/_xwrap.js",function(n,t,r){t.exports=function(){function n(n){this.f=n}return n.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},n.prototype["@@transducer/result"]=function(n){return n},n.prototype["@@transducer/step"]=function(n,t){return this.f(n,t)},function(t){return new n(t)}}()});C.r("node_modules/ramda/src/isNil.js",function(r,n,u){var e=r("./internal/_curry1");n.exports=e(function(r){return null==r})});C.r("node_modules/ramda/src/map.js",function(t,n,r){var e=t("./internal/_curry2"),a=t("./internal/_dispatchable"),c=t("./internal/_map"),i=t("./internal/_reduce"),l=t("./internal/_xmap"),u=t("./curryN"),o=t("./keys");n.exports=e(a(["fantasy-land/map","map"],l,function(t,n){switch(Object.prototype.toString.call(n)){case"[object Function]":return u(n.length,function(){return t.call(this,n.apply(this,arguments))});case"[object Object]":return i(function(r,e){return r[e]=t(n[e]),r},{},o(n));default:return c(t,n)}}))});C.r("node_modules/ramda/src/max.js",function(r,n,a){var e=r("./internal/_curry2");n.exports=e(function(r,n){return n>r?n:r})});C.r("node_modules/ramda/src/pipe.js",function(e,r,n){var t=e("./internal/_arity"),i=e("./internal/_pipe"),a=e("./reduce"),o=e("./tail");r.exports=function(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return t(arguments[0].length,a(i,arguments[0],o(arguments)))}});C.r("node_modules/ramda/src/pluck.js",function(r,n,o){var u=r("./internal/_curry2"),a=r("./map"),c=r("./prop");n.exports=u(function(r,n){return a(c(r),n)})});C.r("node_modules/ramda/src/prop.js",function(r,n,o){var e=r("./internal/_curry2");n.exports=e(function(r,n){return n[r]})});C.r("node_modules/ramda/src/propOr.js",function(r,n,a){var e=r("./internal/_curry3"),o=r("./internal/_has");n.exports=e(function(r,n,a){return null!=a&&o(n,a)?a[n]:r})});C.r("node_modules/ramda/src/reduce.js",function(r,e,n){var a=r("./internal/_curry3"),c=r("./internal/_reduce");e.exports=a(c)});C.r("node_modules/ramda/src/reverse.js",function(r,e,n){var s=r("./internal/_curry1"),t=r("./internal/_isString");e.exports=s(function(r){return t(r)?r.split("").reverse().join(""):Array.prototype.slice.call(r,0).reverse()})});C.r("node_modules/ramda/src/slice.js",function(r,e,c){var n=r("./internal/_checkForMethod"),o=r("./internal/_curry3");e.exports=o(n("slice",function(r,e,c){return Array.prototype.slice.call(c,r,e)}))});C.r("node_modules/ramda/src/tail.js",function(r,e,a){var n=r("./internal/_checkForMethod"),t=r("./internal/_curry1"),c=r("./slice");e.exports=t(n("tail",c(1,1/0)))});C.r("node_modules/react-redux/lib/components/connectAdvanced.js",function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function p(t,e){var o={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n]);return o}function a(){}function u(t,e){var o={run:function(n){try{var r=t(e.getState(),n);(r!==o.props||o.error)&&(o.shouldComponentUpdate=!0,o.props=r,o.error=null)}catch(t){o.shouldComponentUpdate=!0,o.error=t}}};return o}function c(t){var e,o,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=n.getDisplayName,h=void 0===c?function(t){return"ConnectAdvanced("+t+")"}:c,f=n.methodName,m=void 0===f?"connectAdvanced":f,N=n.renderCountProp,g=void 0===N?void 0:N,U=n.shouldHandleStateChanges,O=void 0===U||U,x=n.storeKey,P=void 0===x?"store":x,W=n.withRef,_=void 0!==W&&W,j=p(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),D=P+"Subscription",I=S++,M=(e={},e[P]=C.storeShape,e[D]=C.subscriptionShape,e),E=(o={},o[D]=C.subscriptionShape,o);return function(e){(0,y.default)("function"==typeof e,"You must pass a component to the function returned by connect. Instead received "+JSON.stringify(e));var o=e.displayName||e.name||"Component",n=h(o),p=d({},j,{getDisplayName:h,methodName:m,renderCountProp:g,shouldHandleStateChanges:O,storeKey:P,withRef:_,displayName:n,wrappedComponentName:o,WrappedComponent:e}),c=function(o){function c(t,e){r(this,c);var i=s(this,o.call(this,t,e));return i.version=I,i.state={},i.renderCount=0,i.store=t[P]||e[P],i.propsMode=Boolean(t[P]),i.setWrappedInstance=i.setWrappedInstance.bind(i),(0,y.default)(i.store,'Could not find "'+P+'" in either the context or props of "'+n+'". Either wrap the root component in a <Provider>, or explicitly pass "'+P+'" as a prop to "'+n+'".'),i.initSelector(),i.initSubscription(),i}return i(c,o),c.prototype.getChildContext=function(){var t,e=this.propsMode?null:this.subscription;return t={},t[D]=e||this.context[D],t},c.prototype.componentDidMount=function(){O&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},c.prototype.componentWillReceiveProps=function(t){this.selector.run(t)},c.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},c.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=a,this.store=null,this.selector.run=a,this.selector.shouldComponentUpdate=!1},c.prototype.getWrappedInstance=function(){return(0,y.default)(_,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+m+"() call."),this.wrappedInstance},c.prototype.setWrappedInstance=function(t){this.wrappedInstance=t},c.prototype.initSelector=function(){var e=t(this.store.dispatch,p);this.selector=u(e,this.store),this.selector.run(this.props)},c.prototype.initSubscription=function(){if(O){var t=(this.propsMode?this.props:this.context)[D];this.subscription=new v.default(this.store,t,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},c.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(w)):this.notifyNestedSubs()},c.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},c.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},c.prototype.addExtraProps=function(t){if(!(_||g||this.propsMode&&this.subscription))return t;var e=d({},t);return _&&(e.ref=this.setWrappedInstance),g&&(e[g]=this.renderCount++),this.propsMode&&this.subscription&&(e[D]=this.subscription),e},c.prototype.render=function(){var t=this.selector;if(t.shouldComponentUpdate=!1,t.error)throw t.error;return(0,b.createElement)(e,this.addExtraProps(t.props))},c}(b.Component);return c.WrappedComponent=e,c.displayName=n,c.childContextTypes=E,c.contextTypes=M,c.propTypes=M,(0,l.default)(c,e)}}o.__esModule=!0;var d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t};o.default=c;var h=t("hoist-non-react-statics"),l=n(h),f=t("invariant"),y=n(f),b=t("react"),m=t("../utils/Subscription"),v=n(m),C=t("../utils/PropTypes"),S=0,w={}});C.r("node_modules/react-redux/lib/connect/connect.js",function(e,r,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,r){var t={};for(var o in e)r.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}function n(e,r,t){for(var o=r.length-1;o>=0;o--){var a=r[o](e);if(a)return a}return function(r,o){throw new Error("Invalid value of type "+typeof e+" for "+t+" argument when connecting component "+o.wrappedComponentName+".")}}function u(e,r){return e===r}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.connectHOC,t=void 0===r?i.default:r,o=e.mapStateToPropsFactories,p=void 0===o?m.default:o,c=e.mapDispatchToPropsFactories,l=void 0===c?v.default:c,f=e.mergePropsFactories,P=void 0===f?h.default:f,g=e.selectorFactory,E=void 0===g?q.default:g;return function(e,r,o){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=c.pure,f=void 0===i||i,v=c.areStatesEqual,m=void 0===v?u:v,g=c.areOwnPropsEqual,h=void 0===g?d.default:g,q=c.areStatePropsEqual,S=void 0===q?d.default:q,w=c.areMergedPropsEqual,O=void 0===w?d.default:w,y=a(c,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),M=n(e,p,"mapStateToProps"),T=n(r,l,"mapDispatchToProps"),C=n(o,P,"mergeProps");return t(E,s({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:M,initMapDispatchToProps:T,initMergeProps:C,pure:f,areStatesEqual:m,areOwnPropsEqual:h,areStatePropsEqual:S,areMergedPropsEqual:O},y))}}t.__esModule=!0;var s=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e};t.createConnect=p;var c=e("../components/connectAdvanced"),i=o(c),l=e("../utils/shallowEqual"),d=o(l),f=e("./mapDispatchToProps"),v=o(f),P=e("./mapStateToProps"),m=o(P),g=e("./mergeProps"),h=o(g),E=e("./selectorFactory"),q=o(E);t.default=p()});C.r("node_modules/react-redux/lib/connect/mapDispatchToProps.js",function(o,n,t){"use strict";function r(o){return"function"==typeof o?(0,e.wrapMapToPropsFunc)(o,"mapDispatchToProps"):void 0}function p(o){return o?void 0:(0,e.wrapMapToPropsConstant)(function(o){return{dispatch:o}})}function s(o){return o&&"object"==typeof o?(0,e.wrapMapToPropsConstant)(function(n){return(0,a.bindActionCreators)(o,n)}):void 0}t.__esModule=!0,t.whenMapDispatchToPropsIsFunction=r,t.whenMapDispatchToPropsIsMissing=p,t.whenMapDispatchToPropsIsObject=s;var a=o("redux"),e=o("./wrapMapToProps");t.default=[r,p,s]});C.r("node_modules/react-redux/lib/connect/mapStateToProps.js",function(o,t,n){"use strict";function r(o){return"function"==typeof o?(0,a.wrapMapToPropsFunc)(o,"mapStateToProps"):void 0}function e(o){return o?void 0:(0,a.wrapMapToPropsConstant)(function(){return{}})}n.__esModule=!0,n.whenMapStateToPropsIsFunction=r,n.whenMapStateToPropsIsMissing=e;var a=o("./wrapMapToProps");n.default=[r,e]});C.r("node_modules/react-redux/lib/connect/mergeProps.js",function(r,e,n){"use strict";function t(r,e,n){return c({},n,r,e)}function o(r){return function(e,n){var t=(n.displayName,n.pure),o=n.areMergedPropsEqual,u=!1,i=void 0;return function(e,n,c){var a=r(e,n,c);return u?t&&o(a,i)||(i=a):(u=!0,i=a),i}}}function u(r){return"function"==typeof r?o(r):void 0}function i(r){return r?void 0:function(){return t}}n.__esModule=!0;var c=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])}return r};n.defaultMergeProps=t,n.wrapMergePropsFunc=o,n.whenMergePropsIsFunction=u,n.whenMergePropsIsOmitted=i;var a=r("../utils/verifyPlainObject");!function(r){r&&r.__esModule}(a);n.default=[u,i]});C.r("node_modules/react-redux/lib/connect/selectorFactory.js",function(r,n,t){"use strict";function e(r,n){var t={};for(var e in r)n.indexOf(e)>=0||Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e]);return t}function o(r,n,t,e){return function(o,i){return t(r(o,i),n(e,i),i)}}function i(r,n,t,e,o){function i(o,i){return P=o,v=i,O=r(P,v),M=n(e,v),S=t(O,M,v),l=!0,S}function u(){return O=r(P,v),n.dependsOnOwnProps&&(M=n(e,v)),S=t(O,M,v)}function a(){return r.dependsOnOwnProps&&(O=r(P,v)),n.dependsOnOwnProps&&(M=n(e,v)),S=t(O,M,v)}function s(){var n=r(P,v),e=!f(n,O);return O=n,e&&(S=t(O,M,v)),S}function c(r,n){var t=!d(n,v),e=!p(r,P);return P=r,v=n,t&&e?u():t?a():e?s():S}var p=o.areStatesEqual,d=o.areOwnPropsEqual,f=o.areStatePropsEqual,l=!1,P=void 0,v=void 0,O=void 0,M=void 0,S=void 0;return function(r,n){return l?c(r,n):i(r,n)}}function u(r,n){var t=n.initMapStateToProps,u=n.initMapDispatchToProps,a=n.initMergeProps,s=e(n,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),c=t(r,s),p=u(r,s),d=a(r,s);return(s.pure?i:o)(c,p,d,r,s)}t.__esModule=!0,t.impureFinalPropsSelectorFactory=o,t.pureFinalPropsSelectorFactory=i,t.default=u;var a=r("./verifySubselectors");!function(r){r&&r.__esModule}(a)});C.r("node_modules/react-redux/lib/connect/verifySubselectors.js",function(e,o,r){"use strict";function n(e,o,r){if(!e)throw new Error("Unexpected value for "+o+" in "+r+".");"mapStateToProps"!==o&&"mapDispatchToProps"!==o||e.hasOwnProperty("dependsOnOwnProps")||(0,a.default)("The selector for "+o+" of "+r+" did not specify a value for dependsOnOwnProps.")}function t(e,o,r,t){n(e,"mapStateToProps",t),n(o,"mapDispatchToProps",t),n(r,"mergeProps",t)}r.__esModule=!0,r.default=t;var s=e("../utils/warning"),a=function(e){return e&&e.__esModule?e:{default:e}}(s)});C.r("node_modules/react-redux/lib/connect/wrapMapToProps.js",function(n,o,r){"use strict";function e(n){return function(o,r){function e(){return p}var p=n(o,r);return e.dependsOnOwnProps=!1,e}}function p(n){return null!==n.dependsOnOwnProps&&void 0!==n.dependsOnOwnProps?Boolean(n.dependsOnOwnProps):1!==n.length}function s(n,o){return function(o,r){var e=(r.displayName,function(n,o){return e.dependsOnOwnProps?e.mapToProps(n,o):e.mapToProps(n)});return e.dependsOnOwnProps=!0,e.mapToProps=function(o,r){e.mapToProps=n,e.dependsOnOwnProps=p(n);var s=e(o,r);return"function"==typeof s&&(e.mapToProps=s,e.dependsOnOwnProps=p(s),s=e(o,r)),s},e}}r.__esModule=!0,r.wrapMapToPropsConstant=e,r.getDependsOnOwnProps=p,r.wrapMapToPropsFunc=s;var t=n("../utils/verifyPlainObject");!function(n){n&&n.__esModule}(t)});C.r("node_modules/react-redux/lib/utils/PropTypes.js",function(e,u,s){"use strict";s.__esModule=!0,s.storeShape=s.subscriptionShape=void 0;var i=e("prop-types"),t=function(e){return e&&e.__esModule?e:{default:e}}(i);s.subscriptionShape=t.default.shape({trySubscribe:t.default.func.isRequired,tryUnsubscribe:t.default.func.isRequired,notifyNestedSubs:t.default.func.isRequired,isSubscribed:t.default.func.isRequired}),s.storeShape=t.default.shape({subscribe:t.default.func.isRequired,dispatch:t.default.func.isRequired,getState:t.default.func.isRequired})});C.r("node_modules/react-redux/lib/utils/Subscription.js",function(t,s,n){"use strict";function i(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}function e(){var t=[],s=[];return{clear:function(){s=r,t=r},notify:function(){for(var n=t=s,i=0;i<n.length;i++)n[i]()},subscribe:function(n){var i=!0;return s===t&&(s=t.slice()),s.push(n),function(){i&&t!==r&&(i=!1,s===t&&(s=t.slice()),s.splice(s.indexOf(n),1))}}}}n.__esModule=!0;var r=null,u={notify:function(){}},o=function(){function t(s,n,e){i(this,t),this.store=s,this.parentSub=n,this.onStateChange=e,this.unsubscribe=null,this.listeners=u}return t.prototype.addNestedSub=function(t){return this.trySubscribe(),this.listeners.subscribe(t)},t.prototype.notifyNestedSubs=function(){this.listeners.notify()},t.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},t.prototype.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=e())},t.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=u)},t}();n.default=o});C.r("node_modules/react-redux/lib/utils/shallowEqual.js",function(e,t,r){"use strict";function n(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}function u(e,t){if(n(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),u=Object.keys(t);if(r.length!==u.length)return!1;for(var o=0;o<r.length;o++)if(!l.call(t,r[o])||!n(e[r[o]],t[r[o]]))return!1;return!0}r.__esModule=!0,r.default=u;var l=Object.prototype.hasOwnProperty});C.r("node_modules/react-redux/lib/utils/verifyPlainObject.js",function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){(0,l.default)(e)||(0,r.default)(n+"() in "+t+" must return a plain object. Instead received "+e+".")}n.__esModule=!0,n.default=i;var a=e("lodash/isPlainObject"),l=u(a),d=e("./warning"),r=u(d)});C.r("node_modules/react-redux/lib/utils/warning.js",function(e,o,r){"use strict";function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}r.__esModule=!0,r.default=n});C.r("node_modules/react-redux/node_modules/lodash/_Symbol.js",function(o,e,d){var r=o("./_root"),l=r.Symbol;e.exports=l});C.r("node_modules/react-redux/node_modules/lodash/_baseGetTag.js",function(e,o,t){function n(e){return null==e?void 0===e?l:i:u&&u in Object(e)?r(e):a(e)}var d=e("./_Symbol"),r=e("./_getRawTag"),a=e("./_objectToString"),i="[object Null]",l="[object Undefined]",u=d?d.toStringTag:void 0;o.exports=n});C.r("node_modules/react-redux/node_modules/lodash/_freeGlobal.js",function(o,e,l){var a="object"==typeof global&&global&&global.Object===Object&&global;e.exports=a});C.r("node_modules/react-redux/node_modules/lodash/_getPrototype.js",function(e,o,t){var r=e("./_overArg"),d=r(Object.getPrototypeOf,Object);o.exports=d});C.r("node_modules/react-redux/node_modules/lodash/_getRawTag.js",function(t,o,r){function e(t){var o=d.call(t,c),r=t[c];try{t[c]=void 0;var e=!0}catch(t){}var a=l.call(t);return e&&(o?t[c]=r:delete t[c]),a}var a=t("./_Symbol"),n=Object.prototype,d=n.hasOwnProperty,l=n.toString,c=a?a.toStringTag:void 0;o.exports=e});C.r("node_modules/react-redux/node_modules/lodash/_objectToString.js",function(o,t,e){function r(o){return c.call(o)}var n=Object.prototype,c=n.toString;t.exports=r});C.r("node_modules/react-redux/node_modules/lodash/_overArg.js",function(e,n,o){function r(e,n){return function(o){return e(n(o))}}n.exports=r});C.r("node_modules/react-redux/node_modules/lodash/_root.js",function(e,o,t){var s=e("./_freeGlobal"),l="object"==typeof self&&self&&self.Object===Object&&self,r=s||l||Function("return this")();o.exports=r});C.r("node_modules/react-redux/node_modules/lodash/isObjectLike.js",function(e,o,n){function t(e){return null!=e&&"object"==typeof e}o.exports=t});C.r("node_modules/react-redux/node_modules/lodash/isPlainObject.js",function(t,e,o){function r(t){if(!a(t)||n(t)!=u)return!1;var e=c(t);if(null===e)return!0;var o=p.call(e,"constructor")&&e.constructor;return"function"==typeof o&&o instanceof o&&s.call(o)==b}var n=t("./_baseGetTag"),c=t("./_getPrototype"),a=t("./isObjectLike"),u="[object Object]",i=Function.prototype,l=Object.prototype,s=i.toString,p=l.hasOwnProperty,b=s.call(Object);e.exports=r});C.r("node_modules/react-transition-group/CSSTransitionGroup.js",function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},s=t("react"),u=n(s),l=t("prop-types"),f=n(l),c=t("./TransitionGroup"),d=n(c),m=t("./CSSTransitionGroupChild"),h=n(m),y=t("./utils/PropTypes"),T={transitionName:y.nameShape.isRequired,transitionAppear:f.default.bool,transitionEnter:f.default.bool,transitionLeave:f.default.bool,transitionAppearTimeout:(0,y.transitionTimeout)("Appear"),transitionEnterTimeout:(0,y.transitionTimeout)("Enter"),transitionLeaveTimeout:(0,y.transitionTimeout)("Leave")},b={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0},v=function(t){function e(){var r,n,a;o(this,e);for(var p=arguments.length,s=Array(p),l=0;l<p;l++)s[l]=arguments[l];return r=n=i(this,t.call.apply(t,[this].concat(s))),n._wrapChild=function(t){return u.default.createElement(h.default,{name:n.props.transitionName,appear:n.props.transitionAppear,enter:n.props.transitionEnter,leave:n.props.transitionLeave,appearTimeout:n.props.transitionAppearTimeout,enterTimeout:n.props.transitionEnterTimeout,leaveTimeout:n.props.transitionLeaveTimeout},t)},a=r,i(n,a)}return a(e,t),e.prototype.render=function(){return u.default.createElement(d.default,p({},this.props,{childFactory:this._wrapChild}))},e}(u.default.Component);v.displayName="CSSTransitionGroup",v.propTypes=T,v.defaultProps=b,r.default=v,e.exports=r.default});C.r("node_modules/react-transition-group/CSSTransitionGroupChild.js",function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return C.length?C.forEach(function(n){return e.addEventListener(n,t,!1)}):setTimeout(t,0),function(){C.length&&C.forEach(function(n){return e.removeEventListener(n,t,!1)})}}n.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=e("dom-helpers/class/addClass"),p=o(l),d=e("dom-helpers/class/removeClass"),c=o(d),f=e("dom-helpers/util/requestAnimationFrame"),m=o(f),h=e("dom-helpers/transition/properties"),v=e("react"),y=o(v),T=e("prop-types"),N=o(T),b=e("react-dom"),E=e("./utils/PropTypes"),C=[];h.transitionEnd&&C.push(h.transitionEnd),h.animationEnd&&C.push(h.animationEnd);var A={children:N.default.node,name:E.nameShape.isRequired,appear:N.default.bool,enter:N.default.bool,leave:N.default.bool,appearTimeout:N.default.number,enterTimeout:N.default.number,leaveTimeout:N.default.number},g=function(e){function t(){var n,o,i;r(this,t);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=o=a(this,e.call.apply(e,[this].concat(u))),o.componentWillAppear=function(e){o.props.appear?o.transition("appear",e,o.props.appearTimeout):e()},o.componentWillEnter=function(e){o.props.enter?o.transition("enter",e,o.props.enterTimeout):e()},o.componentWillLeave=function(e){o.props.leave?o.transition("leave",e,o.props.leaveTimeout):e()},i=n,a(o,i)}return i(t,e),t.prototype.componentWillMount=function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)}),this.classNameAndNodeQueue.length=0},t.prototype.transition=function(e,t,n){var o=(0,b.findDOMNode)(this);if(!o)return void(t&&t());var r=this.props.name[e]||this.props.name+"-"+e,a=this.props.name[e+"Active"]||r+"-active",i=null,u=void 0;(0,p.default)(o,r),this.queueClassAndNode(a,o);var l=function(e){e&&e.target!==o||(clearTimeout(i),u&&u(),(0,c.default)(o,r),(0,c.default)(o,a),u&&u(),t&&t())};n?(i=setTimeout(l,n),this.transitionTimeouts.push(i)):h.transitionEnd&&(u=s(o,l))},t.prototype.queueClassAndNode=function(e,t){var n=this;this.classNameAndNodeQueue.push({className:e,node:t}),this.rafHandle||(this.rafHandle=(0,m.default)(function(){return n.flushClassNameAndNodeQueue()}))},t.prototype.flushClassNameAndNodeQueue=function(){this.unmounted||this.classNameAndNodeQueue.forEach(function(e){e.node.scrollTop,(0,p.default)(e.node,e.className)}),this.classNameAndNodeQueue.length=0,this.rafHandle=null},t.prototype.render=function(){var e=u({},this.props);return delete e.name,delete e.appear,delete e.enter,delete e.leave,delete e.appearTimeout,delete e.enterTimeout,delete e.leaveTimeout,delete e.children,y.default.cloneElement(y.default.Children.only(this.props.children),e)},t}(y.default.Component);g.displayName="CSSTransitionGroupChild",g.propTypes=A,n.default=g,t.exports=n.default});C.r("node_modules/react-transition-group/utils/PropTypes.js",function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}return null}}n.__esModule=!0,n.nameShape=void 0,n.transitionTimeout=i;var a=e("react"),u=(r(a),e("prop-types")),o=r(u);n.nameShape=o.default.oneOfType([o.default.string,o.default.shape({enter:o.default.string,leave:o.default.string,active:o.default.string}),o.default.shape({enter:o.default.string,enterActive:o.default.string,leave:o.default.string,leaveActive:o.default.string,appear:o.default.string,appearActive:o.default.string})])});C.r("node_modules/redux/lib/applyMiddleware.js",function(t,r,e){"use strict";function n(){for(var t=arguments.length,r=Array(t),e=0;e<t;e++)r[e]=arguments[e];return function(t){return function(e,n,u){var i=t(e,n,u),c=i.dispatch,d=[],f={getState:i.getState,dispatch:function(t){return c(t)}};return d=r.map(function(t){return t(f)}),c=o.default.apply(void 0,d)(i.dispatch),a({},i,{dispatch:c})}}}e.__esModule=!0;var a=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t};e.default=n;var u=t("./compose"),o=function(t){return t&&t.__esModule?t:{default:t}}(u)});C.r("node_modules/redux/lib/bindActionCreators.js",function(t,o,e){"use strict";function n(t,o){return function(){return o(t.apply(void 0,arguments))}}function r(t,o){if("function"==typeof t)return n(t,o);if("object"!=typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var e=Object.keys(t),r={},i=0;i<e.length;i++){var u=e[i],f=t[u];"function"==typeof f&&(r[u]=n(f,o))}return r}e.__esModule=!0,e.default=r});C.r("node_modules/redux/lib/combineReducers.js",function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function o(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:u.ActionTypes.INIT}))throw new Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+u.ActionTypes.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.')})}function a(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var a=t[r];"function"==typeof e[a]&&(n[a]=e[a])}var u,d=Object.keys(n);try{o(n)}catch(e){u=e}return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];if(u)throw u;for(var r=!1,o={},a=0;a<d.length;a++){var s=d[a],c=n[s],f=e[s],h=c(f,t);if(void 0===h){var l=i(s,t);throw new Error(l)}o[s]=h,r=r||h!==f}return r?o:e}}n.__esModule=!0,n.default=a;var u=e("./createStore"),d=e("lodash/isPlainObject"),s=(r(d),e("./utils/warning"));r(s)});C.r("node_modules/redux/lib/compose.js",function(e,n,r){"use strict";function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];if(0===n.length)return function(e){return e};if(1===n.length)return n[0];var t=n[n.length-1],u=n.slice(0,-1);return function(){return u.reduceRight(function(e,n){return n(e)},t.apply(void 0,arguments))}}r.__esModule=!0,r.default=t});C.r("node_modules/redux/lib/createStore.js",function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){function r(){w===h&&(w=h.slice())}function i(){return y}function u(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return r(),w.push(e),function(){if(t){t=!1,r();var n=w.indexOf(e);w.splice(n,1)}}}function s(e){if(!(0,c.default)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(v)throw new Error("Reducers may not dispatch actions.");try{v=!0,y=b(y,e)}finally{v=!1}for(var t=h=w,n=0;n<t.length;n++)t[n]();return e}function d(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");b=e,s({type:a.INIT})}function p(){var e,t=u;return e={subscribe:function(e){function n(){e.next&&e.next(i())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");return n(),{unsubscribe:t(n)}}},e[f.default]=function(){return this},e}var l;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(o)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var b=e,y=t,h=[],w=h,v=!1;return s({type:a.INIT}),l={dispatch:s,subscribe:u,getState:i,replaceReducer:d},l[f.default]=p,l}n.__esModule=!0,n.ActionTypes=void 0,n.default=o;var i=e("lodash/isPlainObject"),c=r(i),u=e("symbol-observable"),f=r(u),a=n.ActionTypes={INIT:"@@redux/INIT"}});C.r("node_modules/redux/lib/index.js",function(e,d,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}o.__esModule=!0,o.compose=o.applyMiddleware=o.bindActionCreators=o.combineReducers=o.createStore=void 0;var t=e("./createStore"),a=r(t),i=e("./combineReducers"),c=r(i),n=e("./bindActionCreators"),u=r(n),l=e("./applyMiddleware"),s=r(l),p=e("./compose"),f=r(p),b=e("./utils/warning");r(b);o.createStore=a.default,o.combineReducers=c.default,o.bindActionCreators=u.default,o.applyMiddleware=s.default,o.compose=f.default});C.r("node_modules/redux/lib/utils/warning.js",function(o,e,n){"use strict";function r(o){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(o);try{throw new Error(o)}catch(o){}}n.__esModule=!0,n.default=r});C.r("node_modules/redux/node_modules/lodash/_Symbol.js",function(o,d,e){var l=o("./_root"),r=l.Symbol;d.exports=r});C.r("node_modules/redux/node_modules/lodash/_baseGetTag.js",function(e,o,n){function t(e){return null==e?void 0===e?u:r:a&&a in Object(e)?i(e):l(e)}var d=e("./_Symbol"),i=e("./_getRawTag"),l=e("./_objectToString"),r="[object Null]",u="[object Undefined]",a=d?d.toStringTag:void 0;o.exports=t});C.r("node_modules/redux/node_modules/lodash/_freeGlobal.js",function(o,l,e){var b="object"==typeof global&&global&&global.Object===Object&&global;l.exports=b});C.r("node_modules/redux/node_modules/lodash/_getPrototype.js",function(e,o,t){var r=e("./_overArg"),d=r(Object.getPrototypeOf,Object);o.exports=d});C.r("node_modules/redux/node_modules/lodash/_getRawTag.js",function(o,t,r){function e(o){var t=d.call(o,c),r=o[c];try{o[c]=void 0;var e=!0}catch(o){}var a=l.call(o);return e&&(t?o[c]=r:delete o[c]),a}var a=o("./_Symbol"),n=Object.prototype,d=n.hasOwnProperty,l=n.toString,c=a?a.toStringTag:void 0;t.exports=e});C.r("node_modules/redux/node_modules/lodash/_objectToString.js",function(o,t,e){function n(o){return d.call(o)}var r=Object.prototype,d=r.toString;t.exports=n});C.r("node_modules/redux/node_modules/lodash/_overArg.js",function(n,o,e){function r(n,o){return function(e){return n(o(e))}}o.exports=r});C.r("node_modules/redux/node_modules/lodash/_root.js",function(e,o,s){var t=e("./_freeGlobal"),l="object"==typeof self&&self&&self.Object===Object&&self,r=t||l||Function("return this")();o.exports=r});C.r("node_modules/redux/node_modules/lodash/isObjectLike.js",function(e,o,n){function t(e){return null!=e&&"object"==typeof e}o.exports=t});C.r("node_modules/redux/node_modules/lodash/isPlainObject.js",function(t,e,o){function r(t){if(!u(t)||n(t)!=a)return!1;var e=c(t);if(null===e)return!0;var o=p.call(e,"constructor")&&e.constructor;return"function"==typeof o&&o instanceof o&&s.call(o)==b}var n=t("./_baseGetTag"),c=t("./_getPrototype"),u=t("./isObjectLike"),a="[object Object]",i=Function.prototype,l=Object.prototype,s=i.toString,p=l.hasOwnProperty,b=s.call(Object);e.exports=r});C.r("node_modules/sanctuary-type-classes/index.js",function(t,n,r){!function(r){"use strict";"object"==typeof n&&"object"==typeof n.exports?n.exports=r(t("sanctuary-type-identifiers")):"function"==typeof define&&null!=define.amd?define(["sanctuary-type-identifiers"],r):self.sanctuaryTypeClasses=r(self.sanctuaryTypeIdentifiers)}(function(t){"use strict";function n(t){return function(n){return t.concat(n)}}function r(t){return function(n){return t}}function e(t,n){return Object.prototype.hasOwnProperty.call(n,t)}function u(t){return t}function a(t){return function(n){return[t,n]}}function o(t){return{value:t,done:!1}}function i(t){return{value:t,done:!0}}function c(t,n,r){if(!(this instanceof c))return new c(t,n,r);this.name=t,this.test=function(t){return n.every(function(n){return n.test(t)})&&r(t)}}function s(t,n,r){for(var u=r,a=0;a<n.length;a+=1){var o=n[a];if(null==u||!t&&!e(o,u))return null;u=u[o]}return"function"==typeof u?u:null}function f(t,n){return s(!0,t,n)}function l(t){return s(!1,t,Wt)}function p(n,r,e){function u(n){var r="fantasy-land/"+n;return e[n]===wt?function(t){return f([r],t)||l([/function (\w*)/.exec(t)[1],r])}:function(n){var e=null!=n&&null!=n.constructor&&n.constructor.prototype===n,u=null;return e||(u=f([r],n)),null==u&&(u=l([t(n),"prototype",r])),u&&u.bind(n)}}var a="sanctuary-type-classes/"+n,o=Object.keys(e),i=c(a,r,function(t){return o.every(function(n){var r=e[n]===wt?t.constructor:t;return null!=u(n)(r)})});return i.methods=o.reduce(function(t,n){return t[n]=u(n),t},{}),i}function h(){return"null"}function y(t){return!0}function d(){return"undefined"}function v(t){return!0}function m(){return"object"==typeof this?"new Boolean("+Xt(this.valueOf())+")":this.toString()}function g(t){return typeof t==typeof this&&t.valueOf()===this.valueOf()}function b(){return"object"==typeof this?"new Number("+Xt(this.valueOf())+")":1/this==-1/0?"-0":this.toString(10)}function S(t){return"object"==typeof t?"object"==typeof this&&Yt(this.valueOf(),t.valueOf()):isNaN(t)&&isNaN(this)||t===this&&1/t==1/this}function O(){var t=isNaN(this.valueOf())?NaN:this.toISOString();return"new Date("+Xt(t)+")"}function j(t){return Yt(this.valueOf(),t.valueOf())}function q(t){return t.source===this.source&&t.global===this.global&&t.ignoreCase===this.ignoreCase&&t.multiline===this.multiline&&t.sticky===this.sticky&&t.unicode===this.unicode}function x(){return""}function C(){return"object"==typeof this?"new String("+Xt(this.valueOf())+")":'"'+this.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'}function A(t){return typeof t==typeof this&&t.valueOf()===this.valueOf()}function N(t){return this+t}function w(){return[]}function R(t){return[t]}function k(t,n){for(var r=[n],e=[];r.length>0;){for(var u=t(o,i,r.shift()),a=[],c=0;c<u.length;c+=1)(u[c].done?e:a).push(u[c].value);Array.prototype.unshift.apply(r,a)}return e}function F(){return[]}function M(){for(var t=this.map(Xt),n=Object.keys(this).sort(),r=0;r<n.length;r+=1){var e=n[r];/^\d+$/.test(e)||t.push(Xt(e)+": "+Xt(this[e]))}return"["+t.join(", ")+"]"}function T(t){if(t.length!==this.length)return!1;for(var n=0;n<this.length;n+=1)if(!Yt(this[n],t[n]))return!1;return!0}function z(t){return this.concat(t)}function E(t){return this.map(function(n){return t(n)})}function P(t){for(var n=[],r=0;r<t.length;r+=1)for(var e=0;e<this.length;e+=1)n.push(t[r](this[e]));return n}function B(t){var n=[];return this.forEach(function(r){Array.prototype.push.apply(n,t(r))}),n}function D(t,n){return this.reduce(function(n,r){return t(n,r)},n)}function I(t,r){function e(o,i){switch(i){case 0:return dt(t,[]);case 2:return lt(a,r(u[o]),r(u[o+1]));default:var c=2*Math.floor(i/4);return lt(n,e(o,c),e(o+c,i-c))}}var u=this;return this.length%2==1?lt(n,it(R,r(this[0])),e(1,this.length-1)):e(0,this.length)}function U(t){return[t(this)]}function V(){return"(function () { return arguments; }("+Array.prototype.map.call(this,Xt).join(", ")+"))"}function $(t){return T.call(this,t)}function _(){return"new "+this.name+"("+Xt(this.message)+")"}function G(t){return Yt(this.name,t.name)&&Yt(this.message,t.message)}function H(){return{}}function J(){return{}}function K(){for(var t=[],n=Object.keys(this).sort(),r=0;r<n.length;r+=1){var e=n[r];t.push(Xt(e)+": "+Xt(this[e]))}return"{"+t.join(", ")+"}"}function L(t){var n=this,r=Object.keys(this).sort();return Yt(r,Object.keys(t).sort())&&r.every(function(r){return Yt(n[r],t[r])})}function Q(t){var n={};for(var r in this)n[r]=this[r];for(r in t)n[r]=t[r];return n}function W(t){var n={};for(var r in this)n[r]=t(this[r]);return n}function X(t,n){var r=n;for(var e in this)r=t(r,this[e]);return r}function Y(t){return function(n){return t}}function Z(t,n){return function(r){for(var e=o(n);!e.done;)e=t(o,i,e.value)(r);return e.value}}function tt(t){return t===this}function nt(t){var n=this;return function(r){return t(n(r))}}function rt(t,n){var r=this;return function(e){return n(r(t(e)))}}function et(t){var n=this;return function(r){return t(r)(n(r))}}function ut(t){var n=this;return function(r){return t(n(r))(r)}}function at(t,n){return Ft.methods.concat(t)(n)}function ot(t){return Mt.methods.empty(t)()}function it(t,n){return Tt.methods.map(n)(t)}function ct(t,n,r){return zt.methods.bimap(r)(t,n)}function st(t,n,r){return Et.methods.promap(r)(t,n)}function ft(t,n){return Pt.methods.ap(n)(t)}function lt(t,n,r){return ft(it(t,n),r)}function pt(t,n,r,e){return ft(ft(it(t,n),r),e)}function ht(t,n){return lt(r,t,n)}function yt(t,n){return lt(r(u),t,n)}function dt(t,n){return Bt.methods.of(t)(n)}function vt(t,n){return Dt.methods.chain(n)(t)}function mt(t){return vt(u,t)}function gt(t,n,r){return It.methods.chainRec(t)(n,r)}function bt(t,n){var r=n.constructor;return qt(function(n,e){return t(e)?at(n,dt(r,e)):n},ot(r),n)}function St(t,n){var r=n.constructor,e=ot(r);return vt(function(n){return t(n)?dt(r,n):e},n)}function Ot(t,n){return Vt.methods.alt(t)(n)}function jt(t){return $t.methods.zero(t)()}function qt(t,n,r){return Gt.methods.reduce(r)(t,n)}function xt(t,n,r){return Ht.methods.traverse(r)(t,n)}function Ct(t,n){return xt(t,u,n)}function At(t,n){return Jt.methods.extend(n)(t)}function Nt(t){return Kt.methods.extract(t)()}c["@@type"]="sanctuary-type-classes/TypeClass";var wt="Constructor",Rt="Value",kt=p("Setoid",[],{equals:Rt}),Ft=p("Semigroup",[],{concat:Rt}),Mt=p("Monoid",[Ft],{empty:wt}),Tt=p("Functor",[],{map:Rt}),zt=p("Bifunctor",[Tt],{bimap:Rt}),Et=p("Profunctor",[Tt],{promap:Rt}),Pt=p("Apply",[Tt],{ap:Rt}),Bt=p("Applicative",[Pt],{of:wt}),Dt=p("Chain",[Pt],{chain:Rt}),It=p("ChainRec",[Dt],{chainRec:wt}),Ut=p("Monad",[Bt,Dt],{}),Vt=p("Alt",[Tt],{alt:Rt}),$t=p("Plus",[Vt],{zero:wt}),_t=p("Alternative",[Bt,$t],{}),Gt=p("Foldable",[],{reduce:Rt}),Ht=p("Traversable",[Tt,Gt],{traverse:Rt}),Jt=p("Extend",[Tt],{extend:Rt}),Kt=p("Comonad",[Jt],{extract:Rt}),Lt=z,Qt=Q,Wt={Null:{prototype:{toString:h,"fantasy-land/equals":y}},Undefined:{prototype:{toString:d,"fantasy-land/equals":v}},Boolean:{prototype:{toString:m,"fantasy-land/equals":g}},Number:{prototype:{toString:b,"fantasy-land/equals":S}},Date:{prototype:{toString:O,"fantasy-land/equals":j}},RegExp:{prototype:{"fantasy-land/equals":q}},String:{"fantasy-land/empty":x,prototype:{toString:C,"fantasy-land/equals":A,"fantasy-land/concat":N}},Array:{"fantasy-land/empty":w,"fantasy-land/of":R,"fantasy-land/chainRec":k,"fantasy-land/zero":F,prototype:{toString:M,"fantasy-land/equals":T,"fantasy-land/concat":z,"fantasy-land/map":E,"fantasy-land/ap":P,"fantasy-land/chain":B,"fantasy-land/alt":Lt,"fantasy-land/reduce":D,"fantasy-land/traverse":I,"fantasy-land/extend":U}},Arguments:{prototype:{toString:V,"fantasy-land/equals":$}},Error:{prototype:{toString:_,"fantasy-land/equals":G}},Object:{"fantasy-land/empty":H,"fantasy-land/zero":J,prototype:{toString:K,"fantasy-land/equals":L,"fantasy-land/concat":Q,"fantasy-land/map":W,"fantasy-land/alt":Qt,"fantasy-land/reduce":X}},Function:{"fantasy-land/of":Y,"fantasy-land/chainRec":Z,prototype:{"fantasy-land/equals":tt,"fantasy-land/map":nt,"fantasy-land/promap":rt,"fantasy-land/ap":et,"fantasy-land/chain":ut}}},Xt=function(){function n(t,n){r.push(n);try{return t.call(n)}finally{r.pop()}}var r=[];return function(e){if(r.indexOf(e)>=0)return"<Circular>";var u=t(e);if("Object"===u){var a;try{a=n(e.toString,e)}catch(t){}if(null!=a&&"[object Object]"!==a)return a}return n(l([u,"prototype","toString"])||e.toString,e)}}(),Yt=function(){var n=[];return function(r,e){if(t(r)!==t(e))return!1;if(n.some(function(t){return t[0]===r&&t[1]===e}))return!0;n.push([r,e]);try{return kt.test(r)&&kt.test(e)&&kt.methods.equals(r)(e)}finally{n.pop()}}}();return{TypeClass:c,Setoid:kt,Semigroup:Ft,Monoid:Mt,Functor:Tt,Bifunctor:zt,Profunctor:Et,Apply:Pt,Applicative:Bt,Chain:Dt,ChainRec:It,Monad:Ut,Alt:Vt,Plus:$t,Alternative:_t,Foldable:Gt,Traversable:Ht,Extend:Jt,Comonad:Kt,toString:Xt,equals:Yt,concat:at,empty:ot,map:it,bimap:ct,promap:st,ap:ft,lift2:lt,lift3:pt,apFirst:ht,apSecond:yt,of:dt,chain:vt,join:mt,chainRec:gt,filter:bt,filterM:St,alt:Ot,zero:jt,reduce:qt,traverse:xt,sequence:Ct,extend:At,extract:Nt}})});C.r("node_modules/sanctuary-type-identifiers/index.js",function(t,e,n){!function(t){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=t():"function"==typeof define&&null!=define.amd?define([],t):self.sanctuaryTypeIdentifiers=t()}(function(){"use strict";function t(t){return null!=t&&null!=t.constructor&&t.constructor.prototype!==t&&"string"==typeof t.constructor[e]?t.constructor[e]:Object.prototype.toString.call(t).slice("[object ".length,-"]".length)}var e="@@type";return t})});C.r("node_modules/shakti-platform/dist/ui/consolidatedLogging/cl-types.js",function(s,t,o){"use strict";t.exports={}});C.r("node_modules/shakti-platform/dist/ui/consolidatedLogging/constants/appViewTypes.js",function(e,t,o){"use strict";var i={accountDropdownPanel:"accountDropdownPanel",addCachedVideoButton:"addCachedVideoButton",addProfile:"addProfile",addToMyListButton:"addToMyListButton",ageVerificationDialog:"ageVerificationDialog",airplayDeviceSelector:"airplayDeviceSelector",appLoading:"appLoading",audioSubtitlesSelector:"audioSubtitlesSelector",autoPlayInterrupter:"autoPlayInterrupter",billboard:"billboard",billboardTitlePromo:"billboardTitlePromo",birthDayInput:"birthDayInput",birthMonthInput:"birthMonthInput",birthYearInput:"birthYearInput",bob:"bob",boxArt:"boxArt",browseTab:"browseTab",browseTitles:"browseTitles",cachedEpisodes:"cachedEpisodes",cachedVideos:"cachedVideos",cardExpirationDateInput:"cardExpirationDateInput",cardNumberInput:"cardNumberInput",cardSecurityCodeInput:"cardSecurityCodeInput",castDeviceSelector:"castDeviceSelector",categorySelector:"categorySelector",categorySelectorItem:"categorySelectorItem",categoryBox:"categoryBox",categoryEvidence:"categoryEvidence",characterDetails:"characterDetails",cityInput:"cityInput",customerService:"customerService",deleteProfileConfirmation:"deleteProfileConfirmation",directDebitAccountDigitInput:"directDebitAccountDigitInput",directDebitAccountNumberInput:"directDebitAccountNumberInput",directDebitBranchNumberInput:"directDebitBranchNumberInput",directDebitChoiceInput:"directDebitChoiceInput",directDebitCpfInput:"directDebitCpfInput",directDebitOperationInput:"directDebitOperationInput",downloadProgress:"downloadProgress",editProfile:"editProfile",editProfileAvatar:"editProfileAvatar",editProfileLanguage:"editProfileLanguage",editProfileName:"editProfileName",editProfiles:"editProfiles",emailInput:"emailInput",eogPlanSelector:"eogPlanSelector",eogPrompt:"eogPrompt",episodesSelector:"episodesSelector",errorDialog:"errorDialog",firstNameInput:"firstNameInput",giftCardNumberInput:"giftCardNumberInput",ikoBattleGearSelector:"ikoBattleGearSelector",ikoBattlePrompt:"ikoBattlePrompt",ikoBattleResult:"ikoBattleResult",ikoChoiceLocked:"ikoChoiceLocked",ikoChoicePoint:"ikoChoicePoint",ikoChoicePointEndLocked:"ikoChoicePointEndLocked",ikoChoicePointEndUnlocked:"ikoChoicePointEndUnlocked",ikoChoicePointLocked:"ikoChoicePointLocked",ikoChoicePointNavigator:"ikoChoicePointNavigator",ikoChoicePointNavigatorPreview:"ikoChoicePointNavigatorPreview",ikoChoicePointOption:"ikoChoicePointOption",ikoChoicePointOverlay:"ikoChoicePointOverlay",ikoChoicePointStart:"ikoChoicePointStart",ikoChoicePointEnd:"ikoChoicePointEnd",ikoChoicePointUnlocked:"ikoChoicePointUnlocked",ikoChoiceUnlocked:"ikoChoiceUnlocked",ikoInterstitialPostPlay:"ikoInterstitialPostPlay",ikoMoment:"ikoMoment",ikoNotification:"ikoNotification",ikoSegmentResume:"ikoSegmentResume",ikoUnlock:"ikoUnlock",invalidProfileNameDialog:"invalidProfileNameDialog",jawboneEpisodes:"jawboneEpisodes",jawboneOverview:"jawboneOverview",jawboneShowDetails:"jawboneShowDetails",jawboneSimilars:"jawboneSimilars",jawboneTrailers:"jawboneTrailers",kidsCharacter:"kidsCharacter",languageOptionButton:"languageOptionButton",lastNameInput:"lastNameInput",legalTerms:"legalTerms",login:"login",logout:"logout",maturityAdvisory:"maturityAdvisory",memberIdPrompt:"memberIdPrompt",memberPasswordPrompt:"memberPasswordPrompt",menu:"menu",movieDetails:"movieDetails",movieDetailsOverlay:"movieDetailsOverlay",myListGallery:"myListGallery",nextButton:"nextButton",nmLanding:"nmLanding",noConnectivityWarning:"noConnectivityWarning",noRow:"noRow",notificationItem:"notificationItem",notificationSelector:"notificationSelector",onramp:"onramp",onrampIntro:"onrampIntro",onrampOutro:"onrampOutro",onrampTitleSelector:"onrampTitleSelector",orderConfirmation:"orderConfirmation",passwordInput:"passwordInput",pauseDownloadButton:"pauseDownloadButton",paymentContext:"paymentContext",paymentCreditCard:"paymentCreditCard",paymentDebitCard:"paymentDebitCard",paymentDirectDebit:"paymentDirectDebit",paymentGiftCard:"paymentGiftCard",paymentPaypal:"paymentPaypal",pinPrompt:"pinPrompt",planOption:"planOption",planSelection:"planSelection",planSelectionContext:"planSelectionContext",planUpgradeConfirmationPrompt:"planUpgradeConfirmationPrompt",planUpgradeGate:"planUpgradeGate",playback:"playback",playbackControls:"playbackControls",playButton:"playButton",playWithLanguageOptionButton:"playWithLanguageOptionButton",postPlay:"postPlay",prePlayback:"prePlayback",prerollIntro:"prerollIntro",prerollOutro:"prerollOutro",profilesGate:"profilesGate",profileAvatar:"profileAvatar",registration:"registration",registrationContext:"registrationContext",removeAllCachedVideosButton:"removeAllCachedVideosButton",removeCachedVideoButton:"removeCachedVideoButton",resumeDownloadButton:"resumeDownloadButton",retryDownloadButton:"retryDownloadButton",screenSaver:"screenSaver",search:"search",searchBox:"searchBox",searchResults:"searchResults",searchSuggestionResults:"searchSuggestionResults",searchTitleResults:"searchTitleResults",searchSuggestionTitleResults:"searchSuggestionTitleResults",seasonsSelector:"seasonsSelector",settings:"settings",shareButton:"shareButton",signUpButton:"signUpButton",signupPrompt:"signupPrompt",storyArt:"storyArt",streetInput:"streetInput",subtitles:"subtitles",suggestionItem:"suggestionItem",survey:"survey",surveyQuestion:"surveyQuestion",thumbRatingIntroDialog:"thumbRatingIntroDialog",thumbRatingWelcomeDialog:"thumbRatingWelcomeDialog",tinCancellation:"tinCancellation",tinDevices:"tinDevices",tinPlans:"tinPlans",tinWatchOffline:"tinWatchOffline",titleEvidence:"titleEvidence",titlePitch:"titlePitch",titleSelector:"titleSelector",trickplay:"trickplay",trickplayScrubber:"trickplayScrubber",trickplayScrubberThumb:"trickplayScrubberThumb",umsAlert:"umsAlert",umsAlertButton:"umsAlertButton",upgradingPlan:"upgradingPlan",videoNotAvailableToCacheWarning:"videoNotAvailableToCacheWarning",videoNotEligibleToCacheWarning:"videoNotEligibleToCacheWarning",viewCachedVideosButton:"viewCachedVideosButton",volumeSlider:"volumeSlider",volumeSliderThumb:"volumeSliderThumb",watchlistButton:"watchlistButton",zipCodeInput:"zipCodeInput"};t.exports=i});C.r("node_modules/shakti-platform/dist/ui/consolidatedLogging/constants/contextTypes.js",function(e,o,i){"use strict";var t={AdaptiveEcomFallbackExperience:"AdaptiveEcomFallbackExperience",AppVersion:"AppVersion",DeepLinkInput:"DeepLinkInput",Device:"Device",DeviceLocale:"DeviceLocale",Esn:"Esn",FillVideoMode:"FillVideoMode",FtlConnection:"FtlConnection",FtlEligible:"FtlEligible",FtlFallbackMode:"FtlFallbackMode",FullscreenMode:"FullscreenMode",GestureInput:"GestureInput",GrayedPreview:"GrayedPreview",IkoMode:"IkoMode",JankMeasurement:"JankMeasurement",KeyboardInput:"KeyboardInput",KidsMode:"KidsMode",LolomoDataModel:"LolomoDataModel",ManipulationMode:"ManipulationMode",MdxJs:"MdxJs",MdxLib:"MdxLib",MediaCacheState:"MediaCacheState",MediaOffset:"MediaOffset",MemberClientId:"MemberClientId",MemoryRange:"MemoryRange",MobileConnection:"MobileConnection",MomentState:"MomentState",NonmemberSharedContext:"NonmemberSharedContext",NrdAppId:"NrdAppId",NrdJs:"NrdJs",NrdLib:"NrdLib",NrdSessionId:"NrdSessionId",OnrampSimilarsGroup:"OnrampSimilarsGroup",OsVersion:"OsVersion",PointerInput:"PointerInput",ProcessState:"ProcessState",SearchSuggestionResults:"SearchSuggestionResults",SearchSuggestionTitleResults:"SearchSuggestionTitleResults",SearchTitleResults:"SearchTitleResults",SelectedProfileAvatarModel:"SelectedProfileAvatarModel",ServiceWorkerId:"ServiceWorkerId",ServiceWorkerVersion:"ServiceWorkerVersion",SeveredForVppa:"SeveredForVppa",SeveredForWebpageUnload:"SeveredForWebpageUnload",TestAllocations:"TestAllocations",TimeZone:"TimeZone",UiLocale:"UiLocale",UiVersion:"UiVersion",UserAgent:"UserAgent",VoiceInput:"VoiceInput",Volume:"Volume",Webpage:"Webpage",WebViewSharedContext:"WebViewSharedContext",WifiConnection:"WifiConnection",WiredConnection:"WiredConnection",Xid:"Xid"};o.exports=t});C.r("node_modules/symbol-observable/lib/index.js",function(e,n,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var d,l=e("./ponyfill.js"),t=function(e){return e&&e.__esModule?e:{default:e}}(l);d="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0!==n?n:Function("return this")();var u=(0,t.default)(d);o.default=u});C.r("node_modules/symbol-observable/lib/ponyfill.js",function(e,o,b){"use strict";function l(e){var o,b=e.Symbol;return"function"==typeof b?b.observable?o=b.observable:(o=b("observable"),b.observable=o):o="@@observable",o}Object.defineProperty(b,"__esModule",{value:!0}),b.default=l});C.r("node_modules/xstate/lib/Machine.js",function(e,t,n){"use strict";function o(e){return new a.StateNode(e)}Object.defineProperty(n,"__esModule",{value:!0});var a=e("./StateNode");n.Machine=o});C.r("node_modules/xstate/lib/State.js",function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("./constants"),s=function(){function t(t,e,i,s,o,r){void 0===i&&(i=[]),void 0===s&&(s=n.EMPTY_ACTIVITY_MAP),void 0===o&&(o={}),void 0===r&&(r=[]),this.value=t,this.history=e,this.actions=i,this.activities=s,this.data=o,this.events=r}return t.from=function(e){return e instanceof t?e:new t(e)},t.inert=function(e){return e instanceof t?e.actions.length?new t(e.value,e.history,[]):e:t.from(e)},t.prototype.toString=function(){if("string"==typeof this.value)return this.value;for(var t=[],e=this.value;;){if("string"==typeof e){t.push(e);break}var i=Object.keys(e),s=i[0];if(i.slice(1).length)return;t.push(s),e=e[s]}return t.join(n.STATE_DELIMITER)},t}();i.State=s});C.r("node_modules/xstate/lib/StateNode.js",function(t,e,i){"use strict";function n(t){return new f(t)}var a=this&&this.__assign||Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t};Object.defineProperty(i,"__esModule",{value:!0});var r=t("./utils"),o=t("./matchesState"),s=t("./State"),c=t("./actions"),h=".",u=function(t){return"#"===t[0]},l=Object.freeze({onEntry:[],onExit:[],actions:[]}),v=function(t){for(;t.parent&&!t.parent.parallel;)t=t.parent;return t},p=function(t,e,i,n){var a=v(n),r=a.parent,o=r?r.id:"";if(i[o]=i[o]||{},i[o][a.id]&&i[o][a.id]!==n)throw new Error("Event '"+e+"' on state '"+t.id+"' leads to an invalid configuration: Two or more states in the orthogonal region '"+a.id+"'.");return i[o][a.id]=n,a},f=function(){function t(e){var i=this;this.config=e,this.__cache={events:void 0,relativeValue:new Map,initialState:void 0},this.idMap={},this.key=e.key||"(machine)",this.parent=e.parent,this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=e.delimiter||(this.parent?this.parent.delimiter:h),this.id=e.id||(this.machine?[this.machine.key].concat(this.path).join(this.delimiter):this.key),this.initial=e.initial,this.parallel=!!e.parallel,this.states=e.states?r.mapValues(e.states,function(e,n){var r=new t(a({},e,{key:n,parent:i}));return Object.assign(i.idMap,a((o={},o[r.id]=r,o),r.idMap)),r;var o}):{},this.on=e.on?this.formatTransitions(e.on):{},this.strict=!!e.strict,this.onEntry=e.onEntry?[].concat(e.onEntry):void 0,this.onExit=e.onExit?[].concat(e.onExit):void 0,this.data=e.data,this.activities=e.activities}return t.prototype.getStateNodes=function(t){var e=this,i=t instanceof s.State?t.value:r.toStateValue(t,this.delimiter);if("string"==typeof i){var n=this.getStateNode(i).initial;return n?this.getStateNodes((o={},o[i]=n,o)):[this.states[i]]}var a=Object.keys(i);return a.map(function(t){return e.getStateNode(t)}).concat(a.reduce(function(t,n){var a=e.getStateNode(n).getStateNodes(i[n]);return t.concat(a)},[]));var o},t.prototype.handles=function(t){var e=r.getEventType(t);return-1!==this.events.indexOf(e)},t.prototype.transition=function(t,e,i){var n="string"==typeof t?this.resolve(r.pathToStateValue(this.getResolvedPath(t))):t instanceof s.State?t:this.resolve(t);if(this.strict){var a=r.getEventType(e);if(-1===this.events.indexOf(a))throw new Error("Machine '"+this.id+"' does not accept event '"+a+"'")}var o=s.State.from(n),h=this.transitionStateValue(o,e,o,i),u=this.stateTransitionToState(h,o);if(!u)return s.State.inert(o);var l=u,v=u.actions.filter(function(t){return"object"==typeof t&&t.type===c.actionTypes.raise});if(v.length){var p=v[0].event;return u=this.transition(u,p,i),(y=u.actions).unshift.apply(y,u.actions),u}if(h.events.length){var f=h.events[0].type===c.actionTypes.raise?h.events[0].event:void 0,d=h.events[0].type===c.actionTypes.null;if(f||d)return l=this.transition(u,d?"":f,i),(E=l.actions).unshift.apply(E,u.actions),l}return u;var y,E},t.prototype.stateTransitionToState=function(t,e){var i=t.statePaths,n=t.actions,o=t.activities,c=t.events;if(i.length){var h=e instanceof s.State?e.activities:void 0,u=a({},h,o),l=this.resolve(r.pathsToStateValue(i));return new s.State(l,s.State.from(e),n?n.onExit.concat(n.actions).concat(n.onEntry):[],u,this.getStateNodes(l).reduce(function(t,e){return void 0!==e.data&&(t[e.id]=e.data),t},{}),c)}},t.prototype.getStateNode=function(t){if(u(t))return this.machine.getStateNodeById(t);if(!this.states)throw new Error("Unable to retrieve child state '"+t+"' from '"+this.id+"'; no child states exist.");var e=this.states[t];if(!e)throw new Error("Child state '"+t+"' does not exist on '"+this.id+"'");return e},t.prototype.getStateNodeById=function(t){var e=u(t)?t.slice("#".length):t,i=this.idMap[e];if(!i)throw new Error("Substate '#"+e+"' does not exist on '"+this.id+"'");return i},t.prototype.resolve=function(t){var e=this;if("string"==typeof t){var i=this.getStateNode(t);return i.initial?(n={},n[t]=i.initialStateValue,n):t}return this.parallel?r.mapValues(this.initialStateValue,function(i,n){return e.getStateNode(n).resolve(t[n]||i)}):r.mapValues(t,function(t,i){return e.getStateNode(i).resolve(t)});var n},t.prototype.transitionStateValue=function(t,e,i,n){var o=this,c=t.history,h=t.value;if("string"==typeof h){var u=this.getStateNode(h),v=u.next(e,i,c?c.value:void 0,n);return v.statePaths.length||this.parent?v:this.next(e,i,c?c.value:void 0,n)}var p=[],f=!1,d=r.mapValues(h,function(t,a){var r=o.getStateNode(a),h=c?c.value[a]:void 0,u=new s.State(t,h?s.State.from(h):void 0),l=r.transitionStateValue(u,e,i,n);return l.statePaths.length?f=!0:p.push(r.next(e,i,c?c.value:void 0,n)),l});if(!f){if(this.parallel)return p.length?p[0]:{statePaths:[],actions:l,activities:void 0,events:[]};var y=Object.keys(d)[0],E=this.getStateNode(y).next(e,i,c?c.value:void 0,n),g=E.statePaths,S=E.actions,m=E.activities,b=d[y].actions,w=d[y].activities,x=a({},w,m);return{statePaths:g,actions:S?b?{onEntry:b.onEntry.concat(S.onEntry),actions:b.actions.concat(S.actions),onExit:b.onExit.concat(S.onExit)}:S:b,activities:x,events:[]}}this.parallel&&(d=a({},r.mapValues(this.initialState.value,function(t,e){var i=d[e];return{statePaths:i&&i.statePaths.length?i.statePaths:r.toStatePaths(h[e]||t).map(function(t){return o.getStateNode(e).path.concat(t)}),actions:i&&i.actions?i.actions:{onEntry:[],onExit:[],actions:[]},activities:void 0,events:[]}})));var P={onEntry:[],actions:[],onExit:[]},V={};return r.mapValues(d,function(t){var e=t.actions,i=t.activities;e&&(e.onEntry&&(n=P.onEntry).push.apply(n,e.onEntry),e.actions&&(a=P.actions).push.apply(a,e.actions),e.onExit&&(r=P.onExit).push.apply(r,e.onExit)),i&&Object.assign(V,i);var n,a,r}),{statePaths:Object.keys(d).map(function(t){return d[t].statePaths}).reduce(function(t,e){return t.concat(e)},[]),actions:P,activities:V,events:[]}},t.prototype.next=function(t,e,i,n){var a=this,s=r.getEventType(t),h={onEntry:[],onExit:[],actions:[]},l={},v=this.on[s];if(this.onExit&&(h.onExit=this.onExit),this.activities&&this.activities.forEach(function(t){l[r.getEventType(t)]=!1,h.onExit=h.onExit.concat(c.stop(t))}),!v)return{statePaths:[],actions:h,activities:l,events:[]};for(var f=[],d=0,y=v;d<y.length;d++){var E=y[d],g=E,S=g.cond,m=g.in,b=g.actions,w=n||{},x=c.toEventObject(t),P=!m||o.matchesState(r.toStateValue(m,this.delimiter),r.path(this.path.slice(0,-2))(e.value));if((!S||S(w,x))&&(!m||P)){f=Array.isArray(E.target)?E.target:[E.target],b&&(h.actions=h.actions.concat(b));break}}if(0===f.length)return{statePaths:[],actions:h,activities:l,events:[]};var V=[],j=[],O={};return f.forEach(function(e){var n=a.getResolvedPath(e),o=u(e)?a.machine:a.parent,s=i,v=a.key;if(n.forEach(function(e){if(""===e)return h.onExit=[],void(o=a);if(!o||!o.states)throw new Error("Unable to read '"+e+"' from '"+a.id+"'");if("$history"===e)if(Object.keys(o.states).length)if(s)e="object"==typeof s?Object.keys(s)[0]:s;else{if(!o.initial)throw new Error("Cannot read '$history' from state '"+o.id+"': missing 'initial'");e=o.initial}else e="";try{""!==e&&(o=o.getStateNode(e))}catch(e){throw new Error("Event '"+t+"' on state '"+v+"' leads to undefined state '"+n.join(a.delimiter)+"'.")}o.onEntry&&(h.onEntry=h.onEntry.concat(o.onEntry)),o.activities&&o.activities.forEach(function(t){l[r.getEventType(t)]=!0,h.onEntry=h.onEntry.concat(c.start(t))}),v=e,s&&(s=s[e])}),!o)throw new Error("no state");for(var f=p(a,t,O,o);f.parent;)f=p(a,t,O,f.parent);var d=[o.path];if(o.initial||o.parallel){var y=o.initialState;h.onEntry=h.onEntry.concat(y.actions),d=r.toStatePaths(y.value).map(function(t){return o.path.concat(t)})}for(V.push.apply(V,d);o.initial;){if(!o||!o.states)throw new Error("Invalid initial state");o=o.states[o.initial],o.activities&&o.activities.forEach(function(t){l[r.getEventType(t)]=!0,h.onEntry=h.onEntry.concat(c.start(t))})}(o.onEntry?o.onEntry.filter(function(t){return"object"==typeof t&&t.type===c.actionTypes.raise}):[]).concat(o.on[""]?{type:c.actionTypes.null}:[]).forEach(function(t){return j.push(t)})}),{statePaths:V,actions:h,activities:l,events:j}},Object.defineProperty(t.prototype,"resolvedStateValue",{get:function(){var t=this.key;return this.parallel?(e={},e[t]=r.mapValues(this.states,function(t){return t.resolvedStateValue[t.key]}),e):this.initial?(i={},i[t]=this.states[this.initial].resolvedStateValue,i):t;var e,i},enumerable:!0,configurable:!0}),t.prototype.getResolvedPath=function(t){if(u(t)){var e=this.machine.idMap[t.slice("#".length)];if(!e)throw new Error("Unable to find state node '"+t+"'");return e.path}return r.toStatePath(t,this.delimiter)},Object.defineProperty(t.prototype,"initialStateValue",{get:function(){var t=this.__cache.initialState||(this.parallel?r.mapValues(this.states,function(t){return t.initialStateValue}):"string"==typeof this.resolvedStateValue?void 0:this.resolvedStateValue[this.key]);return this.__cache.initialState=t,this.__cache.initialState},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"initialState",{get:function(){var t=this.initialStateValue;if(!t)throw new Error("Cannot retrieve initial state from simple state '"+this.id+".'");var e={},i=[];return this.getStateNodes(t).forEach(function(t){t.onEntry&&i.push.apply(i,t.onEntry),t.activities&&t.activities.forEach(function(t){e[r.getEventType(t)]=!0,i.push(c.start(t))})}),new s.State(t,void 0,i,e)},enumerable:!0,configurable:!0}),t.prototype.getStates=function(t){var e=this;if("string"==typeof t)return[this.states[t]];var i=[];return Object.keys(t).forEach(function(n){i.push.apply(i,e.states[n].getStates(t[n]))}),i},t.prototype.getState=function(t){if("string"==typeof t&&u(t))return this.getStateNodeById(t);var e=r.toStatePath(t,this.delimiter);try{return e.reduce(function(t,e){if(!t.states)throw new Error("Cannot retrieve subPath '"+e+"' from node with no states");return t.states[e]},this)}catch(e){throw new Error("State '"+t+" does not exist on machine '"+this.id+"'")}},Object.defineProperty(t.prototype,"events",{get:function(){if(this.__cache.events)return this.__cache.events;var t=this.states,e=new Set(Object.keys(this.on));return t&&Object.keys(t).forEach(function(i){var n=t[i];if(n.states)for(var a=0,r=n.events;a<r.length;a++){var o=r[a];e.add(""+o)}}),this.__cache.events=Array.from(e)},enumerable:!0,configurable:!0}),t.prototype.formatTransitions=function(t){return r.mapValues(t,function(t){return void 0===t?[]:Array.isArray(t)?t:"string"==typeof t?[{target:t}]:Object.keys(t).map(function(e){return a({target:e},t[e])})})},t}();i.StateNode=f,i.Machine=n});C.r("node_modules/xstate/lib/actions.js",function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./utils");n.actionTypes={start:"xstate.start",stop:"xstate.stop",raise:"xstate.raise",send:"xstate.send",cancel:"xstate.cancel",null:"xstate.null"};var o=function(t){return function(e){var n="string"==typeof e||"number"==typeof e?{type:e}:e;return{type:t,activity:r.getEventType(e),data:n}}};n.toEventObject=function(t){return"string"==typeof t||"number"==typeof t?{type:t}:t},n.toActionObject=function(t){var e;if("string"==typeof t||"number"==typeof t)e={type:t};else{if("function"!=typeof t)return t;e={type:t.name}}return Object.defineProperty(e,"toString",{value:function(){return e.type}}),e},n.toActionObjects=function(t){return t?(Array.isArray(t)?t:[t]).map(n.toActionObject):[]},n.raise=function(t){return{type:n.actionTypes.raise,event:t}},n.send=function(t,e){return{type:n.actionTypes.send,event:n.toEventObject(t),delay:e?e.delay:void 0,id:e&&void 0!==e.id?e.id:r.getEventType(t)}},n.cancel=function(t){return{type:n.actionTypes.cancel,sendId:t}},n.start=o(n.actionTypes.start),n.stop=o(n.actionTypes.stop)});C.r("node_modules/xstate/lib/constants.js",function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.STATE_DELIMITER=".",s.EMPTY_ACTIVITY_MAP={}});C.r("node_modules/xstate/lib/index.js",function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var S=t("./matchesState");a.matchesState=S.matchesState;var c=t("./mapState");a.mapState=c.mapState;var s=t("./StateNode");a.StateNode=s.StateNode;var i=t("./State");a.State=i.State;var n=t("./Machine");a.Machine=n.Machine;var o=t("./actions");a.actions=o});C.r("node_modules/xstate/lib/mapState.js",function(t,e,a){"use strict";function n(t,e){var a;return Object.keys(t).forEach(function(t){c.matchesState(t,e)&&(!a||e.length>a.length)&&(a=t)}),t[a]}Object.defineProperty(a,"__esModule",{value:!0});var c=t("./matchesState");a.mapState=n});C.r("node_modules/xstate/lib/matchesState.js",function(t,e,n){"use strict";function s(t,e,n){void 0===n&&(n=r.STATE_DELIMITER);var a=o.toStateValue(t,n),i=o.toStateValue(e,n);return"string"==typeof i?"string"==typeof a&&i===a:"string"==typeof a?a in i:Object.keys(a).every(function(t){return t in i&&s(a[t],i[t])})}Object.defineProperty(n,"__esModule",{value:!0});var o=t("./utils"),r=t("./constants");n.matchesState=s});C.r("node_modules/xstate/lib/utils.js",function(t,e,n){"use strict";function r(t){try{return"string"==typeof t||"number"==typeof t?""+t:t.type}catch(t){throw new Error("Events must be strings or objects with a string event.type property.")}}function o(t){try{return"string"==typeof t||"number"==typeof t?""+t:"function"==typeof t?t.name:t.type}catch(t){throw new Error("Events must be strings or objects with a string event.type property.")}}function a(t,e){try{return Array.isArray(t)?t:t.toString().split(e)}catch(e){throw new Error("'"+t+"' is not a valid state path.")}}function u(t,e){return t instanceof f.State?t.value:"object"!=typeof t||t instanceof f.State?i(a(t,e)):t}function i(t){if(1===t.length)return t[0];for(var e={},n=e,r=0;r<t.length-1;r++)r===t.length-2?n[t[r]]=t[r+1]:(n[t[r]]={},n=n[t[r]]);return e}function c(t,e){var n={};return Object.keys(t).forEach(function(r){n[r]=e(t[r],r,t)}),n}Object.defineProperty(n,"__esModule",{value:!0});var f=t("./State");n.getEventType=r,n.getActionType=o,n.toStatePath=a,n.toStateValue=u,n.pathToStateValue=i,n.mapValues=c,n.path=function(t){return function(e){for(var n=e,r=0,o=t;r<o.length;r++){n=n[o[r]]}return n}},n.toStatePaths=function(t){return"string"==typeof t?[[t]]:Object.keys(t).map(function(e){return n.toStatePaths(t[e]).map(function(t){return[e].concat(t)})}).reduce(function(t,e){return t.concat(e)},[])},n.pathsToStateValue=function(t){var e={};if(t&&1===t.length&&1===t[0].length)return t[0][0];for(var n=0,r=t;n<r.length;n++)for(var o=r[n],a=e,u=0;u<o.length;u++){var i=o[u];if(u===o.length-2){a[i]=o[u+1];break}a[i]=a[i]||{},a=a[i]}return e}});C.r("player/app/appAPI.js",function(e,s,a){"use strict";var o=e("../nfplayer/domain/postplay/postPlayConstants"),n=o.experienceTypes,i=e("nf-algebraic-data-types/Option"),l=e("../domains/playerApp/playerAppAPI"),t=e("../nfplayer/domain/postplay/postPlayAPI2"),r=e("../domains/videoPlayer/videoPlayerAPI"),d=function(e){return l.isSeamlessTransitionEnabled(e.playerApp)&&r.isSeamlessEnabled(e.videoPlayer)},p=function(e,s){return r.getXidBySessionId(e.videoPlayer,s)},y=function(e,s){return i.fromNullable(r.getPlaybackStateBySessionId(e.videoPlayer,s)).map(function(e){return e.videoId}).getOrElse(-1)},u=function(e,s){var a=y(e,s);return r.isVideoEndedBySessionId(e.videoPlayer,s)&&t.getExperienceAPIByVideoId(e.postPlay,a).getType()===n.nextEpisodeSeamless},P=function(e,s){var a=y(e,s);return l.shouldShowSeamlessControlsBySessionId(e.playerApp,s)&&t.getExperienceAPIByVideoId(e.postPlay,a).getType()===n.nextEpisodeSeamless};s.exports={isSeamlessPlaybackEnabled:d,getPlayerXidBySessionId:p,getVideoIdBySessionId:y,shouldShowSeamlessBackground:u,shouldShowSeamlessControls:P}});C.r("player/app/connect/connectToApps.js",function(t,e,n){"use strict";function o(t,e){return t.reduce(function(t,n){return t&&e[c(n)]},!0)}function r(t,e){return Object.keys(e).reduce(function(n,o){return n&&e[o]===t[o]},!0)}function s(t,e,n){var o=Object.keys(e),r=Object.keys(n),s=t.length,i=0;if(t.forEach(function(t){o.indexOf(t)>-1&&i++}),i>0&&i!==s)throw new Error("If some apps are passed via props, then all must be passed via props!");if(i===s)return!0;if(t.forEach(function(t){r.indexOf(t)>-1&&i++}),i>0&&i!==s)throw new Error("All specified apps not found on context!");return!1}function i(t){return function(e){function n(){return t.apply(void 0,arguments)}return n.dependsOnOwnProps=t.length>1,n}}function p(t){if(!t)return function(t){var e=function(){};return e.dependsOnOwnProps=!1,e}}function c(t){return t+"Subscription"}function u(t){var e={error:void 0,props:void 0,run:function(n){try{var o=t(n);(o!==e.props||e.error)&&(e.shouldComponentUpdate=!0,e.props=o,e.error=void 0)}catch(t){e.shouldComponentUpdate=!0,e.error=t}},shouldComponentUpdate:!1};return e}var a=t("babel-runtime/helpers/typeof"),d=function(t){return t&&t.__esModule?t:{default:t}}(a),f=t("react-redux/lib/connect/connect").createConnect,l=t("react-redux/lib/utils/Subscription").default,h=t("prop-types"),b=t("./selectors"),v=t("hoist-non-react-statics"),y=t("react"),m=t("create-react-class"),S=function(){},C={};e.exports=f({connectHOC:function(t,e){var n=e.appKeys,r=n.reduce(function(t,e){return t[e]=h.object,t[c(e)]=h.object,t},{}),i=n.reduce(function(t,e){return t[c(e)]=h.object,t},{}),p=null===e.defaultAppProviders||"object"!==(0,d.default)(e.defaultAppProviders)||Array.isArray(e.defaultAppProviders)?{}:e.defaultAppProviders;return function(a){var f=a.displayName||a.name||"Component",h="ConnectToApps("+f+")",b=Object.assign({},e,{displayName:h,wrappedComponentName:f,WrappedComponent:a}),A=m({displayName:"Connect",propsMode:void 0,selector:void 0,wrappedInstance:void 0,notifyNestedSubs:void 0,_defaultApps:void 0,getInitialState:function(){var t=this;return this.propsMode=s(n,this.props,this.context),this._defaultApps||(this._defaultApps={}),n.forEach(function(e){!(t.propsMode?t.props:t.context)[e]&&"function"==typeof p[e]&&t._defaultApps&&(t._defaultApps[e]=p[e]())}),this.initSelector(),this.initSubscription(),{}},getChildContext:function(){var t=this;return n.reduce(function(e,n){var o=t.propsMode?null:t[c(n)];return e[c(n)]=o||t.context[c(n)],e},{})},componentDidMount:function(){var t=this;n.forEach(function(e){t[c(e)].trySubscribe()}),this.selector&&(this.selector.run(this.props),this.selector&&this.selector.shouldComponentUpdate&&this.forceUpdate())},componentWillReceiveProps:function(t){this.selector&&this.selector.run(t)},shouldComponentUpdate:function(){return Boolean(this.selector&&this.selector.shouldComponentUpdate)},componentWillUnmount:function(){var t=this;n.forEach(function(e){t[c(e)]&&t[c(e)].tryUnsubscribe(),t[c(e)]=null}),this.notifyNestedSubs=S,this.selector&&(this.selector.run=S,this.selector.shouldComponentUpdate=!1),this._defaultApps=void 0},getWrappedInstance:function(){return this.wrappedInstance},setWrappedInstance:function(t){this.wrappedInstance=t},initSelector:function(){var e=this;if(!n||!n.length)throw new Error("Must specify appKeys to use.");var o=n.reduce(function(t,n){var o=(e.propsMode?e.props:e.context)[n];if(!o&&e._defaultApps&&"object"===(0,d.default)(e._defaultApps[n])&&(o=e._defaultApps[n]),!o)throw new Error("No app found for the specified key: "+n);return t[n]=o,t},{}),r=t(o,b);this.selector=u(r),this.selector.run(this.props)},initSubscription:function(){var t=this;n.forEach(function(e){var n=(t.propsMode?t.props:t.context)[c(e)],o=(t.propsMode?t.props:t.context)[e];!o&&t._defaultApps&&"object"===(0,d.default)(t._defaultApps[e])&&(o=t._defaultApps[e]),t[c(e)]=new l(o.getStore(),n,t.onStateChange)}),this.notifyNestedSubs=function(){n.forEach(function(e){t[c(e)].notifyNestedSubs()})}},onStateChange:function(){this.selector&&(this.selector.run(this.props),this.selector&&this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(C)):this.notifyNestedSubs&&this.notifyNestedSubs())},notifyNestedSubsOnComponentDidUpdate:function(){this.componentDidUpdate=void 0,this.notifyNestedSubs&&this.notifyNestedSubs()},isSubscribed:function(){var t=this;return n.reduce(function(e,n){return e&&Boolean(t[c(n)])&&t[c(n)].isSubscribed()},!0)},addExtraProps:function(t){var r=this;if(!(e.withRef||this.propsMode&&o(n,this)))return t;var s=Object.assign({},t);return e.withRef&&(s.ref=this.setWrappedInstance),this.propsMode&&n.forEach(function(t){s[c(t)]=r[c(t)]}),s},render:function(){var t=this.selector;if(!t)return null;if(t.shouldComponentUpdate=!1,t.error)throw t.error;return y.createElement(a,this.addExtraProps(t.props))}});return A.WrappedComponent=a,A.displayName=h,A.childContextTypes=i,A.contextTypes=r,A.propTypes=r,v(A,a)}},mapStateToPropsFactories:[i,p],mapDispatchToPropsFactories:[i,p],mergePropsFactories:[function(t){return t?function(e){return t}:function(t){return function(t,e,n){return Object.assign({},t,e,n)}}}],selectorFactory:function(t,e){var n=e.initMapStateToProps(e),o=e.initMapDispatchToProps(e),s=e.initMergeProps(e);return e.pure?b.pureFinalPropsSelectorFactory(n,o,s,t,Object.assign({},e,{areStatesEqual:r})):b.impureFinalPropsSelectorFactory(n,o,s,t)}})});C.r("player/app/connect/selectors.js",function(n,r,e){"use strict";function t(n){return Object.keys(n).reduce(function(r,e){return r[e]=n[e].getState(),r},{})}function o(n,r,e,t){return function(o){return e(n(t,o),r(t,o),o)}}function u(n,r,e,o,u){function c(u){return O=t(o),P=u,S=n(o,P),w=r(o,P),y=e(S,w,P),v=!0,y}function i(){return S=n(o,P),r.dependsOnOwnProps&&(w=r(o,P)),y=e(S,w,P)}function s(){return n.dependsOnOwnProps&&(S=n(o,P)),r.dependsOnOwnProps&&(w=r(o,P)),y=e(S,w,P)}function a(){var r=n(o,P),t=!l(r,S);return S=r,t&&(y=e(S,w,P)),y}function p(n){var r=t(o),e=!f(n,P),u=!d(r,O);return O=r,P=n,e&&u?i():e?s():u?a():y}var d=u.areStatesEqual,f=u.areOwnPropsEqual,l=u.areStatePropsEqual,v=!1,O=void 0,P=void 0,S=void 0,w=void 0,y=void 0;return function(n){return v?p(n):c(n)}}r.exports.impureFinalPropsSelectorFactory=o,r.exports.pureFinalPropsSelectorFactory=u});C.r("player/app/createPlayerApp.js",function(a,e,o){"use strict";var r=a("../domains/playerApp/playerAppState"),i=r.defaultPlayerAppState,n=a("./appAPI"),p=a("../nfplayer/domain/common/createAppFromDomains"),l=a("../domains/branching/createBranchingDomain"),d=a("../domains/playerApp/createPlayerAppDomain"),s=a("../nfplayer/domain/postplay/createPostPlayDomain"),t=a("../domains/videoPlayer/createVideoPlayerDomain"),m=a("../domains/downloads/createVideoPlayerDownloadsDomain"),g=a("../../akira/redux/logging/getLoggingMiddleware"),y=a("../../akira/redux/discovery/logAddToPlaylist"),c=a("../domains/playerApp/logging/logPlayerActions"),P=a("../../akira/redux/discovery/logRemoveFromPlaylist"),A=function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,o=arguments[2],r=[d(e,a),s(a),t()],A=e.appConfig;A&&A.branchingPlaybackEnabled&&r.push(l()),A&&A.videoPlayerDownloadsEnabled&&o&&r.push(m(o));var u=A&&A.loggingEnabled?g([c,y,P]):[],v=p({appAPI:n,domains:r,middlewares:u,appName:"playerApp"});return e.appConfig.supportsCadmium&&v.getActionCreators().loadVideoSession(e.initParams),v};e.exports=A});C.r("player/components/imageBasedTimedText.jsx",function(e,t,i){"use strict";function o(e,t){u.forIn(t,function(t,i){t.ns?e.setAttributeNS(t.ns,i,t.value):e.setAttribute(i,t)})}function s(e){var t=e.timedTextBounds,i=e.playerDimensions,o=e.aspectDimensions;if(0===t.bottom)return 0;var s=i?i.height:void 0,n=o?o.height:void 0,r="number"==typeof s&&"number"==typeof n?(s-n)/2:void 0;return"number"==typeof r&&t.bottom>0&&r>t.bottom?0:"number"==typeof r&&t.bottom>0&&r<t.bottom?Math.max(t.bottom-r,0):t.bottom||0}function n(e){var t=document.createElementNS("http://www.w3.org/2000/svg","image"),i=URL.createObjectURL(new Blob([e.imageData],{type:"image/png"}));return o(t,{href:{ns:"http://www.w3.org/1999/xlink",value:i},width:e.sizeX,height:e.sizeY,x:e.originX,y:e.originY,"data-id":e.id}),requestAnimationFrame(function(){URL.revokeObjectURL(i)}),t}var r=(e("prop-types"),e("react")),a=e("create-react-class"),l=e("react-dom"),h=e("classnames"),u=e("lodash"),m=e("../../utils/shallowCompare"),d=a({displayName:"ImageBasedTimedText",getDefaultProps:function(){return{forceCCPaint:!0,useNFPlayerInterface:!1,className:{},ccQNRsla:100,ccQNREnabled:!0,timedTextBounds:{bottom:0}}},shouldComponentUpdate:m.props,_removalQueue:void 0,_elementsInView:void 0,_queueTimeout:void 0,_viewBox:void 0,componentWillMount:function(){this._removalQueue=[],this._elementsInView={}},componentDidMount:function(){this.props.useNFPlayerInterface?(this.props.videoPlayer.on("showsubtitle",this.show),this.props.videoPlayer.on("removesubtitle",this.hide)):(this.props.videoPlayer.addEventListener("showsubtitle",this.show),this.props.videoPlayer.addEventListener("removesubtitle",this.hide))},componentWillUnmount:function(){this.props.useNFPlayerInterface?(this.props.videoPlayer.removeListener("showsubtitle",this.show),this.props.videoPlayer.removeListener("removesubtitle",this.hide)):(this.props.videoPlayer.removeEventListener("showsubtitle",this.show),this.props.videoPlayer.removeEventListener("removesubtitle",this.hide)),this._removalQueue=[],this._elementsInView={},clearTimeout(this._queueTimeout),this._queueTimeout=void 0,this._viewBox=void 0},redraw:function(){var e=l.findDOMNode(this.refs.svgContainer),t=l.findDOMNode(this),i=u.map(this._elementsInView,n),o=this.props.forceCCPaint;for(o&&t instanceof HTMLElement&&(t.style.display="none");e&&e.hasChildNodes();)e.lastChild&&e.removeChild(e.lastChild);i.forEach(function(t){e&&e.appendChild(t)}),o&&t instanceof HTMLElement&&(t.style.display="")},show:function(e){this.props.useNFPlayerInterface&&(e=e.event);var t=e.id,i=this._removalQueue&&this._removalQueue.indexOf(t);if("number"==typeof i&&i>-1&&this._removalQueue)return void(this._removalQueue[i]=null);this._elementsInView&&(this._elementsInView[t]=e),this._viewBox?this.redraw():(this._viewBox={rootContainerExtentX:e.rootContainerExtentX,rootContainerExtentY:e.rootContainerExtentY},this.forceUpdate(this.redraw))},hide:function(e){this.props.useNFPlayerInterface&&(e=e.event);var t=e.id,i=void 0;this.props.ccQNREnabled?(i=this,this._removalQueue&&-1===this._removalQueue.indexOf(t)&&(this._removalQueue.push(t),this._queueTimeout=setTimeout(function(){var e=i._removalQueue&&i._removalQueue.shift();e&&(i._elementsInView&&delete i._elementsInView[e],i.redraw())},this.props.ccQNRsla))):(this._elementsInView&&delete this._elementsInView[t],this.redraw())},render:function(){var e={display:"block",position:"absolute",top:0,right:0,bottom:s(this.props)+"px",left:0,transform:"translateZ(0)",WebkitTransform:"translateZ(0)"},t={position:"absolute",top:0,bottom:0,left:0,right:0},i=null;return this._viewBox&&(i="0 0 "+this._viewBox.rootContainerExtentX+" "+this._viewBox.rootContainerExtentY),r.createElement("div",{className:h("image-based-timed-text",this.props.className),style:e},r.createElement("svg",{ref:"svgContainer",width:"100%",height:"100%",style:t,viewBox:i}))}});t.exports=d});C.r("player/components/networkDisconnected.jsx",function(e,t,n){"use strict";var i=e("react"),o=e("create-react-class"),a=e("../../akira/containers/header/networkNotification.jsx"),r=o({displayName:"NetworkDisconnected",_timer:void 0,getInitialState:function(){return{activeNetwork:!0}},handleNetworkStatusChange:function(){var e=this;this._timer=setTimeout(function(){e.setState({activeNetwork:navigator.onLine})},navigator.onLine?1:1e3)},componentDidMount:function(){navigator&&navigator.onLine&&(window.addEventListener("online",this.handleNetworkStatusChange),window.addEventListener("offline",this.handleNetworkStatusChange))},componentWillUnmount:function(){window.removeEventListener("online",this.handleNetworkStatusChange),window.removeEventListener("offline",this.handleNetworkStatusChange),window.clearTimeout(this._timer)},render:function(){return!this.state.activeNetwork&&i.createElement("div",{className:"network-disconnected"},i.createElement(a,null))}});t.exports=r});C.r("player/domains/branching/branchingAPI.js",function(e,t,n){"use strict";var r=e("ramda/src/propOr"),i=e("ramda/src/isEmpty"),o=e("./choiceStrategies/choiceStrategyTypes"),c=e("./choiceStrategies/getTwoEarliestUnviewedChoices"),a=e("./choiceStrategies/getRuleBasedChoices"),s=e("../../nfplayer/components/branching/interactiveSceneTypes"),u=e("./choiceStrategies/preconditions/executor"),d=u.satisfiesRule,v=function(e,t){return e.sessionsById[t]},g=function(e,t){return r(!1,"interactiveSceneIsActive",v(e,t))},f=function(e,t){return r(!1,"interactiveSceneInTransition",v(e,t))},S=function(e,t){return r(void 0,"segmentMap",v(e,t))},h=function(e,t){return r(void 0,"videoId",v(e,t))},m=function(e,t){return r(1,"masterVolume",v(e,t))},l=function(e,t){return r(void 0,"textLocale",v(e,t))},I=function(e,t){return r(void 0,"textTrackId",v(e,t))},y=function(e,t){return r(void 0,"audioLocale",v(e,t))},p=function(e,t){return r(void 0,"currentSegmentId",v(e,t))},T=function(e,t){return r(void 0,"segmentHistory",v(e,t))},A=function(e,t){return r(void 0,"currentSegmentTime",v(e,t))},C=function(e,t){return r(void 0,"currentInteractiveScene",v(e,t))},E=function(e,t){return r(void 0,"interactiveVideoMoments",v(e,t))},P=function(e,t){return r(null,"xid",v(e,t))},O=function(e,t){var n=C(e,t);if(n){if(!0===(n.config||{}).pausePlaybackOnEnter)return!0}return!1},M=function(e,t,n){var i=E(e,t),o=r(void 0,"momentsBySegment",i);if(o)return r(void 0,n,o)},V=function(e,t){for(var n=E(e,t),r=T(e,t)||{},i=n||{},o=i.choicePointNavigatorMetadata,c=void 0===o?{}:o,a=c.storylines,s=void 0===a?{}:a,u=s.list,d=void 0===u?[]:u,v=c.choicePointsMetadata,g=void 0===v?{}:v,f=g.choicePoints,S=void 0===f?{}:f,h=g.choices,m=void 0===h?{}:h,l=0,I=d.length;l<I;l++)for(var y=d[l].choicePoints||[],p=y.length,A=0;A<p;A++){var C=S[y[A]],P=C&&C.choices;if(Array.isArray(P))for(var O=P.length,M=0;M<O;M++){var V=m[P[M]]||{},x=V.segmentId;if(x&&void 0===r[x]||!1===r[x])return!1}}return!0},x=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.config,i=r||{},s=i.choiceDisplayStrategy,u=[];switch(s){case o.TWO_EARLIEST_UNVIEWED_CHOICES:u=c(e,n);break;case o.RULE_BASED_CHOICE_POINT:u=a(e,t,n)}return u},b=function(e,t,n){var r=M(e,t,n),o=E(e,t),c=T(e,t);if(r&&Array.isArray(r)){var a=r[0];if(a){var u=a.interactiveScene,v=a.preconditionId,g=o||{},f=g.preconditions,S=v&&f[v];if(S&&!d(S,{interactiveVideoMomentsData:o,segmentHistory:c}))return;if(u&&!i(u)&&u.type){var h=void 0;if(u.type===s.IPP){if(V(e,t))return;var m=E(e,t);if(m&&(h=x(m,u,c)),!Array.isArray(h)||h.length<1)return}var l={},I=a.layoutOverrides;return I&&(l.layoutOverrides=I),h&&(l.choices=h),Object.assign({},u,l)}}}},L={getSegmentMap:S,getVideoId:h,getMasterVolume:m,getCurrentSegmentId:p,getSegmentHistory:T,getCurrentSegmentTime:A,getCurrentInteractiveScene:C,getInteractiveVideoMoments:E,getInteractiveSceneForSegmentId:b,shouldShowInteractiveScene:g,interactiveSceneInTransition:f,shouldPauseVideoForCurrentInteractiveScene:O,getTextLocale:l,getAudioLocale:y,getTextTrackId:I,getXid:P};t.exports=L});C.r("player/domains/branching/branchingActionCreators.js",function(n,e,E){"use strict";var S=n("../../nfplayer/domain/common/createAction"),t=n("./branchingConstants"),i=t.actionTypes,a=S(i.SET_INTERACTIVE_VIDEO_MOMENTS),r=S(i.SET_SEGMENT_HISTORY),T=S(i.SET_SEGMENT_AS_SEEN),c=S(i.SET_INTERACTIVE_SCENE),I=S(i.SET_INTERACTIVE_SCENE_IS_ACTIVE),_=S(i.SET_INTERACTIVE_SCENE_IN_TRANSITION),o=S(i.LOG_TUTORIAL_PLAYBACK_IMPRESSION),g=S(i.LOG_VIDEO_SEGMENT_START),N=S(i.LOG_VIDEO_SEGMENT_END),s={branchingSetInteractiveVideoMoments:a,branchingSetSegmentHistory:r,branchingSetSegmentAsSeen:T,branchingSetInteractiveScene:c,branchingSetInteractiveSceneIsActive:I,branchingSetInteractiveSceneInTransition:_,branchingLogTutorialPlaybackImpression:o,branchingLogVideoSegmentStart:g,branchingLogVideoSegmentEnd:N};e.exports=s});C.r("player/domains/branching/branchingConstants.js",function(E,_,T){"use strict";var S={SET_SEGMENT_MAP:"SET_SEGMENT_MAP",SET_CURRENT_SEGMENT_ID:"SET_CURRENT_SEGMENT_ID",SET_INTERACTIVE_VIDEO_MOMENTS:"SET_INTERACTIVE_VIDEO_MOMENTS",SET_SEGMENT_HISTORY:"SET_SEGMENT_HISTORY",SET_SEGMENT_AS_SEEN:"SET_SEGMENT_AS_SEEN",SET_INTERACTIVE_SCENE:"SET_INTERACTIVE_SCENE",SET_INTERACTIVE_SCENE_IS_ACTIVE:"SET_INTERACTIVE_SCENE_IS_ACTIVE",SET_INTERACTIVE_SCENE_IN_TRANSITION:"SET_INTERACTIVE_SCENE_IN_TRANSITION",SET_TEXT_LOCALE:"SET_TEXT_LOCALE",SET_AUDIO_LOCALE:"SET_AUDIO_LOCALE",LOG_TUTORIAL_PLAYBACK_IMPRESSION:"LOG_TUTORIAL_PLAYBACK_IMPRESSION",LOG_VIDEO_SEGMENT_START:"LOG_VIDEO_SEGMENT_START",LOG_VIDEO_SEGMENT_END:"LOG_VIDEO_SEGMENT_END",LOG_VIDEO_SEGMENT_CANCELLED:"LOG_VIDEO_SEGMENT_CANCELLED",FLUSH_BRANCHING_STATE:"FLUSH_BRANCHING_STATE"};_.exports={actionTypes:S}});C.r("player/domains/branching/branchingMiddleware.js",function(e,t,n){"use strict";var i=e("../videoPlayer/playbackState"),r=i.closedState,a=e("shakti-platform/dist/ui/utils/inNode"),s=e("../../../akira/redux/decorators/decorateWithUuid"),o=e("./branchingConstants"),c=o.actionTypes,d=e("../videoPlayer/videoPlayerConstants"),g=d.actionTypes,S=e("../videoPlayer/videoPlayerActionCreators"),I=S.queueBranch,u=e("../../../player/nfplayer/components/branching/interactiveSceneTypes"),v=e("./branchingActionCreators"),m=v.branchingSetInteractiveVideoMoments,f=v.branchingSetInteractiveScene,h=v.branchingSetInteractiveSceneIsActive,l=v.branchingSetInteractiveSceneInTransition,p=v.branchingSetSegmentHistory,b=v.branchingSetSegmentAsSeen,y=v.branchingLogVideoSegmentStart,T=v.branchingLogVideoSegmentEnd,L=e("./requests/interactiveVideoMoments"),E=e("./requests/logPlaybackImpression"),C=e("../../nfplayer/requests/preplay"),A=e("./branchingAPI"),V=e("./storeManager"),M=void 0,P=void 0,k=s({branchingLogVideoSegmentStart:y,branchingLogVideoSegmentEnd:T}),x=function(e,t,n,i){A.shouldShowInteractiveScene(t,n)&&e(h({sessionId:n,active:!1}));var r=A.getInteractiveSceneForSegmentId(t,n,i);e(f({sessionId:n,interactiveScene:r}))},O=function(e,t){var n=t.sessionId,i=t.videoId,r=t.audioLocale,a=t.textLocale;return L({videoId:i,audioLocale:r,textLocale:a},function(t,i){if(t);else if(i){var r=e.getState();e.dispatch(m({sessionId:n,interactiveVideoMoments:Object.assign({},i,{timestamp:Date.now()})}));var a=A.getSegmentHistory(r,n),s=i.segmentHistory;e.dispatch(p({sessionId:n,segmentHistory:Object.assign({},a,s)}));var o=A.getCurrentSegmentId(r,n);o&&(r=e.getState(),x(e.dispatch,r,n,o))}})},_=function(e){return E(e,function(e,t){})},R=function(e){var t=e.videoId,n=e.impressionToken,i=e.profileGuid;V.setTutorialSeen(i,t),C.sendImpression(t,n)},w=function(e,t,n){var i=n.sessionId,r=t.sessionsById,a=r[i],s=A.getCurrentInteractiveScene(t,i),o=A.shouldShowInteractiveScene(t,i),c=A.interactiveSceneInTransition(t,i);if(s){var d=s.triggerStartMS,g=s.triggerEndMS,S=a.currentSegmentTime,v=g;if(S>=d&&S<v){if(!o)if(s.type===u.SEGMENT_REDIRECT){var m=s.nextSegmentId;m&&(e(I({sessionId:i,branchSegmentId:m})),e(f({sessionId:i,interactiveScene:void 0})))}else e(h({sessionId:i,active:!0}))}else o&&(P&&(clearTimeout(P),P=void 0),P=setTimeout(function(){e(l({sessionId:i,inTransition:!1}))},1500),e(h({sessionId:i,active:!1})))}else o&&(c&&e(l({sessionId:i,inTransition:!1})),e(h({sessionId:i,active:!1})))},B=function(e,t){var n=e.getState(),i=A.getVideoId(n,t);if("number"==typeof i)return O(e,{sessionId:t,videoId:i,audioLocale:A.getAudioLocale(n,t),textLocale:A.getTextLocale(n,t)})},D=function(e){e.dispatch(k.branchingLogVideoSegmentEnd())},G=function(e,t){var n=e.getState(),i=A.getSegmentMap(n,t.sessionId),a=t.stateDiff,s=t.sessionId;if(void 0!==i){if(a.currentAudioTrack&&(M&&M(),M=B(e,s)),a.currentTimedTextTrack&&(M&&M(),M=B(e,s)),a.currentSegmentId){var o=A.getVideoId(n,s);if("number"==typeof o){var c={videoId:o,type:"segment",id:a.currentSegmentId};_(c)}e.dispatch(b({sessionId:s,segmentId:a.currentSegmentId})),e.dispatch(k.branchingLogVideoSegmentEnd());var d=A.getXid(n,s);e.dispatch(k.branchingLogVideoSegmentStart({trackingInfo:{xid:d,segmentId:a.currentSegmentId,mediaOffset:Math.floor(n.sessionsById[s].currentSegmentTime),viewableId:o}})),x(e.dispatch,n,s,a.currentSegmentId)}a.currentTime&&w(e.dispatch,n,t),a.closedState!==r.CLOSING&&a.closedState!==r.CLOSED||D(e)}};t.exports=function(e){return function(t){return function(n){var i=n.data,r=n.type,s=t(n);if(a)return s;switch(r){case g.RECEIVE_PLAYBACK_STATE_DIFF:G(e,i);break;case c.LOG_TUTORIAL_PLAYBACK_IMPRESSION:R(i);break;case g.RECEIVE_PLAYER_CLOSING:D(e)}return s}}}});C.r("player/domains/branching/branchingState.js",function(a,n,t){"use strict";var e=a("nf-algebraic-data-types/Record"),r=e({sessionsById:{}},"BranchingStateRecord"),c=r();n.exports={defaultBranchingState:c,branchingStateRecord:r}});C.r("player/domains/branching/choiceStrategies/choiceStrategyTypes.js",function(e,i,t){"use strict";var r={TWO_EARLIEST_UNVIEWED_CHOICES:"twoEarliestUnviewedChoices",RULE_BASED_CHOICE_POINT:"ruleBasedChoicePoint"};i.exports=r});C.r("player/domains/branching/choiceStrategies/getRuleBasedChoices.js",function(e,i,r){"use strict";var o=e("./preconditions/executor"),t=o.satisfiesRule,n=function(e,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=e&&e.preconditions||{},n=[];if(i){var s=i.config,c=s||{},a=c.choiceDisplayRules;if(Array.isArray(a))for(var d=a.length,f=0;f<d;++f){var u=a[f],g=u.preconditionId,h=u.choices,l=o[g];if(l&&t(l,{interactiveVideoMoments:e,segmentHistory:r})){n=h;break}}}return n};i.exports=n});C.r("player/domains/branching/choiceStrategies/getTwoEarliestUnviewedChoices.js",function(e,t,i){"use strict";var o=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.choicePointNavigatorMetadata,o=void 0===i?{}:i,n=o.choicePointsMetadata,c=void 0===n?{}:n,h=c.choicePoints,r=void 0===h?{}:h,a=c.choices,s=void 0===a?{}:a,g=o.storylines,l=void 0===g?{}:g,v=l.list,d=[],f=[],u=0,P=v.length;u<P;u++){var y=v[u].choicePoints;y&&y.forEach(function(e){var i=r[e];i&&Array.isArray(i.choices)&&i.choices.forEach(function(e){var i=s[e]||{},o=i.segmentId;o&&!t[o]&&d.length<2&&(d[d.length]=i,f[f.length]=o)})})}if(2===d.length)return d;var E=v[0],m=E.choicePoints[0],p=r[m],w=p.choices;return 1===d.length?w[0]!==f[0]?d[d.length]=s[w[0]]:d[d.length]=s[w[1]]:0===d.length&&(d[d.length]=s[w[0]],d[d.length]=s[w[1]]),d};t.exports=o});C.r("player/domains/branching/choiceStrategies/preconditions/executor.js",function(e,r,t){"use strict";function i(e,r){var t=r||{},n=t.interactiveVideoMoments,o=t.segmentHistory,s={interactiveVideoMoments:n,segmentHistory:o};if(!Array.isArray(e)||e.length<1)return!1;var c=e[0],u=a(c);return!!u&&u({operands:e.slice(1).map(function(e){return Array.isArray(e)?i(e,s):e}),evaluationContext:s})}function n(e,r){var t=e||{},n=t.rule,a=t.action;if(n&&a&&i(n,r))return a}var a=e("./getOperator");r.exports={execute:n,satisfiesRule:i}});C.r("player/domains/branching/choiceStrategies/preconditions/getOperator.js",function(e,r,t){"use strict";var s=e("./operators/basic"),a=e("./operators/hasSeenSegments");r.exports=function(e){var r=s.getOperator(e);if(!r)switch(e){case"hasSeenSegments":r=a}return r}});C.r("player/domains/branching/choiceStrategies/preconditions/operators/basic.js",function(n,r,e){"use strict";function o(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.operands;return!!c({operands:r,numRequiredOperands:2})&&r.every(function(n){return!!n})}function d(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.operands;return!!c({operands:r,numRequiredOperands:2})&&r[0]===r[1]}function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.operands;return!!c({operands:r,numRequiredOperands:2})&&r[0]>r[1]}function a(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.operands;return!!c({operands:r,numRequiredOperands:2})&&r[0]>=r[1]}function u(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.operands;return!!c({operands:r,numRequiredOperands:2})&&r[0]<r[1]}function i(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.operands;return!!c({operands:r,numRequiredOperands:2})&&r[0]<=r[1]}function s(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.operands;return!!c({operands:r,numRequiredOperands:1})&&!r[0]}function p(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.operands;return!!c({operands:r,numRequiredOperands:2})&&r.some(function(n){return!!n})}function v(n){return l[n]||void 0}var c=n("./validators/validateOperands"),l={and:o,eql:d,gt:t,gte:a,lt:u,lte:i,not:s,or:p};r.exports={getOperator:v}});C.r("player/domains/branching/choiceStrategies/preconditions/operators/hasSeenSegments.js",function(e,n,r){"use strict";var t=e("./validators/validateOperands");n.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.operands,r=e.evaluationContext,a=r||{},o=a.segmentHistory;return!!t({operands:n,numRequiredOperands:1})&&(!!o&&n.every(function(e){return!!o[e]}))}});C.r("player/domains/branching/choiceStrategies/preconditions/operators/validators/validateOperands.js",function(e,r,n){"use strict";r.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.operands,n=e.numRequiredOperands;return!!(r&&r.length>=n)}});C.r("player/domains/branching/createBranchingDomain.js",function(e,n,a){"use strict";var r=e("babel-runtime/helpers/toConsumableArray"),t=function(e){return e&&e.__esModule?e:{default:e}}(r),i=e("../../../akira/redux/logging/getLoggingMiddleware"),c=e("../../nfplayer/domain/common/createDomain"),o=e("./branchingActionCreators"),g=e("./branchingAPI"),d=e("./createBranchingStateReducer"),l=e("./branchingMiddleware"),u=e("./branchingState"),s=e("./logging/logVideoSegment"),m=u.branchingStateRecord,b=function(){return c({actionCreators:o,api:g,middlewares:[l].concat((0,t.default)(i([s]))),name:"branching",stateReducer:d(m())})};n.exports=b});C.r("player/domains/branching/createBranchingStateReducer.js",function(e,n,t){"use strict";var s=e("babel-runtime/helpers/defineProperty"),r=function(e){return e&&e.__esModule?e:{default:e}}(s),i=e("../../nfplayer/domain/common/createHandleAction"),a=e("../../nfplayer/domain/common/createStateReducer"),o=e("./branchingConstants"),u=e("./branchingState"),c=u.defaultBranchingState,d=o.actionTypes,I=e("../videoPlayer/videoPlayerConstants"),f=I.actionTypes,m=e("../playerApp/playerAppConstants"),T=m.actionTypes,E=function(e,n,t){var s=Object.assign({},e.sessionsById);return s[n]=Object.assign({},s[n],t),e.set("sessionsById",s)},v=function(e,n){var t=n.sessionId,s=n.segmentMap;return E(e,t,{segmentMap:s})},g=function(e,n){var t=n.sessionId,s=n.videoId;return E(e,t,{videoId:s})},l=function(e,n){var t=n.sessionId,s=n.volume,r=n.muted;return E(e,t,{masterVolume:!0===r?0:s})},S=function(e,n){var t=n.sessionId,s=n.track,r=s||{};return E(e,t,{textLocale:r.bcp47,textTrackId:r.trackId})},_=function(e,n){var t=n.sessionId,s=n.track,r=s||{},i=r.bcp47;return"string"==typeof i?E(e,t,{audioLocale:i}):e},y=function(e,n){var t=n.sessionId,s=n.segmentId;return E(e,t,{currentSegmentId:s})},p=function(e,n){var t=n.sessionId,s=n.currentSegmentTime;return E(e,t,{currentSegmentTime:s})},A=function(e,n){var t=n.sessionId,s=n.interactiveScene;return E(e,t,{currentInteractiveScene:s})},C=function(e,n){var t=n.sessionId,s=n.active;return e.sessionsById[t]&&e.sessionsById[t].interactiveSceneIsActive===s?e:E(e,t,{interactiveSceneIsActive:s})},D=function(e,n){var t=n.sessionId,s=n.inTransition;return e.sessionsById[t]&&e.sessionsById[t].interactiveSceneInTransition===s?e:E(e,t,{interactiveSceneInTransition:s})},M=function(e,n){var t=n.sessionId,s=n.interactiveVideoMoments;return E(e,t,{interactiveVideoMoments:s})},N=function(e,n){var t=n.sessionId,s=n.segmentHistory;return E(e,t,{segmentHistory:s})},V=function(e,n){var t=n.sessionId,s=n.segmentId;if(e.sessionsById[t]){var r={};r[s]=!0;var i=e.sessionsById[t].segmentHistory,a=Object.assign({},i||{},r);return E(e,t,{segmentHistory:a})}return e},k=function(e,n){var t=n.sessionId,s={};return s[t]=void 0,e.set("sessionsById",s)},B={audiotrackchanged:function(e,n){return n.stateDiff.currentAudioTrack?_(e,{sessionId:n.sessionId,track:n.stateDiff.currentAudioTrack}):e},volumechanged:function(e,n){return l(e,{muted:n.stateDiff.muted,sessionId:n.sessionId,volume:n.stateDiff.volume})},currenttimechanged:function(e,n){return p(e,{currentSegmentTime:n.stateDiff.currentTime,sessionId:n.sessionId})},segmentmaploaded:function(e,n){return n.stateDiff.segmentMap?v(e,{segmentMap:n.stateDiff.segmentMap,sessionId:n.sessionId}):e},segmentpresenting:function(e,n){return n.stateDiff.currentSegmentId?y(e,{segmentId:n.stateDiff.currentSegmentId,sessionId:n.sessionId}):e},timedtexttrackchanged:function(e,n){return n.stateDiff.currentTimedTextTrack?S(e,{sessionId:n.sessionId,track:n.stateDiff.currentTimedTextTrack}):e},closed:function(e,n){return k(e,n)}},R=function(e,n){var t=B[n.eventType];return t?t(e,n):e},h=function(e,n){var t=n.sessionId,s=n.videoPlayer;return E(l(e,{muted:s.getMuted(),sessionId:t,volume:s.getVolume()}),t,{xid:s.getXid()})},O=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;return a((e={},(0,r.default)(e,f.RECEIVE_PLAYBACK_STATE_DIFF,i(R)),(0,r.default)(e,f.RECEIVE_CADMIUM_PLAYER,i(h)),(0,r.default)(e,T.RECEIVE_VIDEO_ID,i(g)),(0,r.default)(e,d.SET_TEXT_LOCALE,i(S)),(0,r.default)(e,d.SET_AUDIO_LOCALE,i(_)),(0,r.default)(e,d.SET_SEGMENT_HISTORY,i(N)),(0,r.default)(e,d.SET_SEGMENT_AS_SEEN,i(V)),(0,r.default)(e,d.SET_INTERACTIVE_VIDEO_MOMENTS,i(M)),(0,r.default)(e,d.SET_INTERACTIVE_SCENE,i(A)),(0,r.default)(e,d.SET_INTERACTIVE_SCENE_IS_ACTIVE,i(C)),(0,r.default)(e,d.SET_INTERACTIVE_SCENE_IN_TRANSITION,i(D)),e),n)};n.exports=O});C.r("player/domains/branching/logging/logVideoSegment.js",function(n,i,e){"use strict";var s=n("shakti-platform/dist/ui/consolidatedLogging/constants/actionTypes"),o=n("../../../../akira/redux/logging/createSessionMiddleware"),t=n("../branchingConstants"),a=t.actionTypes;i.exports=o({sessionName:s.IkoVideoSegment,bindings:{start:a.LOG_VIDEO_SEGMENT_START,end:a.LOG_VIDEO_SEGMENT_END}})});C.r("player/domains/branching/requests/interactiveVideoMoments.js",function(n,e,t){"use strict";function i(n){return["videos",n,"interactiveVideoMoments"]}function o(n,e){return l.call(i(n.videoId),[n.audioLocale,n.textLocale,n.imageFormat],[],[]).subscribe(function(n){e(null,n)},function(n){e(n,null)})}function a(n,e,t){var o=n.videoId;t(null,u.get(e,["jsonGraph"].concat(i(o)).concat(["value"]).join("."),null))}function r(n,e){var t=u.assign({},d,{imageFormat:c.getExtensionForOpaqueImage()},n),i=function(n,t){if(n)return void e(n,null);e(null,t)},r=u.partial(o,t,u);return s({count:5},r,function(n,o){if(n)return void e(n,null);a(t,o,i)})}var u=n("lodash"),l=n("../../../../utils/falcorClientAdapter"),c=n("../../../../common/imageExtension"),s=n("../../../nfplayer/utils/withRetries"),d={imageFormat:"png",videoId:-1,audioLocale:"en",textLocale:"en"};e.exports=r});C.r("player/domains/branching/requests/logPlaybackImpression.js",function(n,i,e){"use strict";function r(n,i){return l.call(["logInteractivePlaybackImpression"],[n.videoId,n.type,n.id],[],[]).subscribe(function(n){i(null,n)},function(n){i(n,null)})}function s(n,i){return r(t.assign({},o,n),i)}var t=n("lodash"),l=n("../../../../utils/falcorClientAdapter"),o={videoId:-1};i.exports=s});C.r("player/domains/branching/segmentNames.js",function(a,e,s){"use strict";e.exports={FALLBACK_TUTORIAL_SEGMENT_NAME:"Fallback_Tutorial_Site"}});C.r("player/domains/branching/storeManager.js",function(e,t,r){"use strict";var a=e("./segmentNames"),n=a.FALLBACK_TUTORIAL_SEGMENT_NAME,i={_storageAvailable:function(e){try{var t=window[e],r="__storage__test__";return t.setItem(r,r),t.removeItem(r),!0}catch(e){return!1}},_getStorage:function(e){if(this._storageAvailable(e))return window[e]},getTutorialSeen:function(e,t){var r=this._getStorage("sessionStorage");if(r){var a=r.getItem(e+"_"+t+"_branching_tutorialSeen");return!0===("string"==typeof a?JSON.parse(a):a)}return!1},setTutorialSeen:function(e,t){var r=this._getStorage("sessionStorage");r&&r.setItem(e+"_"+t+"_branching_tutorialSeen",!0)},getFallbackTutorialSeen:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=this._getStorage("sessionStorage");if(a){var i=a.getItem(e+"_"+t+"_branching_fallbackTutorialSeen");return!0===("string"==typeof i?JSON.parse(i):i)}return!!r[n]},setFallbackTutorialSeen:function(e,t){var r=this._getStorage("sessionStorage");r&&r.setItem(e+"_"+t+"_branching_fallbackTutorialSeen",!0)}};t.exports=i});C.r("player/domains/playerApp/createPlayerAppDomain.js",function(e,a,r){"use strict";var t=e("babel-runtime/helpers/toConsumableArray"),l=function(e){return e&&e.__esModule?e:{default:e}}(t),p=e("../../nfplayer/domain/common/createDomain"),o=e("./playerAppActionCreators"),n=e("./playerAppAPI"),i=e("./createPlayerAppStateReducer"),d=e("./playerAppMiddleware"),g=e("./playerSessionMiddleware"),s=e("./playerAppState"),u=e("./logging/logSeamlessVideo"),c=e("./logging/logCountdownTimer"),y=e("../../../akira/redux/logging/getLoggingMiddleware"),m=s.defaultPlayerAppState,A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,a=arguments[1];return p({actionCreators:o,api:n,middlewares:[d(a),g].concat((0,l.default)(y([c,u]))),name:"playerApp",stateReducer:i(e)})};a.exports=A});C.r("player/domains/playerApp/createPlayerAppStateReducer.js",function(s,e,n){"use strict";var t=s("babel-runtime/helpers/defineProperty"),i=function(s){return s&&s.__esModule?s:{default:s}}(t),a=s("../../nfplayer/domain/common/createHandleAction"),r=s("../../nfplayer/domain/common/createStateReducer"),d=s("./playerAppConstants"),o=s("../videoPlayer/videoPlayerConstants"),I=s("./playerAppUtils"),u=s("ramda/src/mergeDeepRight"),y=s("./playerAppState"),c=y.defaultPlayerAppState,l=d.actionTypes,E=o.actionTypes,B=function(s,e){var n=e.sessionId,t=e.time,a=e.videoId;if(n&&a){var r=I.makeTimeKey(n,a),d=Object.assign({},s.startTimesBySessionAndVideoId,(0,i.default)({},r,t));return s.set("startTimesBySessionAndVideoId",d)}return n?s.set("startTimesBySessionId",Object.assign({},s.startTimesBySessionId,(0,i.default)({},n,t))):a?s.set("startTimesByVideoId",Object.assign({},s.startTimesByVideoId,(0,i.default)({},a,t))):s},f=function(s,e){var n=e.sessionId,t=e.videoId;if(n&&t&&s.startTimesBySessionAndVideoId[I.makeTimeKey(n,t)]){var i=Object.assign({},s.startTimesBySessionAndVideoId);return delete i[I.makeTimeKey(n,t)],s.set("startTimesBySessionAndVideoId",i)}if(n&&s.startTimesBySessionId[n]){var a=Object.assign({},s.startTimesBySessionId);return delete a[n],s.set("startTimesBySessionId",a)}if(t&&s.startTimesByVideoId[String(t)]){var r=Object.assign({},s.startTimesByVideoId);return delete r[t],s.set("startTimesByVideoId",r)}return s},O=function(s,e){var n=e.advisories,t=e.sessionId;if(!s.sessionsById[t])return s;var i=Object.assign({},s.sessionsById);return i[t]=Object.assign({},i[t],{advisories:n}),s.set("sessionsById",i)},S=function(s,e){var n=e.sessionId,t=e.shouldFetchAdvisories,i=Object.assign({},s.sessionsById);return i[n]=Object.assign({},i[n],{shouldFetchAdvisories:t}),s.set("sessionsById",i)},_=function(s,e){var n=e.sessionId,t=e.videoId,i=Object.assign({},s.sessionsById);return i[n]=Object.assign({},i[n],{videoId:t}),s.set("sessionsById",i)},A=function(s,e){var n=e.sessionId,t=e.wasPlayerPaused;if(!n||!s.sessionsById[n])return s;var i=s.sessionsById[n];return i.reportAProblem=Object.assign({},i.reportAProblem,{show:!0,wasPlayerPaused:t}),s.sessionsById[n]=Object.assign({},i),s.set("sessionsById",Object.assign({},s.sessionsById))},p=function(s,e){var n=e.sessionId;if(!n||!s.sessionsById[n])return s;var t=s.sessionsById[n];return t.reportAProblem={show:!1},s.sessionsById[n]=Object.assign({},t),s.set("sessionsById",Object.assign({},s.sessionsById))},T=function(s,e){var n=e.sessionId,t=e.wasPlayerPaused;if(!n||!s.sessionsById[n])return s;var i=s.sessionsById[n];return i.shareSheet=Object.assign({},i.shareSheet,{show:!0,wasPlayerPaused:t}),s.sessionsById[n]=Object.assign({},i),s.set("sessionsById",Object.assign({},s.sessionsById))},b=function(s,e){var n=e.sessionId;e.wasPlayerPaused;if(!n||!s.sessionsById[n])return s;var t=s.sessionsById[n];return t.shareSheet={show:!1},s.sessionsById[n]=Object.assign({},t),s.set("sessionsById",Object.assign({},s.sessionsById))},g=function(s,e){var n=e.sessionId;if(!n||!s.sessionsById[n])return s;var t=s.sessionsById[n];return t.seamless=Object.assign({},t.seamless,{showControls:!1}),s.sessionsById[n]=Object.assign({},t),s.set("sessionsById",Object.assign({},s.sessionsById))},m=function(s,e){var n=(e.report,e.sessionId);if(!n||!s.sessionsById[n])return s;var t=s.sessionsById[n];return t.reportAProblem=Object.assign({},t.reportAProblem,{requestPending:!0}),s.sessionsById[n]=Object.assign({},t),s.set("sessionsById",Object.assign({},s.sessionsById))},v=function(s,e){var n=e.sessionId,t=e.success;if(!n||!s.sessionsById[n])return s;var i=s.sessionsById[n];return i.reportAProblem=Object.assign({},i.reportAProblem,{requestSuccess:t,requestPending:!1}),s.sessionsById[n]=Object.assign({},i),s.set("sessionsById",Object.assign({},s.sessionsById))},P=function(s,e){var n=e.sessionId;if(!s.sessionsById[n])return s;var t=Object.assign({},s.sessionsById);return delete t[n],s.set("sessionsById",t)},R=function(s,e){return s.set("networkCongestionInfo",e)},j=function(s,e){return s.set("initParams",u(s.initParams,e))},L=function(s,e){var n=e.sessionId;if(!s.sessionsById[n])return s;var t=s.sessionsById[n];return t.seamless=Object.assign({},t.seamless,{showExperience:!0}),s.sessionsById[n]=Object.assign({},t),s.set("sessionsById",Object.assign({},s.sessionsById))},C=function(s,e){var n=e.sessionId;if(!s.sessionsById[n])return s;var t=s.sessionsById[n];return delete t.seamless,s.sessionsById[n]=Object.assign({},t),s.set("sessionsById",Object.assign({},s.sessionsById))},M=function(s,e){var n=e.sessionId;if(!s.sessionsById[n])return s;var t=s.sessionsById[n];return delete t.seamless,s.sessionsById[n]=Object.assign({},t),s.set("sessionsById",Object.assign({},s.sessionsById))},V=function(s,e){var n=e.sessionId;if(!s.sessionsById[n])return s;var t=s.sessionsById[n];return s.sessionsById[n]=Object.assign({},t,{interactionOccurred:!0}),s.set("sessionsById",Object.assign({},s.sessionsById))},h=function(s){return s.set("playerPageUnloading",!0)},D=function(s,e){var n=e.timestamp;return s.set("manifestGenesisTimestamp",n)},N=function(s,e){var n=e.muted;return s.appConfig.persistSupplementalAudioState?s.set("areSupplementalsMuted",n):s},k=function(s){return s.appConfig.persistSupplementalAudioState?s.set("areSupplementalsMuted",!0):s},U=function(s){return s.appConfig.persistSupplementalAudioState?s.set("areSupplementalsMuted",!1):s},w=function(s,e){var n=e.playProxy,t=e.sessionId,a=Object.assign({},s.playbackBlockedBySessionId,(0,i.default)({},t,n));return s.set("playbackBlockedBySessionId",a)},H=function(s,e){var n=e.sessionId;if(!s.playbackBlockedBySessionId[n]||"pausedchanged"===!e.eventType)return s;if(!0===e.stateDiff.playing){var t=Object.assign({},s.playbackBlockedBySessionId);return delete t[n],s.set("playbackBlockedBySessionId",t)}return s},G=function(s,e){var n=e.sessionId,t=Object.assign({},s.sessionsById);return t[n]=Object.assign({},t[n],{videoId:e.initialPlaybackState.videoId,advisories:void 0}),s.set("sessionsById",t)},Y=function(){var s,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;return r((s={},(0,i.default)(s,l.HIDE_REPORT_A_PROBLEM_DIALOG,a(p)),(0,i.default)(s,l.HIDE_SEAMLESS_CONTROLS,a(g)),(0,i.default)(s,l.HIDE_SHARE_SHEET,a(b)),(0,i.default)(s,l.INTERACT_WITH_PLAYER,a(V)),(0,i.default)(s,l.PLAYBACK_BLOCKED,a(w)),(0,i.default)(s,l.PLAYER_PAGE_UNLOADING,a(h)),(0,i.default)(s,l.PLAYER_VIEW_CLOSING,a(P)),(0,i.default)(s,l.RECEIVE_ADVISORIES,a(O)),(0,i.default)(s,l.RECEIVE_CONGESTION_INFO,a(R)),(0,i.default)(s,l.RECEIVE_INIT_PARAMS,a(j)),(0,i.default)(s,l.RECEIVE_MANIFEST_GENISIS_TIMESTAMP,a(D)),(0,i.default)(s,l.RECEIVE_PLAYER_SESSION,a(S)),(0,i.default)(s,l.RECEIVE_SUPPLEMENTAL_MUTE_STATE,a(N)),(0,i.default)(s,l.RECEIVE_VIDEO_ID,a(_)),(0,i.default)(s,l.REQUEST_COMPLETE_REPORT_A_PROBLEM_DIALOG,a(v)),(0,i.default)(s,l.SET_START_TIME,a(B)),(0,i.default)(s,l.SHOW_REPORT_A_PROBLEM_DIALOG,a(A)),(0,i.default)(s,l.SHOW_SEAMLESS_EXPERIENCE,a(L)),(0,i.default)(s,l.SHOW_SHARE_SHEET,a(T)),(0,i.default)(s,l.SUBMIT_REPORT_A_PROBLEM_DIALOG,a(m)),(0,i.default)(s,l.UNSET_START_TIME,a(f)),(0,i.default)(s,E.PLAY_NEXT_SEAMLESS_VIDEO,a(C)),(0,i.default)(s,E.PLAYER_MUTE_ALL,a(k)),(0,i.default)(s,E.PLAYER_UNMUTE_ALL,a(U)),(0,i.default)(s,E.RECEIVE_CADMIUM_PLAYER,a(G)),(0,i.default)(s,E.RECEIVE_FATAL_ERROR,a(M)),(0,i.default)(s,E.RECEIVE_TIMEOUT_ERROR,a(M)),(0,i.default)(s,E.RECEIVE_UPSELL_ERROR,a(M)),(0,i.default)(s,E.REMOVE_SEAMLESS_STATE,a(M)),(0,i.default)(s,E.RECEIVE_PLAYBACK_STATE_DIFF,a(H)),s),e)};e.exports=Y});C.r("player/domains/playerApp/playerAppConstants.js",function(E,_,R){"use strict";var A={FETCH_ADVISORIES:"FETCH_ADVISORIES",HIDE_REPORT_A_PROBLEM_DIALOG:"HIDE_REPORT_A_PROBLEM_DIALOG",HIDE_SEAMLESS_CONTROLS:"HIDE_SEAMLESS_CONTROLS",HIDE_SHARE_SHEET:"HIDE_SHARE_SHEET",INTERACT_WITH_PLAYER:"INTERACT_WITH_PLAYER",LOG_PREPARE_PLAY_START:"LOG_PREPARE_PLAY_START",LOG_PREPARE_PLAY_END:"LOG_PREPARE_PLAY_END",LOG_PLAY_REQUEST_COMPLETE:"LOG_PLAY_REQUEST_COMPLETE",LOG_PLAY_REQUEST_START:"LOG_PLAY_REQUEST_START",LOG_PLAY_REQUEST_ERROR:"LOG_PLAY_REQUEST_ERROR",LOG_PLAY_REQUEST_CANCEL:"LOG_PLAY_REQUEST_CANCEL",PLAYBACK_BLOCKED:"PLAYBACK_BLOCKED",PLAYER_VIEW_CLOSING:"PLAYER_VIEW_CLOSING",PLAYER_PAGE_UNLOADING:"PLAYER_PAGE_UNLOADING",PREPARE_PAUSE:"PREPARE_PAUSE",PREPARE_RESUME:"PREPARE_RESUME",RECEIVE_ADVISORIES:"RECEIVE_ADVISORIES",RECEIVE_CONGESTION_INFO:"RECEIVE_CONGESTION_INFO",RECEIVE_INIT_PARAMS:"RECEIVE_INIT_PARAMS",RECEIVE_MANIFEST_GENISIS_TIMESTAMP:"RECEIVE_MANIFEST_GENESIS_TIMESTAMP",RECEIVE_PLAYER_SESSION:"RECEIVE_PLAYER_SESSION",RECEIVE_SUPPLEMENTAL_MUTE_STATE:"RECEIVE_SUPPLEMENTAL_MUTE_STATE",RECEIVE_VIDEO_ID:"RECEIVE_VIDEO_ID",REQUEST_COMPLETE_REPORT_A_PROBLEM_DIALOG:"REQUEST_COMPLETE_REPORT_A_PROBLEM_DIALOG",SEND_PRE_PLAY_IMPRESSION:"SEND_PRE_PLAY_IMPRESSION",SET_START_TIME:"SET_START_TIME",SHOW_REPORT_A_PROBLEM_DIALOG:"SHOW_REPORT_A_PROBLEM_DIALOG",SHOW_SEAMLESS_EXPERIENCE:"SHOW_SEAMLESS_EXPERIENCE",SHOW_SHARE_SHEET:"SHOW_SHARE_SHEET",SUBMIT_REPORT_A_PROBLEM_DIALOG:"SUBMIT_REPORT_A_PROBLEM_DIALOG",UNSET_START_TIME:"UNSET_START_TIME",LOG_COUNTDOWN_TIMER_START:"LOG_COUNTDOWN_TIMER_START",LOG_COUNTDOWN_TIMER_END:"LOG_COUNTDOWN_TIMER_END",LOG_COUNTDOWN_TIMER_CANCELLED:"LOG_COUNTDOWN_TIMER_CANCELLED"};_.exports={actionTypes:A}});C.r("player/domains/playerApp/logging/logCountdownTimer.js",function(n,s,e){"use strict";var o=n("../../../../akira/redux/logging/createSessionMiddleware"),a=n("../playerAppConstants"),i=a.actionTypes,t=n("shakti-platform/dist/ui/consolidatedLogging/constants/actionTypes");s.exports=o({sessionName:t.Countdown,bindings:{start:i.LOG_COUNTDOWN_TIMER_START,end:i.LOG_COUNTDOWN_TIMER_END,cancelled:i.LOG_COUNTDOWN_TIMER_CANCELLED}})});C.r("player/domains/playerApp/logging/loggingStateOperations.js",function(t,e,s){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var i=t("babel-runtime/helpers/classCallCheck"),o=n(i),a=t("babel-runtime/helpers/createClass"),l=n(a),g=t("shakti-platform/dist/ui/consolidatedLogging/constants/contextTypes"),c=function(){function t(e,s){(0,o.default)(this,t),this.clInstance=e,this.loggingState=s}return(0,l.default)(t,[{key:"openExclusiveSession",value:function(t,e){this.loggingState.sessionIds[t]||(this.loggingState.sessionIds[t]=this.clInstance.startSession(t,e))}},{key:"closeAndDeleteSession",value:function(t,e){this.loggingState.sessionIds[t]&&(this.clInstance.endSession(this.loggingState.sessionIds[t],"string"==typeof e?{type:e}:e),delete this.loggingState.sessionIds[t])}},{key:"updateContext",value:function(t,e){this.loggingState.contextIds[t]&&this.clInstance.removeContext(this.loggingState.contextIds[t]),e&&(this.loggingState.contextIds[t]=this.clInstance.addContext(t,e))}},{key:"cleanupSession",value:function(t){var e=this;Object.keys(this.loggingState.sessionIds).forEach(function(s){e.closeAndDeleteSession(s,t)}),Object.keys(this.loggingState.contextIds).forEach(function(t){e.updateContext(t,void 0)})}},{key:"playWithCoincidence",value:function(t){var e=t.mediaOffset,s=t.sessionId,n=t.xid;this.loggingState.sessionIds.StartPlay||this.openExclusiveSession("StartPlay",{startOffset:e,trackingInfo:this.loggingState.trackingInfo}),this.updateContext("MediaOffset",{mediaOffset:e}),this.updateContext(g.Xid,{xid:n,sharedUuid:s}),this.openExclusiveSession("Play",{trackingInfo:this.loggingState.trackingInfo}),this.closeAndDeleteSession("StartPlay")}}]),t}();e.exports=c});C.r("player/domains/videoPlayer/videoPlayerAPI.js",function(e,n,t){"use strict";var r=e("babel-runtime/helpers/slicedToArray"),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=e("./playbackState"),u=i.closedState,l=i.loadedState,a=e("./videoPlayerConstants"),s=a.playerIdentifier,d=e("ramda/src/contains"),f=e("nf-algebraic-data-types/Option"),c=e("../../nfplayer/uiLabel"),m=[c.TRAILER,c.BILLBOARD_STANDARD,c.BILLBOARD_STANDARD_3LOOP,c.BILLBOARD_CACHED,c.BILLBOARD_BIG_ROW,c.BILLBOARD_TRAILER_FULL,c.VIDEO_MERCH_BOB_HORIZONTAL,c.VIDEO_MERCH_BOB_VERTICAL,c.VIDEO_MERCH_JAW],g=function(e){return e.getAudioTrack()},y=function(e){return e.getTimedTextTrack()},S=function(e){return e.getSegmentTime()},p=function(e,n){return e.playbackStateBySessionId[n]},b=function(e){return e.cadmiumPlayerRepository.toList().concat(e.htmlPlayerRepository.toList()).map(function(e){var n=(0,o.default)(e,2),t=n[0];n[1];return t})},I=function(e,n){return e.cadmiumPlayerRepository.getPlayer(n)},O=function(e,n){return f.fromNullable(I(e,n)).map(function(e){return e.getSegmentTime()}).getOrElse(0)},B=function(e,n){return f.fromNullable(I(e,n)).map(function(e){return e.getDuration()}).getOrElse(0)},E=function(e,n){return f.fromNullable(I(e,n)).map(function(e){return e&&e.getCropAspectRatio?e.getCropAspectRatio():void 0}).getOrElse(void 0)},L=function(e,n){return f.fromNullable(I(e,n)).map(g).getOrElse(void 0)},N=function(e,n){return f.fromNullable(I(e,n)).map(y).getOrElse(void 0)},A=function(e,n){return f.fromNullable(I(e,n)).map(S).getOrElse(-1)},P=function(e,n){return f.fromNullable(p(e,n)).map(function(e){return e.seamlessVideosByVideoId}).getOrElse(void 0)},R=function(e,n,t){return f.fromNullable(P(e,n)).map(function(e){return e[t]}).getOrElse(void 0)},T=function(e,n){return f.fromNullable(p(e,n)).map(function(e){return e.uiLabel}).getOrElse(void 0)},C=function(e,n){return d(T(e,n),m)},v=function(e,n){return f.fromNullable(p(e,n)).map(function(e){return e.closedState===u.CLOSING}).getOrElse(!1)},D=function(e,n){return f.fromNullable(p(e,n)).map(function(e){return e.closedState===u.CLOSED}).getOrElse(!1)},V=function(e,n){return f.fromNullable(p(e,n)).map(function(e){return e.playing}).getOrElse(!1)},_=function(e,n){return f.fromNullable(p(e,n)).map(function(e){return e.muted}).getOrElse(!1)},k=function(e,n){return f.fromNullable(p(e,n)).map(function(e){return e.busyProgress}).map(function(e){return Math.abs(Math.floor(100*e))}).getOrElse(void 0)},h=function(e,n){return f.fromNullable(p(e,n)).map(function(e){return e.busyProgress>-1}).getOrElse(!1)},M=function(e,n){return f.fromNullable(p(e,n)).map(function(e){return e.ended}).getOrElse(!1)},F=function(e,n,t){var r=R(e,n,t),o=!(!r||!r.added),i=!(!r||!r.pending);return o||i},x=function(e,n){return f.fromNullable(p(e,n)).map(function(e){return e.loadedState===l.LOADED}).getOrElse(!1)},H=function(e,n){return f.fromNullable(p(e,n)).map(function(e){return e.loadedState===l.LOADING}).getOrElse(!1)},U=function(e,n,t){var r=R(e,n,t),o=!(!r||!r.added),i=!(!r||!r.pending);return o&&!i},j=function(e,n){return f.fromNullable(p(e,n)).map(function(e){return e.transitioningSeamlessly}).getOrElse(!1)},w=function(e,n){return f.fromNullable(p(e,n)).map(function(e){return e.xid}).getOrElse(-1)},G=function(e,n){return f.fromNullable(p(e,n)).map(function(e){return e.showTimedText}).getOrElse(!1)},W=function(e){return e.isPrepareEnabled},J=function(e){return f.fromNullable(e.videoSession).map(function(e){return e.isSeamlessEnabled()}).getOrElse(!1)},X=function(e){return!!e.videoSession},Z=function(e){return Object.keys(e.playbackStateBySessionId).map(function(n){return e.playbackStateBySessionId[n]})},q=function(e){return function(n){return Object.keys(n.playbackStateBySessionId).filter(function(n){return n.indexOf(e)>-1}).length}}(s.VideoMerchBob),z=function(e,n,t){return f.fromNullable(e.videoSession).map(function(e){return e.canFulfillUIIntent(n,void 0,t)}).orElse(function(){return f.of(t(!1))})},K={canStartPlayback:z,getAllCadmiumPlayerStates:Z,getAllPlayerSessionIds:b,getBufferingProgressBySessionId:k,getCurrentAudioTrackBySessionId:L,getCurrentSegmentTimeBySessionId:A,getCurrentTextTrackBySessionId:N,getCurrentTimeBySessionId:O,getCropAspectRatioBySessionId:E,getDurationBySessionId:B,getPlaybackStateBySessionId:p,getUILabelForSessionId:T,getVideoMerchBobPlayerCount:q,getVideoPlayerBySessionId:I,getXidBySessionId:w,hasVideoSession:X,isBufferingBySessionId:h,isPlayerTransitioningSeamlessly:j,isPrepareEnabled:W,isSeamlessEnabled:J,isSupplementalUILabelBySessionId:C,isVideoEndedBySessionId:M,isVideoLoadedBySessionId:x,isVideoLoadingBySessionId:H,isVideoPlayerClosedForSessionId:D,isVideoPlayerClosingForSessionId:v,isVideoPlayingForSessionId:V,isVideoPlayerMutedBySessionId:_,isVideoReadyForSeamlessTransition:U,showTimedTextBySessionId:G,wasVideoAddedForSeamless:F};n.exports=K});C.r("player/domains/playerApp/logging/playerChildLoggers/logMediaOffset.js",function(e,t,i){"use strict";function o(){var e=a.throttle(function(e){return e()},1e3);return function(t,i,o){switch(i.type){case d.RECEIVE_PLAYBACK_STATE_DIFF:var a=i.data,r=a.sessionId,l=a.stateDiff;"number"==typeof l.currentTime&&s.isVideoPlayingForSessionId(t.getState().videoPlayer,r)&&e(function(){o.updateContext(n.MediaOffset,{mediaOffset:l.currentTime})})}}}var a=e("lodash"),n=e("shakti-platform/dist/ui/consolidatedLogging/constants/contextTypes"),s=(e("../loggingStateOperations"),e("../../../videoPlayer/videoPlayerAPI")),r=e("../../../videoPlayer/videoPlayerConstants"),d=r.actionTypes;t.exports=o});C.r("player/domains/playerApp/logging/playerChildLoggers/logVolume.js",function(e,t,n){"use strict";function o(e,t){return e&&e.muting!==t.muting?t.muting?function(e){return i.MuteCommand(e)()}:function(e){return i.UnmuteCommand(e)()}:function(e){return e()}}var a=e("lodash"),i=e("../../../../../akira/redux/logging/commandTriggers"),r=e("shakti-platform/dist/ui/consolidatedLogging/constants/contextTypes"),u=e("shakti-platform/dist/ui/consolidatedLogging/constants/eventTypes"),s=(e("../loggingStateOperations"),e("../../../videoPlayer/videoPlayerAPI")),l=e("../../../videoPlayer/videoPlayerConstants"),d=l.actionTypes,g=function(){var e=void 0,t=void 0;return function(n,i,l){switch(i.type){case d.RECEIVE_PLAYBACK_STATE_DIFF:var g=i.data,m=g.sessionId,c=g.stateDiff,v=s.getPlaybackStateBySessionId(n.getState().videoPlayer,m);if(!v||"number"!=typeof c.volume&&"boolean"!=typeof c.muted)return;var y={level:"number"==typeof c.volume?c.volume:v.volume,muting:"boolean"==typeof c.muted?c.muted:v.muted},f=!a.isEqual(e,y),p=o(e,y),C=f?l.clInstance.addContext(r.Volume,y):t;p(function(){e&&f&&l.clInstance.logEvent(u.VolumeChanged),t&&f&&l.clInstance.removeContext(t)}),e=y,t=C}}};t.exports=g});C.r("player/domains/playerApp/logging/logPlayerActions.js",function(e,n,t){"use strict";function a(e){return Object.assign({},e,{sessionId:void 0,triggerEl:void 0})}function i(e,n){var t=e[n]||{contextIds:{},sessionIds:{},sessionId:n};return e[n]=t,t}var o,s=e("babel-runtime/helpers/defineProperty"),d=function(e){return e&&e.__esModule?e:{default:e}}(s),r=e("../playerAppConstants"),l=r.actionTypes,u=e("../../../../akira/redux/logging/commandTriggers"),f=e("shakti-platform/dist/ui/consolidatedLogging/constants/contextTypes"),c=e("shakti-platform/dist/ui/utils/inNode"),E=e("./loggingStateOperations"),g=e("./playerChildLoggers/logMediaOffset"),S=e("./playerChildLoggers/logVolume"),p=e("../../videoPlayer/videoPlayerAPI"),I=e("../../videoPlayer/videoPlayerConstants"),y=I.actionTypes,v=function(e,n){return Object.assign(a(n),{type:e})},P=function(e,n,t,a){var i=n.data,o=i.initialPlaybackState,s=i.sessionId,d=o?o.xid:void 0;t.updateContext(f.Xid,{xid:d,sharedUuid:s})},_=function(e,n,t,i){i.trackingInfo=a(n.data),t.openExclusiveSession("StartPlay",{trackingInfo:a(n.data)})},A=function(e,n,t,a){t.closeAndDeleteSession("StartPlay",v("SessionCanceled",n.data))},C=function(e,n,t,a){t.closeAndDeleteSession("StartPlay",v("ActionFailed",n.data))},R=function(e,n,t,a){var i=n.data,o=i.sessionId,s=i.stateDiff,d=i.videoId,r=p.getPlaybackStateBySessionId(e.getState().videoPlayer,o);if(r){var l=d||s&&s.videoId||r.videoId;a.trackingInfo&&(a.trackingInfo.videoId=l),t.playWithCoincidence({mediaOffset:r.currentTime,sessionId:o,xid:r.xid})}},L=function(e,n,t,a){var i=n.data,o=i.sessionId;if(i.stateDiff.paused)u.PauseCommand(function(){t.cleanupSession("SessionCanceled")})();else{var s=p.getCurrentTimeBySessionId(e.getState().videoPlayer,o);u.UnpauseCommand(function(){t.openExclusiveSession("StartPlay",{startOffset:s,trackingInfo:a.trackingInfo})})()}},O=function(e,n,t,a){t.cleanupSession("SessionCanceled")},T=function(e,n,t,a){t.cleanupSession("SessionEnded")},m=function(e,n,t,a){t.closeAndDeleteSession("Play"),R(e,n,t,a)},k=function(e,n,t,a){t.cleanupSession("ActionFailed")},x=function(e,n,t,a){var i=n.data,o=i.sessionId,s=i.stateDiff,d=p.getPlaybackStateBySessionId(e.getState().videoPlayer,o);d&&(void 0!==s.paused&&s.paused!==d.paused&&L(e,n,t,a),!d.playing&&s.playing&&R(e,n,t,a),!d.ended&&s.ended&&T(0,0,t))},D=(o={},(0,d.default)(o,l.LOG_PLAY_REQUEST_CANCEL,A),(0,d.default)(o,l.LOG_PLAY_REQUEST_ERROR,C),(0,d.default)(o,l.LOG_PLAY_REQUEST_START,_),(0,d.default)(o,l.PLAYER_VIEW_CLOSING,O),(0,d.default)(o,y.PLAYER_CLOSED,O),(0,d.default)(o,y.PLAY_NEXT_SEAMLESS_VIDEO,m),(0,d.default)(o,y.RECEIVE_CADMIUM_PLAYER,P),(0,d.default)(o,y.RECEIVE_FATAL_ERROR,k),(0,d.default)(o,y.RECEIVE_HTML5_VIDEO_PLAYER,P),(0,d.default)(o,y.RECEIVE_PLAYBACK_STATE_DIFF,x),(0,d.default)(o,y.RECEIVE_PLAYER_ERROR,k),o),Y=function(e){var n={},t=[g(),S()];return function(a){return function(o){return function(s){if(c)return o(s);var d=s.data&&s.data.sessionId,r=d?i(n,d):void 0;if(!r)return o(s);var l=new E(e,r);t.forEach(function(e){return e(a,s,l)});var u=D[s.type];return"function"==typeof u&&u(a,s,l,r),o(s)}}}};n.exports=Y});C.r("player/domains/playerApp/logging/logSeamlessVideo.js",function(e,t,s){"use strict";function n(e){return Object.assign({},e,{sessionId:void 0,eventUuid:e.sessionId})}var a=e("babel-runtime/helpers/defineProperty"),i=function(e){return e&&e.__esModule?e:{default:e}}(a),o=e("../../../../akira/redux/logging/createSessionMiddleware"),d=e("../../videoPlayer/videoPlayerConstants"),r=e("shakti-platform/dist/ui/consolidatedLogging/constants/actionTypes"),E=e("shakti-platform/dist/ui/consolidatedLogging/constants/contextTypes"),u=e("shakti-platform/dist/ui/utils/inNode"),c=function(){},l=d.actionTypes;t.exports=function(e){var t={},s=o({sessionName:r.DebugSession,bindings:{start:l.ADD_NEXT_SEAMLESS_VIDEO,end:l.SEAMLESS_VIDEO_PREPARED,failed:l.SEAMLESS_VIDEO_INCOMPLETE},transformers:(0,i.default)({},l.ADD_NEXT_SEAMLESS_VIDEO,function(e){return{name:"AddNextSeamlessVideo",endPts:e.seamlessData.currentEndPts,startPts:e.seamlessData.nextStartPts,trackId:e.seamlessData.playbackParams.trackingId,videoId:e.seamlessData.movieId,xid:t[e.sessionId]}})})(e),a=o({sessionName:r.DebugSession,bindings:{start:l.LOG_PLAY_NEXT_SEAMLESS_VIDEO_START,end:l.LOG_PLAY_NEXT_SEAMLESS_VIDEO_END},transformers:(0,i.default)({},l.LOG_PLAY_NEXT_SEAMLESS_VIDEO_START,function(e){return{name:"PlayNextSeamlessVideo",autoplay:e.autoplay,videoId:e.videoId,trackId:e.trackId,xid:t[e.sessionId]}})})(e);return function(i){return function(o){return function(d){var r=d.type,S=d.data,_=void 0;if(u)return o(d);var I=S&&S.sessionId;switch(r){case l.RECEIVE_CADMIUM_PLAYER:t[I]=S.initialPlaybackState.xid;break;case l.LOG_PLAY_NEXT_SEAMLESS_VIDEO_START:var f=S.event;f&&(_=f.type.indexOf("key")>-1?e.addContext(E.KeyboardInput,{confidence:1,isHotKey:!0,keyCode:f.keyCode}):e.addContext(E.PointerInput,{confidence:1,pointer:"click"}))}if(I){var p=n(S);s(i)(c)({type:r,data:p}),a(i)(c)({type:r,data:p})}return _&&e.removeContext(_),o(d)}}}}});C.r("player/domains/playerApp/playerAppAPI.js",function(e,n,t){"use strict";var o=e("./playerAppUtils"),r=e("ramda/src/propOr"),s=e("ramda/src/isNil"),i=e("ramda/src/clone"),a=e("../../../utils/Routes"),u=e("../../../player/embed/utils/createEmbedMarkup"),d=e("shakti-platform/dist/ui/utils/URLGenerator"),c=function(e,n){return e.sessionsById[n]},l=function(e,n){return r(void 0,"advisories",c(e,n))},f=function(e){return r("","name",e.networkCongestionInfo)},S=function(e,n){return r(void 0,"videoId",c(e,n))},m=function(e){return i(e.initParams)},p=function(e,n){return r(void 0,"reportAProblem",c(e,n))},y=function(e,n){return r(void 0,"seamless",c(e,n))},g=function(e,n){return r(void 0,"shareSheet",c(e,n))},h=function(e,n,t){return d.create({path:a.watchNow.makePath({id:t||S(e,n)})})},I=function(e,n,t){return u(d.create({path:a.embedPlayer.makePath({id:t||S(e,n)})}))},B=function(e,n){return r(NaN,n,e.startTimesBySessionId)},P=function(e,n){return r(NaN,String(n),e.startTimesByVideoId)},k=function(e,n,t){return r(NaN,o.makeTimeKey(n,t),e.startTimesBySessionAndVideoId)},C=function(e,n,t){return k(e,n,t)||B(e,n)||P(e,t)},v=function(e,n){return r(void 0,"requestPending",p(e,n))},w=function(e,n){return r(void 0,"requestSuccess",p(e,n))},A=function(e){return r(!1,"success",e.networkCongestionInfo)&&r(!1,"isCongested",e.networkCongestionInfo)},b=function(e,n){var t=r(!1,"shouldFetchAdvisories",c(e,n)),o=l(e,n);return t&&void 0===o},N=function(e,n){return r(!1,"show",p(e,n))},T=function(e,n){return r(!0,"showControls",y(e,n))},E=function(e,n){return r(!1,"showExperience",y(e,n))},F=function(e,n){return r(!1,"show",g(e,n))},V=function(e,n,t){return s(e.appConfig[n])?t:e.appConfig[n]},M=function(e){return e.appConfig},R=function(e){return e.manifestGenesisTimestamp},q=function(e){return V(e,"seamlessPlaybackEnabledForUI")},x=function(e){return V(e,"callVideoPlayerEngageMethod")},G=function(e,n){return r(!1,"interactionOccurred",c(e,n))},U=function(e,n){return"boolean"==typeof e.areSupplementalsMuted?e.areSupplementalsMuted:n},L=function(e,n){return!!e.playbackBlockedBySessionId[n]},O=function(e,n){return e.playbackBlockedBySessionId[n]},j={callVideoPlayerEngageMethod:x,getAdvisoriesForSessionId:l,getConfig:M,getConfigEntry:V,getCongestedNetworkName:f,getCurrentVideoIdBySessionId:S,getInitParams:m,getManifestGenesisTimestamp:R,getPlayProxyBySessionId:O,getPlayStartTime:C,getRequestPendingForRAPBySessionId:v,getRequestSuccessForRAPBySessionId:w,getSessionStateById:c,getShareEmbedCodeForSessionId:I,getShareLinkForSessionId:h,getStartTimeBySessionAndVideoId:k,getStartTimeBySessionId:B,getStartTimeByVideoId:P,getSupplementalVideoMuteState:U,hasInteractedWithPlayer:G,isNetworkCongested:A,isPlaybackBlockedBySessionId:L,isSeamlessTransitionEnabled:q,shouldFetchAdvisories:b,shouldShowRAPBySessionId:N,shouldShowSeamlessControlsBySessionId:T,shouldShowSeamlessExperienceBySessionId:E,shouldShowShareSheetBySessionId:F};n.exports=j});C.r("player/domains/playerApp/playerAppActionCreators.js",function(e,E,_){"use strict";var R=e("../../nfplayer/domain/common/createAction"),S=e("./playerAppConstants"),r=S.actionTypes,A=R(r.FETCH_ADVISORIES),P=R(r.SET_START_TIME),o=R(r.UNSET_START_TIME),T=R(r.LOG_PREPARE_PLAY_START),a=R(r.LOG_PREPARE_PLAY_END),t=R(r.LOG_PLAY_REQUEST_START),I=R(r.LOG_PLAY_REQUEST_ERROR),l=R(r.LOG_PLAY_REQUEST_CANCEL),O=R(r.LOG_PLAY_REQUEST_COMPLETE),i=R(r.HIDE_REPORT_A_PROBLEM_DIALOG),s=R(r.HIDE_SEAMLESS_CONTROLS),L=R(r.HIDE_SHARE_SHEET),n=R(r.INTERACT_WITH_PLAYER),C=R(r.RECEIVE_ADVISORIES),p=R(r.REQUEST_COMPLETE_REPORT_A_PROBLEM_DIALOG),N=R(r.SHOW_REPORT_A_PROBLEM_DIALOG),m=R(r.SHOW_SHARE_SHEET),D=R(r.SUBMIT_REPORT_A_PROBLEM_DIALOG),M=R(r.RECEIVE_INIT_PARAMS),c=R(r.RECEIVE_CONGESTION_INFO),G=R(r.RECEIVE_MANIFEST_GENISIS_TIMESTAMP),y=R(r.RECEIVE_PLAYER_SESSION),d=R(r.RECEIVE_SUPPLEMENTAL_MUTE_STATE),g=R(r.RECEIVE_VIDEO_ID),u=R(r.PLAYER_VIEW_CLOSING),U=R(r.PLAYER_PAGE_UNLOADING),V=R(r.SHOW_SEAMLESS_EXPERIENCE),h=R(r.LOG_COUNTDOWN_TIMER_START),H=R(r.LOG_COUNTDOWN_TIMER_END),Y=R(r.LOG_COUNTDOWN_TIMER_CANCELLED),v=R(r.PREPARE_PAUSE),W=R(r.PREPARE_RESUME),B=R(r.PLAYBACK_BLOCKED),w=R(r.SEND_PRE_PLAY_IMPRESSION),b={fetchAdvisories:A,hideReportAProblemDialog:i,hideSeamlessControls:s,hideShareSheet:L,interactWithPlayer:n,logPlayRequestComplete:O,logPreparePlayStart:T,logPreparePlayEnd:a,logPlayRequestStart:t,logPlayRequestError:I,logPlayRequestCancel:l,playbackBlocked:B,playerViewClosing:u,playerPageUnloading:U,preparePause:v,prepareResume:W,receiveAdvisories:C,receiveCongestionInfo:c,receiveInitParams:M,receiveManifestGenesisTimestamp:G,receivePlayerSession:y,receiveSupplementalMuteState:d,receiveVideoId:g,requestCompleteReportAProblemDialog:p,setStartTime:P,sendPrePlayImpression:w,showReportAProblemDialog:N,showSeamlessExperience:V,showShareSheet:m,submitReportAProblemDialog:D,unsetStartTime:o,logStartCountdownTimer:h,logEndCountdownTimer:H,logCancelCountdownTimer:Y};E.exports=b});C.r("player/domains/playerApp/playerAppConfig.js",function(e,a,n){"use strict";var i=e("nf-algebraic-data-types/Record"),l=i({adultVerified:!1,assistiveAudioPreferred:!1,branchingPlaybackEnabled:!1,callVideoPlayerEngageMethod:!0,loggingEnabled:!0,persistSupplementalAudioState:!0,pinAPIEndpoint:"",pinEnabled:!0,pinResetOnNonPinContent:!1,pinResetURL:"",seamlessPlaybackEnabledForUI:!1,seamlessStartPlayTimeout:3e3,supportsCadmium:!1,videoMerchEnabled:!0,videoPlayerDownloadsEnabled:!1},"playerAppConfigRecord");a.exports={defaultPlayerAppConfig:l(),playerAppConfigRecord:l}});C.r("player/domains/playerApp/playerAppMiddleware.js",function(e,t,a){"use strict";var n=e("./playerAppConstants"),i=n.actionTypes,r=e("shakti-platform/dist/ui/utils/inNode"),s=e("../../../utils/eventBus"),o=e("../../../utils/consolidatedLogging/loggingEventRegistry"),p=e("./playerAppActionCreators"),l=e("./playerAppStateSerializer"),E=e("../videoPlayer/videoPlayerConstants"),c=E.actionTypes,u=e("../../nfplayer/requests/preplay"),A=e("../../nfplayer/components/prePlay/prePlayCacheHandler"),d=function(e,t){e.getState().appConfig.persistSupplementalAudioState&&l.serializeSupplementalAudioState(t)},P=function(e){return function(t){return function(a){return function(n){var l=a(n);if(r)return l;switch(l.type){case i.LOG_PLAY_REQUEST_START:s.emit(o.REQUEST_PLAY,l.data);break;case i.LOG_PLAY_REQUEST_COMPLETE:s.emit(o.PLAYBACK_START,l.data),s.emit("app:interactive");break;case c.RECEIVE_CADMIUM_PLAYER:var E=l.data.videoPlayer;E&&E.getCongestionInfo&&E.getCongestionInfo(function(e){t.dispatch(p.receiveCongestionInfo(e))});break;case i.RECEIVE_SUPPLEMENTAL_MUTE_STATE:case c.PLAYER_MUTE_ALL:case c.PLAYER_UNMUTE_ALL:d(t,t.getState().areSupplementalsMuted);break;case i.SEND_PRE_PLAY_IMPRESSION:var P=l.data,_=P.videoId,y=P.impressionToken;u.sendImpression(_,y),e&&A.invalidateAllCachedPrePlayData(e)}return l}}}};t.exports=P});C.r("player/domains/playerApp/playerAppState.js",function(e,a,s){"use strict";var t=e("./playerAppConfig"),p=t.playerAppConfigRecord,i=e("nf-algebraic-data-types/Record"),n=i({areSupplementalsMuted:void 0,sessionsById:{},startTimesBySessionAndVideoId:{},startTimesBySessionId:{},startTimesByVideoId:{},manifestGenesisTimestamp:Date.now(),networkCongestionInfo:{},initParams:{endPtsByViewableId:{}},appConfig:p(),playerPageUnloading:!1,playbackBlockedBySessionId:{}},"PlayerAppStateRecord");a.exports={defaultPlayerAppState:n(),playerAppStateRecord:n}});C.r("player/domains/playerApp/playerAppStateSerializer.js",function(e,t,r){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];return l(e,t)}function i(){return p.getObj(s)}function a(e){p.setObj(s,e)}function u(e){a(n(i(),{supplementals:{muted:e}}))}function o(e){if(e&&e[s])try{return JSON.parse(e[s])}catch(e){return{}}return{}}var p=e("../../../utils/cookieUtils"),s="pas",l=e("ramda/src/mergeDeepRight");t.exports={getPlayerStateFromCookies:o,serializeSupplementalAudioState:u}});C.r("player/domains/playerApp/playerAppUtils.js",function(r,e,t){"use strict";var i=function(r,e){return r+"-"+e},o=function(r,e){return parseInt(r.trackId||r.trkid,10)||e||-1},n=function(r,e,t,i,o,n,a){var d={video_id:r,track_id:e,location:"WATCHNOW",row:-97,rank:-97,list_id:void 0,lolomo_id:void 0,request_id:t||"unknown"},u=o,l=u&&u.split(",");return l&&l.length>=3?(d.row=Number(l[0]),d.rank=Number(l[1]),d.request_id=l[2],d.list_id=l[3],d.lolomo_id=l[4]):(n&&(d.row=n),a&&(d.rank=a),i&&(d.request_id=i)),d},a=function(r){var e=r.params,t=r.query;return parseInt(e.id||t.episodeId,10)};e.exports={getTrackIdFromQueryWithFallback:o,getUIPlayContext:n,getVideoIdFromRoute:a,makeTimeKey:i}});C.r("player/domains/playerApp/playerSessionMiddleware.js",function(e,s,t){"use strict";var i=e("lodash"),a=e("../../nfplayer/requests/advisories"),r=e("./playerAppConstants"),d=r.actionTypes,n=e("./playerAppActionCreators"),o=e("../../nfplayer/requests/reportAProblem"),c=e("../../../utils/eventBus"),l=e("../../../utils/consolidatedLogging/loggingEventRegistry"),I=e("./playerAppAPI"),E=e("./playerAppActionCreators"),p=E.playerPageUnloading,y=E.requestCompleteReportAProblemDialog,A=e("shakti-platform/dist/ui/utils/inNode"),_=e("../videoPlayer/videoPlayerConstants").actionTypes,u=e("../videoPlayer/videoPlayerActionCreators"),P={},S=function(e){return!!(e&&e.sessionId&&P[e.sessionId])},v=void 0,f=function(e,s){var t=e.getState(),i=s.sessionId,a=s.playerSession;!P[i]&&a&&(P[i]=a),I.shouldFetchAdvisories(t,i)&&e.dispatch(n.fetchAdvisories({sessionId:i}))};s.exports=function(e){return function(s){return function(t){if(A)return s(t);var r=e.getState();switch(t.type){case d.HIDE_REPORT_A_PROBLEM_DIALOG:if(S(t.data)){i.get(e.getState().sessionsById[t.data.sessionId],"reportAProblem.wasPlayerPaused",!1)||e.dispatch(u.playerPlay({sessionId:t.data.sessionId}))}break;case d.HIDE_SHARE_SHEET:if(S(t.data)){i.get(e.getState().sessionsById[t.data.sessionId],"shareSheet.wasPlayerPaused",!1)||e.dispatch(u.playerPlay({sessionId:t.data.sessionId}))}}var E=s(t),R=E.data,g=E.type,h=R&&R.sessionId;switch(g){case d.RECEIVE_PLAYER_SESSION:f(e,R);break;case d.FETCH_ADVISORIES:a.getPlaybackAdvisories(I.getCurrentVideoIdBySessionId(e.getState(),h),function(s,t){e.dispatch(n.receiveAdvisories({sessionId:h,advisories:s?[]:t}))});break;case d.PLAYER_VIEW_CLOSING:S(R)&&R.playerSession&&delete P[h];break;case d.SHOW_REPORT_A_PROBLEM_DIALOG:case d.SHOW_SHARE_SHEET:if(S(R)){var O=P[h].getPlayerInterface();R.wasPlayerPaused||e.dispatch(u.playerPause({sessionId:h})),O.exitFullscreen()}break;case d.SUBMIT_REPORT_A_PROBLEM_DIALOG:if(S(R)&&R.report){var C=P[h],L=C.getPlayerInterface(),T=Object.assign({},R.report,{videoId:C.getVideoId(),contentTime:L&&Math.round(L.getCurrentTime())});o(T,function(s,t){e.dispatch(y({sessionId:h,success:t&&t.success})),!s&&t&&t.success||c.emit(l.REPORT_A_PROBLEM_ERROR,R.report)})}break;case d.SHOW_SEAMLESS_EXPERIENCE:c.emit(l.PLAYBACK_SHOW_SEAMLESS_EXPERIENCE,{transitionEnabled:R.transitionEnabled,videoId:R.videoId,trackId:R.trackId,xid:R.xid});break;case d.HIDE_SEAMLESS_CONTROLS:R.viaKey?c.emit(l.PLAYER_UI_KEY,{videoId:R.videoId,trackId:R.trackId,xid:R.xid,name:"watchSeamlessCredits"}):c.emit(l.PLAYER_UI_CLICK,{videoId:R.videoId,trackId:R.trackId,xid:R.xid,name:"watchSeamlessCredits"});break;case d.INTERACT_WITH_PLAYER:h&&I.getSessionStateById(r,h)&&!I.hasInteractedWithPlayer(r,h)&&(c.emit(l.PLAYER_INTERACTION,{eventType:R.eventType,pointerType:R.pointerType}),window.netflix&&window.netflix.clientNotifications&&window.netflix.clientNotifications.flushBuffer());break;case _.RECEIVE_PLAYBACK_STATE_DIFF:!0===R.stateDiff.playing&&I.shouldFetchAdvisories(r,h)&&e.dispatch(n.fetchAdvisories({sessionId:h}))}return Object.keys(P).length>0&&!v?(v=function(){e.dispatch(p())},window.addEventListener("beforeunload",v)):0===Object.keys(P).length&&v&&(window.removeEventListener("beforeunload",v),v=void 0),E}}}});C.r("player/domains/videoPlayer/VideoSessionFacade.js",function(e,i,t){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}var n=e("babel-runtime/helpers/classCallCheck"),r=s(n),o=e("babel-runtime/helpers/createClass"),a=s(o),u=function(){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i.initParams,s=i.videoSession;(0,r.default)(this,e),this._videoSession=s,this._initParams=t,this.nccp=s.nccp}return(0,a.default)(e,[{key:"applyConfig",value:function(e){return this._videoSession.applyConfig(e)}},{key:"canFulfillUIIntent",value:function(e,i,t){return this._videoSession.canFulfillUIIntent(e,i,t)}},{key:"closeAllPlayers",value:function(e){return this._videoSession.closeAllPlayers(e)}},{key:"createPlayer",value:function(e,i){return this._videoSession.createPlayer(e,i)}},{key:"createPlayerWithOverrides",value:function(e,i,t){this._videoSession.applyConfig(t);var s=this._videoSession.createPlayer(e,i);return this._videoSession.applyConfig(this._initParams),s}},{key:"createPlayerWithBookmarkOverride",value:function(e,i,t){return this._initParams.bookmarkByMovieId=this._initParams.bookmarkByMovieId||{},this._initParams.bookmarkByMovieId[e]=t,this.createPlayerWithOverrides(e,i,this._initParams)}},{key:"deviceThroughputNiqr",value:function(){return this._videoSession.deviceThroughputNiqr()}},{key:"deviceThroughput",value:function(){return this._videoSession.deviceThroughput()}},{key:"init",value:function(e){return this._videoSession.init(e)}},{key:"isSeamlessEnabled",value:function(){return this._videoSession.isSeamlessEnabled()}},{key:"ppmUpdate",value:function(e){return this._videoSession.ppmUpdate(e)}},{key:"prepare",value:function(e,i){return this._videoSession.prepare(e)}},{key:"supportsHdr",value:function(e){return this._videoSession.supportsHdr(e)}},{key:"supportsUltraHd",value:function(e){return this._videoSession.supportsUltraHd(e)}}]),e}();i.exports=u});C.r("player/domains/videoPlayer/cadmiumPlayerMiddleware.js",function(e,a,t){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}var i,d=e("babel-runtime/helpers/defineProperty"),r=s(d),n=e("babel-runtime/helpers/slicedToArray"),o=s(n),c=e("../../entities/prepareItem"),l=c.toPrepareItemData,u=e("./playbackState"),m=u.closedState,f=u.playbackState,I=e("./cadmiumPlayerState"),y=I.transformPlayerToPlaybackState,P=e("../../../utils/eventBus"),S=e("../../../utils/consolidatedLogging/loggingEventRegistry"),E=e("../../nfplayer/common/Metadata"),p=e("./observeCadmiumPlayer"),v=e("./performSideEffect"),_=e("../../nfplayer/common/playerUIMilestones"),g=e("./videoPlayerActionCreators"),A=e("./videoPlayerAPI"),L=e("./videoPlayerConstants"),D=e("../videoPlayer/videoSession"),R=L.actionTypes,T=L.playbackInitiator,h={},b={},k={},Y=void 0,O=function(e,a,t){e.filter(function(e){var a=(0,o.default)(e,2),s=a[0];a[1];return!t||-1===t.indexOf(s)}).forEach(function(e){return a(e)})},M=function(e){return e.autoplay&&e.playbackInitiator===T.UI_COUNTDOWN},C=function(e,a,t){var s=A.getPlaybackStateBySessionId(e,a);if(s&&!s.engaged&&M(s)){var i=A.getVideoPlayerBySessionId(e,a);i&&"function"==typeof i.engage&&i.engage("User_Interaction",function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).success&&t(g.receivePlaybackStateDiff({eventType:"$custom",sessionId:a,stateDiff:{engaged:!0}}))})}},x=function(e,a){var t=e.data.sessionId;if(t){var s=a.getState().cadmiumPlayerRepository.getPlayer(t);s&&s.close(function(){a.dispatch(g.playerClosed({sessionId:t}))})}},U=function(e,a){var t=e.data.sessionId;if(t&&h[t]&&(h[t](),delete h[t]),k[t]){var s=k[t];delete k[t],setTimeout(function(){return a.dispatch(g.createCadmiumPlayer(s))})}},N=function(e,a){var t=e.data,s=a.getState().cadmiumPlayerRepository.getPlayer(t.sessionId);if(t.sessionId&&t.seamlessData&&t.seamlessData.movieId&&s&&A.wasVideoAddedForSeamless(a.getState(),t.sessionId,t.seamlessData.movieId)){var i=s.getXid();P.emit(S.PLAYBACK_SEAMLESS_VIDEO_ADDED_START,{endPts:t.seamlessData.currentEndPts,startPts:t.seamlessData.nextStartPts,trackId:t.seamlessData.playbackParams&&t.seamlessData.playbackParams.trackingId,videoId:t.seamlessData.movieId,xid:i});var d=s.addEpisode(t.seamlessData);d&&d.then(function(){P.emit(S.PLAYBACK_SEAMLESS_VIDEO_ADDED_END,{endPts:t.seamlessData.currentEndPts,startPts:t.seamlessData.nextStartPts,trackId:t.seamlessData.playbackParams&&t.seamlessData.playbackParams.trackingId,videoId:t.seamlessData.movieId,success:!0,xid:i}),a.dispatch(g.seamlessVideoPrepared({sessionId:t.sessionId,videoId:t.seamlessData.movieId}))}).catch(function(){P.emit(S.PLAYBACK_SEAMLESS_VIDEO_ADDED_END,{endPts:t.seamlessData.currentEndPts,startPts:t.seamlessData.nextStartPts,trackId:t.seamlessData.playbackParams&&t.seamlessData.playbackParams.trackingId,videoId:t.seamlessData.movieId,success:!1,xid:i}),a.dispatch(g.seamlessVideoIncomplete({sessionId:t.sessionId,videoId:t.seamlessData.movieId}))})}},V=function(e,a){var t=e.data,s=t.sessionId,i=a.getState().cadmiumPlayerRepository.getPlayer(s),d=t.branchSegmentId;s&&i?i.playSegment(d).then(function(){a.dispatch(g.playBranchSuccess({sessionId:s,branchSegmentId:d}))}).catch(function(){a.dispatch(g.playBranchFailed({sessionId:s,branchSegmentId:d}))}):a.dispatch(g.playBranchFailed({sessionId:s,branchSegmentId:d}))},B=function(e,a){var t=e.data,s=t.sessionId,i=a.getState().cadmiumPlayerRepository.getPlayer(s);if(s&&i){var d=t.branchSegmentId;i?i.queueSegment(d).then(function(){a.dispatch(g.queueBranchSuccess({sessionId:s,branchSegmentId:d}))}).catch(function(){a.dispatch(g.queueBranchFailed({sessionId:s,branchSegmentId:d}))}):a.dispatch(g.queueBranchFailed({sessionId:s,branchSegmentId:d}))}},X=function(e,a){var t=e.data,s=t.sessionId,i=a.getState().cadmiumPlayerRepository.getPlayer(s);s&&i&&A.isPlayerTransitioningSeamlessly(a.getState(),s)&&i.playNextEpisode().then(function(){return a.dispatch(g.removeSeamlessState({sessionId:s}))})},H=function(e,a){var t=e.data,s=t.sessionId,i=a.getState().cadmiumPlayerRepository.getPlayer(s);s&&i&&(P.emit(S.PLAYBACK_PLAY_NEXT_SEAMLESS_VIDEO_START,{autoplay:t.autoplay,videoId:t.videoId,trackId:t.trackId,xid:i.getXid()}),t.viaKey?P.emit(S.PLAYER_UI_KEY,{videoId:t.videoId,trackId:t.trackId,xid:i.getXid(),name:"playNextSeamlessEpisode"}):P.emit(S.PLAYER_UI_CLICK,{videoId:t.videoId,trackId:t.trackId,xid:i.getXid(),name:"playNextSeamlessEpisode",autoplay:t.autoplay}))},K=function(e,a){var t=e.data,s=t.sessionId,i=a.getState().cadmiumPlayerRepository.getPlayer(s);if(s&&i){var d=t.isDisabled?"disabled":"timeout";P.emit(S.PLAYBACK_PLAY_NEXT_SEAMLESS_VIDEO_END,{success:t.success,reason:t.success?void 0:d})}},w=function(e,a){var t=e.data.sessionId,s=a.getState().cadmiumPlayerRepository.getPlayer(t);s&&s.load()},F=function(e,a){var t=e.data.sessionId,s=a.getState().cadmiumPlayerRepository.getPlayer(t);s&&s.hideTimedText&&s.hideTimedText()},G=function(e,a){var t=e.data.sessionId,s=a.getState().cadmiumPlayerRepository.getPlayer(t);s&&s.showTimedText&&s.showTimedText()},Q=function(e,a){var t=e.data.sessionId,s=a.getState().cadmiumPlayerRepository.getPlayer(t);s&&s.setMuted(!0)},q=function(e,a){var t=e.data;O(a.getState().cadmiumPlayerRepository.toList(),function(e){var a=(0,o.default)(e,2);a[0];return a[1].setMuted(!0)},t&&t.excludeSessionIds)},W=function(e,a){var t=e.data.sessionId,s=a.getState().cadmiumPlayerRepository.getPlayer(t);s&&s.pause()},j=function(e,a){var t=e.data;O(a.getState().cadmiumPlayerRepository.toList(),function(e){var a=(0,o.default)(e,2);a[0];return a[1].pause()},t&&t.excludeSessionIds)},z=function(e,a){var t=e.data.sessionId,s=a.getState().cadmiumPlayerRepository.getPlayer(t);s&&s.play()},$=function(e,a){var t=e.data,s=t.seekTime,i=t.sessionId,d=a.getState().cadmiumPlayerRepository.getPlayer(i);d&&d.seek(s)},J=function(e,a){var t=e.data.sessionId,s=a.getState().cadmiumPlayerRepository.getPlayer(t);s&&s.setMuted(!1)},Z=function(e,a){var t=e.data;O(a.getState().cadmiumPlayerRepository.toList(),function(e){var a=(0,o.default)(e,2);a[0];return a[1].setMuted(!1)},t&&t.excludeSessionIds)},ee=function(e,a){var t=e.data,s=t.sessionId,i=t.volume,d=a.getState().cadmiumPlayerRepository.getPlayer(s);d&&d.setVolume(i)},ae=function(e,a){var t=e.data;O(a.getState().cadmiumPlayerRepository.toList(),function(e){var a=(0,o.default)(e,2);a[0];return a[1].setVolume(t.volume)},t.excludeSessionIds)},te=function(e,a){},se=function(e,a){var t=e.data,s=t.excludeSessionIds,i=t.sessionRoot,d=a.getState().cadmiumPlayerRepository.toList();O(i?d.filter(function(e){var a=(0,o.default)(e,2),t=a[0];a[1];return t.indexOf(i)>-1}):d,function(e){var t=(0,o.default)(e,2),s=t[0];return t[1].close(function(){a.dispatch(g.playerClosed({sessionId:s}))})},s)},ie=function(e,a,t){b[t]=E.getMetadata({id:t},function(e,s){delete b[t],a(e?g.receivePlayerError({errorId:"metadata-001",errorText:"Failed to load metadata.",originalError:e}):g.receiveVideoMetadata({videoId:t,videoMetadata:s}))})},de=function(e,a){var t=a.getState(),s=e.data,i=s.bookmarkTime,d=s.sessionId,r=t.cadmiumPlayerRepository.getPlayer(d),n=t.playbackStateBySessionId[d];if(r&&n.closedState===m.NOT_CLOSED)return k[d]=e.data,void a.dispatch(g.closePlayer({sessionId:d}));if(r&&n.closedState===m.CLOSING)return void(k[d]=e.data);k[d]&&delete k[d];var o=e.data,c=f(Object.assign({},o.initialPlaybackState,{playbackParams:o.playbackParams,sessionId:o.sessionId,trackId:o.playbackParams.trackingId,uiLabel:o.playbackParams.uiLabel,videoId:o.videoId})),l=c.muted,u=c.paused,I=c.playbackParams,P=c.showTimedText,S=c.videoId,E=c.volume,p=t.videoSession;if(t.videoMetadata[S]||b[S]||ie(0,a.dispatch,S),p)try{void 0===I.uiPlayStartTime&&(I.uiPlayStartTime=Date.now()),_&&_.createPlayerInstance&&_.createPlayerInstance.start();var v="number"==typeof i?p.createPlayerWithBookmarkOverride(S,I,i):p.createPlayer(S,I);u&&v.pause(),v.setVolume(E),l&&v.setMuted(!0),P&&v.showTimedText?v.showTimedText():v.hideTimedText&&v.hideTimedText(),_&&_.createPlayerInstance&&(_.createPlayerInstance.end(),_.createPlayerInstance.measure()),a.dispatch(g.receiveCadmiumPlayer({initialPlaybackState:y(v,c),sessionId:d,videoPlayer:v}))}catch(e){a.dispatch(g.receivePlayerError({errorId:"nfplayer-001",errorText:"Failed to create Cadmium player.",originalError:e}))}},re=function(e,a){var t=a.getState(),s=t.videoSession;s&&t.isPrepareEnabled&&t.prepareItems.length>0&&s.prepare(t.prepareItems.map(l),e.data.callback)},ne=function(e,a){},oe=function(e,a){},ce=function(e,a){},le=function(e,a){},ue=function(e,a){},me=function(e,a){},fe=function(e,a){var t=e.data,s=t.sessionId,i=t.videoPlayer;h[s]=p(i,function(e,t){a.dispatch(g.receivePlaybackStateDiff({eventType:e,sessionId:s,stateDiff:t}))}),i.load()},Ie=function(e,a){Y=void 0},ye=function(e,a){a.getState().videoSession||Y||(Y=D.get(e.data).subscribe(function(t){a.dispatch(g.receiveVideoSession({initParams:e.data,videoSession:t})),a.dispatch(g.receiveVideoSessionInitialized())},function(){a.dispatch(g.receiveVideoSessionError({errorId:"",errorText:"VideoSession Creation Error"}))}))},Pe=(i={},(0,r.default)(i,R.ADD_NEXT_SEAMLESS_VIDEO,N),(0,r.default)(i,R.APPLY_SESSION_CONFIG,te),(0,r.default)(i,R.CREATE_CADMIUM_PLAYER,de),(0,r.default)(i,R.LOAD_VIDEO_SESSION,ye),(0,r.default)(i,R.LOG_PLAY_NEXT_SEAMLESS_VIDEO_END,K),(0,r.default)(i,R.LOG_PLAY_NEXT_SEAMLESS_VIDEO_START,H),(0,r.default)(i,R.PLAY_BRANCH,V),(0,r.default)(i,R.PLAY_NEXT_SEAMLESS_VIDEO,X),(0,r.default)(i,R.PLAYER_CLOSE,x),(0,r.default)(i,R.PLAYER_CLOSE_ALL,se),(0,r.default)(i,R.PLAYER_CLOSED,U),(0,r.default)(i,R.PLAYER_ENGAGE,function(e,a){C(a.getState(),e.data.sessionId,a.dispatch)}),(0,r.default)(i,R.PLAYER_HIDE_TIMED_TEXT,function(e,a){F(e,a)}),(0,r.default)(i,R.PLAYER_LOAD,w),(0,r.default)(i,R.PLAYER_MUTE_ALL,q),(0,r.default)(i,R.PLAYER_MUTE,function(e,a){Q(e,a)}),(0,r.default)(i,R.PLAYER_PAUSE_ALL,j),(0,r.default)(i,R.PLAYER_PAUSE,function(e,a){W(e,a)}),(0,r.default)(i,R.PLAYER_PLAY,function(e,a){z(e,a)}),(0,r.default)(i,R.PLAYER_SEEK,function(e,a){$(e,a)}),(0,r.default)(i,R.PLAYER_SHOW_TIMED_TEXT,function(e,a){G(e,a)}),(0,r.default)(i,R.PLAYER_UNMUTE_ALL,Z),(0,r.default)(i,R.PLAYER_UNMUTE,J),(0,r.default)(i,R.PLAYER_VOLUME_ALL,ae),(0,r.default)(i,R.PLAYER_VOLUME,ee),(0,r.default)(i,R.PREPARE_VIDEOS,re),(0,r.default)(i,R.QUERY_DEVICE_THROUGHPUT_NIQR,oe),(0,r.default)(i,R.QUERY_DEVICE_THROUGHPUT,ne),(0,r.default)(i,R.QUERY_HDR,ce),(0,r.default)(i,R.QUERY_SESSION_UI_INTENT,le),(0,r.default)(i,R.QUERY_ULTRA_HD,ue),(0,r.default)(i,R.QUEUE_BRANCH,B),(0,r.default)(i,R.RECEIVE_CADMIUM_PLAYER,fe),(0,r.default)(i,R.RECEIVE_VIDEO_SESSION,Ie),(0,r.default)(i,R.UPDATE_PPM,me),i),Se=function(e){return function(a){return function(t){return v(Pe,a(t),e)}}};a.exports=Se});C.r("player/domains/videoPlayer/createVideoPlayerDomain.js",function(e,a,r){"use strict";var i=e("../playerApp/playerAppConfig"),o=(i.defaultPlayerAppConfig,e("./cadmiumPlayerMiddleware")),d=e("../../nfplayer/domain/common/createDomain"),l=e("./html5PlayerMiddleware"),t=e("./videoPlayerActionCreators"),n=e("./videoPlayerAPI"),y=e("./videoPlayerStateReducer"),p=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return d({actionCreators:t,api:n,middlewares:[o,l],name:"videoPlayer",stateReducer:y})};a.exports=p});C.r("player/domains/videoPlayer/html5PlayerMiddleware.js",function(e,a,r){"use strict";var t=e("shakti-platform/dist/ui/utils/inNode"),s=e("./playerRepository"),n=e("./videoPlayerConstants"),i=e("../playerApp/playerAppConstants"),o=n.actionTypes,l=i.actionTypes,y=s(),p=function(e){return function(e){return function(a){var r=a.type,s=a.data;if(t)return e(a);var n=s&&s.sessionId,i=void 0;switch(r){case o.PLAYER_PAUSE:i=y.getPlayer(n),i&&i.pause();break;case o.PLAYER_PLAY:i=y.getPlayer(n),i&&i.play();break;case l.PLAYER_VIEW_CLOSING:n&&y.getPlayer(n)&&(y=y.removePlayer(n));break;case o.RECEIVE_HTML5_VIDEO_PLAYER:s.instance&&n&&(i=s.instance,y=y.setPlayer(n,i))}return e(a)}}};a.exports=p});C.r("player/domains/videoPlayer/observeCadmiumPlayer.js",function(e,t,a){"use strict";var r=e("./cadmiumUtils"),n=r.convertNullToFalse,d=r.convertNullToNum,u=e("./playbackState"),o=u.closedState,i=u.loadedState,c=e("ramda/src/cond"),g=e("../../../common/HTMLConstants"),l=["audiotrackchanged","audiotracklistchanged","autoplaywasallowed","autoplaywasblocked","bufferedtimechanged","busychanged","closed","currenttimechanged","durationchanged","endedchanged","error","inactivated","loaded","loadedmetadata","loadedtracks","mutedchanged","pausedchanged","removesubtitle","segmentmaploaded","segmentpresenting","showsubtitle","timedtexttrackchanged","timedtexttracklistchanged","trickplayframeschanged","videosizechanged","volumechanged","watermark"],s=function(e){return function(t){return e===t.type}},m=function(e){var t=e.getElement(),a=t&&t.getElementsByTagName("video")[0];return a?!(a.readyState!==g.HTMLMediaElement.HAVE_FUTURE_DATA&&a.readyState!==g.HTMLMediaElement.HAVE_ENOUGH_DATA||a.paused||a.ended):!e.getEnded()&&!e.getPaused()},f=function(e){return{currentAudioTrack:e.target.getAudioTrack()}},T=function(e){return{audioTrackList:e.target.getAudioTrackList()}},k=function(e){var t=e.target;return{autoplayBlocked:!1,playing:m(t),playProxy:void 0}},p=function(e){var t=e.target,a=e.player;return{autoplayBlocked:!0,playing:m(t),playProxy:a}},v=function e(t){var a=t.target,r=d(a.getBufferedTime());if(e.lastBufferedTime!==r)return e.lastBufferedTime=r,{bufferedTime:r}},y=function(e){var t=e.target,a=t.getBusy();return{busyProgress:a&&void 0!==a.progress&&null!==a.progress?a.progress:-1,busyProgressRollback:!!a&&a.progressRollback,networkStalled:!!a&&a.networkStalled,stalled:!!a&&!!a.stalled}},h=function e(t){var a=t.target,r=d(a.getSegmentTime());if(e.lastCurrentTime!==r)return e.lastCurrentTime=r,{currentTime:r}},E=function(e){e.target;return{closedState:o.CLOSED}},b=function(e){return{duration:e.target.getDuration()}},L=function(e){var t=e.target;return{ended:!!t.getEnded(),playing:m(t)}},x=function(e){e.target;return{loadedState:i.LOADED}},S=function(e){var t=e.target;return{audioTrackList:t.getAudioTrackList(),timedTextTrackList:t.getTimedTextTrackList()}},A=function(e){var t=e.target;return{muted:n(t.getMuted())}},w=function(e){var t=e.target;return{paused:!!t.getPaused(),playing:m(t)}},M=function(e){return{segmentMap:e.segmentMap}},P=function(e){return{currentSegmentId:e.segmentId}},B=function(e){return{currentTimedTextTrack:e.target.getTimedTextTrack()}},C=function(e){return{timedTextTrackList:e.target.getTimedTextTrackList()}},D=function(e){var t=e.target;return{muted:n(t.getMuted()),volume:d(t.getVolume())}},H=c([[s("audiotrackchanged"),f],[s("audiotracklistchanged"),T],[s("autoplaywasallowed"),k],[s("autoplaywasblocked"),p],[s("bufferedtimechanged"),v],[s("busychanged"),y],[s("closed"),E],[s("currenttimechanged"),h],[s("durationchanged"),b],[s("endedchanged"),L],[s("loaded"),x],[s("loadedtracks"),S],[s("mutedchanged"),A],[s("pausedchanged"),w],[s("segmentmaploaded"),M],[s("segmentpresenting"),P],[s("timedtexttrackchanged"),B],[s("timedtexttracklistchanged"),C],[s("volumechanged"),D]]),N=function(e,t){var a=function(e){var a=H(e);void 0!==a&&null!==a&&t(e.type,a)},r=function(t){return e.addEventListener(t,a)},n=function(t){return e.removeEventListener(t,a)};return l.forEach(r),function(){return l.forEach(n)}};t.exports=N});C.r("player/domains/videoPlayer/performSideEffect.js",function(t,i,e){"use strict";var r=t("shakti-platform/dist/ui/utils/inNode"),n=function(t,i){},o=function(t,i,e){return r?i:((t[i.type]||n)(i,e),i)};i.exports=o});C.r("player/domains/videoPlayer/playerRepository.js",function(r,t,e){"use strict";var n=function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getPlayer:function(r){return t[r]},removePlayer:function(e){if(!t[e])return this;var n=Object.assign({},t);return delete n[e],t=n,r(n)},setPlayer:function(e,n){var i=Object.assign({},t);return i[e]=n,r(i)},toList:function(){var r=t||{};return Object.keys(r).map(function(t){return[t,r[t]]})},toMap:function(){return t}}};t.exports=n});C.r("player/domains/videoPlayer/videoPlayerActionCreators.js",function(e,E,_){"use strict";var a=e("../../nfplayer/domain/common/createAction"),A=e("./videoPlayerConstants"),r=A.actionTypes,S=a(r.ADD_NEXT_SEAMLESS_VIDEO),R=a(r.PLAYER_CLOSE),P=a(r.CREATE_PLAYER),l=a(r.RECEIVE_PLAYER_CLOSING),L=a(r.PLAY_BRANCH),i=a(r.PLAY_BRANCH_FAILED),s=a(r.PLAY_BRANCH_SUCCESS),o=a(r.QUEUE_BRANCH),I=a(r.QUEUE_BRANCH_FAILED),V=a(r.QUEUE_BRANCH_SUCCESS),C=a(r.RECEIVE_FATAL_ERROR),O=a(r.RECEIVE_TIMEOUT_ERROR),d=a(r.RECEIVE_UPSELL_ERROR),p=a(r.RECEIVE_HTML5_VIDEO_PLAYER),T=a(r.PREPARE_SEAMLESS_TRANSITION),y=a(r.LOG_PLAY_NEXT_SEAMLESS_VIDEO_START),t=a(r.LOG_PLAY_NEXT_SEAMLESS_VIDEO_END),D=a(r.PLAY_NEXT_SEAMLESS_VIDEO),c=a(r.REMOVE_SEAMLESS_STATE),n=a(r.SEAMLESS_VIDEO_PREPARED),M=a(r.SEAMLESS_VIDEO_INCOMPLETE),Y=a(r.DISABLE_PREPARE),N=a(r.ENABLE_PREPARE),m=a(r.ADD_PREPARE_VIDEOS),U=a(r.REMOVE_PREPARE_VIDEOS),u=a(r.PREPARE_VIDEOS),v=a(r.DISABLE_SEAMLESS),B=a(r.ENABLE_SEAMLESS),H=a(r.RECEIVE_PLAYBACK_STATE_DIFF),F=a(r.PLAYER_CLOSED),h=a(r.PLAYER_CLOSE_ALL),x=a(r.PLAYER_HIDE_TIMED_TEXT),b=a(r.PLAYER_LOAD),g=a(r.PLAYER_MUTE),G=a(r.PLAYER_MUTE_ALL),X=a(r.PLAYER_PAUSE),f=a(r.PLAYER_PAUSE_ALL),q=a(r.PLAYER_PLAY),Q=a(r.PLAYER_SEEK),k=a(r.PLAYER_SHOW_TIMED_TEXT),K=a(r.PLAYER_UNMUTE),j=a(r.PLAYER_UNMUTE_ALL),w=a(r.PLAYER_VOLUME),z=a(r.PLAYER_VOLUME),W=a(r.PAUSE_PREPARE),J=a(r.RESUME_PREPARE),Z=a(r.RECEIVE_VIDEO_SESSION),$=a(r.APPLY_SESSION_CONFIG),ee=a(r.CREATE_CADMIUM_PLAYER),Ee=a(r.RECEIVE_CADMIUM_PLAYER),_e=a(r.RECEIVE_PLAYER_ERROR),ae=a(r.RECEIVE_VIDEO_SESSION_INIT),Ae=a(r.RECEIVE_VIDEO_SESSION_ERROR),re=a(r.PLAYER_ENGAGE),Se=a(r.RECEIVE_VIDEO_METADATA),Re=a(r.RECEIVE_UI_LABEL),Pe=a(r.LOAD_VIDEO_SESSION),le={addNextSeamlessVideo:S,addPrepareVideos:m,applySessionConfig:$,closePlayer:R,createCadmiumPlayer:ee,createPlayer:P,disablePrepare:Y,disableSeamless:v,enablePrepare:N,enableSeamless:B,loadVideoSession:Pe,logPlayNextSeamlessVideoEnd:t,logPlayNextSeamlessVideoStart:y,pausePrepare:W,playBranch:L,playBranchFailed:i,playBranchSuccess:s,playerCloseAll:h,playerClosed:F,playerEngage:re,playerHideTimedText:x,playerLoad:b,playerMute:g,playerMuteAll:G,playerPause:X,playerPauseAll:f,playerPlay:q,playerSeek:Q,playerShowTimedText:k,playerUnmute:K,playerUnmuteAll:j,playerVolume:w,playerVolumeAll:z,playNextSeamlessVideo:D,prepareForSeamlessTransition:T,prepareVideos:u,queueBranch:o,queueBranchFailed:I,queueBranchSuccess:V,receiveCadmiumPlayer:Ee,receiveFatalError:C,receiveHTMLVideoPlayer:p,receivePlaybackStateDiff:H,receivePlayerClosing:l,receivePlayerError:_e,receiveTimeoutError:O,receiveUILabel:Re,receiveUpsellError:d,receiveVideoMetadata:Se,receiveVideoSession:Z,receiveVideoSessionError:Ae,receiveVideoSessionInitialized:ae,removePrepareVideos:U,removeSeamlessState:c,resumePrepare:J,seamlessVideoIncomplete:M,seamlessVideoPrepared:n};E.exports=le});C.r("player/domains/videoPlayer/videoPlayerState.js",function(e,a,r){"use strict";var i=e("./playerRepository"),o=e("nf-algebraic-data-types/Record"),s=o({cadmiumPlayerRepository:i(),playbackStateBySessionId:{},htmlPlayerRepository:i(),initParams:{},isPrepareEnabled:!0,isPreparePaused:!1,isSeamlessEnabled:!0,isVideoSessionInitialized:!1,playerError:void 0,prepareItems:[],prepareQueue:[],prepareQueueMaxLength:50,videoMetadata:{},videoSession:void 0},"VideoPlayerStateRecord");a.exports={videoPlayerStateRecord:s}});C.r("player/domains/videoPlayer/videoPlayerStateReducer.js",function(e,t,a){"use strict";var s,n=e("babel-runtime/helpers/defineProperty"),i=function(e){return e&&e.__esModule?e:{default:e}}(n),r=e("../../nfplayer/domain/common/createHandleAction"),d=e("../../nfplayer/domain/common/createStateReducer"),o=e("./videoPlayerConstants"),u=e("./videoPlayerState"),S=e("./VideoSessionFacade"),l=u.videoPlayerStateRecord,c=o.actionTypes,I=function(e,t){var a=t.sessionId;if(!e.playbackStateBySessionId[a])return e;var s=Object.assign({},e.playbackStateBySessionId);return s[a]=Object.assign({},s[a],{closedState:"CLOSING"}),e.set("playbackStateBySessionId",s)},E=function(e,t){var a=t.sessionId,s=t.seamlessData,n=e.playbackStateBySessionId[a];if(!n)return e;var r=Object.assign({},n,{seamlessVideosByVideoId:Object.assign({},n.seamlessVideosByVideoId,(0,i.default)({},s.movieId,{pending:!0}))});return e.set("playbackStateBySessionId",Object.assign({},e.playbackStateBySessionId,(0,i.default)({},a,r)))},y=function(e,t){var a=t.sessionId,s=t.videoId,n=e.playbackStateBySessionId[a];if(!n)return e;var r=Object.assign({},n,{seamlessVideosByVideoId:Object.assign({},n.seamlessVideosByVideoId,(0,i.default)({},s,{added:!0,pending:!1}))});return e.set("playbackStateBySessionId",Object.assign({},e.playbackStateBySessionId,(0,i.default)({},a,r)))},p=function(e,t){var a=t.sessionId;if(!e.playbackStateBySessionId[a])return e;var s=Object.assign({},e.playbackStateBySessionId[a],{transitioningSeamlessly:!0});return e.set("playbackStateBySessionId",Object.assign({},e.playbackStateBySessionId,(0,i.default)({},a,s)))},f=function(e,t){var a=t.sessionId,s=t.videoId;if(!e.playbackStateBySessionId[a])return e;var n=Object.assign({},e.playbackStateBySessionId[a],{ended:!1,seamlessVideosByVideoId:{},videoId:s});return e.set("playbackStateBySessionId",Object.assign({},e.playbackStateBySessionId,(0,i.default)({},a,n)))},b=function(e,t){var a=t.sessionId;if(!e.playbackStateBySessionId[a])return e;var s=Object.assign({},e.playbackStateBySessionId[a],{seamlessVideosByVideoId:{},transitioningSeamlessly:!1});return e.set("playbackStateBySessionId",Object.assign({},e.playbackStateBySessionId,(0,i.default)({},a,s)))},P=function(e,t){var a=t.sessionId,s=t.videoId,n=e.playbackStateBySessionId[a];if(!n)return e;var r=Object.assign({},n,{seamlessVideosByVideoId:Object.assign({},n.seamlessVideosByVideoId,(0,i.default)({},s,{added:!1,pending:!1}))});return e.set("playbackStateBySessionId",Object.assign({},e.playbackStateBySessionId,(0,i.default)({},a,r)))},m=function(e,t){var a=t.sessionId;if(!e.playbackStateBySessionId[a])return e;var s=Object.assign({},e.playbackStateBySessionId);return delete s[a],e.set("playbackStateBySessionId",s)},_=function(e,t){var a=t.sessionId;return e.set("cadmiumPlayerRepository",e.cadmiumPlayerRepository.removePlayer(a))},O=function(e,t){return[m,_].reduce(function(e,a){return a(e,t)},e)},v=function(e){return e.set("isPrepareEnabled",!1)},R=function(e){return e.set("isPrepareEnabled",!0)},B=function(e,t){return 0===t.length?e:e.isPreparePaused?e.set("prepareQueue",e.prepareQueue.concat(t)):e.set("prepareItems",e.prepareItems.concat(t))},A=function(e,t){return 0===t.length?e:e.isPreparePaused?e.set("prepareQueue",t):e.set("prepareItems",t)},V=function(e,t){return 0===t.prepareItems.length?e:B(e,t.prepareItems)},k=function(e,t){return t.prepareItems?A(e,t.prepareItems):e},g=function(e,t){var a=t.videoIds,s=function(e){return-1===a.indexOf(e.movieId)};return e.set("prepareItems",e.prepareItems.filter(s)).set("prepareQueue",e.prepareQueue.filter(s))},D=function(e){return e.set("isSeamlessEnabled",!1)},L=function(e){return e.set("isSeamlessEnabled",!0)},j=function(e){return e.set("isPreparePaused",!0)},M=function(e){var t=e;return e.prepareQueue.length>0&&(t=e.set("prepareItems",e.prepareItems.concat(e.prepareQueue)).set("prepareQueue",[])),t.set("isPreparePaused",!1)},C=function(e,t){return e.set("videoSession",new S({initParams:t.initParams,videoSession:t.videoSession}))},T=function(e,t){var a=t.initialPlaybackState;if(a&&a.sessionId!==t.sessionId)throw new Error("The action's data.sessionId: "+t.sessionId+", doesn't match the initialPlaybackState.sessionId: "+a.sessionId);return e.set("cadmiumPlayerRepository",e.cadmiumPlayerRepository.setPlayer(t.sessionId,t.videoPlayer)).set("playbackStateBySessionId",Object.assign({},e.playbackStateBySessionId,(0,i.default)({},t.sessionId,a)))},N=function(e,t){return e.set("playerError",t)},h=function(e,t){var a=t.sessionId,s=t.stateDiff;if(!a||!s)return e;var n=Object.assign({},e.playbackStateBySessionId);return n[a]=Object.assign({},n[a],s),e.set("playbackStateBySessionId",n)},Q=function(e){return e.set("isVideoSessionInitialized",!0)},Y=function(e,t){var a=t.videoId,s=t.videoMetadata;return e.set("videoMetadata",Object.assign({},e.videoMetadata,(0,i.default)({},a,s)))},U=function(e,t){return e},w=function(e,t){return e.set("initParams",t.initParams)},F=d((s={},(0,i.default)(s,c.ADD_NEXT_SEAMLESS_VIDEO,r(E)),(0,i.default)(s,c.ADD_PREPARE_VIDEOS,r(V)),(0,i.default)(s,c.CREATE_CADMIUM_PLAYER,r(U)),(0,i.default)(s,c.DISABLE_PREPARE,r(v)),(0,i.default)(s,c.DISABLE_SEAMLESS,r(D)),(0,i.default)(s,c.ENABLE_PREPARE,r(R)),(0,i.default)(s,c.ENABLE_SEAMLESS,r(L)),(0,i.default)(s,c.LOAD_VIDEO_SESSION,r(w)),(0,i.default)(s,c.PAUSE_PREPARE,r(j)),(0,i.default)(s,c.PLAY_NEXT_SEAMLESS_VIDEO,r(f)),(0,i.default)(s,c.PLAYER_CLOSED,r(O)),(0,i.default)(s,c.PREPARE_SEAMLESS_TRANSITION,r(p)),(0,i.default)(s,c.PREPARE_VIDEOS,r(k)),(0,i.default)(s,c.RECEIVE_CADMIUM_PLAYER,r(T)),(0,i.default)(s,c.RECEIVE_PLAYBACK_STATE_DIFF,r(h)),(0,i.default)(s,c.RECEIVE_PLAYER_CLOSING,r(I)),(0,i.default)(s,c.RECEIVE_PLAYER_ERROR,r(N)),(0,i.default)(s,c.RECEIVE_VIDEO_METADATA,r(Y)),(0,i.default)(s,c.RECEIVE_VIDEO_SESSION,r(C)),(0,i.default)(s,c.RECEIVE_VIDEO_SESSION_INIT,r(Q)),(0,i.default)(s,c.REMOVE_PREPARE_VIDEOS,r(g)),(0,i.default)(s,c.REMOVE_SEAMLESS_STATE,r(b)),(0,i.default)(s,c.RESUME_PREPARE,r(M)),(0,i.default)(s,c.SEAMLESS_VIDEO_INCOMPLETE,r(P)),(0,i.default)(s,c.SEAMLESS_VIDEO_PREPARED,r(y)),s),l());t.exports=F});C.r("player/embed/utils/createEmbedMarkup.js",function(e,t,i){"use strict";function r(e){return[o,a.replace("{{ URL }}",e),l].join("")}var o='<div style="position: relative; height: 0; padding-bottom: 56.25%;">',a='<iframe src="{{ URL }}" width="640" height="360" frameborder="0" style="position: absolute; width: 100%; height: 100%; left: 0;" allowfullscreen></iframe>',l="</div>";t.exports=r});C.r("player/entities/authParams.js",function(e,i,a){"use strict";var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.assistiveAudioPreferred,a=void 0!==i&&i,r=e.pinCapableClient;return{assistiveAudioPreferred:a,pinCapableClient:void 0!==r&&r}};i.exports={authParamsData:r}});C.r("player/entities/playContext.js",function(o,d,t){"use strict";var i=o("nf-algebraic-data-types/Record"),e=i({listId:void 0,lolomoId:void 0,location:void 0,rank:-97,requestId:"",row:-97,topNodeId:void 0,trackId:-1,videoId:-1}),r=e(),a=function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;return{list_id:o.listId,lolomo_id:o.lolomoId,location:o.location,rank:o.rank,request_id:o.requestId,row:o.row,top_node_id:o.topNodeId,track_id:o.trackId,video_id:o.videoId}},n=function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{rank:-97,request_id:"",row:-97,track_id:-1,video_id:-1};return e({rank:o.rank,requestId:o.request_id,row:o.row,trackId:o.track_id,videoId:o.video_id,listId:o.list_id,lolomoId:o.lolomo_id,location:o.location,topNodeId:o.top_node_id})};d.exports={playContextRecord:e,toPlayContextData:a,toPlayContextRecord:n}});C.r("player/entities/playbackParams.js",function(a,i,s){"use strict";var t=a("../nfplayer/uiLabel"),e=a("./authParams"),r=e.authParamsData,n=a("./sessionParams"),m=n.sessionParamsData,o=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=a.authParams,s=void 0===i?r():i,e=a.disableTrackStickiness,n=void 0!==e&&e,o=a.isBranching,d=void 0!==o&&o,l=a.loadImmediately,c=void 0===l||l,u=a.manifest,P=a.sessionParams,v=void 0===P?m():P,k=a.trackingId,y=void 0===k?-1:k,b=a.uiLabel;return{authParams:s,disableTrackStickiness:n,isBranching:d,loadImmediately:c,manifest:u,sessionParams:v,trackingId:y,uiLabel:void 0===b?t.STANDARD:b,uiPlayStartTime:a.uiPlayStartTime}};i.exports={playbackParamsData:o}});C.r("player/entities/prepareItem.js",function(e,i,t){"use strict";var r=e("nf-algebraic-data-types/Record"),d=r({firstTimeAdded:Date.now(),movieId:-1,params:void 0,priority:1,uiExpectedEndTime:void 0,uiExpectedStartTime:void 0,uiLabel:void 0}),a=function(e){return{firstTimeAdded:e.firstTimeAdded,movieId:e.movieId,params:e.params,priority:e.priority,uiExpectedEndTime:e.uiExpectedEndTime,uiExpectedStartTime:e.uiExpectedStartTime,uiLabel:e.uiLabel}},m=function(e){return d({firstTimeAdded:e.firstTimeAdded,movieId:e.movieId,params:e.params,priority:e.priority,uiExpectedEndTime:e.uiExpectedEndTime,uiExpectedStartTime:e.uiExpectedStartTime,uiLabel:e.uiLabel})};i.exports={prepareItemRecord:d,toPrepareItemData:a,toPrepareItemRecord:m}});C.r("player/entities/sessionParams.js",function(e,r,s){"use strict";var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.isUIAutoPlay,s=void 0!==r&&r,t=e.preferredAudioLocale,o=e.preferredTextLocale,a=e.preferUnletterboxed,i=e.showAllSubDubTracks,l=e.supportsPreReleasePin,p=void 0===l||l,u=e.supportsWatermark;return{isUIAutoPlay:s,preferredAudioLocale:t,preferredTextLocale:o,preferUnletterboxed:a,showAllSubDubTracks:i,supportsPreReleasePin:p,supportsWatermark:void 0===u||u,uiplaycontext:e.uiplaycontext}};r.exports={sessionParamsData:t}});C.r("player/nfplayer/NFPlayer.jsx",function(e,t,a){"use strict";function o(e,t){return e&&t?w:!e&&t?B:e||t?x:N}var n=e("lodash"),i=e("classnames"),s=e("prop-types"),r=e("react"),l=e("create-react-class"),d=e("./engines/nfplayerCore.jsx"),c=e("./common/playerEvents"),p=e("./common/playerEngines"),y=e("./utils/playerSession"),u=e("./utils/featureDetection"),g=e("./uiContext"),P=e("./uiLabel"),m=e("./common/Metadata"),h=e("../nfplayer/requests/metadata"),f=e("./utils/playerConfig"),C=e("./components/hoc/withEffects.jsx"),k=e("../../common/keyCodes"),v=e("./common/playerControls"),b=e("../../akira/components/hoc/withUpdateDimensions.jsx"),S=e("./common/Video"),E=e("./types/staticConfiguration"),L=e("./utils/getPlayerEngineType"),A=e("./utils/getDefaultStaticConfig"),T=(e("./common/PlayerUIState"),e("../../akira/utils/inViewport.jsx")),M=e("../app/connect/connectToApps"),I=e("../app/createPlayerApp"),x=C(d),N=b(x),w=T(x),B=T(N),V={};V[k.LEFT]=V[k.RIGHT]={commandLoggingName:C.SCRUBBER},V[k.UP]=V[k.DOWN]={commandLoggingName:C.VOLUME},V[k.SPACE]=V[k.ENTER]={commandLoggingName:C.PLAY_PAUSE},V[k.f]={commandLoggingName:C.FULLSCREEN},V[k.m]={commandLoggingName:C.VOLUME};var R=l({displayName:"NFPlayer",childContextTypes:{actionCreators:s.object,staticConfiguration:E,playerApp:s.object,playerSession:s.object},getChildContext:function(){var e=this.state,t=e.staticConfiguration,a=e.playerSession,o=this.props.playerApp,n=this.context.playerApp,i=o||n;return{actionCreators:i&&i.getActionCreators()?i.getActionCreators():void 0,playerApp:i,staticConfiguration:t,playerSession:a}},getDefaultProps:function(){return{allowLowPowerMode:!0,onPlayerSurfaceClick:n.noop,playNextTitle:n.noop,showTimedText:!0}},statics:Object.assign({},c,p,{CONTROLS:v},{}),contextTypes:{jsongDocument:s.object,getModelData:s.func.isRequired,models:s.object,playerApp:s.object},_loggingHotkeys:void 0,getInitialState:function(){var e=this.context.getModelData,t=this.props,a=t.config,o=t.metadata,i=t.activeVideo,s=t.playerSession,r=t.staticConfiguration,l=this,d=e("playerModel")||{},c=e("browserInfo")||{},p=d.playbackSupport,u=s||new y({getExternalVideoId:function(){return l.props.videoId},getExternalUILabel:function(){return l.props.uiLabel},getExternalTrackId:function(){return l.props.trackId},id:this.props.playerSessionId});return{config:Object.assign(f.getInitParamsFromPlayerModel(d,c),a),postplayFetched:!1,forcedPlaybackEngine:null,metadata:o||new m,activeVideo:i||new S,clearChain:!0,playerSession:u,staticConfiguration:n.assign(A({geo:e("geo"),browserInfo:c,playbackSupport:p}),r)}},_isMounted:!1,componentDidMount:function(){var e=this;this._isMounted=!0;var t=this.props.videoId,a=this.state.staticConfiguration,o=a.hasMetadata,n=a.uiContext;u.detect(null,function(){if(!e._isMounted)return null;var t=e.context.getModelData,a=t("playerModel","playbackSupport"),o=u.getCapabilities(a),i=e.state.config,s=e.props.engine;return e.state.staticConfiguration.playbackSupport=o,e.forceUpdate(),Object.assign(o,{engineType:L(i,a,n,s)})}),o&&m.getMetadata({id:t,format:n===g.NONMEMBER_CONTENT_SAMPLING?h.NOFALCOR:null,models:this.context.models},this.onMetadata),this.props.isPlaybackBlocked&&"function"==typeof this.props.onAutoplayBlocked&&this.props.onAutoplayBlocked()},componentWillUnmount:function(){var e=this.props.beforePlayerClosing,t=this.state,a=t.activeVideo,o=t.metadata;"function"==typeof e&&e(a,o),this._isMounted=!1},onMetadata:function(e,t){!e&&t&&this.isMounted()&&this.setState({metadata:t,activeVideo:t.getCurrentVideo()}),"function"==typeof this.props.onMetadata&&this.props.onMetadata(e,t)},updateMetadata:function(e){var t=this.state.metadata.getVideo(e);t?this.setState({activeVideo:t}):(this.clearMetadata(),m.getMetadata({id:e,models:this.context.models},this.onMetadata))},clearMetadata:function(){this.setState({metadata:new m,activeVideo:new S})},onPlayerPlaying:function(){if(this.state.staticConfiguration.hasPostplay&&!this.state.postplayFetched&&this.props.uiLabel!==P.PREPLAY){var e=!!this.context.getModelData("truths","hasSocialFollowLinksInPostPlay");this.context.playerApp.getActionCreators().createRequestExperience({id:this.props.videoId,clearChain:this.props.clearPostplayChain,hasSocialFollowLinksInPostPlay:e}),this._isMounted&&this.setState({postplayFetched:!0})}"function"==typeof this.props.onPlayerPlaying&&this.props.onPlayerPlaying()},componentWillReceiveProps:function(e){var t=this.props,a=t.beforePlayerClosing,o=t.config,i=t.videoId,s=i!==e.videoId,r=e.metadata&&e.metadata!==this.state.metadata?e.metadata:this.state.metadata,l=e.activeVideo&&e.activeVideo!==this.state.activeVideo?e.activeVideo:this.state.activeVideo;o!==e.config&&n.assign(this.state.config,e.config);var d={};d.activeVideo=l,d.metadata=r,d.config=this.state.config,s&&(d.postplayFetched=!1),this.setState(d),s&&("function"==typeof a&&a(l,r),this.state.staticConfiguration.hasMetadata?this.updateMetadata(e.videoId):this.clearMetadata())},componentDidUpdate:function(e,t){!e.isPlaybackBlocked&&this.props.isPlaybackBlocked&&"function"==typeof this.props.onAutoplayBlocked&&this.props.onAutoplayBlocked()},forcePlaybackEngine:function(e){this.setState({forcedPlaybackEngine:e})},render:function(){var e=this.state,t=e.activeVideo,a=e.config,n=e.forcedPlaybackEngine,s=e.metadata,l=e.staticConfiguration,d=l.shouldTrackViewportPosition,c=this.props,p=c.allowLowPowerMode,y=c.autoPlay,u=c.beforePlayerClosing,g=c.bookmarkOverride,P=c.cadmiumPlayerInstance,m=c.className,h=c.controls,f=c.controlsMainHitzoneElement,C=c.cropAspectRatio,k=c.dimensions,v=c.disableKeyHandler,b=c.engine,S=c.exitPlayer,E=c.fullScreenNode,L=c.getFullScreenNode,A=c.hasLargeDimensions,T=c.hasPreplay,M=c.hidePlayerCloseButton,I=c.inViewport,x=c.interactiveElement,N=c.isImplicitAutoPlay,w=c.mainVideoId,B=c.muted,R=c.onCastToTarget,D=c.onFullScreenChange,F=c.onMetadata,O=c.onNotSupported,U=c.onPlayerActive,j=c.onPlayerClosed,_=c.onPlayerClosing,H=c.onPlayerEnd,W=c.onPlayerEndWithoutPostplay,q=c.onPlayerError,K=c.onPlayerInactive,z=c.onPlayerLoad,G=c.onPlayerLoadedMetadata,Y=c.onPlayerNotAvailable,J=c.onPlayerPaused,Q=c.onPlayerPausedChanged,X=c.onPlayerProgressBuffer,Z=c.onPlayerReady,$=c.onPlayerRebuffering,ee=c.onPlayerStalled,te=c.onPlayerSurfaceClick,ae=c.onPlayerTimeUpdate,oe=c.onPlayerTimedTracksChanged,ne=c.onPlayerTimedTracksLoaded,ie=c.onPlayerTimeout,se=c.onPlayerVolumeChanged,re=c.onPostplay,le=c.onSeekBack,de=c.onUserActivityChanged,ce=c.playbackData,pe=c.playContext,ye=c.playMainTitle,ue=c.playNextTitle,ge=c.playStartRequested,Pe=c.postPlayActive,me=c.preferredAudioLocale,he=c.preferredTextLocale,fe=c.restartPlayer,Ce=c.shareLink,ke=c.shareEmbedCode,ve=c.showTimedText,be=c.shouldEngagePlayer,Se=c.shouldFadePlayerControlsBar,Ee=c.shouldRepositionSubtitlesWhenInactive,Le=c.spinnerClass,Ae=c.spinnerClassProps,Te=c.staticElement,Me=c.timelineElementClass,Ie=c.timelineElementProps,xe=c.timedTextBoundsOverride,Ne=c.trackId,we=c.uiLabel,Be=c.uiState,Ve=c.updateDimensions,Re=c.videoId,De=c.watermarkElement,Fe=o(!!Ve,d);return r.createElement(Fe,{allowLowPowerMode:p,activeVideo:t,autoPlay:y,beforePlayerClosing:u,bookmarkOverride:g,cadmiumPlayerInstance:P,className:i("NFPlayer",m),commandLogClick:!1,commandLogDoubleClick:!1,commandLogKeyDown:!0,commandLoggingHotkeys:V,commandLoggingKeys:[],commandLoggingName:"NFPlayer",config:a,controls:h,controlsMainHitzoneElement:f,cropAspectRatio:C,dimensions:k,disableCommandAutoLogging:!0,disableKeyHandler:v,engine:n||b,exitPlayer:S,forcePlaybackEngine:this.forcePlaybackEngine,fullScreenNode:E,getFullScreenNode:L,hasLargeDimensions:A,hasPreplay:T,hidePlayerCloseButton:M,interactiveElement:x,inViewport:I,isImplicitAutoPlay:N,isPlaybackBlocked:this.props.isPlaybackBlocked,mainVideoId:w,metadata:s,muted:B,onAutoplayBlocked:this.props.onAutoplayBlocked,onCastToTarget:R,onFullScreenChange:D,onMetadata:F,onNotSupported:O,onPlayerActive:U,onPlayerClosed:j,onPlayerClosing:_,onPlayerEnd:H,onPlayerEndWithoutPostplay:W,onPlayerError:q,onPlayerInactive:K,onPlayerLoad:z,onPlayerLoadedMetadata:G,onPlayerNotAvailable:Y,onPlayerPaused:J,onPlayerPausedChanged:Q,onPlayerPlaying:this.onPlayerPlaying,onPlayerProgressBuffer:X,onPlayerReady:Z,onPlayerRebuffering:$,onPlayerStalled:ee,onPlayerSurfaceClick:te,onPlayerTimeUpdate:ae,onPlayerTimedTracksChanged:oe,onPlayerTimedTracksLoaded:ne,onPlayerTimeout:ie,onPlayerVolumeChanged:se,onPostplay:re,onSeekBack:le,onTitleNav:this.props.onTitleNav,onUserActivityChanged:de,playbackData:ce,playContext:pe,playMainTitle:ye,playNextTitle:ue,playStartRequested:ge,postPlayActive:Pe,preferredAudioLocale:me,preferredTextLocale:he,restartPlayer:fe,shareLink:Ce,shareEmbedCode:ke,showTimedText:ve,shouldEngagePlayer:be,shouldFadePlayerControlsBar:Se,shouldRepositionSubtitlesWhenInactive:Ee,spinnerClass:Le,spinnerClassProps:Ae,staticElement:Te,timedTextBoundsOverride:xe,timelineElementClass:Me,timelineElementProps:Ie,trackId:Ne,uiLabel:we,uiState:Be,updateDimensions:Ve,videoId:Re,watermarkElement:De})}}),D=M(function(e,t){var a=t.playerSessionId||(t.playerSession?t.playerSession.getId():void 0),o=e.playerApp.getAPI();return{cropAspectRatio:o.videoPlayer.getCropAspectRatioBySessionId(a),isPlaybackBlocked:o.playerApp.isPlaybackBlockedBySessionId(a)}},void 0,void 0,{appKeys:["playerApp"],defaultAppProviders:{playerApp:I}})(R);t.exports=D});C.r("player/nfplayer/actions/callHandlers.js",function(e,a,r){"use strict";function s(e){return{event:e.event,state:e.state}}function t(e,a){switch(a.type){case o.PLAYING:this.onPlayerPlaying&&this.onPlayerPlaying(a.event);break;case o.PAUSED:this.props.onPlayerPausedChanged&&this.props.onPlayerPausedChanged(a.event),!this.state.playerPaused&&e.playerPaused&&this.props.onPlayerPaused&&this.props.onPlayerPaused(a.event);break;case o.LOADED:!this.state.loaded&&e.loaded&&this.onPlayerLoad&&this.onPlayerLoad(a.event);break;case o.ERROR:this.onPlayerError&&this.onPlayerError(a.event);break;case o.STALLED:this.props.onPlayerStalled&&this.props.onPlayerStalled(a.event);break;case o.TIME_UPDATE:this.props.onPlayerTimeUpdate&&this.props.onPlayerTimeUpdate(a.event);break;case o.DURATION_CHANGED:this.props.onPlayerDurationChanged&&this.props.onPlayerDurationChanged(a.event);break;case o.VOLUME_CHANGED:this.props.onPlayerVolumeChanged&&this.props.onPlayerVolumeChanged(a.event);break;case o.ENDED:!this.state.ended&&e.ended&&this.props.onPlayerEnd&&this.props.onPlayerEnd(a.event);break;case o.METADATA_LOADED:this.props.onPlayerLoadedMetadata&&this.props.onPlayerLoadedMetadata(a.event);break;case o.TIMED_TRACKS_LOADED:this.props.onPlayerTimedTracksLoaded&&this.props.onPlayerTimedTracksLoaded(s(a));break;case o.TIMED_TRACKS_CHANGED:this.props.onPlayerTimedTracksChanged&&this.props.onPlayerTimedTracksChanged(s(a));break;case o.PROGRESS:this.props.onPlayerProgressBuffer&&this.props.onPlayerProgressBuffer(s(a))}return e}var o=e("../common/playerEvents");a.exports=t});C.r("player/nfplayer/actions/dispatchCoreActionsToPlayerApp.js",function(e,r,t){"use strict";function a(e,r){var t;if(!r)return function(e){return e};var a=e.getId(),n=r.getActionCreators(),d=(t={},(0,o.default)(t,u.PAUSED,n.videoPlayerPaused),(0,o.default)(t,u.PLAYING,n.videoPlayerPlaying),(0,o.default)(t,u.VOLUME_CHANGED,n.videoPlayerVolumeChanged),(0,o.default)(t,u.TIME_UPDATE,n.videoPlayerTimeUpdate),(0,o.default)(t,u.SCRUB_START,n.videoPlayerScrubStart),(0,o.default)(t,u.SCRUB_END,n.videoPlayerScrubEnd),(0,o.default)(t,u.ERROR,n.videoPlayerError),t);return function(e,r){var t=d[r.type];return t&&t(Object.assign(r.state,{sessionId:a})),e}}var n=e("babel-runtime/helpers/defineProperty"),o=function(e){return e&&e.__esModule?e:{default:e}}(n),u=e("../common/playerEvents");r.exports=a});C.r("player/nfplayer/actions/emitEvent.js",function(t,e,s){"use strict";function n(t,e){return this.state.player.emit(e.type,e),Object.assign(t,e.state)}e.exports=n});C.r("player/nfplayer/actions/exitMobileFullScreen.js",function(e,t,i){"use strict";function n(e,t){var i=this.getVideoNode(),n=r.get(this.context.staticConfiguration,"browserInfo.isMobile",!1);return t.type===o.ENDED&&n&&i&&s.isFullscreen(i)&&s.exitFullscreen(i),e}var r=e("lodash"),s=e("../utils/fullscreen"),o=e("../common/playerEvents");t.exports=n});C.r("player/nfplayer/actions/handleFastForwardState.js",function(t,r,a){"use strict";function e(t,r){if(r.type!==s.TIME_UPDATE)return t;var a=this.state.fastForwardProgress;if(a===o.NONE)return t;var e={};return e.type=s.FAST_FORWARD_PROGRESS,e.event=r.event,a===o.REQUESTED?e.state={fastForwardProgress:o.STARTED}:a===o.STARTED?e.state={fastForwardProgress:o.SEEKING}:a===o.SEEKING&&(e.state={fastForwardProgress:o.NONE}),this.updateState(e),t}var s=t("../common/playerEvents"),o=t("../common/fastForwardStates");r.exports=e});C.r("player/nfplayer/actions/persistVolume.js",function(e,s,t){"use strict";function n(e,s){return s.type===a.VOLUME_CHANGED&&r.setSessionData(r.SESSION_TYPES.VOLUME,{percentage:s.state.volume,muted:s.state.muted}),e}var a=e("../common/playerEvents"),r=e("../../session/sessionManager");s.exports=n});C.r("player/nfplayer/actions/triggerPostplay.js",function(t,e,s){"use strict";function r(t,e){if(this.props.uiLabel===p.PREPLAY)return t;if(e.type===o.TIME_UPDATE){var s=e.event,r=i.result(s,"target.getSegmentTime",0),a=i.result(this.props,"activeVideo.getCreditsOffset",null);a>0&&(a*=1e3,r>a&&!this.state.postPlayTriggered&&this.onPostplay?(this.onPostplay(this.props.videoId),t.postPlayTriggered=!0):this.state.postPlayTriggered&&r<a&&(t.postPlayTriggered=!1))}else e.type===o.ENDED&&this.onPostplay(this.props.videoId);return t}var i=t("lodash"),o=t("../common/playerEvents"),p=t("../uiLabel");e.exports=r});C.r("player/nfplayer/actions/updateBookmark.js",function(e,t,r){"use strict";function i(e,t){var r=this.props;return r.activeVideo&&r.activeVideo.isEpisodic()&&t.state.currentPlayerTime&&r.activeVideo.setBookmarkOffset(t.state.currentPlayerTime),e}t.exports=i});C.r("player/nfplayer/common/Metadata.js",function(t,e,o){"use strict";function a(t){this._metadata=t||{},this._video=new u(this,null,this._metadata.video);var e=this,o=i.get(e._metadata,"video.seasons");if(o){e._seasons=[];var a=null;i.forEachRight(o,function(t){a=new d(e,t,a),e._seasons.unshift(a)})}}var i=t("lodash"),n=t("../requests/metadata"),s=t("../utils/playerConfig"),r=t("../utils/withRetries"),d=t("./Season"),u=t("./Video");a.getMetadata=function(t,e){return i.get(s.getCachedInitParams(),"metadataRequestFormat")===n.NOFALCOR&&(t.format=n.NOFALCOR,delete t.falcorModel),r({count:5},i.partial(n,t,i),function(t,o){t||!o?e(t,null):e(null,new a(o))})},a.prototype.getVideo=function(t){var e=void 0;return t?(this._video.getId()===t&&(e=this._video),this.getAllSeasons().forEach(function(o){o.getEpisodes().forEach(function(o){o.getId()===t&&(e=o)})}),e):this._video},a.prototype.getAllSeasons=function(){return this._seasons||[]},a.prototype.getTitle=function(){return i.get(this._metadata,"video.title","")},a.prototype.getCurrentVideo=function(){return this.getVideo(i.get(this,"_metadata.video.currentEpisode",i.get(this,"_metadata.video.id")))},a.prototype.getNextEpisodeTrackId=function(){return i.get(this,"_metadata.trackIds.nextEpisode",-1)},a.prototype.getEpisodeSelectorTrackId=function(){return i.get(this,"_metadata.trackIds.episodeSelector",-1)},e.exports=a});C.r("player/nfplayer/common/PlayerControlsInteractionType.js",function(r,e,o){"use strict";e.exports={CLICK:"click",HOVER:"hover"}});C.r("player/nfplayer/common/PlayerControlsType.js",function(e,r,n){"use strict";r.exports={REFRESH:"refresh",NONMEMBER:"nonmember"}});C.r("player/nfplayer/common/PlayerUIState.js",function(e,t,a){"use strict";t.exports={LOADING:"loading",POWER_SAVE:"ps",ACTIVATING:"activating",ACTIVE:"active",INACTIVE:"inactive",IDLE:"idle",OVERLAYED:"overlayed",TIMED_OUT:"timed_out",DISABLED:"disabled"}});C.r("player/nfplayer/common/Season.js",function(t,e,o){"use strict";function s(t,e,o){this._metadata=t,this._season=e,this._nextSeason=o;var s=this;this._episodes=[];var r=n.result(o,"getFirstEpisode",null);n.forEachRight(n.get(e,"episodes",[]),function(e){r=new i(t,s,e,r),s._episodes.unshift(r)})}var n=t("lodash"),i=t("./Video");s.prototype.getId=function(){return n.get(this._season,"id")},s.prototype.getEpisodes=function(){return this._episodes},s.prototype.getYear=function(){return this._season.year},s.prototype.getFirstEpisode=function(){return this._episodes[0]},s.prototype.getAllSeasons=function(){return this._metadata.getAllSeasons()},s.prototype.getSeasonIndex=function(){return this._metadata.getAllSeasons().indexOf(this)},s.prototype.getNextSeason=function(){return this._nextSeason},s.prototype.getTitle=function(){return n.get(this._season,"title")},s.prototype.getShortName=function(){return n.get(this._season,"shortName")},s.prototype.getLongName=function(){return n.get(this._season,"longName")},s.prototype.isNSRE=function(){return n.result(this,"_metadata._video.isNSRE",!1)},e.exports=s});C.r("player/nfplayer/common/SmartSubtitles.js",function(t,e,s){"use strict";function i(t,e){this._player=t,this._locale=a,e&&e.geo&&(this._locale=e.geo.data.locale.id),this._receivedTracks=!1,this._firstTime=!0,this._subtitlesOff=!1}var r=t("lodash"),a="en";i.prototype={restoreOriginalSettings:function(){this._establishUserPreferences(),this._hasSubtitlesOn||this._turnOffSubtitles()},setSubtitles:function(t){if(this._establishUserPreferences(),!this._hasSubtitlesOn){if(!t)return void this._turnOffSubtitles();var e=this._getTrackToUse();this._player.setTimedTextTrack(e)}},_establishUserPreferences:function(){if(this._firstTime){var t=this._player.getTimedTextTrack();this._firstTime=!1,this._hasSubtitlesOn=Boolean(t&&t.bcp47)}},_turnOffSubtitles:function(){this._subtitlesOff||this._getTrackToUse(),this._player.setTimedTextTrack(this._subtitlesOff)},_getTrackToUse:function(){var t=this,e=[],s=[];try{this._player.getTimedTextTrackList().forEach(function(i){void 0===i.bcp47&&(t._subtitlesOff=i),e.push(i.bcp47),s.push(i)})}catch(t){}if(void 0!==this._trackToUse&&this._receivedTracks)return this._trackToUse;s.length&&(this._receivedTracks=!0);var i=r.find(e,function(e){return!(!e||"string"!=typeof e)&&t._locale.toLowerCase().indexOf(e.toLowerCase())>-1}),n=e.indexOf(i),h=null;return-1===n&&(n=e.indexOf(a)),this._trackToUse=h=s[n],void 0===h&&(this._trackToUse=h=this._subtitlesOff),h}},e.exports=i});C.r("player/nfplayer/common/Video.js",function(t,e,i){"use strict";function o(t,e,i,o){this._metadata=t,this._season=e,this._video=i,this._nextEpisode=o}var r=t("lodash"),n=t("../../../utils/titles/interactiveTitles");o.prototype.getId=function(){return r.get(this._video,"id")},o.prototype.getBookmark=function(){return r.get(this._video,"bookmark")},o.prototype.getInteractivity=function(){return r.get(this._video,"interactivity")},o.prototype.setBookmarkOffset=function(t){this._video&&this._video.bookmark&&(this._video.bookmark.offset=t)},o.prototype.canBeCasted=function(){return!this.isBranchingTitle()},o.prototype.getTitle=function(){return this._metadata?this._metadata.getTitle():null},o.prototype.getSynopsis=function(){return this._video?this._video.synopsis:null},o.prototype.getRuntime=function(){return this._video?this._video.runtime:null},o.prototype.isBranchingTitle=function(){var t=this.getInteractivity();return n.isBranchingTitle({interactivity:t})},o.prototype.getDisplayRuntime=function(){if(this.isBranchingTitle()){var t=r.get(this._video,"interactiveDisplayRuntime");if("number"==typeof t&&!isNaN(t))return t}return this.getRuntime()},o.prototype.getType=function(){return this._video?this._video.type:null},o.prototype.getPinRequired=function(){return!this._video||this._video.requiresPin},o.prototype.getPreReleasePinRequired=function(){return!!this._video&&this._video.requiresPreReleasePin},o.prototype.requiresAdultVerification=function(){return!this._video||this._video.requiresAdultVerification},o.prototype.isEpisodic=function(){return Boolean(this._season)},o.prototype.isNSRE=function(){return!!r.get(this,"_metadata._metadata.video.isNSRE",!1)},o.prototype.showEpisodeNumbers=function(){return!r.get(this,"_season._season.hiddenEpisodeNumbers",!1)},o.prototype.isSupplemental=function(){return"supplemental"===r.get(this,"_metadata._metadata.video.type","")},o.prototype.getYear=function(){return this.isEpisodic()?this.getSeason().getYear():r.get(this._metadata,"_metadata.video.year")},o.prototype.getNextEpisode=function(){return this._nextEpisode},o.prototype.getSeason=function(){return this._season},o.prototype.getAllSeasons=function(){return this._metadata.getAllSeasons()},o.prototype.getEpisodeIndex=function(){return this._season.getEpisodes().indexOf(this)},o.prototype.getEpisodeTitle=function(){return this.isEpisodic()&&r.get(this._video,"title")||""},o.prototype.getEpisodeTitleWithSeasonLabelData=function(){var t=this.getEpisodeTitle();if(this.showEpisodeNumbers()){var e=this.getSeason();return{showEpisodeNumbers:!0,SEASON_ABR:r.result(e,"getShortName",""),EPISODE:this.getEpisodeNumber(),TITLE:t}}return{showEpisodeNumbers:!1,SHOW_TITLE:this.getTitle(),EPISODE_TITLE:t}},o.prototype.getEpisodeNumber=function(){return this.showEpisodeNumbers()?r.get(this._video,"seq"):""},o.prototype.getLoadingImageUrl=function(t){var e=this._metadata?this._metadata.getVideo():void 0;return this.isEpisodic()||t?r.get(this._video,"stills[0].url"):r.get(this._video,"storyart[0].url")||r.get(this._video,"artwork[0].url")||r.get(e,"artwork[0].url")||r.get(e,"video.background")},o.prototype.getEpisodeThumbnail=function(){return r.get(this._video,"artwork[0]")||r.get(this._video,"stills[0]")},o.prototype.getCreditsOffset=function(){return r.get(this._video,"creditsOffset")},o.prototype.getWatchedToEndOffset=function(){return r.get(this._video,"watchedToEndOffset")},o.prototype.getLogoURL=function(){return r.get(this._metadata,"_metadata.video.logo.url")},o.prototype.getRating=function(){return r.get(this._metadata,"_metadata.video.cinematch")},o.prototype.getMaturityRating=function(){return r.get(this._metadata,"_metadata.video.rating")},o.prototype.getCreditMarkers=function(){return r.get(this._video,"creditMarkers")},o.prototype.getUserRating=function(){return r.get(this._video,"userRating")},o.prototype.toVideoData=function(){return this._metadata._metadata.video},e.exports=o});C.r("player/nfplayer/common/controlsAnimationType.js",function(n,o,a){"use strict";o.exports={STANDARD:"PlayerControls--animation-standard",FADE:"PlayerControls--animation-fade"}});C.r("player/nfplayer/common/episodePreviewType.js",function(e,s,c){"use strict";s.exports={CLASSIC:"classic",NEW:"new",list:["classic","new"]}});C.r("player/nfplayer/common/fastForwardStates.js",function(E,r,t){"use strict";var S={NONE:"NONE",REQUESTED:"REQUESTED",SEEKING:"SEEKING",STARTED:"STARTED"};r.exports=S});C.r("player/nfplayer/common/nfplayerInterface.js",function(t,e,r){"use strict";function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.getUILabel,r=void 0===e?function(){return p.STANDARD}:e,i=t.playerClassInstance;this._getUILabel=r,this._isClosing=null,this.fastForward=this.fastForward.bind(this),this._playerClassInstance=i,this._lastKnownSeekPts=void 0}var s=t("lodash"),n=t("../../../utils/eventBus"),o=t("../common/playerEvents.js"),a=t("../common/SmartSubtitles"),u=t("../utils/matchMedia"),p=t("../uiLabel"),l=t("../common/fastForwardStates");s.assign(i.prototype,n),i.prototype.destroy=function(){clearTimeout(this._fastForwardDelay),this._fastForwardDelay=null,this._player=null,this._updateState=null,this._coreComponent=null,this._smartSubtitlesState=null,this._playerClassInstance=null,this.listenerMap=null},i.prototype._setSmartSubtitles=function(t,e){t&&!this._smartSubtitlesState&&(this._smartSubtitlesState=new a(this,e))},i.prototype._setPlayerClassInstance=function(t){this._playerClassInstance=t},i.prototype._setPlayerComponent=function(t){this._player=t},i.prototype._getPlayerComponent=function(){return this._player},i.prototype._setUpdateState=function(t){this._updateState=t},i.prototype._setCoreComponent=function(t){this._coreComponent=t},i.prototype._getConfig=function(){return s.get(this,"_player.props.config",{})},i.prototype.getUILabel=function(){return this._getUILabel()},i.prototype.focus=function(){s.result(this,"_coreComponent.focus")},i.prototype.play=function(){var t=s.get(this,"_player.props"),e=s.get(this._getConfig(),"enforceFullScreenPlayback",!1)&&u.isMobile(),r=t.isFullscreen,i=t.started;this._player&&(this._player&&!r&&!i&&e&&this.enterFullscreen(),this._smartSubtitlesState&&this._smartSubtitlesState.setSubtitles(this._player.getMuted()),this._player.play())},i.prototype.playWithoutGesture=function(){var t=s.get(this,"_coreComponent.context.staticConfiguration.browserInfo.isMobile",!1);this._player&&!t&&(this._smartSubtitlesState&&this._smartSubtitlesState.setSubtitles(this._player.getMuted()),this._player.play())},i.prototype.pause=function(){this._player&&(this._smartSubtitlesState&&this._smartSubtitlesState.restoreOriginalSettings(),this._player.pause())},i.prototype.close=function(t,e){if(!this._player)return this.startClosing(),this._playerClassInstance?void this._playerClassInstance.close(t):void t();this._smartSubtitlesState&&this._smartSubtitlesState.restoreOriginalSettings(),this._player.close(t,e)},i.prototype.togglePlay=function(){this._player&&this._player.togglePlay()},i.prototype.getPaused=function(){if(this._player)return this._player.getPaused()},i.prototype.getEngine=function(){return s.get(this,"_player.constructor.engine")},i.prototype.isLoaded=function(){return s.get(this,"_coreComponent.state.loaded",!1)},i.prototype.load=function(){return s.result(this,"_player.load")},i.prototype.setVolume=function(t){this._player&&this._player.setVolume(t)},i.prototype.getVolume=function(){return this._player?this._player.getVolume():null},i.prototype.setMuted=function(t){this._player&&(this._smartSubtitlesState&&this._smartSubtitlesState.setSubtitles(t),this._player.setMuted(t))},i.prototype.toggleMute=function(){this._player&&this._player.toggleMute()},i.prototype.getMuted=function(){return this._player?this._player.getMuted():null},i.prototype.getDuration=function(){return this._player?this._player.getDuration():null},i.prototype.getCurrentTime=function(){return this._player?this._player.getCurrentTime():null},i.prototype.getBufferedTime=function(){return this._player?this._player.getBufferedTime():null},i.prototype.isRebuffering=function(){return!(!this._player||!this._coreComponent)&&s.get(this,"_coreComponent.state.rebuffering",!1)},i.prototype.seek=function(t){if(this._player){var e=this.getDuration()-1,r=Math.max(0,t>e?e:t);this.isRebuffering()&&r===this._lastKnownSeekPts||(this._lastKnownSeekPts=r,this._player.seek(r))}},i.prototype.seekBack=function(t){var e=this.getCurrentTime(),r=e-Math.abs(t);this.seek(r<0?0:r)},i.prototype.seekForward=function(t){var e=this.getCurrentTime(),r=this.getDuration(),i=e+Math.abs(t);this.seek(i>=r?i-1:i)},i.prototype.fastForward=function(t){var e=this;this._updateState&&(this._updateState({type:o.FAST_FORWARD_PROGRESS,state:{fastForwardProgress:l.REQUESTED}}),this._fastForwardDelay=setTimeout(function(){e.seek(t)},500))},i.prototype.setAudioTrack=function(t){this._player&&this._player.setAudioTrack(t)},i.prototype.setTimedTextTrack=function(t){this._player&&this._player.setTimedTextTrack(t)},i.prototype.scrubStart=function(t){var e=s.get(this,"_coreComponent.context.staticConfiguration.shouldPauseWhenScrubbing",!0);this._wasPausedBeforeScrubbing=this.getPaused(),this._scrubbing=!0,!this._wasPausedBeforeScrubbing&&e&&this.pause(),t||(t=this.getCurrentTime()),this._currentScrubTime=t,this._updateState({type:o.SCRUB_START,state:{currentScrubTime:t,scrubbing:!0}})},i.prototype.scrubEnd=function(t){this._scrubbing=!1,s.isNumber(t)||(t=this._currentScrubTime),this._currentScrubTime=-1,this._updateState({state:{currentScrubTime:-1,scrubbing:!1},type:o.SCRUB_END}),s.isNumber(t)&&this.seek(t),!this._wasPausedBeforeScrubbing&&this.getPaused()&&this.play(),this._coreComponent.setKeepActive(!1)},i.prototype.scrubCancel=function(){this._scrubbing=!1,this._currentScrubTime=-1,this._updateState({type:o.SCRUB_END,state:{currentScrubTime:-1,scrubbing:!1,canceled:!0}}),this._wasPausedBeforeScrubbing||this.play(),this._coreComponent.setKeepActive(!1)},i.prototype.scrub=function(t){this._currentScrubTime=t,this.getScrubbing()?this._updateState({type:o.SCRUB,state:{currentScrubTime:t}}):this.seek(t)},i.prototype.getScrubbing=function(){return this._scrubbing},i.prototype.getVersion=function(){return this._player?this._player.getVersion():null},i.prototype.getError=function(){return this._player?this._player.getError():null},i.prototype.getEnded=function(){return this._player?this._player.getEnded():null},i.prototype.toggleFullscreen=function(){this._player&&this._player.toggleFullscreen()},i.prototype.enterFullscreen=function(){this._player&&this._player.enterFullscreen()},i.prototype.exitFullscreen=function(){this._player&&this._player.exitFullscreen()},i.prototype.getVideoSize=function(){return this._player?this._player.getVideoSize():null},i.prototype.getTrickPlayURL=function(t){return this._player?this._player.getTrickPlayURL(t):null},i.prototype.getAdditionalLogInfo=function(){return this._player.getAdditionalLogInfo?this._player.getAdditionalLogInfo():null},i.prototype.getAudioTrack=function(){return this._player?this._player.getAudioTrack():null},i.prototype.getTimedTextTrack=function(){return this._player?this._player.getTimedTextTrack():null},i.prototype.getAudioTrackList=function(){return this._player?this._player.getAudioTrackList():null},i.prototype.getTimedTextTrackList=function(){return this._player?this._player.getTimedTextTrackList():null},i.prototype.setTimedTextBounds=function(t){this._player&&this._player.setTimedTextBounds&&this._player.setTimedTextBounds(t)},i.prototype.isClosing=function(){return this._isClosing},i.prototype.startClosing=function(){this._isClosing=!0},i.prototype.engage=function(){this._player&&this._player.engage()},e.exports=i});C.r("player/nfplayer/common/playerControls.js",function(e,E,t){"use strict";E.exports={AUDIO_SUBTITLE:"audio-subtitle",BACK_TEN:"back-ten",EPISODE_SELECTOR:"episode-selector",EVIDENCE_OVERLAY:"evidence-overlay",EXIT:"exit",FORWARD_TEN:"forward-ten",FULLSCREEN:"fullscreen",FULL_HITZONE:"full-hitzone",MDX:"mdx",NEXT_EPISODE:"next-episode",PLAY:"play",PROGRESS_BAR:"progress-bar",REPORT_A_PROBLEM:"report-a-problem",SHARE:"share",SKIP_RECAP:"skip-recap",STOP:"stop",TIME_REMAINING:"time-remaining",TITLE_EVIDENCE:"title-evidence",TITLE_NAV:"title-nav",VIDEO_TITLE:"video-title",VOLUME:"volume"}});C.r("player/nfplayer/common/playerCookies.js",function(e,r,o){"use strict";r.exports={FORCE_SILVERLIGHT:"forceSilverlight",UPGRADE_TO_CADMIUM:"upgradedToCadmiumPlayback"}});C.r("player/nfplayer/common/playerCounters.js",function(_,e,r){"use strict";e.exports={AKIRA_NFPLAYER_INIT_ERROR:"akira_nfplayer_init_error",CLIENT_REFRESHED:"dynamic_messages_client_refreshed",FORCE_SILVERLIGHT_PLAYBACK:"force_silverlight_playback",WATCH_BAD_VIDEO_ID:"watch_bad_video_id"}});C.r("player/nfplayer/common/playerEngines.js",function(e,n,r){"use strict";n.exports={HTML5_VIDEO_EL:"html5video",CADMIUM:"cadmium"}});C.r("player/nfplayer/common/playerEvents.js",function(e,E,r){"use strict";var t,a=e("babel-runtime/helpers/defineProperty"),s=function(e){return e&&e.__esModule?e:{default:e}}(a);E.exports={LOADED:"loaded",PROGRESS:"progress",PLAYING:"playing",PAUSED:"paused",ENDED:"ended",ERROR:"error",STALLED:"stalled",REBUFFERING:"rebuffering",TIME_UPDATE:"timeupdate",DURATION_CHANGED:"durationchanged",ACTIVE:"active",INACTIVE:"inactive",METADATA_LOADED:"metadataloaded",FULLSCREEN_ENTER:"fullscreenenter",FULLSCREEN_EXIT:"fullscreenexit",SCRUB:"scrub",SCRUB_START:"scrubstart",SCRUB_END:"scrubend",SCRUB_UNBATCHED:"scrub_UNBATCHED",SCRUB_START_UNBATCHED:"scrubstart_UNBATCHED",SCRUB_END_UNBATCHED:"scrubend_UNBATCHED",VOLUME_CHANGED:"volumechanged",VOLUME_CHANGED_UNBATCHED:"volumechanged_UNBATCHED",TIMED_TRACKS_LOADED:"timedtracksloaded",TIMED_TRACKS_CHANGED:"timedtrackschanged",SHOW_SUBTITLE:"showsubtitle",REMOVE_SUBTITLE:"removesubtitle",FAST_FORWARD_PROGRESS:"fastforwardprogress",ENGAGE:"engage",UNBATCHED_EVENTS:(t={},(0,s.default)(t,"scrub","scrub_UNBATCHED"),(0,s.default)(t,"scrubstart","scrubstart_UNBATCHED"),(0,s.default)(t,"scrubend","scrubend_UNBATCHED"),(0,s.default)(t,"volumechanged","volumechanged_UNBATCHED"),t)}});C.r("player/nfplayer/common/playerTimingConstants.js",function(n,I,e){"use strict";I.exports={REBUFFERING_SIGNAL_DELAY_MS:2e3,KEYBOARD_NOTIFICATION_TIMING_MS:800}});C.r("player/nfplayer/common/playerUIType.js",function(e,r,p){"use strict";r.exports={NFPLAYER_TYPE:"nfplayer"}});C.r("player/nfplayer/components/branching/interactiveSceneTypes.js",function(e,t,n){"use strict";var i={CHOICE_SELECTION_V1:"choiceSelectionV1",IPP:"interstitialPostPlay",SEGMENT_REDIRECT:"segmentRedirect"};t.exports=i});C.r("player/nfplayer/components/controls/button.jsx",function(t,o,e){"use strict";function n(t,o){if(i)return s.createElement(c,{key:"button-icon",name:t,filter:o,preventFocus:!0});var e=t+(o||"");return h[e]||(h[e]=s.createElement(c,{key:"button-icon",name:t,filter:o,preventFocus:!0})),h[e]}var r=t("classnames"),l=t("../../../../utils/shallowCompare"),i=t("shakti-platform/dist/ui/utils/inNode"),s=(t("prop-types"),t("react")),a=t("create-react-class"),c=t("../../../../common/svgIcon.jsx"),p=t("../../../../components/touchable.jsx"),u=(t("../hoc/controlFocus.jsx"),p("button")),m={default:r("PlayerControls--control-element","nfp-button-control","default-control-button"),circle:r("PlayerControls--control-element","nfp-button-control","circle-control-button")},h={},d=a({displayName:"Button",statics:{TOOLTIP_TOP:"top",TOOLTIP_BOTTOM:"bottom",TOOLTIP_CENTER:"center",TOOLTIP_LEFT:"left",TOOLTIP_RIGHT:"right",TYPES:{CIRCLE:"circle",DEFAULT:"default"}},getDefaultProps:function(){return{ignoreFocusForTooltipRendering:!1,type:"default",manageFocus:!0,tooltipBeforeElementActive:!1,tooltipAlignment:"center",tooltipPosition:"bottom",tabIndex:0}},shouldComponentUpdate:l.partialProps(["controlFocusState","focusName","manageFocus","ariaLabel","iconName","tabIndex","isHidden","type","filter","tooltip","tooltipPosition","tooltipAlignment"]),handlePointerEnter:function(t){var o=this.props,e=o.controlFocusActions,n=o.manageFocus,r=o.focusName,l=o.onPointerEnter;"mouse"===t.pointerType&&(e.startHover&&n&&e.startHover(r),l&&l(t))},handlePointerLeave:function(t){var o=this.props,e=o.controlFocusActions,n=o.manageFocus,r=o.focusName,l=o.onPointerLeave;"mouse"===t.pointerType&&(e.stopHover&&n&&e.stopHover(r),l&&l(t))},handleClick:function(t){this.props.onClick&&this.props.onClick(t),this.props.manageFocus&&this.props.controlFocusActions.releaseFocus&&this.props.controlFocusActions.releaseFocus(this.props.controlFocusState.focused),this.props.onUserActivityChanged&&this.props.onUserActivityChanged(!0)},handleBlur:function(){this.props.onBlur&&this.props.onBlur()},getTooltipClasses:function(){var t=this.props,o=t.controlFocusState,e=t.ignoreFocusForTooltipRendering,n=t.tooltipBeforeElementActive,r=t.tooltipPosition,l=t.tooltipAlignment,i=t.tooltip;return!e&&o.focused||!i?{}:{"tooltip-button":!0,"tooltip-button-before-element-active":n,"tooltip-button-pos-top":"top"===r,"tooltip-button-pos-bottom":"bottom"===r,"tooltip-button-pos-center":"center"===r,"tooltip-button-align-center":"center"===l,"tooltip-button-align-left":"left"===l,"tooltip-button-align-right":"right"===l}},render:function(){var t=this.props,o=t.controlFocusState,e=t.children,l=t.tooltip,i=t.label,a=t.onClickCapture,c=t.onKeyDownCapture,p=t.onDoubleClickCapture,h=t.ariaLabel,d=t.tabIndex,b=t.type,f=t.iconName,C=t.focusName,g=t.isHidden,P=t.filter,v=t.withLabelExposed,F=(o.hovered||o.focused)&&C!==o.focused&&C!==o.hovered,T=[];return e?T.push(e):this.props.imgURL?T.push(s.createElement("img",{key:"button-img",src:this.props.imgURL})):f&&T.push(n(f,P)),v&&T.push(s.createElement("span",{key:"button-tooltip",className:"PlayerControls__button-label"},i||l)),s.createElement(u,{"data-tooltip":l,className:r(this.props.customClassName,m[b],!this.props.imgURL&&f?"button-"+f:void 0,{"PlayerControls--control-element-hidden":g,"PlayerControls--control-element-blurred":F,"PlayerControls--control-element--with-label":v},this.getTooltipClasses()),tabIndex:d,role:"button","aria-label":h,onClick:this.handleClick,onPointerEnter:this.handlePointerEnter,onPointerLeave:this.handlePointerLeave,onBlur:this.handleBlur,onClickCapture:a,onKeyDownCapture:c,onDoubleClickCapture:p},T)}});o.exports=d});C.r("player/nfplayer/components/controls/exitButton.jsx",function(t,o,e){"use strict";var n=t("./button.jsx"),i=t("../../../../utils/shallowCompare"),r=t("../../common/playerControls"),a=t("prop-types"),c=t("react"),l=t("create-react-class"),s=t("../hoc/withEffects.jsx"),p=t("../../../../utils/isRtl"),u=(t("../hoc/controlFocus.jsx"),s(n)),d=l({displayName:"ExitButton",statics:{CONTROL_NAME:r.EXIT},contextTypes:{getI18nString:a.func.isRequired,getModelData:a.func.isRequired},getDefaultProps:function(){return{buttonType:n.TYPES.CIRCLE,tooltip:void 0,iconName:"nfplayerExit",isHidden:!1,tabIndex:0}},shouldComponentUpdate:i.props,render:function(){var t=this.props,o=t.ariaLabel,e=t.buttonType,i=t.commandLoggingName,a=t.controlFocusActions,l=t.controlFocusState,d=t.iconName,m=t.iconFilter,g=t.ignoreFocusForTooltipRendering,T=t.isHidden,x=t.onClick,E=t.onPointerEnter,f=t.onPointerLeave,y=t.tabIndex,I=t.tooltip,b=t.tooltipBeforeElementActive,F=t.tooltipAlignment,L=t.tooltipPosition,P=this.context.getI18nString("player/player","button.exit.playback.browse"),C=p(this.context.getModelData("geo"))?n.TOOLTIP_LEFT:n.TOOLTIP_RIGHT,N=F||C;return c.createElement(u,{ariaLabel:o||P,commandLoggingName:i||s.EXIT,controlFocusActions:a,controlFocusState:l,focusName:r.EXIT,ignoreFocusForTooltipRendering:g,filter:m,iconName:d,isHidden:T,onClick:x,onPointerEnter:E,onPointerLeave:f,tabIndex:y,tooltip:void 0!==I?I:P,tooltipBeforeElementActive:b,tooltipAlignment:N,tooltipPosition:L,type:e})}});o.exports=d});C.r("player/nfplayer/components/controls/keyboardNotification.jsx",function(e,t,i){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function n(e,t,i){if("string"==typeof e)switch(e){case i.fullscreen:return t.isFullScreen?"nfplayerWindowed":"nfplayerFullscreen";case i.mute:return t.muted?"volumeMuted":b(t.volume,void 0);default:return}else switch(e){case p.SPACE:case p.ENTER:return t.isPaused?"nfplayerPlay":"nfplayerPause";case p.UP:case p.DOWN:return b(t.volume,void 0);case p.LEFT:return"nfplayerBackTen";case p.RIGHT:return"nfplayerFastForward";case p.f:return t.isFullScreen?"nfplayerWindowed":"nfplayerFullscreen";case p.m:return t.muted?"volumeMuted":b(t.volume,void 0);default:return}}var a=e("babel-runtime/helpers/classCallCheck"),r=o(a),c=e("babel-runtime/helpers/createClass"),u=o(c),s=e("babel-runtime/helpers/possibleConstructorReturn"),l=o(s),f=e("babel-runtime/helpers/inherits"),d=o(f),v=e("react"),m=e("classnames"),y=e("../../../../common/svgIcon.jsx"),h=e("../../common/PlayerUIState.js"),p=e("../../../../common/keyCodes"),b=e("../../utils/getVolumeLevelIcon"),_=e("../../types/staticConfiguration"),N={nfplayerPlay:"KeyboardNotification--play",nfplayerPause:"KeyboardNotification--pause",nfplayerFastForward:"KeyboardNotification--seek-forward",nfplayerBackTen:"KeyboardNotification--seek-back",volumeLow:"KeyboardNotification--volume-low",volumeMedium:"KeyboardNotification--volume-medium",volumeMax:"KeyboardNotification--volume-max",volumeMuted:"KeyboardNotification--volume-muted",nfplayerFullscreen:"KeyboardNotification--fullscreen",nfplayerWindowed:"KeyboardNotification--windowed"},g=function(e){function t(e,i){(0,r.default)(this,t);var o=(0,l.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return o._activeTimerId=void 0,o._activating=void 0,o._isMounted=!1,o.state={notification:e.notification},o}return(0,d.default)(t,e),(0,u.default)(t,[{key:"requeueActiveChange",value:function(e){var t=this;clearTimeout(this._activeTimerId),this._activating=!0,this.setState({notification:void 0},function(){t.queueActiveChange(e)})}},{key:"queueActiveChange",value:function(e){var t=this;this._isMounted&&(clearTimeout(this._activeTimerId),this.setState({notification:e.notification},function(){t.removeNotification()}))}},{key:"removeNotification",value:function(){var e=this,t=this.context.staticConfiguration;this._activating=!1,this._activeTimerId=setTimeout(function(){e.setState({notification:void 0})},t.keyboardNotificationTiming)}},{key:"componentDidMount",value:function(){this._isMounted=!0,this.state.notification&&this.removeNotification()}},{key:"componentWillReceiveProps",value:function(e){var t=this.state.notification;t&&t!==e.notification?this.requeueActiveChange(e):void 0!==t||void 0===e.notification||this._activating||this.props.notification===e.notification||this.queueActiveChange(e)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this._activating=!1,clearTimeout(this._activeTimerId)}},{key:"render",value:function(){var e=this.props,t=e.uiState,i=e.showWhileActive,o=this.state.notification;return!o||!i&&t!==h.POWER_SAVE&&t!==h.INACTIVE?null:v.createElement("div",{className:"KeyboardNotification__container"},v.createElement("div",{className:m("KeyboardNotification__icon",o&&N[o])},v.createElement(y,{name:o,preventFocus:!0})))}}]),t}(v.PureComponent);g.getActionFromKeyCode=n,g.contextTypes={staticConfiguration:_},g.defaultProps={showWhileActive:!0},t.exports=g});C.r("components/ux/UIMarkup.jsx",function(t,s,e){"use strict";var r=(t("prop-types"),t("react")),a=t("create-react-class"),p=t("lodash"),n=a({displayName:"UIMarkup",getDefaultProps:function(){return{id:"",text:"",tagType:"span",tagProps:{}}},render:function(){var t=p.assign({id:this.props.id,dangerouslySetInnerHTML:{__html:this.props.text},className:this.props.className},this.props.tagProps);return r.createElement(this.props.tagType,t)}});s.exports=n});C.r("player/embed/components/StandardButton.jsx",function(e,t,n){"use strict";var a=e("babel-runtime/helpers/defineProperty"),o=function(e){return e&&e.__esModule?e:{default:e}}(a),l=e("classnames"),E=e("react"),L=e("../../../common/svgIcon.jsx"),s=function(e){var t,n=e.buttonSize,a=void 0===n?"LARGE":n,s=e.buttonStyle,r=void 0===s?"SOLID":s,d=e.buttonText,c=e.handleSelect,u=e.iconName,I=e.tabIndex,i=void 0===I?0:I;return E.createElement("button",{className:l("standard-button",(t={large:"LARGE"===a,small:"SMALL"===a,solid:"SOLID"===r},(0,o.default)(t,"outline-black","OUTLINE_BLACK"===r),(0,o.default)(t,"outline-red","OUTLINE_RED"===r),(0,o.default)(t,"outline-white","OUTLINE_WHITE"===r),t)),onClick:c,tabIndex:i},E.createElement("div",{className:"standard-button--contents"},u&&E.createElement("span",{className:"standard-button--icon"},E.createElement(L,{name:u})),E.createElement("span",{className:"standard-button--wrap"},d)))};s.SIZE_LARGE="LARGE",s.SIZE_SMALL="SMALL",s.STYLE_OUTLINE_BLACK="OUTLINE_BLACK",s.STYLE_OUTLINE_RED="OUTLINE_RED",s.STYLE_OUTLINE_WHITE="OUTLINE_WHITE",s.STYLE_SOLID="SOLID",t.exports=s});C.r("player/nfplayer/components/OverlayTitleInfo.jsx",function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=e("babel-runtime/helpers/classCallCheck"),i=n(a),r=e("babel-runtime/helpers/createClass"),p=n(r),o=e("babel-runtime/helpers/possibleConstructorReturn"),f=n(o),l=e("babel-runtime/helpers/inherits"),m=n(l),u=e("../utils/time"),c=u.getFormattedTime,h=e("prop-types"),d=e("react"),b=function(e,t){return e(t)},y="player/player",E=function(e){function t(){return(0,i.default)(this,t),(0,f.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){return d.createElement("div",{className:"evidence-overlay nfa-z-idx-1 nfa-pos-abs nfa-d-flex nfa-w-100 nfa-h-100 nfa-flx-dir-col nfa-bs-bb nfa-jc-center"},this.props.title&&this.props.isPaused&&d.createElement("h4",{className:"nfa-fs-1-6-em nfa-fw-normal nfa-c-gray-80 nfa-m-0 nfa-pb-02-em"},this.context.getI18nString(y,"paused.watching")),d.createElement("h2",{className:"nfa-fs-4-8-em nfa-m-0"},this.props.title),this.props.isEpisodic&&this.props.showEpisodeNumbers&&d.createElement("h4",{className:"nfa-fs-2-em nfa-m-0 nfa-pt-02-em nfa-pb-1em"},this.context.getI18nString(y,"paused.season.episode.title",{SEASON_TITLE:this.props.seasonTitle,EPISODE_NUMBER:this.props.episodeNumber})),this.props.isEpisodic&&d.createElement("h3",{className:"nfa-fs-2-em nfa-m-0 nfa-pt-1-em nfa-pb-05-em"},this.props.episodeTitle),!this.props.isEpisodic&&d.createElement("h3",{className:"nfa-fs-2-em nfa-m-0 nfa-pt-02-em nfa-pb-1em nfa-pb-05-em nfa-fw-normal nfa-d-flex"},d.createElement("span",null,this.props.year),d.createElement("span",{className:"nfa-pl-1-em nfa-pr-1-em"},this.props.maturityRating),-1!==this.props.runtime&&d.createElement("span",null,this.props.showDurationOnlyInMinutes?this.context.getI18nString(y,"time.minutes",{M:parseInt(this.props.runtime/60,10)}):this.context.getI18nString(y,"time.hours.minutes",b(function(e){return{H:e.h,M:e.m}},c(this.props.runtime))))),d.createElement("p",{className:"nfa-fs-1-6-em nfa-c-gray-80 nfa-m-0 nfa-w-60"},this.props.synopsis),this.props.isPaused&&d.createElement("p",{className:"nfa-as-end nfa-fs-1-6-em nfa-c-gray-80 nfa-m-0 nfa-pos-abs nfa-bot-10 nfa-right-10"},this.context.getI18nString(y,"paused.paused")))}}]),t}(d.Component);E.contextTypes={getI18nString:h.func.isRequired},E.defaultProps={episodeNumber:-1,episodeTitle:"",isEpisodic:!1,isPaused:!0,maturityRating:"",runtime:-1,seasonTitle:"",showDurationOnlyInMinutes:!1,showEpisodeNumbers:!0,synopsis:"",title:"",year:-1},t.exports=E});C.r("player/nfplayer/components/controls/audioSubtitlePopup.jsx",function(e,t,n){"use strict";function s(e,t,n){return function(){e.apply(n,[t._track||t])}}function a(e){return function(t){t.keyCode!==l.SPACE&&t.keyCode!==l.ENTER||(t.preventDefault(),e())}}function i(e){return e.selected}var r=e("lodash"),c=e("classnames"),l=e("../../../../common/keyCodes"),o=e("prop-types"),u=e("react"),d=e("create-react-class"),m=e("../../../../common/svgIcon.jsx"),p=e("../hoc/withEffects.jsx"),k=p("ul"),h="discovery/akira/BVUICommon",f=d({displayName:"AudioSubtitlePopup",contextTypes:{getI18nString:o.func.isRequired},getDefaultProps:function(){return{setAudioTrack:r.noop,setSubtitleTrack:r.noop}},makeListEls:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this;return t.map(function(t,r){return u.createElement("li",{className:c("track",{selected:t.selected}),key:t.label+r,onClick:s(e,t,i),onKeyUp:a(s(e,t,i)),tabIndex:0},t.selected&&u.createElement("span",{className:"video-controls-check"},u.createElement(m,{name:"nfplayerCheck",preventFocus:!0})),"ASSISTIVE"===t.trackType&&n?i.context.getI18nString(h,"ce-text-track-assistive",{LANGUAGE:t.label}):t.label)})},shouldComponentUpdate:function(e,t){var n=e.audioList,s=e.subtitleList,a=this.props.audioList,c=this.props.subtitleList;return n.length!==a.length||s.length!==c.length||r.findIndex(n,i)!==r.findIndex(a,i)||r.findIndex(s,i)!==r.findIndex(c,i)},render:function(){var e=this.props,t=e.audioList,n=e.setAudioTrack,s=e.setSubtitleTrack,a=e.subtitleList;return u.createElement("div",{className:c("popup-content","audio-subtitle-controller")},u.createElement(k,{className:c("track-list","structural","track-list-audio"),commandLoggingName:p.AUDIO},u.createElement("li",{className:"list-header",key:"header"},this.context.getI18nString(h,"ce-audio-tracks-title")),this.makeListEls(n,t)),u.createElement(k,{className:c("track-list","structural","track-list-subtitles"),commandLoggingName:p.TIMED_TEXT},u.createElement("li",{className:"list-header",key:"header"},this.context.getI18nString(h,"ce-text-tracks-title")),this.makeListEls(s,a,!0)))}});t.exports=f});C.r("player/nfplayer/components/controls/audioSubtitles.jsx",function(t,e,o){"use strict";var i=t("./audioSubtitlePopup.jsx"),a=t("../../../../utils/shallowCompare"),n=t("../../common/playerControls"),s=t("./popup.jsx"),c=t("prop-types"),r=(t("../hoc/controlFocus.jsx"),t("react")),l=t("create-react-class"),p=l({displayName:"AudioSubtitles",contextTypes:{getI18nString:c.func.isRequired},statics:{CONTROL_NAME:n.AUDIO_SUBTITLE},getDefaultProps:function(){return{isHidden:!1,tabIndex:0}},shouldComponentUpdate:a.partialProps(["controlFocusState","audioTracks","isHidden","selectedAudioTrack","selectedTextTrack","timedTracksLoaded","textTracks"]),render:function(){var t=this.props,e=t.audioTracks,o=t.buttonType,a=t.controlFocusActions,c=t.controlFocusState,l=t.isHidden,p=t.keepRight,u=t.noPadding,d=t.onClick,T=t.onClickCapture,k=t.onDoubleClickCapture,y=t.onKeyDownCapture,b=t.onKeyUp,m=t.onUserActivityChanged,C=t.popupHasStaticPosition,x=t.selectedAudioTrack,A=t.selectedTextTrack,S=t.setAudioTrack,g=t.setKeepActive,f=t.setTimedTextTrack,h=t.tabIndex,I=t.textTracks,L=t.timedTracksLoaded,U=t.tooltipAlignment,v=t.tooltipPosition,P=t.withLabelExposed,D=this.context.getI18nString("player/player","button.audio.subtitles"),E=void 0,N=void 0,F=void 0,H=void 0;return L&&(E=x,N=A,F=e.map(function(t){return{trackType:t.trackType,label:t.displayName,selected:t===E,_track:t}}),H=I.map(function(t){return{trackType:t.trackType,label:t.displayName,selected:t===N,_track:t}})),r.createElement(s,{ariaLabel:D,buttonType:o,controlFocusActions:a,controlFocusState:c,focusName:n.AUDIO_SUBTITLE,iconName:"nfplayerSubtitles",isHidden:l,keepRight:p,label:D,noPadding:u,onClick:d,onClickCapture:T,onDoubleClickCapture:k,onKeyDownCapture:y,onKeyUp:b,onUserActivityChanged:m,popupHasStaticPosition:C,setKeepActive:g,tabIndex:h,tooltip:D,tooltipAlignment:U,tooltipPosition:v,withLabelExposed:P},c.focused===n.AUDIO_SUBTITLE&&r.createElement(i,{audioList:F,setAudioTrack:S,setSubtitleTrack:f,subtitleList:H}))}});e.exports=p});C.r("player/nfplayer/components/controls/controlLayoutShouldComponentUpdate.js",function(t,o,e){"use strict";var a=t("lodash"),r=t("../../../../utils/shallowCompare"),s=t("../../common/PlayerUIState"),i=[s.INACTIVE,s.POWER_SAVE];o.exports=r.multiple(r.partialProps(["activeVideo","audioTracks","controlFocusState","textTracks","hidePlayerCloseButton","isFullScreen","player","videoId","uiState","timedTracksLoaded","keyboardAction"]),function(t){return!(a.contains(i,t.uiState)&&a.contains(i,this.props.uiState)&&this.props.loaded)})});C.r("player/nfplayer/components/controls/controlRow.jsx",function(o,t,r){"use strict";var s=(o("prop-types"),o("react")),e=o("create-react-class"),n=(o("lodash"),o("classnames")),c={TOP_LEFT:"top-left-controls",TOP_RIGHT:"top-right-controls",BOTTOM_RIGHT:"bottom-right-controls",BOTTOM:"bottom-controls"},l=e({displayName:"ControlRow",statics:c,render:function(){var o=this.props,t=o.position,r=o.children,e=n("nfp-control-row",t);return s.createElement("div",{className:e},r)}});t.exports=l});C.r("player/nfplayer/components/controls/episodePreview.jsx",function(e,t,i){"use strict";var s=(e("prop-types"),e("react")),o=e("create-react-class"),a=e("lodash"),n=(e("../../common/Video"),e("./roundPlayPauseButton.jsx")),p=e("../../../../utils/shallowCompare"),l=e("../../types/staticConfiguration"),r=e("../../common/episodePreviewType"),c=e("./episodePreviewModern.jsx"),d=e("./episodePreviewClassic.jsx"),h=e("../../uiLabel"),u=s.createElement(n,{type:n.PLAY,animate:!1}),P=o({displayName:"EpisodePreview",contextTypes:{staticConfiguration:l},getInitialState:function(){return{wasVisible:this.props.visible}},getDefaultProps:function(){return{playIconElement:u,expanded:!0,visible:!0,canPlay:!0,playNextTitle:a.noop,showProgress:!0,trackId:-1}},componentWillReceiveProps:function(e){e.visible&&!this.state.wasVisible&&this.setState({wasVisible:!0})},shouldComponentUpdate:p.partialPropsAndAllState(["visible","episode"]),handleClick:function(e){this.props.visible&&(e.stopPropagation(),this.props.playNextTitle(this.props.episode.getId(),this.props.trackId,void 0,void 0,h.STANDARD))},render:function(){var e=this.context.staticConfiguration.episodePreviewType,t=this.props,i=t.canPlay,o=t.episode,a=t.isNextEpisode,n=t.playIconElement,p=t.expanded,l=t.showProgress,h=t.titleText,u=this.state.wasVisible,P=e===r.CLASSIC?d:c;return s.createElement(P,{canPlay:i,episode:o,handleClick:this.handleClick,isNextEpisode:a,playIconElement:n,expanded:p,showProgress:l,titleText:h,wasVisible:u})}});t.exports=P});C.r("player/nfplayer/components/controls/progress.jsx",function(s,r,e){"use strict";var a=(s("prop-types"),s("react")),o=s("create-react-class"),t=s("classnames"),l=s("../../../../utils/shallowCompare"),n=o({displayName:"Progress",getDefaultProps:function(){return{max:1,isModern:!0,alwaysShow:!1}},shouldComponentUpdate:l.partialProps(["value"]),render:function(){var s=this.props,r=s.alwaysShow,e=s.isModern,o=s.value,l=s.max;return r||o&&o>0?a.createElement("progress",{className:t("Progress",{"Progress--modern":e,"Progress--classic":!e}),max:l,value:o}):null}});r.exports=n});C.r("utils/shallowCompare.js",function(r,t,n){"use strict";function e(r,t){for(var n in r)if(this.props[n]!==r[n])return!0;return!1}function i(r,t){for(var n in t)if(this.state[n]!==t[n])return!0;return!1}function u(r,t,n){for(var e in n)if(this.context[e]!==n[e])return!0;return!1}function o(r){if(!r||!r.length)return e;var t=r.length;return function(n,e){for(var i=0;i<t;i++){var u=r[i];if(this.props[u]!==n[u])return!0}return!1}}function f(){var r=arguments,t=r.length;return function(n,e,i){for(var u=0;u<t;u++){if(r[u].call(this,n,e,i))return!0}return!1}}function a(r){return f(o(r),i)}t.exports={props:e,state:i,context:u,partialProps:o,multiple:f,pureRender:f(e,i),partialPropsAndAllState:a}});C.r("utils/titles/interactiveFeatures.js",function(a,i,t){"use strict";var r={customBookmark:"customBookmark",fallbackTutorial:"fallbackTutorial",interactiveTrailer:"interactiveTrailer",ipp:"ipp",prePlay:"prePlay",playbackGraph:"playbackGraph",playbackNotifications:"playbackNotifications",postPlay:"postPlay",hideDetailedDurations:"hideDetailedDurations"};i.exports=r});C.r("utils/titles/interactiveTitles.js",function(t,e,n){"use strict";var r=t("./interactiveFeatures"),i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.keys(t),n=e.length,r=0;return e.forEach(function(e){!0===t[e]&&r++}),r/n};e.exports={isBranchingTitle:function(t){return!!t&&this.supportsInteractiveFeature(r.playbackGraph,t)},supportsInteractiveFeature:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!!e&&!!(e.interactivity||{})[t]},isValidInteractiveBookmark:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!(!t||!t.segmentsWatched)},getSeenSegmentsProgress:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=0;return t.segmentsWatched&&(e=i(t.segmentsWatched)),e},getInteractiveBookmarkPosition:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],n=this.getSeenSegmentsProgress(t);if("number"==typeof e&&!isNaN(e))return e*n}}});C.r("player/nfplayer/components/controls/episodePreviewClassic.jsx",function(e,a,s){"use strict";var t=(e("prop-types"),e("react")),l=e("create-react-class"),n=(e("../../common/Video"),e("./progress.jsx")),r=e("classnames"),i=e("../../../../utils/shallowCompare"),c=e("lodash"),m=e("../../../../common/svgIcon.jsx"),o=l({displayName:"EpisodePreviewClassic",shouldComponentUpdate:i.props,render:function(){var e=this.props,a=e.canPlay,s=e.handleClick,l=e.episode,i=e.playIconElement,o=e.expanded,d=e.showProgress,p=e.titleText,E=e.wasVisible,v=l.getEpisodeThumbnail(),u=c.result(l,"getBookmark",{}).offset||0,N=r("nfp-episode-preview","nfa-w-100","nfa-dir-ltr",{"nfa-flx-dir-col":o,collapsed:!o,expanded:o,"can-play":a}),f={};return v&&(f.paddingTop=100*v.h/v.w+"%",E&&(f.backgroundImage="url("+v.url+")")),o?t.createElement("div",{className:N,onClick:s},t.createElement("div",{className:"nfa-w-100 nfa-d-flex nfa-pb-05-em title-container nfa-dir-ltr"},!p&&t.createElement("span",{className:"number"},l.getEpisodeNumber()),!p&&t.createElement("div",{className:"title-and-synopsis"},t.createElement("h3",{className:"title"},l.getEpisodeTitle())),p&&t.createElement("div",{className:"title-and-synopsis"},t.createElement("h3",{className:"title"},p)),d&&t.createElement(n,{isModern:!1,alwaysShow:!0,value:u/l.getRuntime()}),t.createElement("div",{className:"expand-preview-arrow"},t.createElement(m,{name:"nfplayerBack",preventFocus:!0}))),t.createElement("div",{className:"nfa-w-100 nfa-d-flex"},t.createElement("div",{className:"thumbnail"},t.createElement("div",{className:"thumbnail-inner"},t.createElement("div",{className:"thumbnail-image",style:f}),t.createElement("div",{className:"gradient"}),a?i:null)),t.createElement("div",{className:"synopsis"},l.getSynopsis()))):t.createElement("div",{className:N},!p&&t.createElement("span",{className:"number"},l.getEpisodeNumber()),t.createElement("div",{className:"title-and-synopsis"},t.createElement("h3",{className:"title"},l.getEpisodeTitle())),d&&t.createElement(n,{isModern:!1,alwaysShow:!0,value:u/l.getRuntime()}),t.createElement("div",{className:"expand-preview-arrow"},t.createElement(m,{name:"nfplayerBack",preventFocus:!0})))}});a.exports=o});C.r("player/nfplayer/components/controls/episodePreviewModern.jsx",function(e,a,t){"use strict";var s=(e("prop-types"),e("react")),l=e("create-react-class"),n=(e("../../common/Video"),e("./progress.jsx")),i=e("classnames"),r=e("../../../../utils/shallowCompare"),m=l({displayName:"EpisodePreviewModern",shouldComponentUpdate:r.props,getDefaultProps:function(){return{isNextEpisode:!1,showEpisodeNumber:!0}},getEpisodeNumber:function(){var e=this.props.episode;return e.showEpisodeNumbers()?s.createElement("span",{className:"number"},e.getEpisodeNumber()):null},render:function(){var e=this.props,a=e.canPlay,t=e.handleClick,l=e.isNextEpisode,r=e.episode,m=e.playIconElement,o=e.expanded,c=e.showEpisodeNumber,d=e.showProgress,p=e.wasVisible,E=r.getEpisodeThumbnail(),u=r.getBookmark(),N=u&&u.offset?u.offset:0,f=i("nfp-episode-preview","nfp-episode-preview--modern",{"nfp-episode-preview--is-next-episode":l,collapsed:!o,expanded:o,"can-play":a}),v={};return E&&(v.paddingTop=100*E.h/E.w+"%",p&&(v.backgroundImage="url("+E.url+")")),l?s.createElement("div",{className:f,onClick:t},s.createElement("div",{className:"nfa-d-flex nfa-dir-ltr"},s.createElement("div",{className:"thumbnail"},s.createElement("div",{className:"thumbnail-inner nfa-pos-rel"},s.createElement("div",{className:"thumbnail-image",style:v}),s.createElement("div",{className:"gradient"}),a?m:null)),s.createElement("div",null,s.createElement("div",{className:"nfa-d-flex"},c&&this.getEpisodeNumber(),s.createElement("h3",{className:"title"},r.getEpisodeTitle())),s.createElement("div",{className:"synopsis"},r.getSynopsis())))):o?s.createElement("div",{className:f,onClick:t},s.createElement("div",{className:"title-container nfa-d-flex nfa-ai-center nfa-w-100"},c&&this.getEpisodeNumber(),s.createElement("h3",{className:"title"},r.getEpisodeTitle()),d&&s.createElement(n,{alwaysShow:!0,value:N/r.getRuntime()})),s.createElement("div",{className:"nfa-d-flex metadata-container"},s.createElement("div",{className:"thumbnail"},s.createElement("div",{className:"thumbnail-inner nfa-pos-rel"},s.createElement("div",{className:"thumbnail-image",style:v}),s.createElement("div",{className:"gradient"}),a?m:null)),s.createElement("div",{className:"synopsis"},r.getSynopsis()))):s.createElement("div",{className:f},s.createElement("div",{className:"title-container nfa-d-flex nfa-ai-center nfa-w-100"},c&&this.getEpisodeNumber(),s.createElement("h3",{className:"title"},r.getEpisodeTitle()),d&&s.createElement(n,{alwaysShow:!0,value:N/r.getRuntime()})))}});a.exports=m});C.r("player/nfplayer/components/controls/episodeSelector/episodeConstants.js",function(e,o,s){"use strict";o.exports={FOCUS_DELAY_TIME:100}});C.r("player/nfplayer/components/controls/episodeSelector/episodeExpander.jsx",function(e,t,s){"use strict";var i=e("classnames"),n=e("../../../../../utils/shallowCompare"),o=e("../episodePreview.jsx"),p=e("../../../../../common/keyCodes"),a=(e("prop-types"),e("react")),r=e("create-react-class"),d=e("react-dom"),l=e("../roundPlayPauseButton.jsx"),h=(e("../../../common/Video"),a.createElement(l,{type:l.PLAY,animate:!1})),c=function(){},u=r({displayName:"EpisodeExpander",getDefaultProps:function(){return{expand:c,expanded:!1,isFocused:!0,playIconElement:h,playNextTitle:c,showActiveVideoProgress:!0,showVideoProgress:!1,trackId:-1}},getInitialState:function(){return{dimensions:{},transitioning:!1,willTransition:!1}},shouldComponentUpdate:n.partialPropsAndAllState(["expanded","expander","isFocused"]),getComputedDimensions:function(){var e=this.props.expanded?this.refs.expanded:this.refs.collapsed,t=d.findDOMNode(e);return{height:t instanceof HTMLElement?t.offsetHeight:void 0}},componentWillReceiveProps:function(e){this.props.expanded!==e.expanded&&this.setState({dimensions:this.getComputedDimensions(),willTransition:!0})},componentDidUpdate:function(e,t){this.props.expanded!==e.expanded&&this.beginTransition()},expandEpisode:function(){this.props.expanded||this.props.expand(this.props.episode)},handleClick:function(){this.expandEpisode()},handleOnKeyUp:function(e){e.keyCode!==p.SPACE&&e.keyCode!==p.ENTER||(e.preventDefault(),this.props.expanded?this.props.playNextTitle(this.props.episode.getId(),this.props.trackId):this.expandEpisode())},beginTransition:function(){this.setState({willTransition:!1,transitioning:!0,dimensions:this.getComputedDimensions()})},handleTransitionEnd:function(){this.state.transitioning&&this.setState({willTransition:!1,transitioning:!1,dimensions:{}})},renderRow:function(e,t){var s=e&&this.props.expanded||!e&&!this.props.expanded;if(this.state.willTransition&&(s=!s),!s&&!this.state.willTransition&&!this.state.transitioning)return null;var n=i("episode-row",{collapsed:!e,expanded:e,"out-of-flow":!s||this.state.transitioning,visible:s});return a.createElement("div",{className:n,onTransitionEnd:this.handleTransitionEnd},a.createElement("div",{className:"focus-rect"}),a.createElement(o,{canPlay:this.props.episode!==this.props.activeVideo,episode:this.props.episode,expanded:this.props.expanded,showProgress:this.props.episode===this.props.activeVideo?this.props.showActiveVideoProgress:this.props.showVideoProgress,playIconElement:this.props.playIconElement,playNextTitle:this.props.playNextTitle,ref:t,trackId:this.props.trackId,visible:s}))},render:function(){var e=i("nfp-episode-expander",{transitioning:this.state.transitioning});return a.createElement("div",{className:e,onClick:this.handleClick,onKeyUp:this.handleOnKeyUp,style:this.state.dimensions,tabIndex:this.props.isFocused?0:-1},this.renderRow(!1,"collapsed"),this.renderRow(!0,"expanded"))}});t.exports=u});C.r("player/nfplayer/components/controls/episodeSelector/episodeList.jsx",function(e,t,o){"use strict";function s(e,t){var o=h.findDOMNode(e);if(!(null===o||o instanceof Text)){var s=o.getElementsByClassName(t)[0];s&&setTimeout(function(){return s.focus()},x)}}var i=e("lodash"),n=e("classnames"),a=e("../../../../../utils/shallowCompare"),d=e("./episodeConstants"),r=e("./episodeExpander.jsx"),p=e("../../../../../common/keyCodes"),c=(e("prop-types"),e("react")),l=e("create-react-class"),h=e("react-dom"),m=e("../roundPlayPauseButton.jsx"),u=(e("../../../common/Video"),e("../../../uiLabel")),f=e("../../../../../common/svgIcon.jsx"),v=c.createElement(m,{type:m.PLAY,animate:!1}),x=d.FOCUS_DELAY_TIME,E=l({displayName:"EpisodeList",_scrollExpandTimerId:void 0,getDefaultProps:function(){return{playIconElement:v,back:i.noop,playNextTitle:i.noop,showActiveVideoProgress:!0,showVideoProgress:!1}},getInitialState:function(){return{expandedVideo:null}},componentDidMount:function(){this.scrollExpandedVideoIntoView(),this.props.isFocused&&s(this,"header")},componentWillUnmount:function(){this._scrollExpandTimerId&&(clearTimeout(this._scrollExpandTimerId),this._scrollExpandTimerId=void 0)},componentDidUpdate:function(e,t){var o=this;!this.props.isFocused||e.season===this.props.season&&e.activeVideo===this.props.activeVideo&&this.state.expandedVideo===t.expandedVideo||(this._scrollExpandTimerId=setTimeout(function(){o._scrollExpandTimerId=void 0,o.scrollExpandedVideoIntoView()},210)),this.props.isFocused&&!e.isFocused&&s(this,"header")},shouldComponentUpdate:a.partialPropsAndAllState(["activeVideo","isFocused","season"]),expand:function(e){this.setState({expandedVideo:e})},getExpandedVideo:function(){return i.result(this.state.expandedVideo,"getSeason","")===this.props.season?this.state.expandedVideo:i.result(this.props.activeVideo,"getSeason","")===this.props.season?this.props.activeVideo:this.props.season.getFirstEpisode()},handleKeyUp:function(e){e.keyCode!==p.SPACE&&e.keyCode!==p.ENTER||(e.preventDefault(),e.stopPropagation(),this.handleBack(e))},scrollExpandedVideoIntoView:function(){var e=this.getExpandedVideo();if(e){var t=this.refs[e.getId()],o=h.findDOMNode(t),s=h.findDOMNode(this.refs.body);if(o instanceof Element&&s instanceof Element){var i=s.getBoundingClientRect(),n=o.getBoundingClientRect(),a=0|n.top,d=0|n.bottom,r=0|i.top,p=0|i.bottom,c=r-a;if(c>0)return void(s.scrollTop-=c);var l=d-p;if(l>0)return void(s.scrollTop+=l)}}},canGoBack:function(){return!!this.props.activeVideo&&this.props.activeVideo.getAllSeasons().length>1},handleBack:function(e){this.canGoBack()&&(e.stopPropagation(),this.props.back())},playNextTitle:function(e,t){this.props.playNextTitle(e,t,void 0,void 0,u.STANDARD)},render:function(){var e=this,t=this.canGoBack(),o=this.props.isFocused&&t,s=this.getExpandedVideo(),i=n("header",{"disable-back":!this.canGoBack()}),a={maxHeight:this.props.maxHeight>-1?this.props.maxHeight:void 0};return c.createElement("div",{className:"episode-list",style:a},c.createElement("div",{className:i,onClick:this.handleBack,onKeyUp:this.handleKeyUp,role:"button",tabIndex:o?0:-1},o&&c.createElement("div",{className:"focus-rect"}),c.createElement("div",{className:"back"},c.createElement(f,{name:"nfplayerBack",preventFocus:!0})),c.createElement("div",{className:"header-title-container"},c.createElement("h2",{className:"header-title"},this.props.season.getTitle()))),c.createElement("div",{className:"body",ref:"body"},this.props.season.getEpisodes().map(function(t){return c.createElement(r,{activeVideo:e.props.activeVideo,episode:t,expand:e.expand,expanded:t===s,key:t.getId(),playIconElement:e.props.playIconElement,playNextTitle:e.props.playNextTitle,showActiveVideoProgress:e.props.showActiveVideoProgress,showVideoProgress:e.props.showVideoProgress,ref:t.getId(),trackId:e.props.trackId})})))}});t.exports=E});C.r("player/nfplayer/components/controls/episodeSelector/index.jsx",function(e,t,s){"use strict";var i=e("lodash"),o=e("classnames"),n=e("../../../../../utils/shallowCompare"),a=e("./episodeList.jsx"),p=e("../../hoc/withEffects.jsx"),r=e("../popup.jsx"),l=e("prop-types"),d=e("react"),c=e("create-react-class"),h=e("react-dom"),u=e("../roundPlayPauseButton.jsx"),m=e("./seasonList.jsx"),y=e("../../../common/playerControls"),g=e("../../../types/staticConfiguration"),T=(e("../../hoc/controlFocus.jsx"),p(r)),S={seasons:"seasons",episodes:"episodes"},f=d.createElement(u,{type:u.PLAY,animate:!1}),E=c({displayName:"EpisodeSelector",statics:{CONTROL_NAME:y.EPISODE_SELECTOR},contextTypes:{getI18nString:l.func.isRequired,staticConfiguration:g},getDefaultProps:function(){return{buttonComponentType:r.BUTTON_ICON,buttonText:"",iconName:"nfplayerEpisodes",isHidden:!1,playIconElement:f,playNextTitle:i.noop,topAligned:!1,showActiveVideoProgress:!0,showVideoProgress:!1}},shouldComponentUpdate:n.pureRender,getInitialState:function(){return{selectedSeason:i.result(this.props.activeVideo,"getSeason",null),displayType:S.episodes,transitioning:!1,dimensions:{},willTransition:!1}},componentWillReceiveProps:function(e){this.props.activeVideo!==e.activeVideo&&this.setState({selectedSeason:i.result(e.activeVideo,"getSeason",null)})},getComputedDimensions:function(){var e=this.state.displayType===S.episodes?this.refs["episodes-pane"]:this.refs["seasons-pane"],t=h.findDOMNode(e);return t instanceof HTMLElement?{width:t.offsetWidth,height:t.offsetHeight}:{height:0,width:0}},selectSeason:function(e){this.setState({selectedSeason:e,displayType:S.episodes,dimensions:this.getComputedDimensions(),willTransition:!0})},clearSeason:function(){this.setState({displayType:S.seasons,dimensions:this.getComputedDimensions(),willTransition:!0})},beginTransition:function(){var e=this;this.setState({transitioning:!0,dimensions:this.getComputedDimensions(),willTransition:!1},function(){return setTimeout(e.handleTransitionEnd,350)})},componentDidUpdate:function(e,t){this.state.displayType!==t.displayType&&this.beginTransition()},handleTransitionEnd:function(){this.state.transitioning&&this.setState({transitioning:!1,dimensions:{}})},render:function(){var e=this.context.staticConfiguration.isRTL;if(!this.props.activeVideo.isEpisodic())return null;var t=this.props,s=t.controlFocusActions,i=t.controlFocusState,n=o("pane","seasons-pane",{active:this.state.displayType===S.seasons,"out-of-flow":this.state.displayType!==S.seasons||this.state.transitioning}),r=o("pane","episodes-pane",{active:this.state.displayType===S.episodes,"out-of-flow":this.state.displayType!==S.episodes||this.state.transitioning}),l=this.props.playerDimensions?Math.min(this.props.playerDimensions.height-150,413):-1,c=this.props.activeVideo.showEpisodeNumbers();return d.createElement(T,{ariaLabel:this.context.getI18nString("player/player","aria.label.player.episodes"),buttonComponentType:this.props.buttonComponentType,buttonText:this.props.buttonText,buttonType:this.props.buttonType,children:this.props.children,commandLoggingName:p.EPISODE_SELECTOR,controlFocusActions:s,controlFocusState:i,focusName:y.EPISODE_SELECTOR,iconName:this.props.iconName,isHidden:this.props.isHidden,keepRight:this.props.keepRight,label:this.props.label,noPadding:this.props.noPadding,onUserActivityChanged:this.props.onUserActivityChanged,popupHasStaticPosition:this.props.popupHasStaticPosition,setKeepActive:this.props.setKeepActive,tabIndex:this.props.tabIndex,tooltip:this.props.tooltip||this.context.getI18nString("player/player","aria.label.player.episodes"),tooltipAlignment:this.props.tooltipAlignment,tooltipPosition:this.props.tooltipPosition,withLabelExposed:this.props.withLabelExposed},i.focused===y.EPISODE_SELECTOR&&d.createElement("div",{className:o("popup-content","nfp-episode-selector",{"top-aligned":this.props.topAligned,transitioning:this.state.transitioning,rtl:e,hiddenEpisodeNumbers:!c}),style:this.state.dimensions},d.createElement("div",{className:"of-hidden"},d.createElement("div",{className:n,ref:"seasons-pane"},d.createElement(m,{activeVideo:this.props.activeVideo,displayShowTitle:this.props.displayShowTitle,displayActiveSeasonCheckmark:this.props.displayActiveSeasonCheckmark,isFocused:this.state.displayType===S.seasons&&!this.state.transitioning&&!this.state.willTransition,maxHeight:l,selectSeason:this.selectSeason,selectedSeason:this.state.selectedSeason})),d.createElement("div",{className:r,ref:"episodes-pane"},d.createElement(a,{activeVideo:this.props.activeVideo,back:this.clearSeason,isFocused:this.state.displayType===S.episodes&&!this.state.transitioning&&!this.state.willTransition,key:this.state.selectedSeason.getFirstEpisode().getId(),maxHeight:l,playIconElement:this.props.playIconElement,playNextTitle:this.props.playNextTitle,season:this.state.selectedSeason,showActiveVideoProgress:this.props.showActiveVideoProgress,showVideoProgress:this.props.showVideoProgress,trackId:this.props.trackId})))))}});t.exports=E});C.r("player/nfplayer/components/controls/episodeSelector/seasonList.jsx",function(e,s,t){"use strict";function o(e){var s=r.findDOMNode(e);s instanceof HTMLElement&&setTimeout(function(){return s.focus()},l)}var i=e("./episodeConstants"),a=e("fbjs/lib/shallowEqual"),n=(e("prop-types"),e("react")),p=e("create-react-class"),r=e("react-dom"),c=e("./seasonPreview.jsx"),l=i.FOCUS_DELAY_TIME,d=p({displayName:"SeasonList",shouldComponentUpdate:function(e,s){return!a(this.props,e)||!a(this.state,s)},componentDidMount:function(){this.props.isFocused&&o(this)},componentDidUpdate:function(e,s){this.props.isFocused&&!e.isFocused&&o(this)},render:function(){var e=this,s={maxHeight:this.props.maxHeight>-1?this.props.maxHeight:void 0};return n.createElement("div",{className:"season-list",style:s},n.createElement("div",{className:"body"},this.props.displayShowTitle&&n.createElement("h3",{className:"show-title"},this.props.activeVideo.getTitle()),this.props.activeVideo.getAllSeasons().map(function(s){return n.createElement(c,{activeVideo:e.props.activeVideo,displayActiveCheckmark:e.props.displayActiveSeasonCheckmark,isFocused:e.props.isFocused,isSelected:s===e.props.selectedSeason,key:s.getFirstEpisode().getId(),season:s,selectSeason:e.props.selectSeason})})))}});s.exports=d});C.r("player/nfplayer/components/controls/episodeSelector/seasonPreview.jsx",function(e,s,t){"use strict";function n(e){var s=l.findDOMNode(e);s instanceof HTMLElement&&setTimeout(function(){return s.focus()},h)}var o=e("classnames"),a=e("./episodeConstants"),i=e("../../../../../common/keyCodes"),c=e("fbjs/lib/shallowEqual"),r=(e("prop-types"),e("react")),p=e("create-react-class"),l=e("react-dom"),d=e("../../../../../common/svgIcon.jsx"),h=a.FOCUS_DELAY_TIME,m=p({displayName:"SeasonPreview",shouldComponentUpdate:function(e,s){return!c(this.props,e)||!c(this.state,s)},getDefaultProps:function(){return{displayActiveCheckmark:!0}},componentDidMount:function(){this.props.isFocused&&this.props.isSelected&&n(this)},componentDidUpdate:function(e){this.props.isFocused&&!e.isFocused&&this.props.isSelected&&n(this)},handleKeyUp:function(e){e.keyCode!==i.SPACE&&e.keyCode!==i.ENTER||(e.preventDefault(),e.stopPropagation(),this.handleSelectSeason())},handleSelectSeason:function(){this.props.selectSeason(this.props.season)},render:function(){var e=this.props.activeVideo.getSeason()===this.props.season;return r.createElement("div",{className:o("nfp-season-preview",{"nfp-season-preview-is-active":e}),onClick:this.handleSelectSeason,onKeyUp:this.handleKeyUp,tabIndex:this.props.isFocused?0:-1},r.createElement("div",{className:"focus-rect"}),this.props.displayActiveCheckmark&&r.createElement("div",{className:"check"},e&&r.createElement(d,{name:"nfplayerCheck",preventFocus:!0})),r.createElement("div",{className:"title"},this.props.season.getTitle()),r.createElement("div",{className:"arrow"},r.createElement(d,{name:"nfplayerBack",preventFocus:!0})))}});s.exports=m});C.r("player/nfplayer/components/controls/evidenceOverlay.jsx",function(e,t,i){"use strict";var o=(e("prop-types"),e("react")),s=e("create-react-class"),n=e("../../common/playerControls"),r=(e("../../common/Video"),e("../../../../akira/containers/timeoutTransition/timeoutTransitionGroup.jsx")),a=e("../../../../utils/shallowCompare"),p=e("../OverlayTitleInfo.jsx"),l=s({displayName:"EvidenceOverlay",statics:{CONTROL_NAME:n.EVIDENCE_OVERLAY},shouldComponentUpdate:a.partialProps(["showContents","activeVideo"]),render:function(){var e=this.props.activeVideo,t=e.isEpisodic();return o.createElement(r,{component:"div",transitionAppear:!0,transitionName:"eo-transition",enterTimeout:100,leaveTimeout:100},this.props.showContents&&o.createElement(p,{episodeNumber:t?e.getEpisodeNumber():void 0,episodeTitle:t?e.getEpisodeTitle():void 0,isEpisodic:t,maturityRating:e.getMaturityRating(),runtime:e.getDisplayRuntime(),seasonTitle:t?e.getSeason().getTitle():void 0,showDurationOnlyInMinutes:this.props.showDurationOnlyInMinutes,showEpisodeNumbers:e.showEpisodeNumbers(),synopsis:e.getSynopsis(),title:e.getTitle(),year:e.getYear()}))}});t.exports=l});C.r("player/nfplayer/components/controls/fullHitZone.jsx",function(e,t,o){"use strict";var n=e("../playerSurface.jsx"),i=e("../../common/PlayerUIState"),c=(e("prop-types"),e("react")),a=e("create-react-class"),s=e("./roundPlayPauseButton.jsx"),l=e("lodash"),r=e("classnames"),u=e("../hoc/withEffects.jsx"),p=e("../../common/playerControls"),C=e("../../../../utils/shallowCompare"),m=(e("../hoc/controlFocus.jsx"),u(n)),h=u("div"),d=i.DISABLED,y=i.LOADING,T=i.TIMED_OUT,k=a({displayName:"FullHitZone",statics:{CONTROL_NAME:p.FULL_HITZONE},getDefaultProps:function(){return{showCenterButton:!0,enableClickToPlay:!0,clickDelay:200}},shouldComponentUpdate:C.pureRender,getInitialState:function(){return{wasClicked:!1,actionType:void 0}},onClick:function(e){var t=this,o=this.props,n=o.clickDelay,i=o.controlFocusActions,c=o.controlFocusState,a=o.enableClickToPlay,s=o.onClickPlay;if(o.uiState!==d)return c.focused?void i.releaseFocus(c.focused):void(a&&(clearTimeout(this._centerControlsClickHandle),this._centerControlsClickHandle=setTimeout(function(){t.setState({wasClicked:!0}),s(e)},n)))},onDoubleClick:function(e){clearTimeout(this._centerControlsClickHandle),this.props.onFullScreenChange&&this.props.onFullScreenChange()},componentWillUnmount:function(){clearTimeout(this._centerControlsClickHandle),clearTimeout(this._actionTypeChangeTimer)},componentWillReceiveProps:function(e){var t=this;e.uiState!==this.props.uiState&&e.uiState===T?this.setState({actionType:s.PLAY}):this.state.wasClicked&&e.paused!==this.props.paused&&(clearTimeout(this._actionTypeChangeTimer),this.setState({wasClicked:!1,actionType:e.paused?s.PAUSE:s.PLAY}),this._actionTypeChangeTimer=setTimeout(function(){t.setState({actionType:void 0})},750))},render:function(){var e=this.props,t=e.showCenterButton,o=e.onUserActivityChanged,n=e.uiState,i=e.isFullScreen,a=this.state.actionType,p=(t||n===T)&&!l.contains([y,d],n),C=a&&n!==d;return c.createElement(h,{commandLoggingName:u.FULL_HIT_ZONE,commandLogKeyDown:!1,onClick:this.onClick,className:"controls-full-hit-zone"},c.createElement(m,{className:r("center-controls",{active:C}),onUserActivityChanged:o,onDoubleClick:this.onDoubleClick,commandLoggingName:u.FULLSCREEN_DOUBLECLICK,commandLogDoubleClick:!0,commandLogClick:!1,commandLogKeyDown:!1,isFullScreen:i},p&&c.createElement(s,{type:a,animate:this.props.uiState!==T,onClick:this.onClick,usePointerCursor:!1})))}});t.exports=k});C.r("player/nfplayer/components/controls/fullscreen.jsx",function(e,o,t){"use strict";var n=e("./button.jsx"),l=e("../../../../utils/shallowCompare"),r=e("../../common/playerControls"),i=e("prop-types"),c=e("react"),s=e("create-react-class"),a=e("../hoc/withEffects.jsx"),u=(e("../hoc/controlFocus.jsx"),a(n)),p=s({displayName:"FullScreenButton",contextTypes:{getI18nString:i.func.isRequired},statics:{CONTROL_NAME:r.FULLSCREEN},getDefaultProps:function(){return{isHidden:!1,fullScreenOffIconName:"nfplayerWindowed",fullScreenOnIconName:"nfplayerFullscreen"}},shouldComponentUpdate:l.partialProps(["controlFocusState","isFullScreen","isHidden"]),render:function(){var e=this.props,o=e.controlFocusActions,t=e.controlFocusState,l=e.fullScreenOnIconName,i=e.fullScreenOffIconName,s=e.isFullScreen,p=e.isHidden,f=e.onChange,d=e.onPointerEnter,m=e.onPointerLeave,L=e.tabIndex,S=e.tooltip,E=e.tooltipAlignment,F=e.tooltipPosition,N=e.withTooltip,x=e.withLabelExposed,g=this.context.getI18nString("player/player",s?"menu.exit.fullscreen":"button.fullscreen");return c.createElement(u,{ariaLabel:g,commandLoggingName:a.FULLSCREEN,controlFocusActions:o,controlFocusState:t,focusName:r.FULLSCREEN,iconName:s?i:l,isHidden:p,onClick:f,onPointerEnter:d,onPointerLeave:m,tabIndex:L,tooltip:N?S||g:void 0,label:g,tooltipAlignment:E||n.TOOLTIP_RIGHT,tooltipPosition:F||n.TOOLTIP_TOP,withLabelExposed:x})}});o.exports=p});C.r("player/nfplayer/components/controls/horizontalScrubber.jsx",function(e,t,n){"use strict";var i=e("lodash"),o=e("../../../../utils/shallowCompare"),s=e("../hoc/withEffects.jsx"),r=e("prop-types"),a=e("react"),c=e("create-react-class"),u=e("react-dom"),h=e("../../utils/time.js"),d=e("classnames"),l=e("../../utils/makePercent"),m=s("div"),p=c({displayName:"HorizontalScrubberBar",getDefaultProps:function(){return{buffered:0,currentPlayerTime:0,currentScrubTime:-1,duration:0,onKeyDown:i.noop,onScrub:i.noop,onScrubEnd:i.noop,onScrubStart:i.noop,playerDimensions:{},isScrubbing:!1,trickplayGenerator:void 0,trickplayVideoWidthRatio:.24}},contextTypes:{getI18nString:r.func.isRequired},getInitialState:function(){return{cursorActive:!1,cursorPosition:null,scrubberDimensions:null,windowDimensions:this.getWindowDimensions()}},shouldComponentUpdate:o.pureRender,updateDimensions:function(){var e=u.findDOMNode(this.refs.track).getBoundingClientRect();return i.isEqual(this.state.scrubberDimensions,e)?this.state.scrubberDimensions:(this.setState({scrubberDimensions:e}),e)},componentWillReceiveProps:function(e){this.props.playerDimensions!==e.playerDimensions&&this.updateDimensions()},componentDidMount:function(){this.updateDimensions(),window.addEventListener("resize",this.handleWindowResize)},componentWillUnmount:function(){this.removeDocumentListeners(),this.cancelAnimationFrame(),window.removeEventListener("resize",this.handleWindowResize)},getWindowDimensions:function(){if("undefined"==typeof window)return null;var e=window.innerWidth,t=window.innerHeight;return{top:0,left:0,bottom:t,right:e,width:e,height:t}},handleWindowResize:i.debounce(function(){this.setState({windowDimensions:this.getWindowDimensions()}),this.updateDimensions()},16,{maxWait:16,leading:!0,trailing:!0}),addDocumentListeners:function(){this._hasDocumentListeners||(document.body.classList.add("scrubbing-surface","nfp"),window.PointerEvent?document.body.addEventListener("pointermove",this.handleDocumentMouseMove):(document.body.addEventListener("mousemove",this.handleDocumentMouseMove),document.body.addEventListener("touchmove",this.handleDocumentMouseMove)),document.body.addEventListener("mouseup",this.handleDocumentMouseUp),document.body.addEventListener("touchend",this.handleDocumentMouseUp),this._hasDocumentListeners=!0)},removeDocumentListeners:function(){this._hasDocumentListeners&&(window.PointerEvent?document.body.removeEventListener("pointermove",this.handleDocumentMouseMove):(document.body.removeEventListener("mousemove",this.handleDocumentMouseMove),document.body.removeEventListener("touchmove",this.handleDocumentMouseMove)),document.body.removeEventListener("mouseup",this.handleDocumentMouseUp),document.body.removeEventListener("touchend",this.handleDocumentMouseUp),document.body.classList.remove("scrubbing-surface","nfp"),this._hasDocumentListeners=!1)},getCursorPosition:function(e,t){var n=e&&e.targetTouches&&e.targetTouches.length&&e.targetTouches[0]||e&&e.changedTouches&&e.changedTouches.length&&e.changedTouches[0];if(t||(t=this.state.scrubberDimensions),n&&(e=n),!e||!e.clientX||!t)return null;var i=(e.clientX-t.left)/t.width;return Math.min(1,Math.max(0,i))},handleMouseDown:function(e){if(!this._hasDocumentListeners){var t=this.props.onScrubStart,n=this.updateDimensions();t(this.getCursorPosition(e,n)),this.addDocumentListeners()}},handleMouseMove:function(e){this.setState({cursorActive:!0,cursorPosition:this.getCursorPosition(e)})},handleMouseEnter:function(e){this.updateDimensions()},handleMouseLeave:function(){this.setState({cursorActive:!1})},handleDocumentMouseMove:function(e){var t=this;if(!(e.touches&&e.touches.length>1)){"touchmove"!==e.type&&"pointermove"!==e.type||e.preventDefault();var n=this.getCursorPosition(e);this._animationFrameId=requestAnimationFrame(function(){t.props.onScrub(n)})}},handleDocumentMouseUp:function(e){var t=this.props.onScrubEnd;this.cancelAnimationFrame(),t(this.getCursorPosition(e)),this.removeDocumentListeners()},handleKeyDown:function(e){this.props.onKeyDown(e)},canRenderTrickplay:function(){return this.state.scrubberDimensions&&this.props.trickplayGenerator},cancelAnimationFrame:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){this._animationFrameId&&(cancelAnimationFrame(this._animationFrameId),this._animationFrameId=void 0)}),renderTrickplay:function(){if(!this.canRenderTrickplay())return null;var e=this.props,t=e.currentPlayerTime,n=e.currentScrubTime,o=e.duration,s=e.isScrubbing,r=e.trickplayVideoWidthRatio,c=this.state.cursorActive;this._trickplayWidth||(this._trickplayWidth=Math.floor(i.get(this,"props.playerDimensions.width",0)*r)||r);var u=n>-1?n:t,h=o,m=s?u/h:this.state.cursorPosition,p=this.props.trickplayGenerator(m),v={};if(c||s||(this._trickplayWidth=null),p.image){var b=this.state.scrubberDimensions,f=this.props.playerDimensions||this.state.windowDimensions;if(v.width=this._trickplayWidth,m<=.5){var y=m*b.width-this._trickplayWidth/2;isNaN(y)||(v.left=Math.max(y,f.left-b.left+20))}else{var D=(1-m)*b.width-this._trickplayWidth/2;isNaN(D)||(v.right=Math.max(D,b.right-f.right+20))}}else v.left=l(m);return a.createElement("div",{className:d("trickplay",{"trickplay-visible":c||s,"trickplay-text-only":Boolean(!p.image),"trickplay-text-and-image":Boolean(p.image)}),style:v},p.image&&a.createElement("div",{className:"tp-image"},a.createElement("img",{src:p.image})),a.createElement("div",{className:"tp-text"},p.text))},render:function(){var e=this.props,t=e.buffered,n=e.currentPlayerTime,i=e.currentScrubTime,o=e.duration,r=e.isScrubbing,c=r&&i>-1?i:n,u=Math.floor(o),d=Math.floor(c),p=h.convert(u),v=h.convert(d),b=0,f={},y={},D={},g={};return u&&t&&(f.width=l(t/u)),u&&c>=0&&(b=l(c/u)),(this.state.cursorActive||r)&&(D.display="block",D.left=l(r?n/u:this.state.cursorPosition)),g.left=y.width=b,a.createElement(m,{className:"scrubber-container",commandLoggingName:s.SCRUBBER,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseMove:this.handleMouseMove,onTouchStart:this.handleMouseDown},a.createElement("div",{className:"scrubber-bar"},a.createElement("div",{className:"track",ref:"track"},a.createElement("div",{className:"buffered",style:f}),a.createElement("div",{className:"current-progress",style:y}),a.createElement("div",{className:"play-head",style:D})),this.renderTrickplay(),a.createElement("div",{"aria-label":this.context.getI18nString("player/player","aria.label.player.seek.time"),"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":d,"aria-valuetext":this.context.getI18nString("player/player","aria.value.text.time.scrubber",{current:v,total:p}),className:"scrubber-head",style:g,tabIndex:0})))}});t.exports=p});C.r("player/nfplayer/components/hoc/controlFocus.jsx",function(t,o,e){"use strict";function s(t){return t&&t.displayName?t.displayName:"string"==typeof t?t:""}function c(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{releaseDelay:l},e=u({displayName:"ControlFocus("+s(t)+")",_controlFocusTimeout:void 0,_isMounted:void 0,getInitialState:function(){var t=Object.assign({},h);return Object.assign({},{controlFocusState:t})},resetControlFocus:function(){var t=Object.assign({},h);this.setState({controlFocusState:t})},componentWillUnmount:function(){this._controlFocusTimeout&&clearTimeout(this._controlFocusTimeout),this._isMounted=!1},componentDidMount:function(){this._isMounted=!0},startHover:function(t){var o=Object.assign({},this.state.controlFocusState);o.hovered=t,this.setState({controlFocusState:o})},stopHover:function(t){var o=this.state.controlFocusState;if(o.hovered&&o.hovered===t&&this._isMounted){var e=Object.assign({},o);e.hovered="",this.setState({controlFocusState:e})}},grabFocus:function(t){var o=this.state.controlFocusState;if(!o.holdingFocus){clearTimeout(this._controlFocusTimeout);var e=Object.assign({},o);e.focused=t,this.setState({controlFocusState:e})}},releaseFocus:function(t,o){var e=this;o?this._controlFocusTimeout=setTimeout(function(){e.releaseFocusNow(t)},o):this.releaseFocusNow(t)},releaseFocusNow:function(t){var o=this.state.controlFocusState;if(!o.holdingFocus&&o.focused&&o.focused===t&&(clearTimeout(this._controlFocusTimeout),this._isMounted)){var e=Object.assign({},o);e.focused="",this.setState({controlFocusState:e})}},grabAndHoldFocus:function(t){var o=this.state.controlFocusState;if(!o.holdingFocus){clearTimeout(this._controlFocusTimeout);var e=Object.assign({},o);e.focused=t,e.holdingFocus=!0,this.setState({controlFocusState:e})}},releaseFocusHold:function(t){var o=this.state.controlFocusState;if(o.focused&&o.focused===t){clearTimeout(this._controlFocusTimeout);var e=Object.assign({},o);e.holdingFocus=!1,this.setState({controlFocusState:e})}},render:function(){return i.createElement(t,(0,n.default)({ref:this.props.innerRef},this.props,{controlFocusState:{focused:this.state.controlFocusState.focused,holdingFocus:this.state.controlFocusState.holdingFocus,hovered:this.state.controlFocusState.hovered,releaseDelay:this.props.releaseDelay||o.releaseDelay},controlFocusActions:{grabAndHoldFocus:this.grabAndHoldFocus,grabFocus:this.grabFocus,releaseFocus:this.releaseFocus,releaseFocusHold:this.releaseFocusHold,resetControlFocus:this.resetControlFocus,startHover:this.startHover,stopHover:this.stopHover}}))}});return a(e,t),e}var r=t("babel-runtime/helpers/extends"),n=function(t){return t&&t.__esModule?t:{default:t}}(r),i=t("react"),u=(t("prop-types"),t("create-react-class")),a=t("hoist-non-react-statics"),l=200,h={hovered:"",focused:"",holdingFocus:!1};o.exports=c});C.r("player/nfplayer/components/hoc/withEffects.jsx",function(o,e,t){"use strict";function n(o){return c.get(o,"displayName",o)}function a(o){var e=r({displayName:"LoggedComponent("+n(o)+")",contextTypes:{playerSession:i.instanceOf(p),dispatch:i.func,logger:i.object,models:i.object,staticConfiguration:u},getDefaultProps:function(){return{disableCommandAutoLogging:!1,commandLoggingHotkeys:[],commandLoggingKeys:[g.ENTER,g.SPACE],commandLogClick:!0,commandLogDoubleClick:!1,commandLogKeyDown:!0,shouldEngagePlayer:!0}},allowManualLogging:function(){return!!this.props.disableCommandAutoLogging},attemptToEngagePlayer:function(){this.props.shouldEngagePlayer&&this.context&&this.context.dispatch&&this.context.dispatch({type:E.ENGAGE})},onClickCapture:function(o,e){var t=this.props,n=t.commandLoggingName,a=t.onClickCapture;"boolean"==typeof e&&e||this.logUIEvent(h,n,null),a&&a(o),this.attemptToEngagePlayer()},onKeyDownCapture:c.debounce(function(o){var e=this.props,t=e.commandLoggingHotkeys,n=e.commandLoggingKeys,a=e.commandLoggingName,i=e.onKeyDownCapture,s=o.keyCode,r=Array.isArray(t),c=r?t:Object.keys(t),g=c.indexOf(r?s:s.toString()),l=void 0,E=void 0,m=void 0;if("keypress"===o.type){var p=String(o.key||String.fromCharCode(o.charCode)).toLowerCase();t[p]&&(m=p,l=S,E=t[p].commandLoggingName)}else c&&g>-1?(l=S,E=r?a:t[s].commandLoggingName):n&&n.indexOf(s)>-1&&(l=k,E=a);l&&E&&this.logUIEvent(l,E,m||s,l===S),i&&i(o),this.attemptToEngagePlayer()},b,{leading:!0,trailing:!1}),onDoubleClickCapture:function(o){this.logUIEvent(h,this.props.commandLoggingName,null),this.props.onDoubleClickCapture&&this.props.onDoubleClickCapture(o),this.attemptToEngagePlayer()},logUIEvent:function(o,e,t,n){var a=this.context,i=a.playerSession,s=a.models,r=this.context.staticConfiguration,c=r&&r.loggingPlayerType?r.loggingPlayerType:L,g={name:this.props.commandLoggingName,playerType:c,playerState:i&&i.getState(),xid:i&&i.getXid(),trackId:i&&i.getTrackId(),videoId:i&&i.getVideoId(),inputValue:void 0,isHotKey:void 0};t&&(g.inputValue=t),n&&(g.isHotKey=n),s.truths.data.isCl2LoggingEnabledForDiscoveryPlayback&&this.setUIEventInContext(o,e,t,n),l.emit(y+o,g)},setUIEventInContext:function(o,e,t,n){switch(o){case h:this.triggerContext(C.PointerInput,{confidence:1,pointer:e===D.FULLSCREEN_DOUBLECLICK?"doubleClick":"click"});break;case k:case S:this.triggerContext(C.KeyboardInput,{confidence:1,isHotKey:n,keyCode:t})}var a=void 0;switch(e){case D.AUDIO:case D.TIMED_TEXT:a=this.props.logCommand("ViewAudioSubtitlesSelectorCommand");break;case D.EPISODE_SELECTOR:a=this.props.logCommand("ViewEpisodesSelectorCommand");break;case D.EXIT:a=this.props.logCommand("BackCommand");break;case D.FULL_HIT_ZONE:a=this.props.logFocus("playerHitZone");break;case D.FULLSCREEN_DOUBLECLICK:a=this.props.logCommand(this.props.isFullScreen?"ExitFullscreenCommand":"EnterFullscreenCommand");break;case D.SCRUBBER:var i=this.props.logFocus("trickplayScrubber"),s=this.props.logCommand("SeekCommand");a=function(){i(),s()};break;case D.NEXT_EPISODE:a=this.props.logCommand("PlayNextCommand");break;case D.SEEK_BACK:a=this.props.logFocus("seekBackButton");break;case D.SEEK_FORWARD:a=this.props.logFocus("seekForwardButton");break;case D.RELOAD:a=this.props.logFocus("reloadButton");break;case D.REPORT_A_PROBLEM:a=this.props.logFocus("reportProblemButton");break;case D.SHARE:a=this.props.logFocus("shareButton");break;case D.MDX:a=this.props.logFocus("mdxButton")}setTimeout(function(){a&&a()})},triggerContext:function(o,e){var t=this,n=this.context.logger.addContext(o,e);setTimeout(function(){t.context.logger.removeContext(n)},100)},render:function(){var e=this,t=this.props.disableCommandAutoLogging,n=R.reduce(function(o,t){var n=void 0;return e.props[t]&&(n=O[t],o[n]=e[n]),o},{}),a={logClickEvent:this.onClickCapture,logDoubleClickEvent:this.onDoubleClickCapture,logKeyDownEvent:this.onKeyDownCapture,allowManualLogging:this.allowManualLogging},i=Object.assign(c.omit(this.props,t?T:Object.keys(n).concat(T)),t?a:n);return s.createElement(o,i)}});return m(e,o),d(e)}var i=o("prop-types"),s=o("react"),r=o("create-react-class"),c=o("lodash"),g=o("../../../../common/keyCodes"),l=o("../../../../utils/eventBus"),E=o("../../common/playerEvents"),m=o("hoist-non-react-statics"),p=o("../../utils/playerSession"),u=o("../../types/staticConfiguration"),d=o("../../../../components/presentationTracking/trackingComponents/logPresentationManually"),C=o("shakti-platform/dist/ui/consolidatedLogging/constants/contextTypes"),L="NFPlayer",y="playerui:",h="click",k="key",S="hotkey",D={AUDIO:"audio",TIMED_TEXT:"timedText",EPISODE_SELECTOR:"episodeSelector",EXIT:"backToBrowse",FULLSCREEN:"fullscreen",FULLSCREEN_DOUBLECLICK:"fullscreenDoubleClick",FULL_HIT_ZONE:"fullHitZone",SCRUBBER:"scrubber",MDX:"mdx",NEXT_EPISODE:"nextEpisode",PLAY_PAUSE:"playPause",VOLUME:"volume",SEEK_BACK:"seekBack",SEEK_FORWARD:"seekForward",RELOAD:"reload",REPORT_A_PROBLEM:"reportAProblem",SHARE:"share"},O={commandLogClick:"onClickCapture",commandLogDoubleClick:"onDoubleClickCapture",commandLogKeyDown:"onKeyDownCapture"},R=Object.keys(O),T=["commandLogClick","commandLogDoubleClick","commandLogKeyDown","commandLoggingName","disableCommandAutoLogging","commandLoggingHotkeys","commandLoggingKeys","shouldEngagePlayer","logCommand","logFocus"],b=100;a.AUDIO=D.AUDIO,a.TIMED_TEXT=D.TIMED_TEXT,a.EPISODE_SELECTOR=D.EPISODE_SELECTOR,a.EXIT=D.EXIT,a.FULLSCREEN=D.FULLSCREEN,a.FULLSCREEN_DOUBLECLICK=D.FULLSCREEN_DOUBLECLICK,a.FULL_HIT_ZONE=D.FULL_HIT_ZONE,a.SCRUBBER=D.SCRUBBER,a.MDX=D.MDX,a.NEXT_EPISODE=D.NEXT_EPISODE,a.PLAY_PAUSE=D.PLAY_PAUSE,a.VOLUME=D.VOLUME,a.SEEK_BACK=D.SEEK_BACK,a.SEEK_FORWARD=D.SEEK_FORWARD,a.RELOAD=D.RELOAD,a.REPORT_A_PROBLEM=D.REPORT_A_PROBLEM,a.SHARE=D.SHARE,e.exports=a});C.r("player/nfplayer/requests/metadata.js",function(n,l,e){"use strict";function i(n){return["videos",n,"metadata"]}function t(n,l){return r.call(i(n.id),[g,n.imageFormat,!!n.isSilverlight&&f,!!n.isEncode&&d],[],[]).subscribe(function(n){l(null,n)},function(n){l(n,null)})}function o(n,l,e){var t=n.id,o=n.falcorModel;o?e(null,o.getValueSync(i(t))):e(null,u.get(l,["jsonGraph"].concat(i(t)).concat(["value"]).join("."),null))}function a(n,l){var e=u.assign({},v,{imageFormat:s.getExtensionForOpaqueImage()},n),a=e.falcorModel,r=function(n,e){if(n)return void l(n,null);l(null,e)},f=void 0;if(a)a.getValueSync(i(e.id))?(f=u.noop,o(e,null,r)):f=t(e,function(n,i){if(n)return void l(n,null);o(e,i,r)});else if(e.format===m){var d=c.getMetadataCall(e.id,n.models).subscribe(function(n){l(null,n)},function(n){l(n,null)});f=function(){d.unsubscribe()}}else f=t(e,function(n,i){if(n)return void l(n,null);o(e,i,r)});return f}var u=n("lodash"),r=n("../../../utils/falcorClientAdapter"),c=n("../../../utils/player/playerMetadata"),s=n("../../../common/imageExtension"),f="SILVERLIGHT",d="SILVERLIGHT_ENCODE",m="NOFALCOR",g="JSON",v={falcorModel:null,isSilverlight:!1,isEncode:!1,imageFormat:"jpg",id:-1,models:{}};a.NOFALCOR=m,l.exports=a});C.r("player/nfplayer/types/staticConfiguration.js",function(e,o,i){"use strict";var n=e("prop-types"),t=e("lodash"),s=e("../common/PlayerControlsInteractionType"),a=e("../common/PlayerControlsType"),r=e("../common/episodePreviewType"),l=e("../uiContext"),u=n.bool,c=n.object,d=n.oneOf,p=n.number,y=n.shape,m=n.string;o.exports=y({injectSetBottomInteractiveElementAPI:u,attemptFallback:u,allowForcingPlaybackEngine:u,browserInfo:c,controlsInactivityTimeout:p,controlsInteractionType:d(t.values(s)),controlsType:d(t.values(a)),displayDisconnectedNetworkNotice:u,enableTimedTextRendering:u,episodePreviewType:d(r.list),focusAfterInactivity:u,focusOnMount:u,hasMetadata:u,hasPostplay:u,idleTimeout:p,ignorePausePlayEventsDuringSeeking:u,inactivityTimeout:p,isRTL:u,keyboardNotificationTiming:p,loggingPlayerType:m,performanceLogging:u,playbackSupport:c,preventSVGDefinitionsRendering:u,preLoad:m,respectBookmark:u,rewindOnEnd:u,rebufferingSignalDelay:p,seekBackTime:p,seekForwardTime:p,setContainerSizingClassees:u,shouldAutoCast:u,shouldFetchAdvisories:u,shouldCloseCadmiumPlayerOnUnmount:u,shouldEmitPlayerViewClosingAction:u,shouldPauseWhenScrubbing:u,shouldTrackViewportPosition:u,shouldShowRebufferingSpinner:u,showControlsOnPlayStart:u,showDurationOnlyInMinutes:u,showKeyboardNotifications:u,showTitleLogoEvidence:u,skipCreditsEnabled:u,skipCreditsDisplayDuration:p,smartSubtitles:u,uiContext:d(t.values(l)),useRequestAnimationFrameFlush:u,useVideoElementDimensions:u,useVideoWidthForDimensions:u,views:y({playbackBlocked:u}),waitForCadmiumPlayerInstance:u})});C.r("player/nfplayer/uiContext.js",function(E,e,M){"use strict";e.exports={DEFAULT:"default",MEMBER_WATCH_PAGE:"memberWatchPage",VIDEO_MERCH:"videoMerch",BIG_ROW:"bigRow",MOTION_BILLBOARD:"motionBillboard",NONMEMBER_TRAILER:"nmtrailer",NONMEMBER_HOME_PAGE:"nmhomepage",NONMEMBER_CONTENT_SAMPLING:"nmsampling",ORIGINALS_ROW:"netflixOriginals",EMBEDDED:"embedded"}});C.r("player/nfplayer/utils/cadmiumErrors.js",function(r,s,t){"use strict";var a=r("ramda/src/pathOr"),i=r("ramda/src/compose"),o=r("ramda/src/contains"),e=function(r){return function(s){return i(o(s),a([],r))}},n=e(["messageIdList"])("pause_timeout"),u=e(["display","code"]),c=u("7111-1957"),m=u("-5006");s.exports={isTimeoutError:n,isSignoutError:c,isUpsellError:m}});C.r("player/nfplayer/utils/getCadmiumCreationParameters.js",function(e,a,r){"use strict";function t(e){return-1===[m.VIDEO_MERCH_BOB_HORIZONTAL,m.BILLBOARD_CACHED,m.BILLBOARD_STANDARD,m.BILLBOARD_BIG_ROW,m.TRAILER].indexOf(e)}function i(e,a,r,i){var o={},s={},l=void 0;if(a.bookmarkByMovieId||(a.bookmarkByMovieId={}),e.preferredTextLocale&&(o.preferredTextLocale=e.preferredTextLocale),e.preferredAudioLocale&&(o.preferredAudioLocale=e.preferredAudioLocale),e.deferBookmark&&(a.bookmarkByMovieId[e.videoId]=null),!1===e.respectBookmark&&(a.bookmarkByMovieId[e.videoId]=0),e.manifest&&(a.enableTrickPlay=!1),!e.deferBookmark&&"number"==typeof e.bookmarkOverride&&e.bookmarkOverride>=0&&(a.bookmarkByMovieId[e.videoId]=e.bookmarkOverride),e.playContext&&(e.playContext=e.playContext.set("trackId",e.trackId),o.uiplaycontext=d(e.playContext)),a.assistiveAudioPreferred&&(s.assistiveAudioPreferred=!0),i){var n=i.getAPI().playerApp.getPlayStartTime(r,e.videoId);if(n){l=n;i.getActionCreators().unsetStartTime({videoId:e.videoId,sessionId:r})}}o.isUIAutoPlay=!!e.isImplicitAutoPlay,s.pinCapableClient=!(!a.pinConfig||!a.pinConfig.isEnabled),o.supportsWatermark=!0,o.supportsPreReleasePin=!0,o.preferUnletterboxed=!!e.preferUnletterboxedContent;var m=e.manifest;return i&&m&&(m.clientGenesis=i.getAPI().playerApp.getManifestGenesisTimestamp()),{autoPlay:!!e.autoPlay,initParams:a,videoId:e.videoId,shouldCloseAllPlayers:"boolean"==typeof e.shouldCloseAllPlayers?e.shouldCloseAllPlayers:t(e.uiLabel),creationParams:{isBranching:!!e.isBranching,loadImmediately:!!e.loadImmediately,trackingId:e.trackId,uiLabel:e.uiLabel,manifest:m,sessionParams:o,authParams:s,uiPlayStartTime:l,disableTrackStickiness:!!e.disableTrackStickiness},playerState:e.playerState||{},showTimedText:!!e.showTimedText,isImplicitAutoPlay:!!e.isImplicitAutoPlay}}function o(e){var a={};return e.sl&&(a.preferredTextLocale=e.sl),e.al&&(a.preferredAudioLocale=e.al),a}function s(e){return Object.assign({},u.omit(e,["manifest"]))}function l(e){return Object.assign({},u.omit(e,["creationParams.manifest"]))}var n=e("../../entities/playContext"),d=n.toPlayContextData,m=e("../uiLabel"),u=e("lodash");a.exports={getCadmiumCreationParameters:i,getSubDubPreferences:o,cleanCreationParametersConfig:s,cleanCreationConfig:l}});C.r("player/nfplayer/utils/matchMedia.js",function(i,a,t){"use strict";var n=void 0,d=void 0;a.exports={isMobile:function(){return void 0===n&&(n=window.matchMedia("(min-width: 330px) and (max-width: 640px) and (orientation: portrait)").matches||window.matchMedia("(min-height: 330px) and (max-height: 640px) and (orientation: landscape)").matches),n},isTablet:function(){return void 0===d&&(d=window.matchMedia("(min-width: 640px) and (max-width:1100px) and (orientation: portrait)").matches||window.matchMedia("(min-height: 640px) and (max-height:1100px) and (orientation: landscape)").matches),d}}});C.r("player/nfplayer/utils/playerSession.js",function(e,t,i){"use strict";function a(){return{volume:1,muted:!1}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.activeView,i=e.id,a=e.autoPlay,s=void 0===a||a,r=e.bindBeforeUnloadEvent,n=void 0!==r&&r,o=e.bindWatermarkEvent,l=void 0!==o&&o,d=e.clearPostplayChain,h=void 0===d||d,u=e.fetchMetadata,c=void 0===u||u,_=e.getExternalVideoId,y=e.getExternalUILabel,v=e.getExternalTrackId,p=e.handleExitPlayer,g=(e.isExitingPlayer,e.isImplicitAutoPlay),f=void 0!==g&&g,m=e.onVideoMetadata,P=e.pollDynamicMessages,b=void 0!==P&&P,A=e.render,E=e.playerApp,I=e.discoveryApp,C=e.uiLabel,k=void 0===C?w.STANDARD:C,L=e.views,M=void 0===L?{}:L;this._activeView=t,this._autoPlay=s,this._setBindBeforeUnloadEvent(n),this._setBindWatermarkEvent(l),this._clearPostplayChain=h,this._fetchMetadata=c,this._getExternalVideoId=_,this._getExternalUILabel=y,this._getExternalTrackId=v,this._handleExitPlayer=p,this._id=i||B(),this._isExitingPlayer=!1,this._isImplicitAutoPlay=f,this._onAfterVideoMetadata=m,this._pollDynamicMessages=b,this._render=A,this._uiLabel=k,this._views=M,this._loggedInteractiveStatus=!1,this._playerApp=E,this._discoveryApp=I,this._videoPlayerClosingObservable=null,this._videoPlayerCreateObservable=new V,this._player=null,this.setFatalError=this.setFatalError.bind(this),this._setActiveViewAsPlayback=this._setActiveViewAsPlayback.bind(this),this._setActiveViewAsLoading=this._setActiveViewAsLoading.bind(this),this._setActiveViewAsUpsell=this._setActiveViewAsUpsell.bind(this),this._setActiveViewAsError=this._setActiveViewAsError.bind(this),this._setActiveViewAsUnloading=this._setActiveViewAsUnloading.bind(this),this._beforeUnloadHandler=this._beforeUnloadHandler.bind(this),this._removePlayerEventListeners=this._removePlayerEventListeners.bind(this),this._onVideoMetadata=this._onVideoMetadata.bind(this),this._onPlayerClosed=this._onPlayerClosed.bind(this),this._setWatermarkState=this._setWatermarkState.bind(this)}function r(e,t){return t.reduce(function(t,i){return t||(null===i?null===e:(void 0===e?"undefined":(0,f.default)(e))===i)},!1)}function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=m.get(e,"preRoll.items[0].actions[0].trackId");if(t)return t;var i=m.get(e,"preplay.trackId");if(i)return i;var a=e?e.trackingId:void 0;return a||0}function o(e){return!m.get(e,"pinConfig.isAdultVerified",!0)}function l(e){if(K(e,null))return!0;var t=m.get(e,"pinConfig.isEnabled",!1),i=b.isExpired(b.SESSION_TYPES.PIN);return t&&i}function d(e,t){var i=m.get(e,"pinConfig.pinResetOnNonPinContent",!1);!m.result(t,"getPinRequired",!1)&&i&&b.resetPINState()}function h(e,t){return(!o(e)||!t.requiresAdultVerification())&&!(K(e,t)||l(e)&&t.getPinRequired())}function u(e,t){return m.assign(m.omit(e,["tctx"]),t)}function c(e,t){return t?h(e,t):!(o(e)||l(e))}function _(e,t){return!(!t||Q(e,t))||(!(!t||G(e,t))||!o(e)&&(!l(e)&&!K(e,t)))}function y(e,t,i){var a=e.maxConsecutiveAutoplays||Y,s=e.autoplayInterrupterTimestamp||H;return null!==t&&void 0!==t&&!isNaN(t)&&(i>=a&&t>=s)}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.muted,i=e.volume,s={};if("boolean"==typeof t&&(s.muted=t),"number"!=typeof i||isNaN(i)||(s.volume=i),I)return m.assign(a(),s);var r=b.getSessionData(b.SESSION_TYPES.VOLUME);return r?m.assign({volume:r.percentage&&"number"==typeof r.percentage&&!isNaN(r.percentage)?r.percentage:1,muted:"boolean"==typeof r.muted&&r.muted},s):m.assign(a(),s)}function p(){return!I&&void 0!==j&&j}var g=e("babel-runtime/helpers/typeof"),f=function(e){return e&&e.__esModule?e:{default:e}}(g),m=e("lodash"),P=e("ramda/src/pathOr"),b=e("../../session/sessionManager"),A=e("../../domains/videoPlayer/videoSession"),E=e("./getCadmiumCreationParameters"),I=e("shakti-platform/dist/ui/utils/inNode"),V=e("../../../utils/rx/shakti-rx").RxSubject,C=e("../../../utils/rx/shakti-rx").RxObservable,k=e("../../../utils/rx/shakti-rx").RxSchedulerAsap,w=e("../uiLabel"),L=e("../common/nfplayerInterface"),M=e("../utils/playerConfig"),x=e("../common/Metadata"),R=e("../../../utils/clientCounter"),S=e("../common/playerCounters"),O=e("../../../utils/dynamicMessages/dynamicMessages"),U=e("../../../utils/eventBus"),T=e("../utils/withRetries"),D=e("../common/playerErrors"),N=e("../../../utils/consolidatedLogging/loggingEventRegistry"),B=e("tiny-uuid"),q=e("./cadmiumErrors"),W=e("../../../utils/Routes"),F=e("shakti-platform/dist/ui/routing/History"),Y=3,H=120,j=!1,K=function(e,t){if(p())return!1;var i=m.get(e,"playableId",!1),a=m.get(t,"_video.id",i);return!!a&&(!!(e&&e.preReleasePinRequiredById&&e.preReleasePinRequiredById[a])||!(!t||!t.getPreReleasePinRequired()))},X=function(e){I||(j=e)};s.LOADING="loading",s.PLAYBACK="playback",s.POSTPLAY="postplay",s.ERROR="error",s.UNLOADING="unloading",s.UPSELL="upsell",s.prototype={updateOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.activeView,i=e.autoPlay,a=e.bindBeforeUnloadEvent,s=e.bindWatermarkEvent,n=e.clearPostplayChain,o=e.fetchMetadata,l=e.getExternalVideoId,d=e.getExternalUILabel,h=e.getExternalTrackId,u=e.handleExitPlayer,c=e.isExitingPlayer,_=e.isImplicitAutoPlay,y=e.onVideoMetadata,v=e.pollDynamicMessages,p=e.playerApp,g=e.discoveryApp,f=e.render,P=e.uiLabel,b=e.views,A=void 0===b?{}:b;return this._activeView=t||this._activeView,this._autoPlay=r(i,["boolean"])?i:this._autoPlay,r(a,["boolean"])&&this._setBindBeforeUnloadEvent(a),r(s,["boolean"])&&this._setBindWatermarkEvent(s),this._clearPostplayChain=r(n,["boolean"])?n:this._clearPostplayChain,this._fetchMetadata=r(o,["boolean"])?o:this._fetchMetadata,this._handleExitPlayer=r(u,["function",null])?u:this._handleExitPlayer,this._getExternalUILabel=r(d,["function",null])?d:this._getExternalUILabel,this._getExternalTrackId=r(h,["function",null])?h:this._getExternalTrackId,this._getExternalVideoId=r(l,["function",null])?l:this._getExternalVideoId,this._isExitingPlayer=r(c,["boolean"])?c:this._isExitingPlayer,this._isImplicitAutoPlay=r(_,["boolean"])?_:this._isImplicitAutoPlay,this._onAfterVideoMetadata=r(y,["function",null])?y:this._onAfterVideoMetadata,this._pollDynamicMessages=r(v,["boolean"])?v:this._pollDynamicMessages,this._render=r(f,["function",null])?f:this._render,this._playerApp=r(p,["object",null])?p:this._playerApp,this._playerApp&&"string"==typeof P&&this._uiLabel!==P&&this._playerApp.getActionCreators().receivePlaybackStateDiff({eventType:"$custom",sessionId:this.getId(),stateDiff:{uiLabel:P}}),this._discoveryApp=r(g,["object",null])?g:this._discoveryApp,this._uiLabel=P||this._uiLabel,this._views=m.assign(this._views,A),this},_setBindBeforeUnloadEvent:function(e){I||"boolean"!=typeof e||(this._bindBeforeUnloadEvent&&!e?window.removeEventListener("beforeunload",this._beforeUnloadHandler):!this._bindBeforeUnloadEvent&&e&&window.addEventListener("beforeunload",this._beforeUnloadHandler),this._bindBeforeUnloadEvent=e)},_setBindWatermarkEvent:function(e){"boolean"==typeof e&&(this._bindWatermarkEvent=e)},render:function(){return this._render&&this._render(),this},getVideoMetadata:function(){return{activeVideo:this._activeVideoMetadata,metadata:this._videoMetadata}},getView:function(){return{Component:this._views[this._activeView],type:this._activeView,error:this._error,playbackTimedOut:this._playbackTimedOut,player:this._player}},play:function(){return this._player&&this._player.play(),this},engage:function(){return this._player&&this._player.engage(),this},getObservables:function(){if(this._videoPlayerCreateObservable)return this._videoPlayerCreateObservable.map(function(e){return e.observables});var e=C.empty();return C.of({loaded:e,loadedTracks:e,loadedMetadata:e})},getPlayerInterface:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._interface?this._interface:(this._interface=new L({getUILabel:this._getExternalUILabel||this.getUILabel}),this._interface)},getUILabel:function(){return this._uiLabel},setFatalError:function(e){if(!this._error){this._setActiveViewAsError(e),R.increment(S.AKIRA_NFPLAYER_INIT_ERROR,e&&e.code?{code:e.code}:null),this.setInteractiveStatus({interactiveReason:"failed"});var t={config:M.getConfig(),code:e&&e.code,message:e&&e.message,stack:e&&e.stack};O.makeRequest&&(this._dynamicMessageRequestDisposable=O.makeRequest(O.context.applicationError,O.sources.playback)),this._discoveryApp&&this._discoveryApp.getActionCreators().expireApp(),U.emit(N.PLAYBACK_INIT_ERROR,t)}},updateMetadataActiveVideo:function(e){this._fetchMetadata&&this._videoMetadata&&this._videoMetadata.getVideo(e)&&(this._activeVideoMetadata=this._videoMetadata.getVideo(e))},clearMetadataForVideoId:function(e){return(!e||this._videoMetadata&&!this._videoMetadata.getVideo(e))&&(this._videoMetadata=null,this._activeVideoMetadata=null),this},createCadmiumPlayer:function(e,t,i,a){var s=this;return this._fetchMetadata&&(this._videoMetadata&&this._videoMetadata.getVideo(e.videoId)?this._activeVideoMetadata=this._videoMetadata.getVideo(e.videoId):(this._videoMetadata=null,this._activeVideoMetadata=null,this._metadataRequestDisposable=x.getMetadata({id:e.videoId,models:e.models},function(i,r){s._onVideoMetadata(i,r,t,e,a)}))),!c(t,this._activeVideoMetadata)&&e.restartPlayer?(this._restartPlaybackAttempted=!0,this._setActiveViewAsLoading(),C.empty()):!e.loadImmediately&&!c(t,this._activeVideoMetadata)||c(t,this._activeVideoMetadata)&&this._creationConfig&&e.videoId===this._creationConfig.videoId&&!e.restartPlayer&&!this._restartPlaybackAttempted&&!this._playbackTimedOut?C.empty():(this._playbackTimedOut=!1,this._restartPlaybackAttempted=!1,this._creatingPlayer=!0,this._creationConfig=e,this._initParams=t,this._setActiveViewAsLoading(),this._pollDynamicMessages&&O.poll&&O.poll(O.pollingTypes.PLAYBACK).subscribe(),this._creationObservable?this._creationObservable:(this._creationObservable=this.closeCadmiumPlayer({dataToLog:{reason:"PlayerSession::createCadmiumPlayer"}}).flatMap(function(){return s._player?C.of(s._player):(e.playerState=v(),A.createPlayerSafely(E.getCadmiumCreationParameters(Object.assign(e,{autoPlay:s.shouldAutoPlay()}),t,s.getId(),i),s.getId(),i))}).do(function(e){s._creationObservable=null,s._creatingPlayer=!1,s.setCadmiumPlayerInstance(e),s._player.getLoaded()||s._player.load(),s._addPlayerEventListeners(),s._videoPlayerCreateObservable.next(e)}).publishReplay().refCount().observeOn(k),this._creationObservable))},_addPlayerEventListeners:function(){return this._player?(this._removePlayerEventListeners(),this._player.addEventListener("loaded",this._setActiveViewAsPlayback),this._player.addEventListener("error",this._setActiveViewAsError),this._player.addEventListener("closed",this._onPlayerClosed),this._bindWatermarkEvent&&this._player.addEventListener("watermark",this._setWatermarkState),this):this},_removePlayerEventListeners:function(){return this._player?(this._player.removeEventListener("loaded",this._setActiveViewAsPlayback),this._player.removeEventListener("error",this._setActiveViewAsError),this._player.removeEventListener("closed",this._onPlayerClosed),this._bindWatermarkEvent&&this._player.removeEventListener("watermark",this._setWatermarkState),this):this},_onPlayerClosed:function(){this._watermarkState=void 0,this._removePlayerEventListeners()},_setWatermarkState:function(e){return this._watermarkState=m.omit(e,["target"]),this._render&&this._render(),this},getWatermarkState:function(){return this._watermarkState},_onVideoMetadata:function(e,t,i,a,s){var r=e&&e instanceof T.RetryError&&!this.hasVideoPlayerForId(a.videoId)&&!c(i);if(!e&&t)this._videoMetadata=t,this._activeVideoMetadata=t.getCurrentVideo();else if(r)return void this.setFatalError(new D.PlayerUICreationError);if(this._onAfterVideoMetadata&&this._onAfterVideoMetadata(e,t,a,s),!e&&t&&K(this._initParams,this._activeVideoMetadata))return void this._setActiveViewAsLoading();this._render&&this._render()},_beforeUnloadHandler:function(){this._setActiveViewAsUnloading()},_setActiveViewAsUnloading:function(e){return this._activeView="unloading",this._render&&this._render(e),this},_setActiveViewAsLoading:function(){return this._activeView="loading",this._render&&this._render(),this},_setActiveViewAsUpsell:function(){return this._activeView="upsell",this._render&&this._render(),this},_setActiveViewAsPlayback:function(){return this.shouldAutoPlay()?this._player&&!this._player.getLoaded()?(this._setActiveViewAsLoading(),this):(this._activeView="playback",this._render&&this._render(),this):this},_setActiveViewAsError:function(e){return q.isTimeoutError(e)?(this._playbackTimedOut=!0,this):(this._error=e,this._removePlayerEventListeners(),m.get(M.getFreshInitParams(),"playerUpsellEnabled",!0)&&q.isUpsellError(e)?(this._setActiveViewAsUpsell(),this):(this._activeView="error",this._render&&this._render(),this))},hasPlayerInterface:function(){return!!this._interface},hasVideoPlayerForId:function(e){return this._player&&this._creationConfig&&this._creationConfig.videoId===e},shouldClearPostplayChain:function(){return this._clearPostplayChain},destroyPlayerInterface:function(){this._interface&&this._interface.destroy(),this._interface=null},_prepareToClose:function(){this._error=null,this._dynamicMessageRequestDisposable&&(this._dynamicMessageRequestDisposable.unsubscribe(),this._dynamicMessageRequestDisposable=null),this.resetInteractiveStatus(),this._creatingPlayer||(this._creationObservable=null,this._videoMetadata=null,this._activeVideoMetadata=null,this._creationConfig=null,this._initParams=null,this._pollDynamicMessages&&O.stop&&O.stop(),this._metadataRequestDisposable&&this._metadataRequestDisposable())},_afterCloseCompleted:function(){this._player=null,this.destroyPlayerInterface()},closeCadmiumPlayer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dataToLog;if(this._videoPlayerClosingObservable)return this._videoPlayerClosingObservable;var i=this;return this._prepareToClose(),this._videoPlayerClosingObservable=C.create(function(e){function a(){i._afterCloseCompleted(),e.next(),e.complete(),i._videoPlayerClosingObservable=null}return i._player&&i._player.close?i._player.close(a,{dataToLog:t}):a(),m.noop}).publishReplay().refCount().observeOn(k),X(!1),this._videoPlayerClosingObservable},setInteractiveStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._loggedInteractiveStatus)return this;if(this._playerApp){this._playerApp.getActionCreators().logPlayRequestComplete({reason:e.interactiveReason,xid:this.getXid(),videoId:this.getVideoId(),supplementalVideoId:e.supplementalVideoId,trackId:this.getTrackId(),sessionId:this.getId()})}return this._loggedInteractiveStatus=!0,this},resetInteractiveStatus:function(){return this._loggedInteractiveStatus=!1,this},endPlaybackSession:function(){return U.emit(N.PLAYBACK_END),this},exitPlayer:function(){function e(){i._handleExitPlayer&&i._handleExitPlayer()||(s?window.location=P(W.browse.makePath(),["backToBrowsingUrl"],r):F.back())}var t=this;if(!this.isExitingPlayer()){this._isExitingPlayer=!0;var i=this,a=this.getCadmiumPlayerInstance(),s=0===F.index,r=i._initParams;a&&s?this._setActiveViewAsUnloading(function(){t.closeCadmiumPlayer({dataToLog:{reason:"PlayerSession::exitPlayer"}}).do(e).subscribe(m.noop,function(e){})}):e()}},isExitingPlayer:function(){return this._isExitingPlayer},isImplicitAutoPlay:function(){return this._isImplicitAutoPlay},shouldAutoPlay:function(){return this._autoPlay},getId:function(){return this._id},getState:function(){return{id:this.getId(),view:this._activeView,trackId:this.getTrackId(),uiLabel:this._getExternalUILabel?this._getExternalUILabel():this.getUILabel(),hasPlayer:!!this._player,isPlayerLoading:!(!this._player||!this._player.isLoading()),isPlayerLoaded:!(!this._player||!this._player.getLoaded()),isExitingPlayer:!!this.isExitingPlayer(),isAutoPlay:!!this.shouldAutoPlay(),playbackTimedOut:!!this._playbackTimedOut,creationConfig:E.cleanCreationParametersConfig(this._creationConfig),hasError:!!this._error,errorCode:m.get(this._error,"display.code","none"),shouldPollDynamicMessages:!!this._pollDynamicMessages}},getXid:function(){return this._player?this._player.getXid():void 0},getVideoId:function(){return this._creationConfig&&this._creationConfig.videoId||this._getExternalVideoId&&this._getExternalVideoId()||this._initParams&&this._initParams.playableId},getTrackId:function(e){var t=this._getExternalTrackId&&this._getExternalTrackId(),i=this._creationConfig&&this._creationConfig.trackId;return Number(t||i||n(e||this._initParams))},getCadmiumPlayerInstance:function(){return this._player},setCadmiumPlayerInstance:function(e){this._player=e,this.getPlayerInterface()._setPlayerClassInstance(this._player)},setCreationConfig:function(e){this._creationConfig=e}};var G=function(e,t){var i=m.result(t,"getPinRequired",!1),a=m.get(e,"pinConfig.isEnabled",!1),s=b.isExpired(b.SESSION_TYPES.PIN);return i&&a&&s},Q=function(e,t){var i=m.get(e,"pinConfig.isAdultVerified",!0),a=m.result(t,"requiresAdultVerification",!1);return!i&&a};s.canCreatePlayer=c,s.userRequiresAdultVerification=o,s.userRequiresPinVerification=l,s.allowPlaybackForActiveVideo=h,s.shouldShowPinEntry=G,s.shouldShowAgeVerificationPrompt=Q,s.considerPinReset=d,s.generatePlayNextQuery=u,s.shouldAutoPlay=_,s.shouldShowAutoPlayInterrupter=y,s.videoRequiresPreReleasePin=K,s.getVolumeSessionState=v,s.setPreReleasePinEnteredCorrectly=X,s.getPreReleasePinEnteredCorrectly=p,s.getTrackId=n,t.exports=s});C.r("player/nfplayer/utils/withRetries.js",function(e,t,n){"use strict";function r(e){this.message=e||"Maximum number of retries reached."}function o(e,t,n){var o=i.assign({},u,e),s=o.count,a=void 0,c=void 0,f=function(e,i){if(e)return s--,s?void(a=setTimeout(function(){c=t(f)},o.delay)):void n(0===s?new r:e,null);n(null,i)};return c=t(f),function(){c&&"function"==typeof c&&c(),a&&clearTimeout(a)}}var i=e("lodash"),u={count:3,delay:3e3};r.prototype=new Error,o.RetryError=r,t.exports=o});C.r("player/session/sessionManager.js",function(t,n,e){"use strict";function a(){return window.netflix.clientNotifications}function i(){return window.netflix.session}function o(){i().keepAlive()}function s(t){}function r(t){var n=S(t);return i().newSession()||!n}function u(){y&&y.next()}function c(t,n){a().notify(t,n)}function l(t){N||i()&&a()&&(N=!0,m=t,y=new w,P=new w,b.interval(O).takeUntil(P).takeUntil(y).filter(function(){return m&&!m.getPaused()}).do(o).subscribe(I.noop,s,I.noop))}function f(){var t=localStorage.getItem(h);if(t)try{t=JSON.parse(t)}catch(n){t=null}return t}function S(t){return v(t).currentSessionData}function d(t,n){var e=v(t),a=e.id,i=e.localStorageData,o=e.sessionData;x(i),o.timestamp=Date.now(),o.data=o.data||{},o.data[t]=n,i[a]=o,localStorage.setItem(h,JSON.stringify(i))}function v(t){var n=g(),e=f()||{},a=e[n]||{};return{id:n,localStorageData:e,sessionData:a,currentSessionData:a.data&&a.data[t]}}function x(t){var n=g();return I.forOwn(t,function(e){e!==n&&delete t[e]}),t}function g(){var t=a().getCurrentSession("userSession");return t&&t.sessionId}function p(t,n){N&&(!t&&n||(u(),P&&P.next(),m=null,y=null,P=null,N=!1))}function D(){try{d(k.PIN,!1)}catch(t){}}var b=t("../../utils/rx/shakti-rx").RxObservable,w=t("../../utils/rx/shakti-rx").RxSubject,I=t("lodash"),N=void 0,O=6e5,h="NFPlaybackSession",k={PIN:"pin",AUDIO:"audio",SUBTITLE:"subtitle",VOLUME:"volume"},y=void 0,P=void 0,m=void 0;n.exports={startHeartbeat:l,stopHeartbeat:p,heartBeat:o,isExpired:r,setSessionData:d,getSessionData:S,endSession:u,log:c,SESSION_TYPES:k,resetPINState:D}});C.r("utils/clientCounter.js",function(t,e,n){"use strict";function u(t,e){var n=o.getModelData("userInfo").authURL;return n?(e=e||{},r.request({method:"post",url:a.clientCounter.makePath({name:t}),data:{authURL:n,tags:e},authorize:!0}).subscribe()):null}var r=t("./XHR"),a=t("./Routes"),o=t("../common/appContext");e.exports={increment:u}});C.r("utils/consolidatedLogging/loggingEventRegistry.js",function(e,E,a){"use strict";var r=function(e){var E=new Error(e);throw E.name="LoggingEventRegistryError",E},A={FEATURE_DETECTION:"playback:featureDetection",MANAGE_PROFILES:"profilesGate:manageProfiles",MILESTONES:"playback:milestones",PERFORMANCE_END:"playback:performanceEnd",PERFORMANCE_START:"playback:performanceStart",PERFORMANCE_METRICS_UPDATED:"playback:performanceMetricsUpdated",PLAYBACK_END:"playback:end",PLAYBACK_ENHANCED_FEATURES_DETECT_END:"playback:EnhancedFeaturesDetectEnd",PLAYBACK_ENHANCED_FEATURES_DETECT_START:"playback:EnhancedFeaturesDetectStart",PLAYBACK_INIT_ERROR:"playback:initError",PLAYBACK_SEAMLESS:"playback:seamless",PLAYBACK_SEAMLESS_VIDEO_ADDED_START:"playback:seamlessVideoAddedStart",PLAYBACK_SEAMLESS_VIDEO_ADDED_END:"playback:seamlessVideoAddedEnd",PLAYBACK_PLAY_NEXT_SEAMLESS_VIDEO_START:"playback:playNextSeamlessVideoStart",PLAYBACK_PLAY_NEXT_SEAMLESS_VIDEO_END:"playback:playNextSeamlessVideoEnd",PLAYBACK_SHOW_SEAMLESS_EXPERIENCE:"playback:showSeamlessExperience",PLAYBACK_START:"playback:start",PLAYER_UI_AUTOPLAY:"playerui:autoplay",PLAYER_UI_CLICK:"playerui:click",PLAYER_UI_HOTKEY:"playerui:hotkey",PLAYER_UI_KEY:"playerui:key",PLAYER_UI_SHOW:"playerui:show",PLAYER_CLOSE:"player:close",PLAYER_CREATE:"player:create",PLAYER_INTERACTION:"player:interaction",PLAYER_NO_VIDEO_ELEMENT:"player:noVideoElement",PROFILE_DEFOCUSED:"profilesGate:profileDefocused",PROFILE_FOCUSED:"profilesGate:profileFocused",PROFILES_LOADED:"profilesGate:loaded",PROFILES_PLAY_TITLE:"profilesGate:playTitle",PROFILES_SWITCH:"profilesGate:switch",PROFILES_VIDEO_PREPARE:"profilesGate:videoPrepare",REQUEST_PLAY:"playback:requestPlay",REPORT_A_PROBLEM_ERROR:"playback:reportAProblemError"};E.exports=function(){var e=Object.keys(A).reduce(function(e,E){return e[E]&&r("Duplicate event for key '"+E+"'. Existing value '"+e[E]+"'"),e[E]=A[E],e},{});return Object.freeze(e)}()});C.r("utils/player/getCadmiumBrowserName.js",function(r,i,e){"use strict";i.exports=function(r){var i=void 0;return r.isChrome||r.isChromeOS?i="chrome":r.isSafari?i="safari":r.isFirefox?i="firefox":r.isIE?i="ie":r.isOpera&&(i="opera"),i}});C.r("utils/dynamicMessages/identifiers.js",function(e,i,t){"use strict";var s=e("lodash"),r=e("../eventBus"),n=e("../../common/appContext"),o=e("../../utils/player/getCadmiumBrowserName"),a={config:{},resourceName:"identifiers",onMessage:function(e,i,t){e.updateApplication&&(t.expireApp(),r.emit("identifiers:update",e))},getRequestData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.isProfilesGate;return e.isFirstPoll&&i?null:{cadmiumIdentifier:s.result(window,"netflix.player.getVersion",null),browser:o(n.getModelData("browserInfo"))}}};i.exports=a});C.r("utils/smallAssetLogging.js",function(e,n,o){"use strict";function i(){var e=t.filter(window.performance.getEntries(),function(e){var n=t.get(e,"name",""),o=n.match(f)&&!c[n];return o&&(c[e.name]=!0),o}).map(function(e){var n=void 0,o=void 0,i={};for(n in e)"function"!=typeof(o=e[n])&&(i[n]=o);return i});return"function"==typeof window.performance.clearResourceTimings?window.performance.clearResourceTimings():"function"==typeof window.performance.webkitClearResourceTimings&&window.performance.webkitClearResourceTimings(),e}var t=e("lodash"),r=e("./eventBus"),a=e("../common/appContext"),s="undefined"!=typeof window&&"function"==typeof t.get(window,"performance.getEntries"),c={},f=/^.*\.(jpg|gif|png|webp|svg)$/i;n.exports={logMetrics:function(){var e=void 0,n=void 0;if(s&&t.get(a.getModelData("apm"),"enabled")){n={reason:"success",location:null,size:0,entries:null};try{n.location=window.location.href,e=i()}catch(e){n.reason="failure"}e&&e.length&&(n.size=e.length,n.entries=e,r.emit("smallAssets:loaded",n))}}}});C.r("utils/dynamicMessages/dynamicMessages.js",function(e,s,r){"use strict";var t=e("shakti-platform/dist/ui/ShaktiProperties"),n=e("../../utils/rx/shakti-rx").RxObservable,i=e("../../utils/rx/shakti-rx").RxSubject,o=e("lodash"),a=e("./identifiers"),l=e("../smallAssetLogging"),u=["dynamicMessages"],c={config:{},pollingTypes:{},_initialized:!1,_isPolling:null,_dispose:new i,_requestErrorCount:0,_applicationUpdate:!1,context:{applicationError:"APPLICATION_ERROR"},sources:{playback:"playback",profilesGate:"profilesgate"},poll:function(e){if(!c.config.enabled)return n.empty();if(c._isPolling){if(c._isPolling===e)return c._messages;c.stop(),c._isPolling=e}else c._isPolling=e;switch(e){case c.pollingTypes.PLAYBACK:case c.pollingTypes.PROFILESGATE:return c._startPolling(e);default:return n.empty()}},_startPolling:function(e){function s(){if(l&&l.logMetrics)try{l.logMetrics()}catch(e){}}var r=e.leadingEdge,t=e.interval,i=e.name;return c._messages=n.timer(r?0:t,t).takeUntil(c._dispose).flatMap(function(e){return c._createObservableXHR(!1,null,i,{isProfilesGate:i===c.sources.profilesGate,isFirstPoll:0===e})}).onErrorResumeNext(n.of(null)).filter(function(e){return e&&e.status&&"success"===e.status}).do(c._sendResourceMessages).do(s),setTimeout(s,3e3),c._messages},makeRequest:function(e,s,r){return c._createObservableXHR(!0,e,s).onErrorResumeNext(n.of(null)).filter(function(e){return e&&e.status&&"success"===e.status}).do(c._sendResourceMessages).do(r||o.noop).subscribe(o.noop,o.noop,o.noop)},_createObservableXHR:function(e,s,r,t){return e=!!o.isBoolean(e)&&e,s=o.isString(s)?s:null,n.create(function(i){var a=window.pathEvaluator;return a?(a.call(u,[JSON.stringify({source:r,resources:c._getResourcesRequestData(t)})]).subscribe(function(){c._requestErrorCount>0&&(c._requestErrorCount=0);var r=a.getValueSync(u)||{};(e||null!==c._isPolling)&&(s&&(r._context=s),i.next(r))},c._requestErrorHandler,function(){i.complete()}),o.noop):n.empty()})},_sendResourceMessages:function(e){var s=e._context;o.forEach(c._isPolling.resources,function(r){var t=e[r.resourceName];t&&t.messages&&t.messages.length&&(o.forEach(t.messages,function(e){r.onMessage(e,s,c)}),o.isFunction(r.onMessages)&&r.onMessages(t.messages))})},_requestErrorHandler:function(e){e&&404===e.xhrStatus&&(c._requestErrorCount+=1),c._requestErrorCount>=c.config.requestErrorCap&&(c.stop(),c.setApplicationRefreshState(!0))},_getResourcesRequestData:function(e){var s={};return c._isPolling?(o.forEach(c._isPolling.resources,function(r){var t=r.getRequestData(e);t&&(s[r.resourceName]=t)}),s):JSON.stringify(s)},stop:function(){c._dispose&&(c._dispose.next(),c._dispose=new i),c._isPolling=null},getPollTypeName:function(){var e=c.pollingTypes;switch(c._isPolling){case e.PLAYBACK:return e.PLAYBACK.name;case e.PROFILESGATE:return e.PROFILESGATE.name;default:return""}},init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=e.expireApp,r=e.identifiersMessagesEnabled;if(!this._initialized){c._initialized=!0,c.expireApp=s;var n=[];r&&n.push(a),c.config={enabled:t.get("web.ui.dynamic.messages.enabled"),requestErrorCap:t.get("web.ui.dynamic.messages.request.error.cap")},c.pollingTypes={PLAYBACK:{interval:parseInt(t.get("web.ui.dynamic.messages.polling.interval.playback"),10)||3e5,resources:n,name:c.sources.playback},PROFILESGATE:{leadingEdge:!0,interval:parseInt(t.get("web.ui.dynamic.messages.polling.interval.profilesgate"),10)||18e5,resources:n,name:c.sources.profilesGate}}}}};s.exports=c});C.r("utils/falcorClientAdapter.js",function(t,e,r){"use strict";var a=t("lodash"),o=t("shakti-platform/dist/ui/ShaktiProperties"),s=t("../akira/utils/falcor/getFalcorLoaderQuery"),i=t("./rx/shakti-rx").RxObservable,u=t("./Routes"),l=t("./XHR"),c=t("../common/appContext");e.exports={get:function(t){var e=s(c.getModels(),{falcor_server:"0.1.0"}),r=l.request({method:"post",query:e,data:{paths:t},resource:"/pathEvaluator",service:"api",authorize:!0});return o.get("netflix.ui.akira.redirect.to.login.on.invalid.user")?r.catch(function(t){return 401===t.xhrStatus&&"no user"===a.get(t,"xhrResponse.reason")?(window.location=u.clearCookies.makePath(),i.empty()):i.throw(t)}):r},call:function(t,e,r,a){var o=s(c.getModels(),{method:"call",falcor_server:"0.1.0"});return l.request({method:"post",data:{callPath:t,params:e,paths:a,pathSuffixes:r},query:o,resource:"/pathEvaluator",service:"api",authorize:!0,protocol:"https"})}}});C.r("utils/player/playerMetadata.js",function(e,t,r){"use strict";var a=e("../../utils/rx/shakti-rx").RxObservable,o=e("../../common/imageExtension.js"),i=e("../XHR"),n=e("../../akira/utils/falcor/getFalcorLoaderQuery");t.exports={getMetadataCall:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=o.canUseWebPFromContext()?"webp":"jpg",s=n(t,{movieid:e,imageFormat:r});return a.create(function(e){return i.request({method:"get",service:"api",protocol:"https",data:s,resource:"/metadata",authorize:!1}).subscribe(function(t){e.next(t)},function(t){e.error(t)},function(){e.complete()})})}}});C.r("player/nfplayer/components/controls/mdx.jsx",function(e,t,o){"use strict";var n=e("./button.jsx"),r=e("../../../../utils/shallowCompare.js"),i=e("../../../../mdx2/hoc/mdxLoader.jsx"),a=e("../../common/playerControls"),s=e("prop-types"),c=e("react"),l=e("create-react-class"),d=e("../hoc/withEffects.jsx"),p=(e("../hoc/controlFocus.jsx"),e("../../common/Video"),d(n)),u=l({displayName:"Mdx",contextTypes:{getI18nString:s.func.isRequired},statics:{CONTROL_NAME:a.MDX},getDefaultProps:function(){return{connected:!1,isHidden:!1,mdxDevicesFound:!1,shouldAutoCast:!0,withTooltip:!1}},shouldComponentUpdate:r.pureRender,componentWillReceiveProps:function(e){var t=this.props,o=t.activeVideo,n=t.videoId,r=t.trackId,i=t.mdxTarget;t.shouldAutoCast&&e.mdxTarget!==i&&e.mdxTarget&&e.mdxTarget.cast(n,r,!0,o?{interactivity:o.getInteractivity()}:{})},requestHandler:function(){var e=i.getManagerInstance();e&&e.requestMdxDevice&&e.requestMdxDevice()},render:function(){var e=this.props,t=e.connected,o=e.controlFocusActions,n=e.controlFocusState,r=e.filter,i=e.isHidden,s=e.mdxDevicesAvailable,l=e.onPointerEnter,u=e.onPointerLeave,m=e.tabIndex,x=e.tooltipAlignment,g=e.tooltipPosition,v=e.withTooltip,f=this.context.getI18nString("player/player","aria.label.player.mdx");return(s||t)&&c.createElement(p,{ariaLabel:f,commandLoggingName:d.MDX,controlFocusActions:o,controlFocusState:n,filter:r,focusName:a.MDX,iconName:t?"nfplayerMdxFull":"nfplayerMdx",isHidden:i,onClick:this.requestHandler,onPointerEnter:l,onPointerLeave:u,tabIndex:m,tooltip:v?f:"",tooltipAlignment:x,tooltipPosition:g})}});t.exports=i.createComponent(u)});C.r("player/nfplayer/components/controls/next.jsx",function(t,e,o){"use strict";var i=t("lodash"),n=t("../../../../utils/shallowCompare"),s=t("../hoc/withEffects.jsx"),a=t("./nextEpisodePopup.jsx"),p=t("../../common/playerControls"),r=t("../../common/PlayerControlsInteractionType"),c=t("./popup.jsx"),l=t("prop-types"),d=t("react"),u=t("create-react-class"),E=t("./roundPlayPauseButton.jsx"),x=t("../../types/staticConfiguration"),y=(t("../hoc/controlFocus.jsx"),t("../../uiLabel.js")),g=s(c),h=d.createElement(E,{type:E.PLAY,animate:!1}),C=r.CLICK,N=r.HOVER,m=u({displayName:"NextButton",statics:{CONTROL_NAME:p.NEXT_EPISODE},contextTypes:{getI18nString:l.func.isRequired,staticConfiguration:x},getDefaultProps:function(){return{isHidden:!1,playIconElement:h,showVideoProgress:!0}},shouldComponentUpdate:n.props,getNextEpisode:function(){return this.props.activeVideo.getNextEpisode()},play:function(){var t=this.props,e=t.playNextTitle,o=t.trackId,n=i.result(this.getNextEpisode(),"getId");n&&e(n,o,void 0,void 0,y.STANDARD)},render:function(){var t=this.props,e=t.controlFocusActions,o=t.controlFocusState,i=t.isHidden,n=t.keepRight,r=t.noPadding,c=t.onClickCapture,l=t.onDoubleClickCapture,u=t.onKeyDownCapture,E=t.onKeyUp,x=t.onUserActivityChanged,y=t.isNextEpisode,h=t.playIconElement,m=t.playNextTitle,I=t.popupHasStaticPosition,f=t.setKeepActive,P=t.showEpisodeNumber,T=t.showVideoProgress,b=t.tabIndex,A=t.titleText,D=t.tooltip,S=t.tooltipAlignment,k=t.tooltipPosition,v=t.trackId,w=t.withLabelExposed,L=this.getNextEpisode(),O=o.focused&&o.focused!==p.NEXT_EPISODE,j=this.context.staticConfiguration.controlsInteractionType;j!==C||O||(j=N);var K=this.context.getI18nString("player/player","button.next.episode");return d.createElement(g,{ariaLabel:K,controlsInteractionType:j,controlFocusActions:e,controlFocusState:o,focusName:p.NEXT_EPISODE,iconName:"nfplayerNextEpisode",isHidden:i,keepRight:n,label:D||K,commandLoggingName:s.NEXT_EPISODE,noPadding:r,onClick:this.play,onClickCapture:c,onDoubleClickCapture:l,onKeyDownCapture:u,onKeyUp:E,onUserActivityChanged:x,popupHasStaticPosition:I,setKeepActive:f,tabIndex:b,tooltip:D||K,tooltipAlignment:S,tooltipPosition:k,withLabelExposed:w},o.focused===p.NEXT_EPISODE&&d.createElement(a,{episode:L,focused:o.focused,onClick:this.play,isNextEpisode:y,playIconElement:h,playNextTitle:m,showEpisodeNumber:P,showVideoProgress:T,tabIndex:b,titleText:A,trackId:v}))}});e.exports=m});C.r("player/nfplayer/components/controls/nextEpisodePopup.jsx",function(e,t,n){"use strict";var s=e("babel-runtime/helpers/defineProperty"),o=function(e){return e&&e.__esModule?e:{default:e}}(s),r=e("./episodePreview.jsx"),a=e("prop-types"),l=e("react"),i=e("create-react-class"),p=e("../../../../components/touchable.jsx"),c=e("./roundPlayPauseButton.jsx"),d=p("div"),u=l.createElement(c,{type:c.PLAY,animate:!1}),x=i({displayName:"NextEpisodePopup",contextTypes:{getI18nString:a.func.isRequired},getDefaultProps:function(){return{onClick:function(){},playIconElement:u,showVideoProgress:!0}},render:function(){var e,t=this.props,n=t.episode,s=t.onClick,a=t.isNextEpisode,i=t.playIconElement,p=t.playNextTitle,c=t.showVideoProgress,u=t.focused,x=t.tabIndex,m=t.titleText,f=t.trackId;return l.createElement(d,{className:"popup-content next-episode",onClick:s},l.createElement("div",{className:"header"},l.createElement("h2",{className:"header-title"},this.context.getI18nString("player/player","menu.next.episode"))),l.createElement(r,(e={showProgress:c,focused:u,isNextEpisode:a,playIconElement:i,playNextTitle:p,episode:n},(0,o.default)(e,"showProgress",c),(0,o.default)(e,"tabIndex",x),(0,o.default)(e,"titleText",m),(0,o.default)(e,"trackId",f),e)))}});t.exports=x});C.r("player/nfplayer/components/controls/play.jsx",function(t,e,o){"use strict";var n=t("./button.jsx"),r=t("../../../../utils/shallowCompare"),a=t("../../common/playerControls"),i=t("prop-types"),s=t("react"),l=t("create-react-class"),c=t("../hoc/withEffects.jsx"),p=(t("../hoc/controlFocus.jsx"),c(n)),u=l({displayName:"PlayButton",statics:{CONTROL_NAME:a.PLAY},contextTypes:{getI18nString:i.func.isRequired},getDefaultProps:function(){return{isHidden:!1,onClick:void 0,onPointerEnter:void 0,onPointerLeave:void 0,paused:!0,player:void 0,tabIndex:0}},shouldComponentUpdate:r.partialProps(["controlFocusState","paused","isHidden","player"]),render:function(){var t=this.props,e=t.controlFocusActions,o=t.controlFocusState,n=t.iconFilter,r=t.isHidden,i=t.onClick,l=t.onPointerEnter,u=t.onPointerLeave,d=t.paused,y=t.player,P=t.tabIndex,f=t.tooltip;return s.createElement(p,{ariaLabel:d?this.context.getI18nString("player/player","button.play"):this.context.getI18nString("player/player","button.pause"),commandLoggingName:c.PLAY_PAUSE,controlFocusActions:e,controlFocusState:o,filter:n,focusName:a.PLAY,iconName:d?"nfplayerPlay":"nfplayerPause",isHidden:r,onClick:i,onPointerEnter:l,onPointerLeave:u,player:y,tabIndex:P,tooltip:f})}});e.exports=u});C.r("player/nfplayer/components/controls/playIcon.jsx",function(e,a,n){"use strict";var r=e("babel-runtime/helpers/defineProperty"),t=function(e){return e&&e.__esModule?e:{default:e}}(r),o=(e("prop-types"),e("react")),l=e("create-react-class"),i=e("classnames"),s=l({displayName:"PlayIcon",statics:{MEDIUM:"medium",LARGE:"large"},getDefaultProps:function(){return{centered:!1,fadeOnHover:!1,growOnHover:!1,hiddenVisibility:!1,semiOpaque:!1,transparent:!1,opaque:!1,size:void 0}},render:function(){var e,a=this.props,n=a.centered,r=a.fadeOnHover,l=a.growOnHover,s=a.hiddenVisibility,d=a.transparent,c=a.opaque,u=a.semiOpaque,p=a.size;return o.createElement("div",{className:i("PlayIcon",(e={},(0,t.default)(e,"PlayIcon-centered",n),(0,t.default)(e,"PlayIcon-fade-on-hover",r),(0,t.default)(e,"PlayIcon-grow-on-hover",l),(0,t.default)(e,"PlayIcon-size-medium","medium"===p),(0,t.default)(e,"PlayIcon-size-large","large"===p),(0,t.default)(e,"PlayIcon-opaque",c),(0,t.default)(e,"PlayIcon-transparent",d),(0,t.default)(e,"PlayIcon-visibility-hidden",s),(0,t.default)(e,"PlayIcon-semi-opaque",u),e))})}});a.exports=s});C.r("player/nfplayer/components/controls/popup.jsx",function(t,e,o){"use strict";function n(t,e){e.clickedToOpen=!0,t.setState(e)}function i(t,e){e.clickedToOpen=!1,t.setState(e)}function s(t,e){return t!==h.HOVER||e!==u.VOLUME}var c=(t("lodash"),t("./button.jsx")),r=t("classnames"),a=t("../../../../akira/components/controls/flatButton.jsx"),p=t("../../utils/isReactComponentElement"),l=t("../../../../common/keyCodes"),u=t("../../common/playerControls"),h=t("../../common/PlayerControlsInteractionType"),d=(t("prop-types"),t("react")),T=t("create-react-class"),C=t("../../../../components/touchable.jsx"),f=C("div"),v=t("../../types/staticConfiguration"),m=t("../hoc/withEffects.jsx"),y=t("../../../embed/components/StandardButton.jsx"),A=(t("../hoc/controlFocus.jsx"),m(c)),g=function(){},b=T({displayName:"Popup",statics:{BUTTON_FLAT:"BUTTON_FLAT",BUTTON_ICON:"BUTTON_ICON",BUTTON_STANDARD:"BUTTON_STANDARD"},contextTypes:{staticConfiguration:v},getDefaultProps:function(){return{buttonComponentType:"BUTTON_ICON",buttonText:"",hideButtonIfFocused:!1,isHidden:!1,keepRight:!1,onButtonClick:g,onClick:g,onClickCapture:g,onDoubleClickCapture:g,onKeyDownCapture:g,onKeyUp:g,onPointerEnter:g,onPointerLeave:g,onUserActivityChanged:g,popupHasStaticPosition:!1,positionedAtTop:!1,setKeepActive:g,tabIndex:0,shouldFillScreen:!1}},getInitialState:function(){return{clickedToOpen:!1}},componentWillReceiveProps:function(t){this.props.controlFocusState.focused!==t.controlFocusState.focused&&t.controlFocusState.focused!==t.focusName&&i(this,this.state)},getInteractionType:function(){var t=this.props.controlsInteractionType,e=this.context&&this.context.staticConfiguration&&this.context.staticConfiguration.controlsInteractionType,o=e||h.HOVER;return t||o},grabFocusAndHover:function(){var t=this.props,e=t.controlFocusActions,o=t.focusName,i=t.forceKeepActive,c=t.setKeepActive;s(this.getInteractionType(),o)&&n(this,this.state),e.startHover(o),e.grabFocus(o),c(!0,i)},releaseFocusAndHover:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this.props,o=e.controlFocusActions,n=e.focusName,s=e.setKeepActive;i(this,this.state),s(!1),o.releaseFocus(n,t),o.stopHover(n)},click:function(t){this.props.onButtonClick(t)},handleOnKeyUp:function(t){t.keyCode===l.ESC&&(i(this,this.state),this.releaseFocusAndHover())},handlePointerEnter:function(t){if("mouse"===t.pointerType){var e=this.props,o=e.controlFocusActions,n=e.focusName,i=this.getInteractionType();o.startHover(n),i===h.HOVER&&o.grabFocus(n),this.handleUserActivity(t)}},handlePointerLeave:function(t){if("mouse"===t.pointerType){var e=this.props,o=e.controlFocusActions,n=e.focusName,i=this.getInteractionType();o.stopHover(n),this.state.clickedToOpen||i!==h.HOVER||o.releaseFocus(n)}},handleClick:function(t){var e=this.props,o=e.controlFocusState,i=e.focusName,c=this.getInteractionType(),r=i===o.focused,a=this.state.clickedToOpen,p=s(c,i);r&&a?this.releaseFocusAndHover():"touch"===t.pointerType?(p&&n(this,this.state),this.grabFocusAndHover()):r?(this.click(t),c!==h.HOVER&&this.releaseFocusAndHover()):(p&&(n(this,this.state),this.click(t)),this.grabFocusAndHover()),this.handleUserActivity(t)},handleUserActivity:function(t){this.props.onUserActivityChanged(!0)},handleChildPointerEnter:function(t){"touch"!==t.pointerType&&this.grabFocusAndHover(t)},handleButtonPointerEnter:function(t){if("touch"!==t.pointerType){(0,this.props.setKeepActive)(!0)}},handleChildPointerLeave:function(t){"touch"===t.pointerType||this.props.forceKeepActive||this.releaseFocusAndHover(this.props.controlFocusState.releaseDelay)},handleButtonPointerLeave:function(t){if("touch"!==t.pointerType){(0,this.props.setKeepActive)(!1)}},render:function(){var t=this.props,e=t.ariaLabel,o=t.buttonComponentType,n=t.buttonChildren,i=t.buttonLoggingName,s=t.buttonText,l=t.buttonType,u=t.className,T=t.children,C=t.controlFocusActions,v=t.controlFocusState,m=t.focusName,g=t.hideButtonIfFocused,b=t.iconName,F=t.isHidden,P=t.label,N=t.keepRight,k=t.noPadding,E=t.onClick,O=t.onClickCapture,B=t.onDoubleClickCapture,L=t.onKeyDownCapture,H=t.popupContentCentered,S=t.popupHasStaticPosition,x=t.positionedAtTop,I=t.shouldFillScreen,U=t.showTooltip,K=t.tabIndex,D=t.tooltip,w=t.tooltipPosition,R=t.tooltipAlignment,_=t.useLoggedButton,j=t.withLabelExposed,V=this.getInteractionType(),z=this.state.clickedToOpen,M=v.hovered===m,W=v.focused===m,q=V===h.CLICK,G=!(!v.hovered&&!v.focused||W||M),J=p(T)?d.cloneElement(T,{clickedToOpen:z}):T,Q=_?A:c,X=g&&v.focused===m;return d.createElement(f,{className:r(u,"PlayerControls--control-element","nfp-popup-control",{"PlayerControls--control-element-hidden":F,"PlayerControls--control-element-blurred":G,"PlayerControls--control-element--with-label":j,"nfp-popup-control--static-position":S}),onClick:E,onClickCapture:O,onDoubleClickCapture:B,onKeyDownCapture:L,onKeyUp:this.handleOnKeyUp,onPointerEnter:this.handlePointerEnter,onPointerLeave:this.handlePointerLeave},"BUTTON_STANDARD"===o&&!X&&d.createElement(y,{buttonSize:this.props.standardButtonSize,buttonStyle:this.props.standardButtonStyle,buttonText:s,handleSelect:this.handleClick,iconName:b,tabIndex:K}),"BUTTON_FLAT"===o&&!X&&d.createElement(a,{ariaLabel:e,icon:b,label:s,onClick:this.handleClick,onPointerEnter:this.handleButtonPointerEnter,onPointerLeave:this.handleButtonPointerLeave,tabIndex:K}),"BUTTON_ICON"===o&&!X&&d.createElement(Q,{commandLoggingName:i,controlFocusActions:C,controlFocusState:v,ignoreFocusForTooltipRendering:U,label:P,tooltip:q||U?D:void 0,tooltipPosition:q||U?w:void 0,tooltipAlignment:q||U?R:void 0,ariaLabel:e,focusName:m,iconName:b,isHidden:F,manageFocus:!1,onClick:this.handleClick,tabIndex:K,type:l,onPointerEnter:this.handleButtonPointerEnter,onPointerLeave:this.handleButtonPointerLeave,withLabelExposed:j},n),d.createElement(f,{className:r("popup-content-wrapper",{active:W,"no-padding":k,"keep-right":N,"popup-content-wrapper--fill-screen":I,"popup-content-wrapper--top-placement":x,"popup-content-wrapper--centered-content":H}),onKeyDown:this.grabFocusAndHover,onPointerEnter:this.handleChildPointerEnter,onPointerLeave:this.handleChildPointerLeave},J))}});e.exports=b});C.r("player/nfplayer/components/controls/progressBar.jsx",function(e,r,t){"use strict";var n=e("classnames"),a=e("../../../../utils/shallowCompare"),i=e("../../../../common/keyCodes"),s=(e("../../common/nfplayerInterface"),e("../../common/playerControls")),o=e("../../common/playerEvents"),c=(e("prop-types"),e("react")),l=e("create-react-class"),u=e("react-dom"),p=e("./horizontalScrubber.jsx"),d=e("../../utils/time.js"),h=(e("../hoc/controlFocus.jsx"),function(){}),S=l({displayName:"ProgressBar",getDefaultProps:function(){return{isHidden:!1,onPointerEnter:h,onPointerLeave:h,onScrubEnd:h,onScrubStart:h,playerDimensions:{},setKeepActive:h}},statics:{CONTROL_NAME:s.PROGRESS_BAR},shouldComponentUpdate:function(e,r){return(!this.props.isHidden||!e.isHidden)&&a.pureRender(e,r)},getInitialState:function(e){return{currentPlayerTime:(e||this.props.player).getCurrentTime(),currentScrubTime:-1,isScrubbing:!1}},componentDidMount:function(){this.addPlayerHandlers(this.props.player)},componentWillReceiveProps:function(e){!e.isHidden&&this.props.isHidden&&this.setState({currentPlayerTime:e.player?e.player.getCurrentTime():this.props.player.getCurrentTime()}),e.player!==this.props.player&&(this.removePlayerHandlers(),this.setState(this.getInitialState(e.player)),this.addPlayerHandlers(e.player))},componentWillUnmount:function(){this.removePlayerHandlers()},addPlayerHandlers:function(e){e.on(o.PLAYING,this.handlePlayerPlaying),e.on(o.SCRUB_UNBATCHED,this.handlePlayerScrub),e.on(o.SCRUB_END_UNBATCHED,this.handlePlayerScrubEnd),e.on(o.SCRUB_START_UNBATCHED,this.handlePlayerScrubStart),e.on(o.TIME_UPDATE,this.handlePlayerTimeUpdate)},removePlayerHandlers:function(){var e=this.props.player;e.removeListener(o.PLAYING,this.handlePlayerPlaying),e.removeListener(o.SCRUB_UNBATCHED,this.handlePlayerScrub),e.removeListener(o.SCRUB_END_UNBATCHED,this.handlePlayerScrubEnd),e.removeListener(o.SCRUB_START_UNBATCHED,this.handlePlayerScrubStart),e.removeListener(o.TIME_UPDATE,this.handlePlayerTimeUpdate),this._trickplayImage=void 0,this._resetTrickplayImage=!0},handlePlayerScrub:function(e){this.setState({currentScrubTime:e.state.currentScrubTime})},handlePlayerScrubStart:function(e){this.setState({currentScrubTime:e.state.currentScrubTime,isScrubbing:!0})},handlePlayerScrubEnd:function(e){this.setState({currentPlayerTime:e.state.canceled?this.state.currentPlayerTime:this.state.currentScrubTime,currentScrubTime:-1,isScrubbing:!1})},handlePlayerPlaying:function(e){this.setState({currentPlayerTime:this.props.player.getCurrentTime()})},handlePlayerTimeUpdate:function(e){this.props.isHidden||this.setState({currentPlayerTime:this.props.player.getCurrentTime()})},handleMouseEnter:function(e){var r=this.props,t=r.controlFocusActions,n=r.onPointerEnter;t.startHover(s.PROGRESS_BAR),t.grabFocus(s.PROGRESS_BAR),n&&n(e)},handleMouseLeave:function(e){var r=this.props,t=r.controlFocusActions,n=r.onPointerLeave;t.releaseFocus(s.PROGRESS_BAR),t.stopHover(s.PROGRESS_BAR),n&&n(e)},handleScrubberScrubStart:function(e){this.props.onScrubStart&&this.props.onScrubStart(e);var r=this.props,t=r.controlFocusActions,n=r.player,a=r.setKeepActive,i=n.getDuration();t.grabAndHoldFocus(s.PROGRESS_BAR),a(!0,!0);var o=i*e;n.scrubStart(o)},handleScrubberScrubEnd:function(e){var r=this.props,t=r.controlFocusActions,n=r.onScrubEnd,a=r.player,i=r.setKeepActive;n&&n(e);var o=a.getDuration();t.releaseFocusHold(s.PROGRESS_BAR),i(!1,!1);var c=o*e;a.scrubEnd(c)},handleScrubberScrub:function(e){var r=this.props.player,t=r.getDuration(),n=t*e;r.scrub(n)},handleKeyDown:function(e){var r=this.props.player,t=this.state,n=t.currentScrubTime,a=t.isScrubbing,s=e.keyCode,o=u.findDOMNode(this.refs.scrubber);!o||o!==document.activeElement&&!o.contains(document.activeElement)||s!==i.ENTER&&s!==i.SPACE||(e.preventDefault(),a?r.scrubEnd(n):r.togglePlay())},trickplayGenerator:function(e){var r=this.props.player;if(!r)return{};var t=r.getDuration(),n=r.getTrickPlayURL(t*e);return this._trickplayImage&&!n?this._resetTrickplayImage=!0:this._resetTrickplayImage&&n?(this._trickplayImage=n,this._resetTrickplayImage=!1):this._trickplayImage=n,this._trickplayImage?{image:this._trickplayImage,text:d.convert(t*e)}:{text:d.convert(t*e)}},render:function(){var e=this.props,r=e.controlFocusState,t=e.isHidden,a=e.player,i=e.playerDimensions,o=e.trickplayVideoWidthRatio,l=this.state,u=l.currentPlayerTime,d=l.currentScrubTime,h=l.isScrubbing;return c.createElement("div",{className:n("PlayerControls--control-element","progress-control",{"PlayerControls--control-element-hidden":t,"PlayerControls--control-element-blurred":r.focused&&s.PROGRESS_BAR!==r.focused}),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},c.createElement(p,{buffered:a.getBufferedTime(),currentPlayerTime:u,currentScrubTime:d,duration:a.getDuration(),isHidden:t,isScrubbing:h,onKeyDown:this.handleKeyDown,onScrub:this.handleScrubberScrub,onScrubEnd:this.handleScrubberScrubEnd,onScrubStart:this.handleScrubberScrubStart,player:a,playerDimensions:i,ref:"scrubber",trickplayGenerator:this.trickplayGenerator,trickplayVideoWidthRatio:o}))}});r.exports=S});C.r("player/nfplayer/utils/isReactComponentElement.js",function(t,e,n){"use strict";function i(t){return s.isValidElement(t)&&r.isFunction(r.get(t,"type"))}var r=t("lodash"),s=t("react");e.exports=i});C.r("utils/keyboardEventsWrapper.js",function(e,t,c){"use strict";var n=e("../common/keyCodes");t.exports={executeOnEnterOrSpace:function(e){return function(t){switch(t&&t.which){case n.ENTER:case n.SPACE:e(t)}}}}});C.r("player/nfplayer/components/controls/reportAProblemButton.jsx",function(t,e,o){"use strict";var n=t("create-react-class"),r=t("react"),c=t("./popup.jsx"),i=t("prop-types"),p=t("../../common/playerControls"),s=t("../hoc/withEffects.jsx"),a=t("../../../../components/string.jsx"),l=t("../../types/staticConfiguration"),u=(t("../hoc/controlFocus.jsx"),s(c)),m="player/player",P=function(){},A=n({displayName:"ReportAProblemButton",statics:{CONTROL_NAME:p.REPORT_A_PROBLEM},getDefaultProps:function(){return{iconName:"reportAProblem",onUserActivityChanged:P}},contextTypes:{getI18nString:i.func.isRequired,staticConfiguration:l},render:function(){var t=this.context.staticConfiguration.controlsInteractionType,e=this.props,o=e.controlFocusActions,n=e.controlFocusState,c=e.iconName,i=e.keepRight,l=e.noPadding,P=e.onButtonClick,A=e.onUserActivityChanged,g=e.popupHasStaticPosition,R=e.popupPositionedAtTop,d=e.setKeepActive;return r.createElement(u,{ariaLabel:this.context.getI18nString(m,"report.problem.button.aria.label"),controlFocusActions:o,controlFocusState:n,controlsInteractionType:t,className:"ReportAProblemPopupContainer",focusName:p.REPORT_A_PROBLEM,iconName:c,buttonChildren:"reportAProblem"===c?r.createElement(a,{bundle:m,stringKey:"report.problem.question.mark",className:"ReportAProblem--button-icon"}):void 0,keepRight:i,commandLoggingName:s.REPORT_A_PROBLEM,noPadding:l,onClick:P,onUserActivityChanged:A,popupHasStaticPosition:g,positionedAtTop:R,setKeepActive:d,tabIndex:0},n.focused===p.REPORT_A_PROBLEM&&r.createElement("div",{className:"ReportAProblem--popup popup-content"},r.createElement("span",{className:"ReportAProblem--popup-text"},r.createElement(a,{bundle:m,stringKey:"report.problem.popup.cta"}))))}});e.exports=A});C.r("player/nfplayer/components/controls/roundPlayPauseButton.jsx",function(e,a,t){"use strict";function n(e){return{"size-small":e===u,"size-medium":e===i,"size-large":e===c}}var r=e("classnames"),s=e("../../../../utils/shallowCompare"),o=(e("prop-types"),e("react")),l=e("create-react-class"),p=e("../../../../common/svgIcon.jsx"),u="small",i="medium",c="large",m=o.createElement(p,{name:"nfplayerOpticalCenterPause",preventFocus:!0}),y=o.createElement(p,{name:"nfplayerOpticalCenterPlay",preventFocus:!0}),E=l({displayName:"RoundPlayPauseButton",statics:{PAUSE:"pause",PLAY:"play",sizes:{SMALL:u,MED:i,LARGE:c},STYLE_PRIMARY:"STYLE_PRIMARY",STYLE_SECONDARY:"STYLE_SECONDARY"},getDefaultProps:function(){return{animate:!0,buttonStyle:"STYLE_SECONDARY",grow:!1,tabIndex:-1,usePointerCursor:!0}},shouldComponentUpdate:s.partialProps(["type","animate"]),render:function(){var e=this.props,a=e.animate,t=e.buttonStyle,s=e.grow,l=e.onClick,p=e.type,u=e.size,i=e.tabIndex,c=e.usePointerCursor,E=r("nf-big-play-pause",{"nf-big-play-pause-primary":"STYLE_PRIMARY"===t,"nf-big-play-pause-secondary":"STYLE_SECONDARY"===t,play:"play"===p,pause:"pause"===p,"cursor-pointer":c,animate:a,grow:s},n(u));return o.createElement("div",{className:E},o.createElement("button",{"aria-hidden":i<0?"true":void 0,tabIndex:i,onClick:l},"play"===p?y:m))}});a.exports=E});C.r("player/nfplayer/components/controls/scrubber.jsx",function(a,e,r){"use strict";var s=(a("prop-types"),a("react")),t=a("create-react-class"),i=a("../../../../utils/shallowCompare"),p=t({displayName:"Scrubber",shouldComponentUpdate:i.props,render:function(){var a={};return a[this.props.direction]=this.props.position+"%",s.createElement("div",{className:"scrubber-target",style:a},s.createElement("div",{className:"scrubber-head",tabIndex:0,"aria-label":this.props.ariaLabel,"aria-valuemin":this.props.ariaValueMin,"aria-valuemax":this.props.ariaValueMax,"aria-valuenow":this.props.ariaValueNow,"aria-valuetext":this.props.ariaValueText}))}});e.exports=p});C.r("player/nfplayer/components/controls/skipIntroCredits.jsx",function(t,e,i){"use strict";var n=t("lodash"),s=t("prop-types"),r=t("react"),o=t("create-react-class"),a=t("classnames"),p=t("shakti-platform/dist/ui/ShaktiProperties"),d=t("../../../../akira/components/controls/flatButton.jsx"),l=t("../../common/playerEvents"),c=t("../../../../utils/shallowCompare"),h=t("../../../../utils/eventBus"),u=t("../../../../common/keyCodes"),k=t("../../../../akira/redux/logging/commandTriggers"),m=t("../../../../components/presentationTracking/trackingComponents/logPresentationManually"),S=m(o({displayName:"SkipCredit",contextTypes:{getI18nString:s.func.isRequired},_onPresentationEnd:void 0,getDefaultProps:function(){return{creditMarkers:{},controlsHidden:!0,fastForward:n.noop}},getInitialState:function(){return{positionType:"",initialDisplayCompleted:!1,hideSkip:this.props.controlsHidden,buttonClicked:!1,skipCreditsEnabled:p.get("wwwplayer.config.skip.credits.enabled"),forceHide:!0}},getLabelString:function(){var t=void 0;switch(this.state.positionType){case"INSIDE_CREDITS":t="skip.intro.button";break;case"INSIDE_RECAP":t="skip.recap.button";break;default:t="skip.button"}return this.context.getI18nString("player/player",t)},shouldComponentUpdate:c.state,componentWillReceiveProps:function(t){t.player!==this.props.player&&(this.teardown(),this.setState({initialDisplayCompleted:!1,buttonClicked:!1,forceHide:!0}),this.setup(t.player))},componentDidMount:function(){var t=this.props.player;this.setup(t)},setup:function(t){t.on(l.TIME_UPDATE,this.onPlayerTimeUpdate),t.on(l.ACTIVE,this.onActive),t.on(l.INACTIVE,this.onInactive),this._initialShowing=!0},teardown:function(){var t=this.props.player;t.removeListener(l.TIME_UPDATE,this.onPlayerTimeUpdate),t.removeListener(l.ACTIVE,this.onActive),t.removeListener(l.INACTIVE,this.onInactive),clearTimeout(this._initialDisplayTimer)},componentWillUnmount:function(){this.teardown(),document.removeEventListener("keydown",this.onKeyDown,!0)},onPlayerTimeUpdate:function(){n.isEmpty(this.props.creditMarkers)||this.checkCreditMarkers()},onInactive:function(){this.setState({hideSkip:!0})},onActive:function(){this.setState({hideSkip:!1})},onKeyDown:function(t){u.s===t.keyCode&&this.skip(!0)},onClick:function(t){this.skip(!1)},skip:k.SkipAheadCommand(function(t){var e=0,i=0,s=t?"key":"pointer";switch(this.state.positionType){case"INSIDE_CREDITS":e=n.get(this.props,"creditMarkers.credit.end",0);break;case"INSIDE_RECAP":e=n.get(this.props,"creditMarkers.recap.end",0);break;default:e=0}this.props.fastForward&&e>0&&(i=e-this.getCurrentTimeinMS(),e/=1e3,this.props.fastForward(e)),this.setState({buttonClicked:!0}),h.emit("playerui:click",{name:"skipCredits",inputMethod:s,timeSkipped:i,initial:this._initialShowing})}),checkCreditMarkers:function(){var t="OUTSIDE_MARKERS",e=this.getCurrentTimeinMS(),i=n.get(this.props,"creditMarkers.credit",{start:0,end:0}),s=n.get(this.props,"creditMarkers.recap",{start:0,end:0});e>i.start&&e<i.end?t="INSIDE_CREDITS":e>s.start&&e<s.end&&(t="INSIDE_RECAP"),this.state.positionType!==t&&("OUTSIDE_MARKERS"!==t?this.enteredMarkerZone():this.exitedMarkerZone(),this.setState({positionType:t,buttonClicked:!1}))},getCurrentTimeinMS:function(){return 1e3*this.props.player.getCurrentTime()},enteredMarkerZone:function(){var t=this;document.addEventListener("keydown",this.onKeyDown,!0),this._initialShowing=!0,this._initialDisplayTimer=setTimeout(function(){t.setState({initialDisplayCompleted:!0})},this.props.skipCreditsDisplayDuration||6e3),requestAnimationFrame(function(){t.setState({forceHide:!1})})},exitedMarkerZone:function(){document.removeEventListener("keydown",this.onKeyDown,!0),clearTimeout(this._initialDisplayTimer),this.setState({initialDisplayCompleted:!1,forceHide:!0})},emitShowHideEvent:function(t){void 0===this._prevHiddenState&&t||this._prevHiddenState!==t&&(h.emit("logSkipCreditsHideShow",{hidden:t,initial:this._initialShowing}),t?this._onPresentationEnd&&(this._onPresentationEnd(),delete this._onPresentationEnd):this._onPresentationEnd=this.props.logPresentationStart("skipIntroButton",{}),t&&(this._initialShowing=!1)),this._prevHiddenState=t},render:function(){var t=this.props.creditMarkers,e=this.state,i=e.initialDisplayCompleted,s=e.positionType,o=e.hideSkip,p=e.buttonClicked,l=e.skipCreditsEnabled,c=e.forceHide;if(!l)return null;if(n.isEmpty(t))return null;if(!s||"OUTSIDE_MARKERS"===s)return this._prevHiddenState||this.emitShowHideEvent(!0),null;var h=i&&(c||p||o);return this.emitShowHideEvent(h),r.createElement("div",{className:a("skip-credits",{"skip-credits-hidden":h,"skip-credits-flash":p})},r.createElement(d,{label:this.getLabelString(),ariaLabel:this.getLabelString(),tabIndex:0,flatButton:!0,onClick:this.onClick}))}}));e.exports=S});C.r("player/nfplayer/components/controls/timeRemaining.jsx",function(e,r,t){"use strict";var n=e("classnames"),i=e("../../../../utils/shallowCompare"),a=(e("../../common/nfplayerInterface"),e("../../common/playerControls")),s=e("../../common/playerEvents"),l=(e("prop-types"),e("react")),o=e("create-react-class"),c=e("../../utils/time.js"),u=o({displayName:"TimeRemaining",statics:{CONTROL_NAME:a.TIME_REMAINING},getDefaultProps:function(){return{isBlurred:!1,isHidden:!1,isModernLayout:!1}},getInitialState:function(e){return{currentPlayerTime:(e||this.props.player).getCurrentTime(),currentScrubTime:-1,isScrubbing:!1}},shouldComponentUpdate:function(e,r){return(!this.props.isHidden||!e.isHidden)&&i.pureRender(e,r)},componentDidMount:function(){this.addPlayerHandlers(this.props.player)},componentWillReceiveProps:function(e){!e.isHidden&&this.props.isHidden&&this.setState({currentPlayerTime:e.player?e.player.getCurrentTime():this.props.player.getCurrentTime()}),e.player!==this.props.player&&(this.removePlayerHandlers(),this.setState(this.getInitialState(e.player)),this.addPlayerHandlers(e.player))},componentWillUnmount:function(){this.removePlayerHandlers()},handlePlayerScrub:function(e){this.setState({currentScrubTime:e.state.currentScrubTime})},handlePlayerScrubEnd:function(e){this.setState({currentPlayerTime:this.state.currentScrubTime,currentScrubTime:-1,isScrubbing:!1})},handlePlayerScrubStart:function(e){this.setState({currentScrubTime:e.state.currentScrubTime,isScrubbing:!0})},handlePlayerTimeUpdate:function(e){this.props.isHidden||this.setState({currentPlayerTime:this.props.player.getCurrentTime()})},addPlayerHandlers:function(e){e.on(s.PLAYING,this.handlePlayerTimeUpdate),e.on(s.SCRUB_UNBATCHED,this.handlePlayerScrub),e.on(s.SCRUB_END_UNBATCHED,this.handlePlayerScrubEnd),e.on(s.SCRUB_START_UNBATCHED,this.handlePlayerScrubStart),e.on(s.TIME_UPDATE,this.handlePlayerTimeUpdate)},removePlayerHandlers:function(){var e=this.props.player;e.removeListener(s.PLAYING,this.handlePlayerTimeUpdate),e.removeListener(s.SCRUB_UNBATCHED,this.handlePlayerScrub),e.removeListener(s.SCRUB_END_UNBATCHED,this.handlePlayerScrubEnd),e.removeListener(s.SCRUB_START_UNBATCHED,this.handlePlayerScrubStart),e.removeListener(s.TIME_UPDATE,this.handlePlayerTimeUpdate)},render:function(){var e=this.props,r=e.isBlurred,t=e.isHidden,i=e.isModernLayout,a=e.player,s=this.state,o=s.currentPlayerTime,u=s.currentScrubTime,m=a.getDuration(),d=u>-1?u:o;return l.createElement("div",{className:n("PlayerControls--control-element","text-control",{"time-remaining--modern":i,"time-remaining--classic":!i,"PlayerControls--control-element-hidden":t,"PlayerControls--control-element-blurred":r})},l.createElement("time",{className:"time-remaining__time"},m?c.convert(m-d):"0:00"))}});r.exports=u});C.r("player/nfplayer/components/controls/volume.jsx",function(t,e,o){"use strict";var n=t("./button.jsx"),l=t("../../../../utils/shallowCompare"),s=t("../../common/playerControls"),i=t("./popup.jsx"),a=t("prop-types"),r=t("react"),u=t("create-react-class"),c=t("./volumeController.jsx"),p=t("../hoc/withEffects.jsx"),d=(t("../hoc/controlFocus.jsx"),t("../../common/playerEvents")),m=t("../../utils/getVolumeLevelIcon"),h=p(i),y=u({displayName:"VolumeButton",contextTypes:{getI18nString:a.func.isRequired},statics:{CONTROL_NAME:s.VOLUME},shouldComponentUpdate:l.partialPropsAndAllState(["controlFocusState","isHidden","muted","player"]),getDefaultProps:function(){return{isHidden:!1,volume:1,muted:!1,noPadding:!0,popupContentCentered:!1}},getInitialState:function(){return{localVolume:this.props.volume,localMuted:this.props.muted}},componentDidMount:function(){var t=this.props.player;this.addPlayerHandlers(t)},componentWillReceiveProps:function(t){t.player!==this.props.player&&(this.removePlayerHandlers(),this.oldVolume=void 0,this.addPlayerHandlers(t.player))},componentWillUnmount:function(){this.removePlayerHandlers()},addPlayerHandlers:function(t){t.on(d.VOLUME_CHANGED_UNBATCHED,this.updateLocalVolume)},removePlayerHandlers:function(){this.props.player.removeListener(d.VOLUME_CHANGED_UNBATCHED,this.updateLocalVolume)},updateLocalVolume:function(t){this.setState({localVolume:t.state.volume,localMuted:"boolean"==typeof t.state.muted?t.state.muted:this.state.localMuted})},handleScrubStart:function(t){var e=this.props,o=e.controlFocusActions,n=e.onScrubStart,l=e.setKeepActive;o.grabAndHoldFocus(s.VOLUME),l(!0),this.oldVolume=this.state.localVolume,this.setVolume(t),n&&n(t)},handleScrubEnd:function(t){var e=this.props,o=e.controlFocusActions,n=e.setKeepActive,l=e.onScrubEnd;o.releaseFocusHold(s.VOLUME),n(!1),t&&this.setVolume(t),this.oldVolume=void 0,l&&l(t)},handleScrub:function(t){var e=this.props.onScrub;this.setVolume(t),e&&e(t)},setVolume:function(t){var e=this.props.player;0===t?(e.setMuted(!0),e.setVolume(this.oldVolume?this.oldVolume:0)):(e.setMuted(!1),e.setVolume(t)),this.setState({localVolume:t})},toggleMute:function(){this.props.player.toggleMute()},render:function(){var t=this.props,e=t.caretPosition,o=t.controlFocusActions,l=t.controlFocusState,i=t.isHidden,a=t.label,u=t.noPadding,d=t.onClick,y=t.onClickCapture,C=t.onDoubleClickCapture,v=t.onKeyDownCapture,V=t.onKeyUp,b=t.onUserActivityChanged,g=t.popupContentCentered,S=t.setKeepActive,f=t.showTooltip,E=t.tooltip,A=t.tooltipAlignment,M=t.tooltipPosition,L=t.withLabelExposed,H=this.state,P=H.localVolume,U=H.localMuted,x=m(P,U),F=this.context.getI18nString("player/player","button.volume"+(U?".muted":""));return r.createElement(h,{ariaLabel:F,buttonType:"default",commandLoggingName:p.VOLUME,controlFocusActions:o,controlFocusState:l,focusName:s.VOLUME,iconName:x,isHidden:i,label:a,noPadding:u,onButtonClick:this.toggleMute,onClick:d,onClickCapture:y,onDoubleClickCapture:C,onKeyDownCapture:v,onKeyUp:V,onUserActivityChanged:b,popupContentCentered:g,setKeepActive:S,showTooltip:f,tabIndex:0,tooltip:E||F,tooltipAlignment:A,tooltipPosition:M,withLabelExposed:L},l.focused===s.VOLUME&&r.createElement(c,{caretPosition:e,muted:U,onScrub:this.handleScrub,onScrubEnd:this.handleScrubEnd,onScrubStart:this.handleScrubStart,volume:P},r.createElement(n,{controlFocusActions:o,controlFocusState:l,ariaLabel:F,iconName:x,isHidden:!1,onClick:this.toggleMute,tabIndex:0,type:"default"})))}});e.exports=y});C.r("player/nfplayer/components/controls/volumeController.jsx",function(e,t,n){"use strict";var o=e("lodash"),s=e("../../../../utils/shallowCompare"),i=e("prop-types"),r=e("react"),u=e("create-react-class"),a=e("react-dom"),c=e("./scrubber.jsx"),d=u({displayName:"VolumeController",contextTypes:{getI18nString:i.func.isRequired},statics:{caretPosition:{TOP:"top",BOTTOM:"bottom"}},getDefaultProps:function(){return{caretPosition:"bottom",onScrubEnd:o.noop,onScrubStart:o.noop}},dimensions:null,shouldComponentUpdate:s.pureRender,handleMouseEnter:function(){this.getSliderDimensions()},getSliderDimensions:function(){return this.dimensions||(this.dimensions=a.findDOMNode(this.refs.track).getBoundingClientRect()),this.dimensions},getCursorPosition:function(e){var t=e&&e.targetTouches&&e.targetTouches.length&&e.targetTouches[0]||e&&e.changedTouches&&e.changedTouches.length&&e.changedTouches[0];if(t&&(e=t),!e||!e.clientY)return null;var n=this.getSliderDimensions(),o=(n.bottom-e.clientY)/n.height;return Math.min(1,Math.max(0,o))},addDocumentListeners:function(){this._hasDocumentListeners||(document.body.classList.add("scrubbing-surface","nfp"),window.PointerEvent?document.body.addEventListener("pointermove",this.handleDocumentMouseMove):(document.body.addEventListener("mousemove",this.handleDocumentMouseMove),document.body.addEventListener("touchmove",this.handleDocumentMouseMove)),document.body.addEventListener("mouseup",this.handleDocumentMouseUp),document.body.addEventListener("touchend",this.handleDocumentMouseUp),this._hasDocumentListeners=!0)},removeDocumentListeners:function(){this._hasDocumentListeners&&(window.PointerEvent?document.body.removeEventListener("pointermove",this.handleDocumentMouseMove):(document.body.removeEventListener("mousemove",this.handleDocumentMouseMove),document.body.removeEventListener("touchmove",this.handleDocumentMouseMove)),document.body.removeEventListener("mouseup",this.handleDocumentMouseUp),document.body.removeEventListener("touchend",this.handleDocumentMouseUp),document.body.classList.remove("scrubbing-surface","nfp"),this._hasDocumentListeners=!1)},handleMouseDown:function(e){if(!this._hasDocumentListeners){var t=this.props.onScrubStart;this.dimensions=this.getSliderDimensions(),t(this.getCursorPosition(e)),this.addDocumentListeners()}},handleDocumentMouseMove:function(e){var t=this;if(!(e.touches&&e.touches.length>1)){"touchmove"!==e.type&&"pointermove"!==e.type||e.preventDefault();var n=this.getCursorPosition(e);requestAnimationFrame(function(){t.props.onScrub(n)})}},handleDocumentMouseUp:function(e){(0,this.props.onScrubEnd)(this.getCursorPosition(e)),this.removeDocumentListeners()},componentWillUnmount:function(){this.removeDocumentListeners()},render:function(){var e=this.props,t=e.children,n=e.clickedToOpen,o=e.muted,s=e.volume,i=o?0:100*s,u=Math.floor(i),a=this.context.getI18nString("player/player","aria.value.text.percent.scrubber",{value:u});return r.createElement("div",{className:"popup-content volume-controller"},r.createElement("div",{className:"slider-container",onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onTouchStart:this.handleMouseDown},r.createElement("div",{className:"slider-bar-container",ref:"track"},r.createElement("div",{className:"slider-bar-percentage",style:{height:i+"%"}}),r.createElement(c,{ariaLabel:this.context.getI18nString("player/player","button.volume"),ariaValueMax:100,ariaValueMin:0,ariaValueNow:u,ariaValueText:a,direction:"bottom",position:i}))),n&&r.createElement("div",{className:"volume-container-children"},t))}});t.exports=d});C.r("player/nfplayer/components/playerSurface.jsx",function(e,o,n){"use strict";var t=e("classnames"),a=(e("prop-types"),e("react")),s=e("create-react-class"),r=e("../../../utils/shallowCompare"),i=e("../types/staticConfiguration"),u=s({displayName:"PlayerSurface",shouldComponentUpdate:r.pureRender,contextTypes:{staticConfiguration:i},onMouseMove:function(e){this.props.onMouseMove&&this.props.onMouseMove(e)},onMouseEnter:function(e){this.props.onMouseEnter&&this.props.onMouseEnter(e),this.onUserActivityChanged(!0,{x:e.clientX,y:e.clientY})},onMouseLeave:function(e){this.props.onMouseLeave&&this.props.onMouseLeave(e),this.onUserActivityChanged(!1,{x:e.clientX,y:e.clientY})},onUserActivityChanged:function(e,o){this.props.onUserActivityChanged&&this.props.onUserActivityChanged(e,void 0,o)},render:function(){var e=this.props,o=e.ariaLabel,n=e.ariaValueMax,s=e.ariaValueMin,r=e.ariaValueNow,i=e.ariaValueText,u=e.children,l=e.className,c=e.onClick,p=e.onClickCapture,M=e.onContextMenu,h=e.onDoubleClick,C=e.onDoubleClickCapture,v=e.onKeyDown,y=e.onKeyDownCapture,d=e.onKeyPress,x=e.onKeyUp,f=e.onMouseUp,m=e.onMouseDown,D=e.onScroll,U=e.onTouchEnd,w=e.onTouchMove,b=e.onTouchStart,k=e.style,E=e.tabIndex;return a.createElement("div",{"aria-label":o,"aria-valuemin":s,"aria-valuemax":n,"aria-valuenow":r,"aria-valuetext":i,className:t(l),onClick:c,onClickCapture:p,onContextMenu:M,onDoubleClick:h,onDoubleClickCapture:C,onKeyDownCapture:y,onKeyDown:v,onKeyUp:x,onKeyPress:d,onMouseDown:m,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMouseMove:this.onMouseMove,onMouseUp:f,onScroll:D,onTouchEnd:U,onTouchMove:w,onTouchStart:b,style:k,tabIndex:E},u)}});o.exports=u});C.r("player/nfplayer/components/skipRecapButton.jsx",function(t,e,n){"use strict";var a=t("prop-types"),i=t("react"),r=t("create-react-class"),c=t("../../../akira/components/controls/flatButton.jsx"),l=r({displayName:"Recap",contextTypes:{getI18nString:a.func.isRequired},playMainTitle:function(){this.props.playMainTitle(this.props.mainVideoId)},onClick:function(){this.playMainTitle()},render:function(){var t=this.context.getI18nString("player/player","recap.skip.button");return i.createElement("div",{className:"recap-lower"},i.createElement(c,{label:t,ariaLabel:t,tabIndex:0,flatButton:!0,onClick:this.onClick}))}});e.exports=l});C.r("player/nfplayer/utils/getVolumeLevelIcon.js",function(e,u,o){"use strict";u.exports=function(e,u){return u?"volumeMuted":isNaN(e)||null===e||void 0===e||"number"==typeof e&&e>.666?"volumeMax":e>.333?"volumeMedium":"volumeLow"}});C.r("player/nfplayer/utils/makePercent.js",function(r,t,e){"use strict";function n(r){return r?Math.round(100*r*100)/100+"%":"0%"}t.exports=n});C.r("player/nfplayer/utils/optionalControl.js",function(r,n,t){"use strict";var e={shouldRender:function(r,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!1!==r&&(!0===r&&!t||(Array.isArray(r)?r.indexOf(n)>-1:r&&!t))}};n.exports=e});C.r("player/nfplayer/utils/time.js",function(t,r,e){"use strict";function n(t){var r=parseInt(t,10),e=0,n=0;return r>=3600&&(e=parseInt(r/3600,10),r%=3600),r>=60&&(n=parseInt(r/60,10),r%=60),{h:e,m:n,s:r}}r.exports={convert:function(t){var r="",e=n(t);return e.h>0&&(r=e.h+":",e.m<10&&(r+="0")),(r+=e.m+":")+(e.s>=10?e.s:"0"+e.s)},flooredTime:function(t,r){return r=r||10,Math.max(0,(t/r>>0)*r)},getFormattedTime:n}});C.r("utils/isRtl.js",function(t,r,l){"use strict";var s=t("lodash");r.exports=function(t){return!!t&&"rtl"===s.get(t||{},"locale.dir","ltr")}});C.r("player/nfplayer/components/controls/playerControlsLegacyStyles.jsx",function(e,t,o){"use strict";var n=e("react"),s=e("create-react-class"),r=e("prop-types"),i=e("lodash"),l=e("classnames"),c=e("./audioSubtitles.jsx"),a=e("./button.jsx"),p=e("../hoc/controlFocus.jsx"),d=e("./controlRow.jsx"),u=e("./episodeSelector/index.jsx"),h=e("./evidenceOverlay.jsx"),m=e("./exitButton.jsx"),E=e("./fullHitZone.jsx"),y=e("./fullscreen.jsx"),C=e("./mdx.jsx"),g=e("./next.jsx"),T=e("../../utils/optionalControl"),v=e("./play.jsx"),A=e("./playIcon.jsx"),S=e("../../common/playerControls"),P=e("../playerSurface.jsx"),F=e("../../common/PlayerUIState"),I=e("./progressBar.jsx"),x=e("./skipIntroCredits.jsx"),O=e("../../components/skipRecapButton.jsx"),R=e("./timeRemaining.jsx"),N=e("../../../../components/ux/UIMarkup.jsx"),b=(e("../../common/Video"),e("./volume.jsx")),k=e("../../types/staticConfiguration"),f=e("./controlLayoutShouldComponentUpdate"),L=e("./reportAProblemButton.jsx"),_="player/player",M=F.ACTIVATING,D=F.ACTIVE,w=F.DISABLED,j=F.IDLE,B=F.INACTIVE,V=F.LOADING,U=F.OVERLAYED,H=F.POWER_SAVE,K=F.TIMED_OUT,z=[B,H,M,V],W=s({displayName:"PlayerLegacyStylesControls",_bottomControlsEl:void 0,_bottomInteractiveElement:void 0,contextTypes:{actionCreators:r.object,getI18nString:r.func.isRequired,getModelData:r.func.isRequired,playerSession:r.object,staticConfiguration:k},getDefaultProps:function(){return{controls:!0}},shouldComponentUpdate:f,componentWillReceiveProps:function(e){e.uiState!==B||this.props.controlFocusState.holdingFocus||(this.props.controlFocusActions.releaseFocus(this.props.controlFocusState.focused),this.props.controlFocusActions.stopHover(this.props.controlFocusState.hovered)),e.player!==this.props.player&&this.props.controlFocusActions.resetControlFocus()},componentWillUnmount:function(){this._bottomControlsEl=void 0,this._bottomInteractiveElement=void 0},setBottomControlsEl:function(e){this._bottomControlsEl=e},setBottomInteractiveElement:function(e){this._bottomInteractiveElement=e},getTimedTextBounds:function(){var e=this.props.playerDimensions,t=this._bottomInteractiveElement||this._bottomControlsEl;if(!t)return{bottom:0};var o=t instanceof HTMLElement||"function"!=typeof t.getSubtitlesOffset?void 0:Math.min(Math.abs(t.getSubtitlesOffset()),1),n=t instanceof HTMLElement&&t.getBoundingClientRect?t.getBoundingClientRect():void 0,s=e&&"number"==typeof o&&"number"==typeof e.height?Math.max(0,o*(e.height-(n?n.height:0))):void 0,r="number"!=typeof s?Math.floor(e&&n&&(0!==n.width||0!==n.height)?Math.max(0,e.height-n.top):Math.max(0,n?n.height:0)):0;return{bottom:"number"==typeof s?s:r}},showReportAProblemDialog:function(){var e=this.context,t=e.actionCreators,o=e.playerSession;t&&t.showReportAProblemDialog&&t.showReportAProblemDialog({wasPlayerPaused:!!this.props.player&&this.props.player.getPaused(),sessionId:o.getId()})},renderVideoTitle:function(){var e=this.props.activeVideo;if(!e)return null;if(e.isEpisodic()){if(e.showEpisodeNumbers()){var t=this.context.getI18nString(_,"status.bar.episodic",{SHOW_TITLE:e.getTitle(),SEASON_LABEL:e.getSeason().getShortName(),EPISODE_NUMBER:e.getEpisodeNumber(),EPISODE_TITLE:e.getEpisodeTitle()});return n.createElement(N,{className:"ellipsize-text",tagType:"div",text:t})}var o=this.context.getI18nString(_,"hidden.episode.numbers.status.with.show.title",{SHOW_TITLE:e.getTitle(),EPISODE_TITLE:e.getEpisodeTitle()});return n.createElement(N,{className:"ellipsize-text",tagType:"div",text:o})}return n.createElement("h4",{className:"ellipsize-text"},e.getTitle()||"")},getControlElements:function(){var e=[],t=this.context.staticConfiguration,o=t.playbackSupport,s=t.shouldAutoCast,r=this.props,i=r.activeVideo,a=r.audioTracks,p=r.controls,d=r.hasPreplay,h=r.isFullScreen,m=r.mainVideoId,E=r.metadata,P=r.muted,F=r.onCastToTarget,I=r.onClickPlay,x=r.onFullScreenChange,R=r.onUserActivityChanged,N=r.paused,k=r.player,f=r.playMainTitle,M=r.playNextTitle,w=r.selectedAudioTrack,j=r.selectedTextTrack,B=r.setAudioTrack,V=r.setKeepActive,U=r.setTimedTextTrack,H=r.textTracks,K=r.timedTracksLoaded,z=r.trackId,W=r.uiState,G=r.videoId,q=r.volume,Y=this.context.getModelData("truths"),Z=!!i&&i.getNextEpisode(),J=Y.mdx2Enabled,Q=Y.reportAProblemControlEnabled;return T.shouldRender(p,v.CONTROL_NAME)&&e.push(n.createElement(v,{key:"play",controlFocusActions:this.props.controlFocusActions,controlFocusState:this.props.controlFocusState,onClick:I,onPointerEnter:this.props.onControlPointerEnter,onPointerLeave:this.props.onControlPointerLeave,paused:N,player:k})),"yes"!==o.READ_ONLY_AUDIO&&T.shouldRender(p,b.CONTROL_NAME)&&e.push(n.createElement(b,{key:"volume",controlFocusActions:this.props.controlFocusActions,controlFocusState:this.props.controlFocusState,muted:P,noPadding:!1,onUserActivityChanged:R,player:k,setKeepActive:V,volume:q,tooltip:null})),T.shouldRender(p,S.VIDEO_TITLE)&&e.push(n.createElement("div",{key:"videoTitle",className:l("PlayerControls--control-element","text-control","video-title",{"PlayerControls--control-element-hidden":W!==D,"show-last-border":!Q})},this.renderVideoTitle())),d&&T.shouldRender(p,S.SKIP_RECAP)&&e.push(n.createElement(O,{key:"skipRecap",mainVideoId:m,playMainTitle:f})),Q&&T.shouldRender(p,L.CONTROL_NAME)&&e.push(n.createElement(L,{key:"rap",controlFocusActions:this.props.controlFocusActions,controlFocusState:this.props.controlFocusState,keepRight:!0,setKeepActive:V,onUserActivityChanged:R,onButtonClick:this.showReportAProblemDialog})),i&&Z&&T.shouldRender(p,g.CONTROL_NAME)&&e.push(n.createElement(g,{key:"next",controlFocusActions:this.props.controlFocusActions,controlFocusState:this.props.controlFocusState,activeVideo:i,keepRight:!0,playIconElement:n.createElement(A,{size:A.MEDIUM,centered:!0}),playNextTitle:M,onUserActivityChanged:R,setKeepActive:V,showVideoProgress:!1,trackId:E.getNextEpisodeTrackId(),titleText:Z.showEpisodeNumbers()?this.context.getI18nString(_,"next.episode.popup.title",{EPISODE_NUMBER:Z.getEpisodeNumber(),EPISODE_TITLE:Z.getEpisodeTitle()}):Z.getEpisodeTitle(),tooltip:null})),i&&i.isEpisodic()&&T.shouldRender(p,S.EPISODE_SELECTOR)&&e.push(n.createElement(u,{key:"episodes",controlFocusActions:this.props.controlFocusActions,controlFocusState:this.props.controlFocusState,activeVideo:i,displayActiveSeasonCheckmark:!1,playIconElement:n.createElement(A,{transparent:!0,centered:!0,size:A.MEDIUM}),displayShowTitle:!0,keepRight:!0,noPadding:!1,onUserActivityChanged:R,playNextTitle:M,setKeepActive:V,showActiveVideoProgress:!0,showVideoProgress:!0,topAligned:!1,trackId:E.getEpisodeSelectorTrackId(),tooltip:void 0})),(a||H)&&T.shouldRender(p,c.CONTROL_NAME)&&e.push(n.createElement(c,{key:"subdub",audioTracks:a,controlFocusActions:this.props.controlFocusActions,controlFocusState:this.props.controlFocusState,keepRight:!0,metadata:E,noPadding:!1,onUserActivityChanged:R,selectedAudioTrack:w,selectedTextTrack:j,setAudioTrack:B,setKeepActive:V,setTimedTextTrack:U,textTracks:H,timedTracksLoaded:K,tooltip:null})),J&&i&&i.canBeCasted()&&T.shouldRender(p,C.CONTROL_NAME)&&e.push(n.createElement(C,{key:"mdx",activeVideo:i,controlFocusActions:this.props.controlFocusActions,controlFocusState:this.props.controlFocusState,metadata:E,onCast:F,onPointerEnter:this.props.onControlPointerEnter,onPointerLeave:this.props.onControlPointerLeave,setKeepActive:V,shouldAutoCast:s,trackId:z,videoId:G,withTooltip:!1})),T.shouldRender(p,y.CONTROL_NAME)&&e.push(n.createElement(y,{key:"fullscreen",controlFocusActions:this.props.controlFocusActions,controlFocusState:this.props.controlFocusState,fullScreenOnIconName:"bvuiFullScreenOn",fullScreenOffIconName:"bvuiFullScreenOff",isFullScreen:h,metadata:E,onChange:x,onPointerEnter:this.props.onControlPointerEnter,onPointerLeave:this.props.onControlPointerLeave,setKeepActive:V,tooltip:null})),e},render:function(){var e=this.props,t=e.activeVideo,o=e.controlFocusState,s=e.controls,r=e.controlsMainHitzoneElement,c=e.exitPlayer,p=e.hidePlayerCloseButton,u=e.isDim,y=e.onClickPlay,C=e.onFullScreenChange,g=e.onUserActivityChanged,v=e.paused,A=e.player,O=e.playerDimensions,N=e.scrubbing,b=e.setKeepActive,k=e.shouldFadePlayerControlsBar,f=e.timelineElementClass,L=e.timelineElementProps,_=e.uiState,M=e.isFullScreen,B=this.context.staticConfiguration,H=B.injectSetBottomInteractiveElementAPI,W=B.isRTL,G=B.skipCreditsEnabled,q=B.showDurationOnlyInMinutes,Y=B.skipCreditsDisplayDuration,Z=_===D,J=f,Q=l("controls","legacy-controls-styles","PlayerControls--with-dim-background",{active:_===D,inactive:i.contains(z,_),"is-scrubbing":N,dimmed:u,overlayed:_===U,loading:_===V,"playback-timedout":_===K}),X=l("PlayerControls--container",{"PlayerControls--low-power":_===F.POWER_SAVE}),$=l("PlayerControls--bottom-controls","nfp-control-row","bottom-controls",{"PlayerControls--bottom-controls-faded":k,scrubbing:N}),ee=Boolean(o.focused&&S.PROGRESS_BAR!==o.focused),te=l("PlayerControls--progress-control-row",{"PlayerControls--progress-control-row-standard":!J,"PlayerControls--progress-control-row-hidden":ee}),oe=this.getControlElements();return n.createElement("div",{className:Q},t&&G&&_!==K&&n.createElement(x,{skipCreditsDisplayDuration:Y,controlsHidden:_!==D,creditMarkers:t.getCreditMarkers(),fastForward:A?A.fastForward:void 0,player:A,videoType:t.getType()}),n.createElement("div",{className:X},T.shouldRender(s,h.CONTROL_NAME)&&t&&n.createElement(h,{activeVideo:t,showContents:u&&_!==K&&_===j,showDurationOnlyInMinutes:q}),T.shouldRender(s,E.CONTROL_NAME)&&n.createElement(E,{controlFocusActions:this.props.controlFocusActions,controlFocusState:this.props.controlFocusState,enableClickToPlay:_===K,onClickPlay:y,onFullScreenChange:C,onUserActivityChanged:g,paused:v,uiState:_,isFullScreen:M}),r&&n.createElement("div",{className:"main-hitzone-element-container"},H?n.cloneElement(r,{setBottomInteractiveElement:this.setBottomInteractiveElement}):r),_!==w&&n.createElement(P,{className:"PlayerControls--main-controls",onUserActivityChanged:g},n.createElement(d,{position:d.TOP_LEFT},c&&!p&&T.shouldRender(s,m.CONTROL_NAME)&&n.createElement(m,{controlFocusActions:this.props.controlFocusActions,controlFocusState:this.props.controlFocusState,ignoreFocusForTooltipRendering:!0,iconName:"bvuiExit",onClick:c,onPointerEnter:this.props.onControlPointerEnter,onPointerLeave:this.props.onControlPointerLeave,tooltipBeforeElementActive:!0,tooltipAlignment:W?a.TOOLTIP_LEFT:a.TOOLTIP_RIGHT,tooltipPosition:a.TOOLTIP_CENTER,iconFilter:"#dropShadow"})),_!==K&&n.createElement("div",{className:$,ref:this.setBottomControlsEl},n.createElement("div",{className:te},!J&&T.shouldRender(s,I.CONTROL_NAME)&&n.createElement(I,{controlFocusActions:this.props.controlFocusActions,controlFocusState:this.props.controlFocusState,isHidden:!Z,onPointerEnter:this.props.onControlPointerEnter,onPointerLeave:this.props.onControlPointerLeave,player:A,playerDimensions:O,setKeepActive:b,trickplayVideoWidthRatio:.17}),!J&&T.shouldRender(s,R.CONTROL_NAME)&&n.createElement(R,{isHidden:!Z,isBlurred:ee,player:A}),J&&T.shouldRender(s,I.CONTROL_NAME)&&n.createElement(J,Object.assign({isTimelineOverlapped:ee,setKeepActive:b,controlsHidden:_!==D},L))),oe&&oe.length>0&&n.createElement("div",{className:"PlayerControls--button-control-row"},oe)))))}});t.exports=p(W,{releaseDelay:1e3})});C.r("player/nfplayer/components/prePlay/prePlayCacheHandler.js",function(t,a,e){"use strict";var r=t("babel-runtime/helpers/toConsumableArray"),i=function(t){return t&&t.__esModule?t:{default:t}}(r),n=t("../../../../utils/pathEvaluatorUtils"),s={_cachedPrePlayPaths:[],invalidateAllCachedPrePlayData:function(t){t.invalidate.apply(t,(0,i.default)(this._cachedPrePlayPaths)),this._cachedPrePlayPaths=[]},_paramsToBasePath:function(t){var a=t.basePath;return a||(a=this.getBasePath(t.videoId,t.trackId)),a},_updateCacheLists:function(t,a){this._cachedPrePlayPaths.push(this.getExperiencePath({videoId:t,trackId:a})),this._cachedPrePlayPaths.push(this.getPlaybackVideosPath({videoId:t,trackId:a})),this._cachedPrePlayPaths.push(this.getBasePath(t,a))},getBasePath:function(t){return["videos",t,"current","preplay",arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1]},getExperiencePath:function(t){var a=["experience"];return this._paramsToBasePath(t).concat(a)},getPlaybackVideosPath:function(t){var a=["playbackVideos",{from:0,to:1}];return this._paramsToBasePath(t).concat(a)},getPrePlayPaths:function(t,a,e){if(a="number"==typeof a||"string"==typeof a?a:-1,t&&a){var r=this.getBasePath(t,a);return[this.getExperiencePath({basePath:r}),this.getPlaybackVideosPath({basePath:r}).concat([e])]}return[]},requestPrePlay:function(t){var a=this,e=window.pathEvaluator,r=t.videoId,i=t.trackId,s=t.playbackVideoPaths,h=t.additionalPaths,o=void 0===h?[]:h,c=o.concat(this.getPrePlayPaths(r,i,s));return n.toObservable(e.get.apply(e,c)).do(function(){a._updateCacheLists(r,i)})},requestPrePlayFromList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=window.pathEvaluator,s=t.filter(function(t){return!!t}).map(function(t){return{videoId:t.videoId,trackId:t.trackId}});return s.forEach(function(t){r=r.concat(a.getPrePlayPaths(t.videoId,t.trackId,e))}),n.toObservable(i.get.apply(i,r)).do(function(){s.forEach(function(t){var e=t.videoId,r=t.trackId;a._updateCacheLists(e,r)})})}};a.exports=s});C.r("player/nfplayer/components/spinner.jsx",function(e,n,r){"use strict";var t=e("react"),a=e("create-react-class"),s=e("prop-types"),p=a({displayName:"Spinner",contextTypes:{getI18nString:s.func.isRequired},shouldComponentUpdate:function(e){return e.percentage!==this.props.percentage},render:function(){var e=this.props.percentage;return void 0!==e?t.createElement("div",{className:"PlayerSpinner--container"},t.createElement("div",{className:"nf-loading-spinner"}),t.createElement("span",{className:"PlayerSpinner--percentage"},this.context.getI18nString("player/player","progress.percentage",{PERCENTAGE:e}))):t.createElement("div",{className:"nf-loading-spinner"})}});n.exports=p});C.r("player/nfplayer/components/svgDefs.jsx",function(s,e,t){"use strict";function o(s){var e=s&&s.truths&&s.truths.data||{};return e.useNeoControlsLayout?a:e.hasNFPSolidIcons?n:r}var r=s("./svgDefsOpaque.jsx"),n=s("./svgDefsSolid.jsx"),a=s("./svgDefsNeo.jsx");e.exports=o});C.r("player/nfplayer/components/svgDefsSolid.jsx",function(e,L,t){"use strict";var a=e("react");e("create-react-class");L.exports=a.createElement("svg",{style:{height:0,width:0,position:"absolute"},xmlns:"http://www.w3.org/2000/svg"},a.createElement("defs",null,a.createElement("symbol",{id:"nfplayerFullscreen",viewBox:"0 0 18 18"},a.createElement("path",{d:"M7.41421356,8 L8,7.41421356 L8,6.58578644 L7.70710678,6.29289322 L3.41421356,2 L8,2 L8,0 L0,0 L0,8 L2,8 L2,3.41421356 L6.29289322,7.70710678 L6.58578644,8 L7.41421356,8 Z M11.4142136,10 L16,14.5857864 L16,10 L18,10 L18,18 L10,18 L10,16 L14.5857864,16 L10,11.4142136 L10,10.5857864 L10.5857864,10 L11.4142136,10 Z"})),a.createElement("symbol",{id:"nfplayerWindowed",viewBox:"0 0 18 18"},a.createElement("path",{d:"M17.4142136,18 L18,17.4142136 L18,16.5857864 L17.7071068,16.2928932 L13.4142136,12 L18,12 L18,10 L10,10 L10,18 L12,18 L12,13.4142136 L16.2928932,17.7071068 L16.5857864,18 L17.4142136,18 Z M1.41421356,2.49800181e-16 L6,4.58578644 L6,0 L8,0 L8,8 L0,8 L0,6 L4.58578644,6 L3.60822483e-16,1.41421356 L0,0.585786438 L0.585786438,8.32667268e-17 L1.41421356,0 Z"})),a.createElement("symbol",{id:"nfplayerReplay",viewBox:"0 0 24 24"},a.createElement("path",{d:"M3,10.5V10C3,4.5,7.5,0,13,0s10,4.5,10,10s-4.5,10-10.1,10c-1.9,0-3.9-0.6-5.5-1.7l-0.8-0.6l1.1-1.7 l0.8,0.6C9.9,17.5,11.4,18,13,18c4.4,0,8-3.6,8-8s-3.6-8-8-8s-8,3.6-8,8v0.7L6.8,9l1.4,1.4c0,0-2.8,2.7-4.1,4.1 c0,0-4.1-4.1-4.1-4.1L1.4,9L3,10.5z"})),a.createElement("symbol",{id:"nfplayerSubtitles",viewBox:"0 0 24 20"},a.createElement("path",{d:"M14,16 L0,16 L0,1 L24,1 L24,16 L20,16 L20,20 L14,16 Z M4,6 L4,8 L6,8 L6,6 L4,6 Z M15,10 L15,12 L17,12 L17,10 L15,10 Z M4,10 L4,12 L13,12 L13,10 L4,10 Z M8,6 L8,8 L12,8 L12,6 L8,6 Z M14,6 L14,8 L19,8 L19,6 L14,6 Z"})),a.createElement("symbol",{id:"nfplayerExit",viewBox:"0 0 18 18"},a.createElement("path",{d:"M7.53821454,9 L0,1.46178546 L1.46178546,0 L9,7.53821454 L16.5382145,0 L18,1.46178546 L10.4617855,9 L18,16.5382145 L16.5382145,18 L9,10.4617855 L1.46178546,18 L0,16.5382145 L7.53821454,9 Z"})),a.createElement("symbol",{id:"bvuiExit",viewBox:"0 0 36 36"},a.createElement("path",{d:"M312,392.74a0.34,0.34,0,0,0-.41-0.34h-6.79v-3.71c0-.3-0.34-0.41-0.45-0.26l-6.79,6.79a0.32,0.32,0,0,0-.11.22,0.29,0.29,0,0,0,.11.26l6.79,6.75a0.26,0.26,0,0,0,.19.11,0.23,0.23,0,0,0,.19,0,0.27,0.27,0,0,0,.19-0.3v-3.71h6.71a0.4,0.4,0,0,0,.38-0.3v-5.48Zm-6.15,17.85A15.13,15.13,0,1,1,321,395.44,15.11,15.11,0,0,1,305.89,410.59Zm0-33.15a18,18,0,1,0,18,18A18.09,18.09,0,0,0,305.89,377.44Z",transform:"translate(-287.85 -377.44)"})),a.createElement("symbol",{id:"nfplayerBack",viewBox:"0 0 13 18"},a.createElement("polygon",{points:"9.53821454 0 11 1.46178546 3.46178546 9 11 16.5382145 9.53821454 18 0.538214543 9"})),a.createElement("symbol",{id:"nfplayerNextEpisode",viewBox:"0 0 15 18"},a.createElement("path",{d:"M13,9.64285714 L0,18 L3.55271368e-15,8.8817842e-16 L13,8.35714286 L13,8.8817842e-16 L15,8.8817842e-16 L15,18 L13,18 L13,9.64285714 Z"})),a.createElement("symbol",{id:"nfplayerEpisodes",viewBox:"0 0 27 18"},a.createElement("path",{d:"M21,6 L21,18 L0,18 L0,6 L21,6 Z M9,2 L9,0 L27,0 L27,9 L25,9 L25,2 L9,2 Z M4,5 L4,3 L24,3 L24,14 L22,14 L22,5 L4,5 Z"})),a.createElement("symbol",{id:"nfplayerPauser",viewBox:"0 0 66 100"},a.createElement("path",{d:"M25,97.7083333 L25,2.29166667 C25,1.04166667 24.0625,0 22.7083333,0 L2.29166667,0 C0.9375,0 0,1.04166667 0,2.29166667 L0,97.7083333 C0,99.0625 0.9375,100 2.29166667,100 L22.7083333,100 C24.0625,100 25,99.0625 25,97.7083333 L25,97.7083333 Z M65.4166667,97.7083333 L65.4166667,2.29166667 C65.4166667,0.833333333 64.375,0 63.125,0 L42.7083333,0 C41.25,0 40.3125,0.833333333 40.3125,2.29166667 L40.3125,97.7083333 C40.3125,99.0625 41.4583333,100 42.7083333,100 L63.125,100 C64.375,100 65.4166667,99.0625 65.4166667,97.7083333 L65.4166667,97.7083333 Z"})),a.createElement("symbol",{id:"nfplayerPlay",viewBox:"0 0 31.5 36"},a.createElement("path",{d:"M320.8,394.12L293,378a2.79,2.79,0,0,0-1.2-.34c-0.86,0-1.39.68-1.43,1.88v32.25c0,1.2.56,1.88,1.43,1.88a2.79,2.79,0,0,0,1.2-.34l27.83-16.16a1.73,1.73,0,0,0,1-1.5A1.87,1.87,0,0,0,320.8,394.12Z",transform:"translate(-290.35 -377.62)"})),a.createElement("symbol",{id:"nfplayerPause",viewBox:"0 0 15 22"},a.createElement("path",{d:"M0,0 L4,0 L4,22 L0,22 L0,0 Z M10,0 L14,0 L14,22 L10,22 L10,0 Z"})),a.createElement("symbol",{id:"nfplayerStop",viewBox:"0 0 32 32"},a.createElement("path",{d:"M30.2190978,32 L1.78090217,32 C0.780785003,32 0,31.18737 0,30.2182127 L0,1.78178729 C0,0.781699423 0.780785003,0 1.78090217,0 L30.2190978,0 C31.219215,0 32,0.781699423 32,1.78178729 L32,30.2182127 C32,31.18737 31.219215,32 30.2190978,32 Z"})),a.createElement("symbol",{id:"nfplayerMdx",viewBox:"0 0 22 18"},a.createElement("path",{d:"M0,15 L0,18 L3,18 C3,16.34 1.66,15 0,15 L0,15 Z M0,11 L0,13 C2.76,13 5,15.24 5,18 L7,18 C7,14.13 3.87,11 0,11 L0,11 Z M0,7 L0,9 C4.97,9 9,13.03 9,18 L11,18 C11,11.92 6.07,7 0,7 L0,7 Z M20,0 L2,0 C0.9,0 0,0.9 0,2 L0,5 L2,5 L2,2 L20,2 L20,16 L13,16 L13,18 L20,18 C21.1,18 22,17.1 22,16 L22,2 C22,0.9 21.1,0 20,0 L20,0 Z"})),a.createElement("symbol",{id:"nfplayerMdxFull",viewBox:"0 0 22 18"},a.createElement("path",{d:"M0,15 L0,18 L3,18 C3,16.34 1.66,15 0,15 L0,15 Z M0,11 L0,13 C2.76,13 5,15.24 5,18 L7,18 C7,14.13 3.87,11 0,11 L0,11 Z M18,4 L4,4 L4,5.63 C7.96,6.91 11.09,10.04 12.37,14 L18,14 L18,4 L18,4 Z M0,7 L0,9 C4.97,9 9,13.03 9,18 L11,18 C11,11.92 6.07,7 0,7 L0,7 Z M20,0 L2,0 C0.9,0 0,0.9 0,2 L0,5 L2,5 L2,2 L20,2 L20,16 L13,16 L13,18 L20,18 C21.1,18 22,17.1 22,16 L22,2 C22,0.9 21.1,0 20,0 L20,0 Z"})),a.createElement("symbol",{id:"nfplayerCheck",viewBox:"0 0 17 15"},a.createElement("polygon",{points:"6.02747258 11.8427056 1.41421681 7.22946045 0 8.64367402 6.0274725 15 16.6399994 1.21574989 15.0519302 0"})),a.createElement("symbol",{id:"nfplayerOpticalCenterPlay",viewBox:"0 0 26 22"},a.createElement("polygon",{transform:"translate(16.000000, 11.000000) scale(-1, 1) rotate(-90.000000) translate(-16.000000, -11.000000) ",points:"16 1 27 21 5 21"})),a.createElement("symbol",{id:"nfplayerOpticalCenterPause",viewBox:"0 0 26 22"},a.createElement("path",{d:"M6,0 L10,0 L10,22 L6,22 L6,0 Z M16,0 L20,0 L20,22 L16,22 L16,0 Z"})),a.createElement("symbol",{id:"nfplayerBackTen",viewBox:"0 0 20 24"},a.createElement("path",{d:"M9.27569912,3.09626933 L10,3.09626933 C15.5199798,3.09626933 20,7.51885342 20,12.9808847 C20,18.442916 15.5199798,22.8655001 10,22.8655001 C4.48002025,22.8655001 0,18.442916 0,12.9808847 L0,11.9808847 L2,11.9808847 L2,12.9808847 C2,17.3325286 5.57885426,20.8655001 10,20.8655001 C14.4211457,20.8655001 18,17.3325286 18,12.9808847 C18,8.62924084 14.4211457,5.09626933 10,5.09626933 L9.28031752,5.09626933 L10.9703873,6.76923077 L9.56532696,8.19253867 L5.41585932,4.09626933 L9.56532696,0 L10.9703873,1.4233079 L9.27569912,3.09626933 Z M3.18666384,4.10389331 L5.6054898,1.37496146 L4.10879592,0.0483464356 L0.520864257,4.09626933 L4.10879592,8.14419223 L5.6054898,6.8175772 L3.18666384,4.10389331 Z"}),a.createElement("path",{d:"M8.295,16.7 L8.295,9.7 L7.165,9.7 C7.1249998,9.966668 7.0416673,10.1899991 6.915,10.37 C6.7883327,10.5500009 6.63333425,10.6949995 6.45,10.805 C6.26666575,10.9150006 6.06000115,10.9916665 5.83,11.035 C5.59999885,11.0783336 5.3616679,11.0966667 5.115,11.09 L5.115,12.16 L6.875,12.16 L6.875,16.7 L8.295,16.7 Z M11.065,13.17 C11.065,13.0499994 11.0666667,12.9050009 11.07,12.735 C11.0733334,12.5649992 11.0849999,12.3900009 11.105,12.21 C11.1250001,12.0299991 11.1583331,11.8516676 11.205,11.675 C11.2516669,11.4983325 11.3166663,11.3400007 11.4,11.2 C11.4833338,11.0599993 11.5899994,10.9466671 11.72,10.86 C11.8500007,10.7733329 12.0116657,10.73 12.205,10.73 C12.3983343,10.73 12.561666,10.7733329 12.695,10.86 C12.828334,10.9466671 12.9383329,11.0599993 13.025,11.2 C13.1116671,11.3400007 13.1766665,11.4983325 13.22,11.675 C13.2633336,11.8516676 13.2966666,12.0299991 13.32,12.21 C13.3433335,12.3900009 13.3566667,12.5649992 13.36,12.735 C13.3633334,12.9050009 13.365,13.0499994 13.365,13.17 C13.365,13.370001 13.3583334,13.6116653 13.345,13.895 C13.3316666,14.1783348 13.2900004,14.4516654 13.22,14.715 C13.1499997,14.9783347 13.0366675,15.2033324 12.88,15.39 C12.7233326,15.5766676 12.4983348,15.67 12.205,15.67 C11.9183319,15.67 11.6983341,15.5766676 11.545,15.39 C11.3916659,15.2033324 11.2800004,14.9783347 11.21,14.715 C11.1399997,14.4516654 11.0983334,14.1783348 11.085,13.895 C11.0716666,13.6116653 11.065,13.370001 11.065,13.17 L11.065,13.17 Z M9.645,13.17 C9.645,13.8700035 9.71333265,14.4549976 9.85,14.925 C9.98666735,15.3950023 10.1716655,15.7699986 10.405,16.05 C10.6383345,16.3300014 10.9099984,16.5299994 11.22,16.65 C11.5300015,16.7700006 11.8583316,16.83 12.205,16.83 C12.5583351,16.83 12.8899984,16.7700006 13.2,16.65 C13.5100015,16.5299994 13.7833321,16.3300014 14.02,16.05 C14.2566678,15.7699986 14.4433326,15.3950023 14.58,14.925 C14.7166673,14.4549976 14.785,13.8700035 14.785,13.17 C14.785,12.4899966 14.7166673,11.9183356 14.58,11.455 C14.4433326,10.9916643 14.2566678,10.6200014 14.02,10.34 C13.7833321,10.0599986 13.5100015,9.8600006 13.2,9.74 C12.8899984,9.6199994 12.5583351,9.56 12.205,9.56 C11.8583316,9.56 11.5300015,9.6199994 11.22,9.74 C10.9099984,9.8600006 10.6383345,10.0599986 10.405,10.34 C10.1716655,10.6200014 9.98666735,10.9916643 9.85,11.455 C9.71333265,11.9183356 9.645,12.4899966 9.645,13.17 L9.645,13.17 Z"})),a.createElement("symbol",{id:"volumeMuted",viewBox:"0 0 24 20"},a.createElement("polygon",{points:"12 20 6.01792115 15 1 15 1 5 6.01792097 5 12 0"}),a.createElement("path",{d:"M20.4142136,10 L23.7071068,13.2928932 L22.2928932,14.7071068 L19,11.4142136 L15.7071068,14.7071068 L14.2928932,13.2928932 L17.5857864,10 L14.2928932,6.70710678 L15.7071068,5.29289322 L19,8.58578644 L22.2928932,5.29289322 L23.7071068,6.70710678 L20.4142136,10 Z"})),a.createElement("symbol",{id:"volumeLow",viewBox:"0 0 24 20"},a.createElement("path",{d:"M15,20 L9.01792115,15 L4,15 L4,5 L9.01792097,5 L15,0 L15,20 Z M18.0799298,14.7489808 C20.711708,12.1266018 20.711708,7.87339824 18.0799298,5.25101922 L16.6682484,6.66776042 C18.5156018,8.50851616 18.5156018,11.4914838 16.6682484,13.3322396 L18.0799298,14.7489808 Z"})),a.createElement("symbol",{id:"volumeMedium",viewBox:"0 0 24 20"},a.createElement("path",{d:"M13,20 L7.01792115,15 L2,15 L2,5 L7.01792097,5 L13,0 L13,20 Z M16.0799298,14.7489808 C18.711708,12.1266018 18.711708,7.87339824 16.0799298,5.25101922 L14.6682484,6.66776042 C16.5156018,8.50851616 16.5156018,11.4914838 14.6682484,13.3322396 L16.0799298,14.7489808 Z M18.824322,16.7692859 C22.5758831,13.0311232 22.5758831,6.96887685 18.824322,3.23071414 L17.4126406,4.64745533 C20.3797769,7.60399476 20.3797769,12.3960052 17.4126406,15.3525447 L18.824322,16.7692859 Z"})),a.createElement("symbol",{id:"volumeMax",viewBox:"0 0 24 20"},a.createElement("path",{d:"M12,20 L6.01792115,15 L1,15 L1,5 L6.01792097,5 L12,0 L12,20 Z M15.0799298,14.7489808 C17.711708,12.1266018 17.711708,7.87339824 15.0799298,5.25101922 L13.6682484,6.66776042 C15.5156018,8.50851616 15.5156018,11.4914838 13.6682484,13.3322396 L15.0799298,14.7489808 Z M17.824322,16.7692859 C21.5758831,13.0311232 21.5758831,6.96887685 17.824322,3.23071414 L16.4126406,4.64745533 C19.3797769,7.60399476 19.3797769,12.3960052 16.4126406,15.3525447 L17.824322,16.7692859 Z M20.3686825,18.7809676 C25.2400266,13.9270212 25.2400266,6.05573205 20.3686825,1.20178565 L18.9570011,2.61852685 C23.0439204,6.69084997 23.0439204,13.2919032 18.9570011,17.3642264 L20.3686825,18.7809676 Z"})),a.createElement("symbol",{id:"bvuiFullScreenOff",viewBox:"0 0 50.85 35"},a.createElement("path",{d:"M326.05,399.3v8.4a1.68,1.68,0,0,1-1.16,1.57h-9.08a1.41,1.41,0,0,1-1.13-1.46,1.34,1.34,0,0,1,1.13-1.42h7.35V399.3a1.41,1.41,0,0,1,1.46-1.16A1.53,1.53,0,0,1,326.05,399.3Zm-30.75,10h-9.08a1.65,1.65,0,0,1-1.13-1.57v-8.4a1.47,1.47,0,0,1,1.46-1.16A1.57,1.57,0,0,1,288,399.3v7.09h7.28a1.43,1.43,0,0,1,1.13,1.42A1.5,1.5,0,0,1,295.3,409.28Zm20.51-26.48h9.08a1.62,1.62,0,0,1,1.16,1.61v8.4a1.46,1.46,0,0,1-1.42,1.09,1.36,1.36,0,0,1-1.46-1.09v-7.16h-7.35a1.32,1.32,0,0,1-1.13-1.42A1.46,1.46,0,0,1,315.81,382.8Zm-30.71,10v-8.4a1.59,1.59,0,0,1,1.13-1.61h9.08a1.46,1.46,0,0,1,1.13,1.43,1.32,1.32,0,0,1-1.13,1.42H288v7.16a1.51,1.51,0,0,1-1.46,1.09A1.41,1.41,0,0,1,285.1,392.81Zm45.75,19V379.95c0-1.24-1-1.87-2.44-1.95H282.66c-2.14,0-2.66,1.27-2.66,2.48v31.69c0,1.05,1.31,1.76,2.55,1.84h45.86C330.44,414,330.85,413,330.85,411.79Z",transform:"translate(-280 -378)"})),a.createElement("symbol",{id:"bvuiFullScreenOn",viewBox:"0 0 50.55 36"},a.createElement("path",{d:"M330.85,412.27v-9.56a1.43,1.43,0,0,0-1.43-1.12,1.45,1.45,0,0,0-1.5,1.13V411h-7.24a1.49,1.49,0,0,0-1.2,1.43,1.43,1.43,0,0,0,1.2,1.43h9A1.62,1.62,0,0,0,330.85,412.27Zm-49.43,1.58h9.08a1.36,1.36,0,0,0,1.16-1.43A1.49,1.49,0,0,0,290.5,411h-7.28v-8.29a1.51,1.51,0,0,0-2.93,0v9.56A1.58,1.58,0,0,0,281.43,413.85Zm42.23-9.3V385.72a0.65,0.65,0,0,0-.75-0.68H288.29a0.65,0.65,0,0,0-.75.68v18.83c0,0.45.26,0.6,0.75,0.6H322.9C323.39,405.15,323.65,405,323.65,404.55Zm6.08-26.7h-9a1.43,1.43,0,0,0-1.2,1.43,1.4,1.4,0,0,0,1.2,1.43h7.24V389a1.45,1.45,0,0,0,1.5,1.13,1.43,1.43,0,0,0,1.43-1.12v-9.64A1.59,1.59,0,0,0,329.73,377.85Zm-49.43,1.5V389a1.51,1.51,0,0,0,2.93,0V380.7h7.28a1.34,1.34,0,0,0,1.16-1.43,1.36,1.36,0,0,0-1.16-1.43h-9.08A1.55,1.55,0,0,0,280.3,379.35Z",transform:"translate(-280.3 -377.85)"})),a.createElement("filter",{id:"dropShadow"},a.createElement("feGaussianBlur",{in:"SourceAlpha",stdDeviation:"3"}),a.createElement("feOffset",{dx:"0",dy:"0",result:"offsetblur"}),a.createElement("feFlood",{floodColor:"rgba(0,0,0,0.5)"}),a.createElement("feComposite",{in2:"offsetblur",operator:"in"}),a.createElement("feMerge",null,a.createElement("feMergeNode",null),a.createElement("feMergeNode",{in:"SourceGraphic"}))),a.createElement("linearGradient",{id:"legacyPlayerControlGradientDark",x1:"0",x2:"0",y1:"0",y2:"1"},a.createElement("stop",{offset:"0%",stopColor:"#cacaca"}),a.createElement("stop",{offset:"100%",stopColor:"#6a6a6a"})),a.createElement("linearGradient",{id:"legacyPlayerControlGradientLight",x1:"0",x2:"0",y1:"0",y2:"1"},a.createElement("stop",{offset:"0%",stopColor:"#ffffff"}),a.createElement("stop",{offset:"100%",stopColor:"#858585"}))))});C.r("player/nfplayer/components/timedText/timedTextContainer.jsx",function(e,t,s){"use strict";var n=(e("prop-types"),e("react")),r=e("create-react-class"),a=e("lodash"),o=e("../videoAspectContainer.jsx"),i=e("../../../components/imageBasedTimedText.jsx"),p=r({displayName:"TimedTextContainer",areBoundsEqual:function(e,t){return a.isEqual(e,t)},getDefaultProps:function(){return{bounds:{bottom:0}}},shouldComponentUpdate:function(e){return e.track!==this.props.track||e.player!==this.props.player||!this.areBoundsEqual(e.bounds,this.props.bounds)||!this.areBoundsEqual(e.playerDimensions,this.props.playerDimensions)||e.config!==this.props.config},componentWillReceiveProps:function(e){var t=this.props,s=t.bounds,n=t.track,r=t.player;if(!this.areBoundsEqual(e.bounds,s)){var a=r!==e.player?e.player:r,o=n!==e.track?e.track:n;a&&o&&o.bcp47&&a.setTimedTextBounds(e.bounds)}},componentDidMount:function(){var e=this.props,t=e.track,s=e.bounds,n=e.player;t&&t.bcp47&&n&&n.setTimedTextBounds(s)},render:function(){var e=this.props,t=e.config,s=e.player,r=e.bounds,a=e.track,p=e.playerDimensions;return this.props.track&&this.props.track.isImageBased?n.createElement(o,{width:16,height:9},function(e){var o=e.aspectElementDimensions;return n.createElement(i,{ccQNRsla:t.ccQNRsla,ccQNREnabled:t.ccQNREnabled,key:a?a.displayName:"empty",useNFPlayerInterface:!0,videoPlayer:s,timedTextBounds:r,playerDimensions:p,aspectDimensions:o})}):null}});t.exports=p});C.r("player/nfplayer/components/videoAspectContainer.jsx",function(e,t,s){"use strict";var n=(e("prop-types"),e("react")),i=e("create-react-class"),p=i({displayName:"VideoAspectContainer",getPaddingTop:function(){return this.props.aspectOverride?100*this.props.aspectOverride+"%":this.props.height/this.props.width*100+"%"},receiveAspectElementRef:function(e){this._aspectElementRef=e},render:function(){return n.createElement("div",{className:"nfp-aspect-wrapper"},n.createElement("div",{className:"nfp-aspect-container"},n.createElement("div",{ref:this.receiveAspectElementRef,className:"nfp-aspect-inner",style:{paddingTop:this.getPaddingTop()}}),"function"==typeof this.props.children?this.props.children({aspectElementDimensions:this._aspectElementRef?this._aspectElementRef.getBoundingClientRect():void 0}):this.props.children))}});t.exports=p});C.r("player/nfplayer/domain/common/bindAPIToSubState.js",function(r,n,t){"use strict";var e=function(r,n){return Object.keys(n).reduce(function(t,e){var o=n[e];return t[e]=function(n){for(var t=arguments.length,e=Array(t>1?t-1:0),a=1;a<t;a++)e[a-1]=arguments[a];return o.apply(void 0,[n[r]].concat(e))},t},{})};n.exports=e});C.r("player/nfplayer/domain/common/bindActionCreators.js",function(n,r,t){"use strict";var e=function(n,r){return Object.keys(n).reduce(function(t,e){return t[e]=function(t){var o=n[e];return r(o(t))},t},{})};r.exports=e});C.r("player/nfplayer/domain/common/bindMiddlewareToSubState.js",function(t,n,r){"use strict";var e=function(t,n){return function(r){return function(e){return function(u){var i={dispatch:r.dispatch,getState:function(){return r.getState()[t]}};return n(i)(e)(u)}}}};n.exports=e});C.r("player/nfplayer/domain/common/createApp.js",function(e,t,r){"use strict";var a=e("babel-runtime/helpers/toConsumableArray"),n=function(e){return e&&e.__esModule?e:{default:e}}(a),o=e("./bindActionCreators"),c=e("./createChangeNotifier"),i=e("./createSavePrevStateMiddleware"),u=e("./createStatefulAPI"),p=e("redux"),d=function(e){var t=e.actionCreators||{},r=e.appAPI||{},a=e.middlewares||[],d=e.stateReducer,s=void 0,f=function(e){return s=e},l=function(e){return e!==s},m=p.compose,g=m(p.applyMiddleware.apply(p,[i(f)].concat((0,n.default)(a)))),A=p.createStore(d,g),C=function(){return A},S=o(t,A.dispatch),h=function(){return S},b=function(){return A.getState()},v=u(r,b),y=function(){return v},P=c(C,y,l);return Object.freeze({addChangeListener:P,appName:e.appName,dispatch:A.dispatch,getActionCreators:h,getAPI:y,getState:b,getStore:C})};t.exports=d});C.r("player/nfplayer/domain/common/createAppFromDomains.js",function(e,r,n){"use strict";var t=e("./bindAPIToSubState"),a=e("./bindMiddlewareToSubState"),o=e("ramda/src/converge"),i=e("ramda/src/identity"),c=e("./createApp"),u=e("redux"),d=function(e){var r=new Error(e);throw r.name="AppFromDomainsError",r},m=function(e){return e.filter(function(e){return!!e.actionCreators}).reduce(function(e,r){return Object.keys(r.actionCreators).forEach(function(n){e[n]&&d("Action creator already exists for '"+n+"'"),e[n]=r.actionCreators[n]}),e},{})},s=function(e){var r=e.filter(function(e){return!!e.stateReducer}).reduce(function(e,r){return e[r.name]&&d("State reducer already exists for domain name '"+r.name+"'"),e[r.name]=r.stateReducer,e},{});return 0===Object.keys(r).length?i:u.combineReducers(r)},f=function(e){return e.filter(function(e){return!!e.api}).reduce(function(e,r){return e[r.name]&&d("API already exists for domain name '"+r.name+"'"),e[r.name]=t(r.name,r.api),e},{})},p=function(e){return e.filter(function(e){return!!e.middlewares}).reduce(function(e,r){return e.concat(r.middlewares.map(function(e){return a(r.name,e)}))},[])},l=function(e,r,n){return function(t,a,o,i){return c({actionCreators:t,appName:r,appAPI:Object.assign({},e,o),middlewares:n.concat(i),stateReducer:a})}},b=function(e,r,n){return o(l(e,r,n),[m,s,f,p])},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.appAPI,n=void 0===r?{}:r,t=e.appName,a=e.domains,o=e.middlewares;return b(n,t,void 0===o?[]:o)(a)};r.exports=v});C.r("player/nfplayer/domain/common/createChangeNotifier.js",function(n,t,r){"use strict";var e=function(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(n){return!0};return function(e){return n().subscribe(function(){r(n().getState())&&e(t())})}};t.exports=e});C.r("player/nfplayer/domain/common/createDomain.js",function(e,a,r){"use strict";var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.actionCreators,r=e.api,t=e.middlewares,n=e.name,i=e.stateReducer;return Object.freeze({actionCreators:a,api:r,middlewares:t,name:n,stateReducer:i})};a.exports=t});C.r("player/nfplayer/domain/common/createHandleAction.js",function(n,r,t){"use strict";var e=function(n){return function(r,t){return n(r,t.data)}};r.exports=e});C.r("player/nfplayer/domain/common/createSavePrevStateMiddleware.js",function(t,e,n){"use strict";var r=function(t){return function(e){return function(n){return function(r){return t(e.getState()),n(r)}}}};e.exports=r});C.r("player/nfplayer/domain/common/createStateReducer.js",function(r,e,t){"use strict";var n=function(r,e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,n=arguments[1];if(!n)return t;var a=r[n.type];return a?a(t,n):t}};e.exports=n});C.r("player/nfplayer/domain/common/createStateSelector.js",function(r,t,n){"use strict";var e=function(r,t){return function(){for(var n=arguments.length,e=Array(n),o=0;o<n;o++)e[o]=arguments[o];return t.apply(void 0,[r()].concat(e))}};t.exports=e});C.r("player/nfplayer/domain/common/createStatefulAPI.js",function(e,t,r){"use strict";var n=e("babel-runtime/helpers/typeof"),u=function(e){return e&&e.__esModule?e:{default:e}}(n),o=e("./createStateSelector"),f=function e(t,r){return Object.keys(t).reduce(function(n,f){var a=t[f];if("function"==typeof a)return n[f]=o(r,a),n;if("object"===(void 0===a?"undefined":(0,u.default)(a))){var c=e(a,r);return n[f]=c,n}return n},{})};t.exports=f});C.r("player/nfplayer/domain/postplay/createPostPlayDomain.js",function(a,t,e){"use strict";var o=a("../common/createDomain"),r=a("./postPlayActionCreators"),s=a("./postPlayAPI2"),n=a("./postPlayCommonMiddleware"),i=a("./postPlayStateReducer"),l=function(a){return o({actionCreators:r,api:s,name:"postPlay",middlewares:a?[n(a)]:void 0,stateReducer:i})};t.exports=l});C.r("player/nfplayer/domain/postplay/postPlayAPI2.js",function(e,t,r){"use strict";var n=e("ramda/src/compose"),o=e("./postPlayExperienceAPI"),i=e("ramda/src/propOr"),d=function(e,t){return e.errorsByVideoId[String(t)]},a=function(e){return e.experienceByVideoId},c=function(e,t){return e.experienceByVideoId[String(t)]},u=n(o,c),s=function(e,t){return!0===e.startedByVideoId[String(t)]},y=function(e){return e.startedByVideoId},I=function(e){return e.getInitialItemAPI().getFirstPlayTypeActionAPI()},g=n(function(e){return e.getAutoPlayTrackId()},I,o,c),p=n(function(e){return e.getUserPlayTrackId()},I,o,c),P=n(function(e){return e.getBookmarkPosition()},I,o,c),l=n(function(e){return e.getVideoId()},I,o,c),f=n(i(0,"autoplaySeconds"),c),B={getAutoPlaySeconds:f,getAutoPlayTrackId:g,getBookmarkPosition:P,getErrorsByVideoId:d,getExperienceAPIByVideoId:u,getExperienceByVideoId:c,getExperiences:a,getPlayActionsVideoId:l,getStarted:y,getUserPlayTrackId:p,isPostPlayStartedByVideoId:s};t.exports=B});C.r("player/nfplayer/domain/postplay/postPlayAction.js",function(e,o,a){"use strict";var t=e("nf-algebraic-data-types/Record"),s=t({additionalTrackIds:{autoPlay:-1,userPlay:-1},bookmarkPosition:-1,displayText:"",doNotIncrementInterrupter:!1,episode:-1,ignoreBookmark:!1,inMyList:!1,name:"defaultAction",seamlessEnd:-1,seamlessStart:-1,season:-1,seasonSequenceAbbr:"",seasonSequenceLong:"",showEpisodes:!1,trackId:-1,type:"defaultAction",videoId:-1}),n=s();o.exports={defaultPostPlayAction:n,postPlayActionRecord:s}});C.r("player/nfplayer/domain/postplay/postPlayActionAPI.js",function(n,t,e){"use strict";var r=n("./postPlayAction"),u=r.defaultPostPlayAction,o=n("ramda/src/pathOr"),i=function(n){return n.bookmarkPosition},c=function(n){return!n.doNotIncrementInterrupter},s=function(n){return n.name},a=function(n){return n.videoId},f=function(n){return n.trackId},l=o(-1,["additionalTrackIds","autoPlay"]),d=o(-1,["additionalTrackIds","userPlay"]),g=function(n){var t=l(n);return t>-1?t:f(n)},p=function(n){var t=d(n);return t>-1?t:f(n)},y=function(n){return n.type},S=function(n){return n.showEpisodes},E=function(n){return n.inMyList},I=function(n){return n.episode},k=function(n){return n.season},m=function(n){return n.seasonSequenceAbbr},P=function(n){return n.seasonSequenceLong},O=function(n){return 1e3*n.seamlessEnd},T=function(n){return 1e3*n.seamlessStart},A=function(n){return"defaultAction"===n.type},v=function(n){return n.displayText},b=function(n,t,e){return e===u&&void 0!==n?n:t(e)},h=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;return{getAutoPlayTrackId:function(){return g(n)},getAutoPlayTrackIdOrElse:function(t){return b(t,g,n)},getBookmarkPosition:function(){var t=i(n);return-1!==t?1e3*t:-1},getBookmarkPositionOrElse:function(t){return b(t,i,n)},getDisplayText:function(){return v(n)},getDisplayTextOrElse:function(t){return b(t,v,n)},getEpisode:function(){return I(n)},getEpisodeOrElse:function(t){return b(t,I,n)},getName:function(){return s(n)},getSeamlessEnd:function(){return O(n)},getSeamlessEndOrElse:function(t){return b(t,O,n)},getSeamlessStart:function(){return T(n)},getSeamlessStartOrElse:function(t){return b(t,T,n)},getSeason:function(){return k(n)},getSeasonOrElse:function(t){return b(t,k,n)},getSeasonSequenceAbbr:function(){return m(n)},getSeasonSequenceAbbrOrElse:function(t){return b(t,m,n)},getSeasonSequenceLong:function(){return P(n)},getSeasonSequenceLongOrElse:function(t){return b(t,P,n)},getTrackId:function(){return f(n)},getTrackIdOrElse:function(t){return b(t,f,n)},getType:function(){return y(n)},getUserPlayTrackId:function(){return p(n)},getUserPlayTrackIdOrElse:function(t){return b(t,p,n)},getVideoId:function(){return a(n)},getVideoIdOrElse:function(t){return b(t,a,n)},isDefaultAction:function(){return A(n)},isInMyList:function(){return E(n)},shouldIncrementInterrupter:function(){return c(n)},shouldShowEpisodes:function(){return S(n)},toData:function(){return n}}};t.exports=h});C.r("player/nfplayer/domain/postplay/postPlayActionCreators.js",function(e,E,r){"use strict";var t=e("../common/createAction"),c=e("./postPlayConstants"),a=c.actionTypes,R=t(a.CLEAR_ALL_EXPERIENCES),o=t(a.REMOVE_EXPERIENCE),s=t(a.RECEIVE_ERROR),n=t(a.RECEIVE_EXPERIENCE),i=t(a.REQUEST_EXPERIENCE),p=t(a.SEND_IMPRESSION),_=t(a.ADD_TO_MY_LIST),C=t(a.REMOVE_FROM_MY_LIST);E.exports={createAddToMyList:_,createClearAllExperiences:R,createReceiveError:s,createReceiveExperience:n,createRemoveExperience:o,createRemoveFromMyList:C,createRequestExperience:i,createSendImpression:p}});C.r("player/nfplayer/domain/postplay/postPlayCommonMiddleware.js",function(e,r,t){"use strict";var n=e("../common/bindActionCreators"),i=e("../../../../akira/redux/discovery/discoveryActions"),o=e("../../../../utils/mylist_utils"),a=e("./postPlayActionCreators"),c=e("../../utils/postPlayCommon"),s=e("./postPlayConstants"),u=e("../../../../utils/rx/shakti-rx").RxObservable,d=s.actionTypes,f=s.errorIds.POSTPLAY_ERROR_1,l=a.createReceiveError,p=a.createReceiveExperience,y=function(e,r){var t=r.id;u.create(function(e){return c.getExperience(r,function(r,t){return r?e.error(r):e.next(t),e.complete()})}).subscribe(function(r){if(r&&Array.isArray(r))return e(p({postPlayData:r.length>0?r[0]:{},videoId:t}))},function(r){return e(l({error:r,errorId:f,videoId:t}))},function(){})},I=function(e,r){return c.sendPostplayImpression(e,r)},v=function(e,r){return e.bind(["videos",r])},E=function(e,r){return e.getValueSync(["queue"])||e.setValueSync(["queue"],{inQueue:r}),e},b=function(e){return E(e,!1)},m=function(e){return E(e,!0)},R=function(e,r,t){b(v(e,t.videoId)),o.addToList(r,t.videoId,t.trackId).subscribe()},_=function(e,r,t){m(v(e,t.videoId)),o.removeFromList(r,t.videoId,t.trackId).subscribe()},P=function(e){return function(r){return function(t){return function(o){switch(o.type){case d.ADD_TO_MY_LIST:R(e,n(i.actions,r.dispatch),o.data);break;case d.REQUEST_EXPERIENCE:y(r.dispatch,o.data);break;case d.SEND_IMPRESSION:I(e,o.data);break;case d.REMOVE_FROM_MY_LIST:_(e,n(i.actions,r.dispatch),o.data)}return t(o)}}}};r.exports=P});C.r("player/nfplayer/domain/postplay/postPlayConstants.js",function(E,e,s){"use strict";var i={ADD_TO_MY_LIST:"ADD_TO_MY_LIST",CLEAR_ALL_EXPERIENCES:"CLEAR_ALL_EXPERIENCES",RECEIVE_ERROR:"RECEIVE_ERROR",RECEIVE_EXPERIENCE:"RECEIVE_EXPERIENCE",REMOVE_EXPERIENCE:"REMOVE_EXPERIENCE",REMOVE_FROM_MY_LIST:"REMOVE_FROM_MY_LIST",REQUEST_EXPERIENCE:"REQUEST_EXPERIENCE",SEND_IMPRESSION:"SEND_IMPRESSION"},o={POSTPLAY_ERROR_1:"POSTPLAY_ERROR_1"},a={defaultExperience:"defaultExperience",episodicTeaser:"episodicTeaser",kidsOriginalsPostPlay:"kidsOriginalsPostPlay",kidsOriginalsPostPlayRecommendations:"kidsOriginalsPostPlayRecommendations",nextEpisode:"nextEpisode",nextEpisodeRecommendation:"nextEpisodeRecommendation",nextEpisodeSeamless:"nextEpisodeSeamless",originalsPostPlay:"originalsPostPlay",originalsPostPlayPostTrailer:"originalsPostPlayPostTrailer",originalsPostPlayRecommendations:"originalsPostPlayRecommendations",recommendations:"recommendations"},n={episode:"episode",movie:"movie",show:"show",defaultItem:"defaultItem"};e.exports={actionTypes:i,errorIds:o,experienceTypes:a,itemTypes:n}});C.r("player/nfplayer/domain/postplay/postPlayExperience.js",function(e,s,t){"use strict";var a=e("./postPlayConstants"),o=e("nf-algebraic-data-types/Record"),p=o({UUID:"",actions:[],assets:{},autoplay:!1,autoplaySeconds:-1,currentEpisodeSeamlessData:{seamlessCountdownSeconds:-1,seamlessStart:-1,seamlessEnd:-1},impressionToken:"",items:[],itemsInitialIndex:-1,playlist:"",promotedSupplementalMessage:"",promotedTitle:"",promotedVideoId:-1,requestId:"",theme:"",type:a.experienceTypes.defaultExperience}),n=p();s.exports={defaultPostPlayExperience:n,postPlayExperienceRecord:p}});C.r("player/nfplayer/domain/postplay/postPlayExperienceAPI.js",function(t,e,n){"use strict";var r=t("./postPlayExperience"),o=r.defaultPostPlayExperience,i=t("./postPlayConstants"),u=i.experienceTypes,s=t("../../../entities/playContext"),c=s.playContextRecord,a=t("ramda/src/always"),f=t("ramda/src/compose"),d=t("ramda/src/pathOr"),l=t("./postPlayActionAPI"),p=t("./postPlayItemAPI"),g=t("./postPlayUtils"),I=function(t){return t.actions},A=function(t){return g.findAddToPlaylistAction(t.actions)},m=f(l,A),y=function(t){return g.findMoreInfoAction(t.actions)},P=f(l,y),T=function(t){return t.autoplaySeconds},x=function(t){var e=t.currentEpisodeSeamlessData;return{seamlessCountdownSeconds:e.seamlessCountdownSeconds,seamlessEnd:1e3*e.seamlessEnd,seamlessStart:1e3*e.seamlessStart}},E=function(t){return t.itemsInitialIndex},v=function(t){return t.items},L=function(t){return t.items.filter(function(t){return!!t}).map(p)},M=function(t){return v(t)[E(t)]},S=function(t){return t.requestId},U=function(t){return t.type},C=function(t){return!!t.autoplay},D=function(t){return t.promotedVideoId},O=function(t){return t.promotedTitle},R=function(t){return t.promotedSupplementalMessage},k=function(t){return t.assets},h=function(t){return t.impressionToken},q=function(t){return t.playlist},w=function(t){switch(t.type){case u.originalsPostPlay:case u.originalsPostPlayPostTrailer:return d(void 0,["assets","LOGO","assetType"],t);case u.episodicTeaser:case u.nextEpisode:case u.nextEpisodeRecommendation:return d(void 0,["assets","DISPLAY_ART","assetType"],t);default:return}},V=function(t,e){var n=p(M(t)),r=n.getInitialActionAPI(),o=c({location:"Postplay",requestId:t.requestId,listId:t.UUID,trackId:r.getTrackId(),videoId:r.getVideoId()});return e?Object.keys(e).reduce(function(t,n){return t.set(n,e[n])},o):o},j=function(t,e,n){return n===o&&void 0!==t?t:e(n)},B=function(t){return"defaultExperience"===t.type},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,e=a(t);return{getUUID:function(){return t.UUID},getAddToMyListAction:function(){return A(t)},getAddToMyListActionOrElse:function(e){return j(e,A,t)},getAddToMyListActionAPI:function(){return m(t)},getAddToMyListActionAPIOrElse:function(e){return j(e,m,t)},getAssets:function(){return k(t)},getAutoPlaySeconds:function(){return T(t)},getActions:function(){return I(t)},getBackgroundAssetURL:function(){return g.getBackgroundAssetURL(t)},getCurrentEpisodeSeamlessData:function(){return x(t)},getImageKey:function(){return w(t)},getImpressionToken:function(){return h(t)},getInitialItem:function(){return M(t)},getInitialItemAPI:f(p,M,e),getItemAtIndex:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return v(t)[e]},getItemAPIAtIndex:f(p,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return v(t)[e]}),getItems:function(){return v(t)},getItemAPIs:function(){return L(t)},getLogoAssetURL:function(){return g.getLogoAssetURL(t)},getMoreInfoAction:function(){return y(t)},getMoreInfoActionOrElse:function(e){return j(e,y,t)},getMoreInfoActionAPI:function(){return P(t)},getMoreInfoActionAPIOrElse:function(e){return j(e,P,t)},getPlayContext:function(e){return V(t,e)},getPlaylist:function(){return q(t)},getPromotedSupplementalMessage:function(){return R(t)},getPromotedTitle:function(){return O(t)},getPromotedVideoId:function(){return D(t)},getRequestId:function(){return S(t)},getType:function(){return U(t)},isAutoplay:function(){return C(t)},isDefaultExperience:function(){return B(t)},toData:e}};e.exports=b});C.r("player/nfplayer/domain/postplay/postPlayItem.js",function(e,s,a){"use strict";var t=(e("./postPlayConstants"),e("nf-algebraic-data-types/Record")),i=t({actions:[],actorNames:[],ancestorId:-1,ancestorSynopsis:"",ancestorTitle:"",assets:{BACKGROUND:{url:"",width:-1,height:-1,isBadged:!1,assetType:""},DISPLAY_ART:{url:"",width:-1,height:-1,isBadged:!1,assetType:""}},availabilityDateMessaging:"",badgeKeys:[],delivery:{has3D:!1,has51Audio:!1,hasDolbyVision:!1,hasHD:!1,hasHDR:!1,hasUltraHD:!1,quality:""},impressionData:{},isNSRE:!1,hiddenEpisodeNumbers:!1,maturityRating:"",rating:{average:-1,predicted:-1,userRating:void 0},runtime:-1,seasons:-1,seasonSequenceAbbr:"",seasonsLabel:"",supplementalMessage:"",synopsis:"",title:"",type:"defaultItem",videoId:-1,year:-1}),o=i();s.exports={defaultPostPlayItem:o,postPlayItemRecord:i}});C.r("player/nfplayer/domain/postplay/postPlayItemAPI.js",function(t,n,e){"use strict";var r=t("./postPlayItem"),i=r.defaultPostPlayItem,o=t("ramda/src/always"),u=t("ramda/src/compose"),c=t("./postPlayActionAPI"),s=t("./postPlayConstants"),a=t("./postPlayUtils"),f=function(t){return t.actions},l=function(t){return a.findAddToPlaylistAction(t.actions)},A=u(c,l),g=function(t){return a.findFirstPlayTypeAction(t.actions)},y=u(c,g),d=function(t){return a.findPlayMovieAction(t.actions)},P=u(c,d),p=function(t){return a.findPlayEpisodeAction(t.actions)},I=u(c,p),m=function(t){return a.findMoreInfoAction(t.actions)},E=u(c,m),T=function(t){return a.findPlayTrailerAction(t.actions)},M=u(c,T),v=function(t){var n=f(t);return n.length>0?n[0]:void 0},O=u(c,v),L=function(t){return t.videoId},R=function(t){return t.ancestorId},D=function(t){return t.ancestorTitle},b=function(t){return t.title},S=function(t){return t.synopsis},U=function(t){return t.supplementalMessage},h=function(t){return t.year},N=function(t){return t.rating},B=function(t){return t.maturityRating},F=function(t){return t.delivery},w=function(t){return t.seasons},K=function(t){return t.seasonsLabel},x=function(t){return!!t.isNSRE},k=function(t){return!t.hiddenEpisodeNumbers},z=function(t){return t.availabilityDateMessaging},C=function(t){return t.badgeKeys},H=function(t){return t.actorNames},j=function(t){return t.impressionData},V=function(t){return t.runtime},Y=function(t,n,e){return e===i&&void 0!==t?t:n(e)},q=function(t){return t.type===s.itemTypes.episode},G=function(t){return t.type===s.itemTypes.movie},J=function(t){return t.type===s.itemTypes.show},Q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,n=o(t);return{getActions:function(){return f(t)},getActorNames:function(){return H(t)},getAddToMyListAction:function(){return l(t)},getAddToMyListActionOrElse:function(n){return Y(n,l,t)},getAddToMyListActionAPI:function(){return A(t)},getAddToMyListActionAPIOrElse:function(n){return Y(n,A,t)},getAncestorId:function(){return R(t)},getAncestorTitle:function(){return D(t)},getAvailabilityDateMessaging:function(){return z(t)},getBackgroundAssetURL:function(){return a.getBackgroundAssetURL(t)},getBadgeKeys:function(){return C(t)},getDelivery:function(){return F(t)},getSeasons:function(){return w(t)},getSeasonsLabel:function(){return K(t)},getDisplayArtImageKey:function(){return a.getDisplayArtImageKey(t)},getDisplayArtAssetURL:function(){return a.getDisplayArtAssetURL(t)},getHorizontalBoxArtAssetURL:function(){return a.getHorizontalBoxArtAssetURL(t)},getFirstPlayTypeAction:function(){return g(t)},getFirstPlayTypeActionOrElse:function(n){return Y(n,g,t)},getFirstPlayTypeActionAPI:function(){return y(t)},getFirstPlayTypeActionAPIOrElse:function(n){return Y(n,y,t)},getImpressionData:function(){return j(t)},getInitialAction:function(){return v(t)},getInitialActionOrElse:function(n){return Y(n,v,t)},getInitialActionAPI:function(){return O(t)},getInitialActionAPIOrElse:function(n){return Y(n,O,t)},getMaturityRating:function(){return B(t)},getMoreInfoAction:function(){return m(t)},getMoreInfoActionOrElse:function(n){return Y(n,m,t)},getMoreInfoActionAPI:function(){return E(t)},getMoreInfoActionAPIOrElse:function(n){return Y(n,E,t)},getPlayMovieAction:function(){return d(t)},getPlayMovieActionOrElse:function(n){return Y(n,d,t)},getPlayMovieActionAPI:function(){return P(t)},getPlayMovieActionAPIOrElse:function(n){return Y(n,P,t)},getPlayEpisodeAction:function(){return p(t)},getPlayEpisodeActionOrElse:function(n){return Y(n,p,t)},getPlayEpisodeActionAPI:function(){return I(t)},getPlayEpisodeActionAPIOrElse:function(n){return Y(n,I,t)},getPlayTrailerAction:function(){return T(t)},getPlayTrailerActionOrElse:function(n){return Y(n,T,t)},getPlayTrailerActionAPI:function(){return M(t)},getPlayTrailerActionAPIOrElse:function(n){return Y(n,M,t)},getRating:function(){return N(t)},getRuntime:function(){return V(t)},getSupplementalMessage:function(){return U(t)},getSynopsis:function(){return S(t)},getTitle:function(){return b(t)},getVideoId:function(){return L(t)},getYear:function(){return h(t)},isEpisode:function(){return q(t)},isMovie:function(){return G(t)},isNSRE:function(){return x(t)},showEpisodeNumbers:function(){return k(t)},isShow:function(){return J(t)},toData:n}};n.exports=Q});C.r("player/nfplayer/domain/postplay/postPlayState.js",function(e,t,a){"use strict";var r=e("nf-algebraic-data-types/Record"),o=r({errorsByVideoId:{},experienceByVideoId:{},startedByVideoId:{}}),d=o();t.exports={defaultPostPlayState:d,postPlayStateRecord:o}});C.r("player/nfplayer/domain/postplay/postPlayStateReducer.js",function(e,t,r){"use strict";var n,d=e("babel-runtime/helpers/defineProperty"),a=function(e){return e&&e.__esModule?e:{default:e}}(d),o=e("./postPlayUtils"),i=o.convertRawExperienceToRecord,s=e("../common/createHandleAction"),u=e("../common/createStateReducer"),c=e("ramda/src/isNil"),E=e("./postPlayAPI2"),l=e("./postPlayConstants"),y=e("./postPlayState"),f=y.defaultPostPlayState,p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];return e.concat(t)},I=function(e,t){return Object.assign({},e,t)},P=function(e,t,r){return I(e,(0,a.default)({},t,p(e[t],r)))},R=function(e,t){return e.set("errorsByVideoId",P(e.errorsByVideoId,String(t.videoId),[t]))},V=function(e){return Object.keys(e.experienceByVideoId).length>0?e.set("experienceByVideoId",{}).set("startedByVideoId",{}):e},v=function(e,t){var r=E.getStarted(e),n=I(r);return delete n[t],e.set("startedByVideoId",n)},B=function(e,t){var r=E.getExperienceByVideoId(e,t);if(c(r))return e;var n=E.getExperiences(e),d=I(n);return delete d[t],v(e,t).set("experienceByVideoId",d)},S=function(e,t){var r=E.getExperiences(e),n=I(r,(0,a.default)({},t.videoId,i(t.postPlayData)));return v(e,t.videoId).set("experienceByVideoId",n)},g=function(e,t){var r=t.id;if(E.isPostPlayStartedByVideoId(e,r))return e;var n=E.getStarted(e);return n[String(r)]=!0,e.set("startedByVideoId",I(n))},x=l.actionTypes,C=(n={},(0,a.default)(n,x.CLEAR_ALL_EXPERIENCES,s(V)),(0,a.default)(n,x.RECEIVE_ERROR,s(R)),(0,a.default)(n,x.RECEIVE_EXPERIENCE,s(S)),(0,a.default)(n,x.REMOVE_EXPERIENCE,s(B)),(0,a.default)(n,x.REQUEST_EXPERIENCE,s(g)),n),_=u(C,f);t.exports=_});C.r("player/nfplayer/domain/postplay/postPlayUtils.js",function(t,n,e){"use strict";var r=t("./postPlayAction"),o=r.postPlayActionRecord,a=t("./postPlayExperience"),i=a.postPlayExperienceRecord,s=t("./postPlayItem"),c=s.postPlayItemRecord,u=t("ramda/src/pathOr"),l=function(t){return["assets",t,"assetType"]},y=function(t){return["assets",t,"url"]},p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"BACKGROUND";return u("",y(t))},A=p("BACKGROUND"),f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"DISPLAY_ART";return u("",l(t))}("DISPLAY_ART"),d=p("DISPLAY_ART"),m=p("HORIZONTAL_BOX_ART"),R=p("LOGO"),P=function(t){return"defaultAction"===t.type},v=function(t){return"play"===t.type},T=function(t){return"playlist"===t.type},g=function(t){return"mdp"===t.type},L=function(t){return v(t)&&"play"===t.name},I=function(t){return v(t)&&"playEpisode"===t.name},S=function(t){return I(t)&&void 0!==t.seamlessStart&&"number"==typeof t.seamlessStart},D=function(t){return v(t)&&"playTrailer"===t.name},O=function(t){return T(t)&&"addToMyList"===t.name},U=function(t){return g(t)&&"moreInfo"===t.name},E=function(t){return function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(t)[0]}},x=E(I),B=E(S),_=E(L),h=E(D),C=E(O),G=E(U),K=E(v),M=function(t){var n=Array.isArray(t.actions)?t.actions.map(o):[];return t.actions=n,c(t)},N=function(t){var n=Array.isArray(t.actions)?t.actions.map(o):[],e=Array.isArray(t.items)?t.items.map(M):[];return t.actions=n,t.items=e,t.autoplaySeconds=null===t.autoplaySeconds?void 0:t.autoplaySeconds,i(t)};n.exports={convertRawExperienceToRecord:N,convertRawItemToRecord:M,findAddToPlaylistAction:C,findFirstPlayTypeAction:K,findMoreInfoAction:G,findPlayEpisodeAction:x,findPlayEpisodeSeamlessAction:B,findPlayMovieAction:_,findPlayTrailerAction:h,isDefaultAction:P,getAssetURL:p,getBackgroundAssetURL:A,getDisplayArtAssetURL:d,getDisplayArtImageKey:f,getHorizontalBoxArtAssetURL:m,getLogoAssetURL:R}});C.r("player/nfplayer/engines/cadmiumPlayerEngine.jsx",function(e,t,i){"use strict";var n=e("lodash"),r=e("classnames"),a=e("../../../utils/rx/shakti-rx").RxObservable,s=e("../../../utils/rx/shakti-rx").RxSubject,o=e("../../entities/playContext"),d=o.toPlayContextData,l=e("../utils/cadmiumErrors"),u=e("../utils/getCadmiumCreationParameters"),c=e("create-react-class"),p=e("../utils/fullscreen"),h=e("../../../utils/consolidatedLogging/loggingEventRegistry"),y=e("../common/playerEngines"),m=e("../common/playerEvents"),g=e("../utils/playerSession"),v=(e("../common/PlayerUIState"),e("prop-types")),f=e("react"),T=e("../types/staticConfiguration"),P=e("../../domains/videoPlayer/videoSession"),E=e("../common/playerErrors"),L=(e("../uiLabel"),c({displayName:"CadmiumPlayerEngine",statics:{engine:y.CADMIUM},contextTypes:{dispatch:v.func,staticConfiguration:T,playerApp:v.object,playerSession:v.instanceOf(g)},_cadmiumContainer:void 0,_rebufferingStartedTimestamp:void 0,_isSeeking:void 0,_wasTransitioning:void 0,disposed:void 0,player:void 0,componentWillMount:function(){this.disposed=new s},shouldComponentUpdate:function(e){return this.context.staticConfiguration.waitForCadmiumPlayerInstance&&this.props.cadmiumPlayerInstance!==e.cadmiumPlayerInstance||e.videoId!==this.props.videoId||e.showTimedText!==this.props.showTimedText},componentWillReceiveProps:function(e){var t=this,i=this.context.playerApp,n=this.context.staticConfiguration.waitForCadmiumPlayerInstance&&!this.props.cadmiumPlayerInstance&&e.cadmiumPlayerInstance,r=e.videoId!==this.props.videoId,a=i?i.getAPI().videoPlayer:null,s=!!a&&a.isPlayerTransitioningSeamlessly(this.context.playerSession.getId());if(n)this.resetTransientState(),this.close(function(){t.createPlayerInstance(e.cadmiumPlayerInstance)});else if(r)if(s){var o=this.player,d={target:o};this.onPlayerReady(this),this.calculateAspectRatio(),this.onPlayerLoad(d),this.onPlayerTimedTracksLoaded(d);var l=o?o.getVolume():void 0,u=o?o.getMuted():void 0;o&&!o.getPaused()&&this.onPlayerPlaying(d),setTimeout(function(){o&&("number"==typeof l&&o.setVolume(l),"boolean"==typeof u&&o.setMuted(u))},16)}else this.resetTransientState(),this.close(function(){t.createPlayerInstance()});this._wasTransitioning&&!s?this.bindVideoElementListeners():s&&!this._wasTransitioning&&this.removeVideoElementListeners(),this._wasTransitioning=s},load:function(){this.player&&this.player.load()},play:function(){n.get(this,"context.staticConfiguration.browserInfo.isMobile",!1)&&!this.isLoaded()||this.player&&this.player.play()},pause:function(){this.player&&this.player.pause()},togglePlay:function(){this.getPaused()?this.play():this.pause()},getPaused:function(){return this.player?this.player.getPaused():void 0},setVolume:function(e){this.player&&this.player.setVolume(e)},getVolume:function(){return this.player?this.player.getVolume():void 0},setMuted:function(e){this.player&&this.player.setMuted(e)},getMuted:function(){return this.player?this.player.getMuted():void 0},toggleMute:function(){var e=this.player;e&&e.setMuted(!e.getMuted())},getDuration:function(){var e=this.player?this.player.getDuration():void 0;if("number"==typeof e)return e/1e3},getCurrentTime:function(){var e=this.player?this.player.getSegmentTime():void 0;if("number"==typeof e)return e/1e3},getBufferedTime:function(){var e=this.player?this.player.getBufferedTime():void 0;if("number"==typeof e)return e/1e3},seek:function(e){var t=1e3*e;this.player&&(this._isSeeking=!0,this.player.seek(t))},getError:function(){return this.player?this.player.getError():void 0},getEnded:function(){return this.player?this.player.getEnded():void 0},getVideoSize:function(){return this.player?this.player.getVideoSize():void 0},getAudioTrack:function(){return this.player?this.player.getAudioTrack():void 0},getTimedTextTrack:function(){return this.player?this.player.getTimedTextTrack():void 0},getAudioTrackList:function(){return this.player?this.player.getAudioTrackList():void 0},getTimedTextTrackList:function(){return this.player?this.player.getTimedTextTrackList():void 0},setAudioTrack:function(e){this.player&&this.player.setAudioTrack(e)},setTimedTextTrack:function(e){this.player&&this.player.setTimedTextTrack(e)},setTimedTextBounds:function(e){this.player&&this.player.setTimedTextBounds(e)},_currentTrickPlayFrame:{},_currentTrickPlayURL:void 0,getTrickPlayURL:function(e){var t=this.player,i=t?t.getTrickPlayFrame(1e3*e)||{}:{};if(i.time===this._currentTrickPlayFrame.time)return this._currentTrickPlayURL;this._currentTrickPlayFrame=i;var n=i&&i.image,r=null;if(n)try{r=URL.createObjectURL(new Blob([n],{type:"image/jpeg"}))}catch(e){}return this._currentTrickPlayURL&&URL.revokeObjectURL(this._currentTrickPlayURL),this._currentTrickPlayURL=r,r},getVersion:function(){return n.result(window,"netflix.player.getVersion",null)},close:function(e){var t=this,i=this.context.playerSession,n=i.getPlayerInterface({isClosing:!0}),r=this.player;if(r&&n.isClosing()&&e&&"function"==typeof e)return void r.close(function(){e&&"function"==typeof e&&e(),t.player&&(t.player=void 0)});n.startClosing();var a=this.props.onPlayerClosed,s=function(){a&&"function"==typeof a&&a(),e&&"function"==typeof e&&e(),t.player&&(t.player=void 0)};r&&("function"==typeof this.props.onPlayerClosing&&this.props.onPlayerClosing(),this.removeEventListeners(),this.removeVideoElementListeners(),r.close(s))},removeEventListeners:function(){var e=this.player;e&&(e.removeEventListener("error",this.onPlayerError),e.removeEventListener("endedchanged",this.onPlayerEnded),e.removeEventListener("busychanged",this.onPlayerRebuffering),e.removeEventListener("currenttimechanged",this.onPlayerTimeUpdate),e.removeEventListener("bufferedtimechanged",this.onPlayerProgressBuffer),e.removeEventListener("durationchanged",this.onPlayerDurationChanged),e.removeEventListener("volumechanged",this.onPlayerVolumeChanged),e.removeEventListener("mutedchanged",this.onPlayerVolumeChanged),e.removeEventListener("loadedmetadata",this.onPlayerLoadedMetadata),e.removeEventListener("loadedtracks",this.onPlayerTimedTracksLoaded),e.removeEventListener("audiotracklistchanged",this.onPlayerTimedTracksChanged),e.removeEventListener("audiotrackchanged",this.onPlayerTimedTracksChanged),e.removeEventListener("timedtexttracklistchanged",this.onPlayerTimedTracksChanged),e.removeEventListener("timedtexttrackchanged",this.onPlayerTimedTracksChanged),e.removeEventListener("showsubtitle",this.onShowSubtitle),e.removeEventListener("removesubtitle",this.onRemoveSubtitle),e.removeEventListener("closed",this.close))},bindVideoElementListeners:function(){var e=this.getVideoNode();e&&(this.removeVideoElementListeners(),e.addEventListener("playing",this.onPlayerPlaying),e.addEventListener("play",this.onPlayerPausedChanged),e.addEventListener("pause",this.onPlayerPausedChanged),e.addEventListener("seeked",this.onPlayerSeeked))},removeVideoElementListeners:function(){var e=this.getVideoNode();e&&(e.removeEventListener("playing",this.onPlayerPlaying),e.removeEventListener("play",this.onPlayerPausedChanged),e.removeEventListener("pause",this.onPlayerPausedChanged),e.removeEventListener("seeked",this.onPlayerSeeked))},getVideoNode:function(){var e=this.player&&this.player.getElement();if(e)return e.querySelector("video")},isLoaded:function(){return this.props.loaded},getDefaultProps:function(){return{removeCadmiumElementStyles:!1,trackId:-1,config:{},loaded:!1,volume:1,muted:!1}},onPlayerRebuffering:function(e){var t=e&&e.target&&e.target.getBusy&&e.target.getBusy()||{};if(t.stalled||t.progressStalled)return void this.onPlayerStalled(e);var i="number"==typeof t.progress,n=this.context.staticConfiguration,r=n.showKeyboardNotifications,a=n.rebufferingSignalDelay;if(r)if(void 0===this._rebufferingStartedTimestamp&&i)this._rebufferingStartedTimestamp=Date.now();else{var s="number"==typeof this._rebufferingStartedTimestamp?this._rebufferingStartedTimestamp:Date.now(),o=Date.now()-s;o>=a?this.props.updateState({type:m.REBUFFERING,state:Object.assign({},this.getTimeState(),{stalled:!1,rebuffering:i}),event:e}):this.props.updateState({type:m.REBUFFERING,state:Object.assign({},this.getTimeState(),{stalled:!1}),event:e}),i||(this._rebufferingStartedTimestamp=void 0)}else this.props.updateState({type:m.REBUFFERING,state:Object.assign({},this.getTimeState(),{stalled:!1,rebuffering:i}),event:e})},createPlayerInstance:function(e){var t=this,i=this.props,r=i.autoPlay,o=i.trackId,l=i.config,c=i.cadmiumPlayerInstance,p=i.videoId,y=i.playContext,m=i.manifest,g=i.muted,v=i.bookmarkOverride,f=i.preferredAudioLocale,T=i.preferredTextLocale,L=i.isImplicitAutoPlay,k=i.uiLabel,S=i.volume,C=this.context,b=C.playerApp,x=C.playerSession,I=this.context.staticConfiguration,A=I.respectBookmark,R=I.preferUnletterboxedContent,_=I.waitForCadmiumPlayerInstance,V=I.disableTrackStickiness;if(!_||c||e){var D=c||e?a.of(c||e):P.createPlayerSafely(u.getCadmiumCreationParameters({autoPlay:r,disableTrackStickiness:V,videoId:p,trackId:o,uiLabel:k,playContext:y,manifest:m,preferUnletterboxedContent:R,respectBookmark:A,bookmarkOverride:v,isImplicitAutoPlay:L,preferredAudioLocale:f,preferredTextLocale:T,playerState:{muted:g,volume:S}},l,x.getId(),b),x.getId(),b);this.disposed||(this.disposed=new s),D.takeUntil(this.disposed).do(function(e){t.player=e,x.setCadmiumPlayerInstance(e);var i=e?e.getElement():void 0;if(!t._cadmiumContainer||!i)throw new Error("Cadmium Player Engine element has been unmounted from the DOM.");i&&t._cadmiumContainer.appendChild(i),t.removeEventListeners(),e&&(e.addEventListener("error",t.onPlayerError),e.addEventListener("audiotracklistchanged",t.onPlayerTimedTracksChanged),e.addEventListener("timedtexttracklistchanged",t.onPlayerTimedTracksChanged),e.observables&&(e.observables.loadedTracks&&e.observables.loadedTracks.takeUntil(t.disposed).do(t.onPlayerTimedTracksLoaded).subscribe(),e.observables.loadedMetadata&&e.observables.loadedMetadata.takeUntil(t.disposed).do(t.onPlayerLoadedMetadata).subscribe()),e.getLoaded&&!e.getLoaded()&&e.load()),t.props.removeCadmiumElementStyles&&i.removeAttribute("style"),t.onPlayerReady(t)}).flatMap(function(e){var i=!!(e&&e.getLoaded&&e.getLoaded()),n=!!t.context.playerApp&&t.context.playerApp.getAPI().videoPlayer.isVideoLoadedBySessionId(t.context.playerSession.getId());if(i||n)return a.of({ev:e});var r=a.fromEvent(e,"loaded").take(1);return t.disposed?r.takeUntil(t.disposed):r}).do(function(e){var i=t.player;i&&(i.addEventListener("endedchanged",t.onPlayerEnded),i.addEventListener("busychanged",t.onPlayerRebuffering),i.addEventListener("currenttimechanged",t.onPlayerTimeUpdate),i.addEventListener("bufferedtimechanged",t.onPlayerProgressBuffer),i.addEventListener("durationchanged",t.onPlayerDurationChanged),i.addEventListener("volumechanged",t.onPlayerVolumeChanged),i.addEventListener("mutedchanged",t.onPlayerVolumeChanged),i.addEventListener("audiotrackchanged",t.onPlayerTimedTracksChanged),i.addEventListener("timedtexttrackchanged",t.onPlayerTimedTracksChanged),i.addEventListener("showsubtitle",t.onShowSubtitle),i.addEventListener("removesubtitle",t.onRemoveSubtitle),i.addEventListener("closed",t.close),i.addEventListener("videosizechanged",t.calculateAspectRatio)),t.bindVideoElementListeners();var n=t.getVideoNode();if(!n)throw t.context.dispatch({type:h.PLAYER_NO_VIDEO_ELEMENT,data:{initParams:t.props.config,playContext:d(t.props.playContext),trackId:t.props.trackId,uiLabel:t.props.uiLabel,videoId:t.props.videoId}}),new Error("No video element.");if(n.removeAttribute("style"),t.calculateAspectRatio(),t.props.config&&t.props.config.isTestAccount&&i)try{n.dataset.xid=i.getXid()}catch(e){}setTimeout(function(){t.onPlayerLoad(e),n&&!n.paused&&t.onPlayerPlaying(e)},0)}).subscribe(n.noop,function(e){t.onPlayerError(new E.PlayerUICreationError)},n.noop)}},resetTrickPlayState:function(){this._currentTrickPlayFrame={},this._currentTrickPlayURL=void 0},componentDidMount:function(){this.resetTransientState(!1),this.createPlayerInstance()},componentWillUnmount:function(){var e=this.context,t=e.playerApp,i=e.staticConfiguration,n=t?t.getAPI().videoPlayer:null,r=!!n&&n.isPlayerTransitioningSeamlessly(this.context.playerSession.getId());this.resetTransientState(),this._cadmiumContainer=void 0,this.disposed=void 0,r||i.shouldCloseCadmiumPlayerOnUnmount&&this.close()},calculateAspectRatio:function(){var e=this.context.staticConfiguration.cropContentLetterboxing;if(this.player&&e){var t=this.getVideoNode();if(t){var i=this.getVideoSize(),n=i?i.height/i.width:void 0,r=this.props.cropAspectRatio,a="number"==typeof r&&"number"==typeof n?n/r:void 0;"number"!=typeof a||a<=1||isNaN(a)||(t.style.height=100*a+"%")}}},fireDisposable:function(){this.disposed&&this.disposed.next()},resetTransientState:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.resetTrickPlayState(),this.onPlayerSeeked(),e&&this.fireDisposable()},setCadmiumContainerRef:function(e){this._cadmiumContainer=e},render:function(){return f.createElement("div",{className:r("VideoContainer",{"VideoContainer--hide-subtitles":!this.props.showTimedText,"VideoContainer--use-element-dimensions":this.context.staticConfiguration.useVideoElementDimensions,"VideoContainer--use-video-width":this.context.staticConfiguration.useVideoWidthForDimensions}),ref:this.setCadmiumContainerRef})},onPlayerProgressBuffer:n.throttle(function(e){this.props.updateState({type:m.PROGRESS,state:this.getTimeState(),event:e})},500,{leading:!0,trailing:!0}),onPlayerReady:function(e){this.props.onPlayerReady&&this.props.onPlayerReady(e)},onPlayerPlaying:function(e){var t={};t.started=!0,t.ended=!1,t.playerPaused=!1,t.loading=!1,t.volume=this.getVolume(),t.muted=this.getMuted(),this.props.playStartRequested&&(t.playStartCompleted=!0),this.props.updateState({type:m.PLAYING,state:t,event:e})},onPlayerSeeked:function(){this._isSeeking=!1},onPlayerPausedChanged:function(e){var t=e&&e.target&&e.target.paused,i=this.props.playerPaused!==t,n=this._isSeeking,r=this.context.staticConfiguration.ignorePausePlayEventsDuringSeeking;n&&r||i&&this.props.updateState({type:m.PAUSED,state:{playerPaused:t},event:e})},onPlayerLoad:function(e){this.props.updateState({type:m.LOADED,state:{loaded:!0,loading:!1},event:e})},onPlayerError:function(e){var t=this.getError()||e;if(l.isTimeoutError(t))return void(this.props.onPlayerTimeout&&this.props.onPlayerTimeout());this.props.updateState({type:m.ERROR,state:{playStartCompleted:!1,error:t},event:e})},onPlayerStalled:function(e){this.props.updateState({type:m.STALLED,state:n.assign(this.getTimeState(),{stalled:!0}),event:e})},onPlayerTimeUpdate:function(e){var t=this.getCurrentTime();if(!(void 0!==t&&t<1)||this.props.rewoundOnEnd){this.props.updateState({type:m.TIME_UPDATE,state:Object.assign({},this.getTimeState(),{stalled:!1,rebuffering:!1,rewoundOnEnd:!1}),event:e});t===this.getDuration()&&this.onPlayerEnded(e)}},onPlayerDurationChanged:function(e){this.props.updateState({type:m.DURATION_CHANGED,state:this.getTimeState(),event:e})},onPlayerVolumeChanged:function(e){this.props.updateState({type:m.VOLUME_CHANGED,state:{volume:this.getVolume(),muted:this.getMuted()},event:e})},onPlayerEnded:function(e){if(!this.props.ended){var t={};t.ended=!0,t.started=!1,t.playStartCompleted=!1,this.context.staticConfiguration.rewindOnEnd&&(t.rewoundOnEnd=!0),this.props.updateState({type:m.ENDED,event:e,state:t})}},onPlayerLoadedMetadata:function(e){this.props.updateState({type:m.METADATA_LOADED,state:{metadataloaded:!0},event:e})},onPlayerTimedTracksLoaded:function(e){var t={timedTracksLoaded:!0,audioTracks:this.getAudioTrackList(),textTracks:this.getTimedTextTrackList(),selectedAudioTrack:this.getAudioTrack(),selectedTextTrack:this.getTimedTextTrack()};this.props.updateState({type:m.TIMED_TRACKS_LOADED,state:t,event:e})},onPlayerTimedTracksChanged:function(e){var t={audioTracks:this.getAudioTrackList(),textTracks:this.getTimedTextTrackList(),selectedAudioTrack:this.getAudioTrack(),selectedTextTrack:this.getTimedTextTrack()};this.props.updateState({type:m.TIMED_TRACKS_CHANGED,state:t,event:e})},onShowSubtitle:function(e){this.props.updateState({type:m.SHOW_SUBTITLE,state:{},event:e})},onRemoveSubtitle:function(e){this.props.updateState({type:m.REMOVE_SUBTITLE,state:{},event:e})},getTimeState:function(){return{duration:this.getDuration(),currentPlayerTime:this.getCurrentTime(),buffered:this.getBufferedTime()}},toggleFullscreen:function(e){p.toggleFullscreen(this._getNodeForFullscreen())},enterFullscreen:function(){p.enterFullscreen(this._getNodeForFullscreen())},exitFullscreen:function(){p.exitFullscreen(this._getNodeForFullscreen())},_getNodeForFullscreen:function(){var e=this.context.staticConfiguration.browserInfo,t=n.get(e,"isIOS",!1),i=n.get(e,"isAndroid",!1);return t||i?this.getVideoNode():this.props.getFullScreenNode()},engage:function(){this.player&&this.player.engage&&this.player.engage.apply(this.player,arguments)}}));t.exports=L});C.r("player/nfplayer/engines/html5PlayerEngine.jsx",function(e,t,n){"use strict";var i=e("lodash"),a=e("prop-types"),r=e("react"),o=e("create-react-class"),s=e("react-dom"),d=e("../common/playerEngines"),l=e("../common/playerEvents"),u=(e("../common/PlayerUIState"),e("../utils/playerSession")),p=e("../types/staticConfiguration"),h=e("../../../utils/shallowCompare"),c=(e("../uiLabel"),e("classnames")),y=e("../utils/fullscreen"),g=e("../../../common/HTMLConstants"),f=o({displayName:"HTML5Player",statics:{engine:d.HTML5_VIDEO_EL},player:void 0,contextTypes:{actionCreators:a.object,models:a.object,staticConfiguration:p,playerSession:a.instanceOf(u)},load:function(){this.player&&this.player.load()},play:function(){this.player&&this.player.play()},pause:function(){this.player&&this.player.pause()},togglePlay:function(){this.getPaused()?this.play():this.pause()},getPaused:function(){return!(!this.player||!this.player.paused)},setVolume:function(e){this.player&&(this.player.volume=e)},getVolume:function(){return this.player&&this.player.volume},setMuted:function(e){this.player&&(this.player.muted=e)},getMuted:function(){return this.player&&this.player.muted},toggleMute:function(){this.player&&(this.player.muted=!this.player.muted)},getDuration:function(){return this.player&&this.player.duration},getCurrentTime:function(){return this.player&&this.player.currentTime},getBufferedTime:function(){try{return this.player&&this.player.buffered.end(0)}catch(e){return 0}},seek:function(e){this.player&&(this.player.currentTime=e)},getError:function(){return this.player&&this.player.error},getEnded:function(){return this.player&&this.player.ended},getVideoSize:function(){var e=s.findDOMNode(this.refs.videoNode);return e&&e instanceof HTMLVideoElement?{width:e.videoWidth,height:e.videoHeight}:{width:void 0,height:void 0}},getTrickPlayURL:function(e){return null},getAudioTrack:function(){return null},getTimedTextTrack:function(){return null},getAudioTrackList:function(){return null},getTimedTextTrackList:function(){return null},getVersion:function(){return i.get(this.context.models,["serverDefs","data","BUILD_IDENTIFIER"],null)},setAudioTrack:function(){},setTimedTextTrack:function(){},close:function(e){var t=this.context.playerSession,n=t.getPlayerInterface({isClosing:!0});if(n.isClosing())return void(e&&"function"==typeof e&&e());n.startClosing();var i=s.findDOMNode(this.refs.video);i&&i instanceof HTMLVideoElement&&(i.removeEventListener("error",this.onPlayerError),i.removeEventListener("ended",this.onPlayerEnded),i.removeEventListener("stalled",this.onPlayerStalled),i.removeEventListener("timeupdate",this.onPlayerTimeUpdate),i.removeEventListener("canplaythrough",this.onPlayerLoad),i.removeEventListener("progress",this.onPlayerProgressBufferVideoTag),i.removeEventListener("durationchange",this.onPlayerDurationChanged),i.removeEventListener("pause",this.onPlayerPausedChanged),i.removeEventListener("play",this.onPlayerPausedChanged),i.removeEventListener("playing",this.onPlayerPlaying),i.removeEventListener("volumechange",this.onPlayerVolumeChanged),i.removeEventListener("loadedmetadata",this.onPlayerLoadedMetadata),i.load(),i.removeAttribute("src")),"function"==typeof this.props.onPlayerClosing&&this.props.onPlayerClosing(),"function"==typeof this.props.onPlayerClosed&&this.props.onPlayerClosed(),"function"==typeof e&&e()},getVideoNode:function(){return s.findDOMNode(this.refs.video)},isLoaded:function(){var e=this.getVideoNode();return!(!e||e.readyState!==g.HTMLMediaElement.HAVE_ENOUGH_DATA)},onPlayerProgressBufferVideoTag:function(e){this.player&&this.player.readyState===g.HTMLMediaElement.HAVE_METADATA&&this.player.networkState===g.HTMLMediaElement.NETWORK_LOADING?this.onPlayerRebuffering(e):this.onPlayerProgressBuffer(e)},onPlayerRebuffering:function(e){this.props.updateState({type:l.REBUFFERING,state:i.assign(this.getTimeState(),{stalled:!1,rebuffering:!0}),event:e})},getDefaultProps:function(){return{trackId:-1,nativeVideoControlsList:"nodownload",showNativeControls:!1,playbackData:{},volume:1,muted:!1}},componentDidMount:function(){if(!this.props.playbackData.url)return void this.onPlayerError(new Error("No video URL provided for playback!"));this.setup(this.props)},componentWillReceiveProps:function(e){var t=this,n=this.props.playbackData.url,i=e.playbackData.url,a=this.props.videoId,r=e.videoId;n===i&&a===r||this.close(function(){t.setup(e)})},componentWillUnmount:function(){this.close()},shouldComponentUpdate:h.partialProps(["showNativeControls","playbackData","videoId"]),setup:function(e){var t=e.autoPlay,n=e.nativeVideoControlsList,i=e.showNativeControls,a=e.uiLabel,r=this.context,o=r.actionCreators,d=r.playerSession,l=s.findDOMNode(this.refs.video);l&&l instanceof HTMLVideoElement&&(this.player=l,this.setVolume(e.volume),this.setMuted(!!e.muted),o&&o.receiveHTMLVideoPlayer&&o.receiveHTMLVideoPlayer({autoPlay:t,instance:l,sessionId:d.getId(),uiLabel:a}),this.onPlayerReady(this),this.isLoaded()?this.onPlayerLoad(null):l.addEventListener("canplaythrough",this.onPlayerLoad),l.addEventListener("error",this.onPlayerError),l.addEventListener("ended",this.onPlayerEnded),l.addEventListener("stalled",this.onPlayerStalled),l.addEventListener("timeupdate",this.onPlayerTimeUpdate),l.addEventListener("progress",this.onPlayerProgressBufferVideoTag),l.addEventListener("durationchange",this.onPlayerDurationChanged),l.addEventListener("pause",this.onPlayerPausedChanged),l.addEventListener("play",this.onPlayerPausedChanged),l.addEventListener("playing",this.onPlayerPlaying),l.addEventListener("volumechange",this.onPlayerVolumeChanged),l.addEventListener("loadedmetadata",this.onPlayerLoadedMetadata),n&&l.setAttribute("controlsList",n),i||l.setAttribute("disableRemotePlayback","true"))},render:function(){var e=i.get(this,"props.playbackData.url",null);if(!e)return null;var t=this.props,n=t.muted,a=t.autoPlay,o=t.showNativeControls;return r.createElement("div",{className:c("VideoContainer",{"VideoContainer--use-element-dimensions":this.context.staticConfiguration.useVideoElementDimensions,"VideoContainer--use-video-width":this.context.staticConfiguration.useVideoWidthForDimensions})},r.createElement("video",{ref:"video",tabIndex:-1,"aria-hidden":"true",src:e,type:"video/mp4",muted:n,preload:this.context.staticConfiguration.preLoad,autoPlay:a,controls:o}))},onPlayerProgressBuffer:i.throttle(function(e){this.props.updateState({type:l.PROGRESS,state:this.getTimeState(),event:e})},500,{leading:!0,trailing:!0}),onPlayerReady:function(e){this.props.onPlayerReady&&this.props.onPlayerReady(e)},onPlayerPlaying:function(e){var t={};t.currentScrubTime=-1,t.scrubbing=!1,t.started=!0,t.ended=!1,t.playerPaused=!1,t.loading=!1,t.volume=this.getVolume(),t.muted=this.getMuted(),this.props.playStartRequested&&(t.playStartCompleted=!0),this.props.updateState({type:l.PLAYING,state:t,event:e})},onPlayerPausedChanged:function(e){var t=e&&e.target instanceof HTMLMediaElement&&e.target.paused;this.props.playerPaused!==t&&this.props.updateState({type:l.PAUSED,state:{playerPaused:t},event:e})},onPlayerLoad:function(e){this.props.updateState({type:l.LOADED,state:{loaded:!0,loading:!1},event:e})},onPlayerError:function(e){var t=this.getError()||e;this.props.updateState({type:l.ERROR,state:{playStartCompleted:!1,error:t},event:e})},onPlayerStalled:function(e){this.props.updateState({type:l.STALLED,state:i.assign(this.getTimeState(),{stalled:!0}),event:e})},onPlayerTimeUpdate:function(e){var t=this.getCurrentTime();if(!(void 0!==t&&t<1)||this.props.rewoundOnEnd){this.props.updateState({type:l.TIME_UPDATE,state:i.assign(this.getTimeState(),{currentScrubTime:-1,scrubbing:!1,stalled:!1,rebuffering:!1,rewoundOnEnd:!1}),event:e});t===this.getDuration()&&this.onPlayerEnded(e)}},onPlayerDurationChanged:function(e){this.props.updateState({type:l.DURATION_CHANGED,state:this.getTimeState(),event:e})},onPlayerVolumeChanged:function(e){this.props.updateState({type:l.VOLUME_CHANGED,state:{volume:this.getVolume(),muted:this.getMuted()},event:e})},onPlayerEnded:function(e){if(!this.props.ended){var t={};t.ended=!0,t.started=!1,t.playStartCompleted=!1,this.context.staticConfiguration.rewindOnEnd&&(t.rewoundOnEnd=!0),this.props.updateState({type:l.ENDED,event:e,state:t})}},onPlayerLoadedMetadata:function(e){this.props.updateState({type:l.METADATA_LOADED,state:{metadataloaded:!0},event:e})},onPlayerTimedTracksLoaded:function(e){var t={timedTracksLoaded:!0,audioTracks:this.getAudioTrackList(),textTracks:this.getTimedTextTrackList(),selectedAudioTrack:this.getAudioTrack(),selectedTextTrack:this.getTimedTextTrack()};this.props.updateState({type:l.TIMED_TRACKS_LOADED,state:t,event:e})},onPlayerTimedTracksChanged:function(e){var t={audioTracks:this.getAudioTrackList(),textTracks:this.getTimedTextTrackList(),selectedAudioTrack:this.getAudioTrack(),selectedTextTrack:this.getTimedTextTrack()};this.props.updateState({type:l.TIMED_TRACKS_CHANGED,state:t,event:e})},onShowSubtitle:function(e){this.props.updateState({type:l.SHOW_SUBTITLE,state:{},event:e})},onRemoveSubtitle:function(e){this.props.updateState({type:l.REMOVE_SUBTITLE,state:{},event:e})},getTimeState:function(){return{duration:this.getDuration(),currentPlayerTime:this.getCurrentTime(),buffered:this.getBufferedTime()}},toggleFullscreen:function(e){y.toggleFullscreen(this._getNodeForFullscreen())},enterFullscreen:function(){y.enterFullscreen(this._getNodeForFullscreen())},exitFullscreen:function(){y.exitFullscreen(this._getNodeForFullscreen())},_getNodeForFullscreen:function(){var e=this.context.staticConfiguration.browserInfo,t=i.get(e,"isIOS",!1),n=i.get(e,"isAndroid",!1);return t||n?this.getVideoNode():this.props.getFullScreenNode()},engage:function(){this.player&&this.player.engage&&this.player.engage.apply(this.player,arguments)}});t.exports=f});C.r("player/nfplayer/engines/nfplayerCore.jsx",function(e,t,i){"use strict";function s(e){return[Q.MEMBER_WATCH_PAGE].indexOf(e)>-1}function o(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],i=e.length,s=0;s<i;s++){var o=e[s];if(o&&o.type===t)return!0}return!1}function n(e,t){return t.type===F.ENDED&&t.state.rewoundOnEnd&&(this.state.player.pause(),this.state.player.seek(0)),e}function a(e,t){return Ce.indexOf(e.uiState)>-1&&e.playerPaused}function r(e){function t(){var t=a.shift();t&&(fe(function(){if(t){var i=c(e,t),s=e.state.postPlayTriggered,o=i.postPlayTriggered||!1;(!Pe[t.type]||void 0!==i.rebuffering&&i.rebuffering!==e.state.rebuffering||s!==o)&&(e._isMounted||void 0===e._isMounted)&&e.setState(i)}}),a.length>0&&e.isMounted()&&l())}var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=[],r=e.context.staticConfiguration.uiContext,l=function(){i?requestAnimationFrame(t):t()},c=G([P,S,ee,Z,n,J,s(r)?_:p.identity,m,f(e.context.playerSession,e.context.playerApp)]);return function(t){if(!Se[t.type]||!o(a,t.type)){a.push(t);var i=e&&e.state&&e.state.player;Te[t.type]&&i&&i.emit(F.UNBATCHED_EVENTS[t.type],t),a.length>=1&&l()}}}function l(e,t){e&&t&&(e._setUpdateState(t.updateState),e._setCoreComponent(t))}var c,u,d=e("babel-runtime/helpers/defineProperty"),h=function(e){return e&&e.__esModule?e:{default:e}}(d),p=e("lodash"),y=e("./cadmiumPlayerEngine.jsx"),m=e("../actions/callHandlers"),f=e("../actions/dispatchCoreActionsToPlayerApp"),v=e("classnames"),g=e("../../../utils/shallowCompare"),P=e("../actions/emitEvent"),T=e("../../../utils/eventBus"),S=e("../actions/exitMobileFullScreen"),E=e("../utils/featureDetection"),C=e("../utils/fullscreen"),A=e("../utils/getPlayerEngineType"),I=e("../utils/getSafeReactChildren"),b=e("./html5PlayerEngine.jsx"),k=e("../utils/isLargeDimensions"),x=e("ramda/src/isNil"),w=e("../utils/playerKeyHandler"),N=(e("../common/Metadata"),e("../../components/networkDisconnected.jsx")),L=e("../utils/playbackPerformance"),_=e("../actions/persistVolume"),M=e("../../entities/playContext"),D=e("../common/playerEngines"),F=e("../common/playerEvents"),V=e("../components/playerSurface.jsx"),B=e("../common/PlayerUIState"),R=e("../common/playerControls"),O=e("../views/PlayView.jsx"),U=e("../../playerMetrics"),K=e("prop-types"),H=e("react"),W=e("create-react-class"),j=e("react-dom"),G=e("../utils/reduceState"),q=e("../../session/sessionManager"),z=e("../components/spinner.jsx"),Y=e("../components/svgDefs.jsx"),X=e("../components/timedText/timedTextContainer.jsx"),Z=e("../actions/triggerPostplay"),J=e("../actions/handleFastForwardState"),Q=e("../uiContext"),$=e("../uiLabel"),ee=e("../actions/updateBookmark"),te=e("../types/staticConfiguration"),ie=e("../components/controls/playerControlsLegacyStyles.jsx"),se=e("../components/controls/playerControlsWinningLayout.jsx"),oe=e("../components/controls/playerControlsNeoLabeledLayout.jsx"),ne=e("../utils/playerSession"),ae=e("../components/videoAspectContainer.jsx"),re=e("../../domains/videoPlayer/videoSession"),le=e("../../../utils/consolidatedLogging/loggingEventRegistry"),ce=e("shakti-platform/dist/ui/utils/inNode"),ue=e("../common/playerInterfaceManager"),de=e("../../../common/keyCodes"),he=e("../common/fastForwardStates"),pe=e("../../../mdx2/hoc/mdxLoader.jsx"),ye=e("../components/controls/keyboardNotification.jsx"),me=e("../utils/shouldAllowSeek"),fe=j.unstable_batchedUpdates,ve={bottom:0},ge=H.createElement(N,null),Pe=(c={},(0,h.default)(c,F.TIME_UPDATE,!0),(0,h.default)(c,F.REBUFFERING,!0),(0,h.default)(c,F.VOLUME_CHANGED,!0),c),Te=(u={},(0,h.default)(u,F.SCRUB_END,!0),(0,h.default)(u,F.SCRUB_START,!0),(0,h.default)(u,F.SCRUB,!0),(0,h.default)(u,F.VOLUME_CHANGED,!0),u),Se=(0,h.default)({},F.ENDED,!0),Ee=function(e){var t=e.autoPlay,i=e.isFullScreen,s=e.playerInterface,o=e.muted,n=e.volume,a=e.uiState;return{ready:!1,player:s,loaded:!1,metadataloaded:!1,started:!1,scrubbing:!1,playerPaused:void 0===t||!t,destroyPlayer:!1,ended:!1,isFullScreen:void 0!==i&&i,rebuffering:!1,fastForwardProgress:he.NONE,stalled:!1,currentScrubTime:-1,volume:n,muted:o,error:null,fallbackMode:!1,timedTracksLoaded:!1,audioTracks:null,textTracks:null,selectedAudioTrack:null,selectedTextTrack:null,uiState:a||B.LOADING,postPlayTriggered:!1,timedTextBounds:ve,rewoundOnEnd:!1,playStartCompleted:!1,keyboardAction:void 0}},Ce=[B.IDLE,B.DISABLED,B.TIMED_OUT],Ae=W({displayName:"NFPlayerCore",childContextTypes:{dispatch:K.func},getChildContext:function(){return{dispatch:this.dispatch}},contextTypes:{actionCreators:K.object,getI18nString:K.func.isRequired,getModelData:K.func.isRequired,models:K.object.isRequired,playerApp:K.object,playerSession:K.instanceOf(ne),staticConfiguration:te},getDefaultProps:function(){return{allowLowPowerMode:!0,controls:!0,getFullScreenNode:p.noop,onPlayerReady:p.noop,onPlayerActive:p.noop,onPlayerInactive:p.noop,onPlayerNotAvailable:p.noop,onPlayerClosed:p.noop,config:{},hasLargeDimensions:!1,disableKeyHandler:{UPDOWN:!1,SPACEENTER:!1,LEFTRIGHT:!1,ESC:!1,TAB:!1,M:!1,F:!1,ALL:!1},onPlayerLoad:p.noop,onTitleNav:p.noop,showTimedText:!0,spinnerClass:z,timedTextBoundsOverride:void 0,uiLabel:$.STANDARD,shouldRepositionSubtitlesWhenInactive:!0,isPlaybackBlocked:!1}},getInitialState:function(){this._isMounted=void 0;var e=this.props,t=e.autoPlay,i=e.muted,o=e.volume,n=e.uiState,a=this.context,c=a.getModelData,u=a.playerSession,d=a.staticConfiguration,h=this.context.staticConfiguration.browserInfo,p=(!h||!h.isMobile)&&d.useRequestAnimationFrameFlush;this.updateStateDispatch=r(this,p),this.resetTransientState();var y=s(d.uiContext)?ne.getVolumeSessionState({muted:i,volume:o}):{volume:o,muted:i};u.hasPlayerInterface()&&u.destroyPlayerInterface();var m=u.getPlayerInterface();return l(m,this),this._truths=c("truths"),Ee({autoPlay:t,isFullScreen:!1,muted:y.muted,playerInterface:m,uiState:n,volume:y.volume})},dispatch:function(e){switch(e.type){case F.ENGAGE:this.state.player.engage();break;case le.PLAYER_NO_VIDEO_ELEMENT:T.emit(le.PLAYER_NO_VIDEO_ELEMENT,e.data)}},updateState:function(e){this.updateStateDispatch&&this.updateStateDispatch(e)},shouldPreferCadmium:function(){var e=this.props.config,t=this.context.getModelData("playerModel","playbackSupport")||{};return A(e,t,this.context.staticConfiguration.uiContext,this.props.engine)===D.CADMIUM},onPlayerError:function(e){var t=p.get(this.props,"playbackData.url"),i=this.props.forcePlaybackEngine,s=this.context.staticConfiguration,o=s.attemptFallback,n=s.allowForcingPlaybackEngine;if(o&&n&&this.shouldPreferCadmium()&&t&&i)return i(D.HTML5_VIDEO_EL),void this.setState({error:null,fallbackMode:!0});p.isFunction(this.props.onPlayerError)&&this.props.onPlayerError(e)},onPlayerReady:function(e){var t=this.context.staticConfiguration.browserInfo,i=p.get(t,"isIOS",!1),s=p.get(t,"isAndroid",!1),o=e.getVideoNode(),n=this;this.state.player._setSmartSubtitles(this.context.staticConfiguration.smartSubtitles,this.context.models),this.state.player._setPlayerComponent(e),l(this.state.player,this),this.setState({ready:!0},function(){n.props.onPlayerReady(this.state.player)}),o&&(i||s)&&(o.addEventListener("webkitbeginfullscreen",this.fullscreenChanged),o.addEventListener("webkitendfullscreen",this.fullscreenChanged)),q.startHeartbeat(this.state.player)},onContextMenu:function(e){e.preventDefault(),e.stopPropagation()},onPostplay:function(e){this.exitLowPowerMode(),this.setState({uiState:B.ACTIVE,timedTextBounds:this.getTimedTextBounds()}),this.props.onPostplay&&this.props.onPostplay(e)},onActive:function(){var e=this,t=this.state.uiState;t!==B.DISABLED&&t!==B.TIMED_OUT&&t!==B.ACTIVE&&(this.isBecomingActive||(this.isBecomingActive=!0,this.exitLowPowerMode(),this.setState({uiState:B.ACTIVATING},function(){setTimeout(function(){e.setState({uiState:B.ACTIVE,timedTextBounds:e.getTimedTextBounds()});var t={type:F.ACTIVE,event:null};e.props.onPlayerActive(t),e.state.player.emit(F.ACTIVE,t)},16)})))},exitLowPowerMode:function(){clearTimeout(this._powerSaveTimeout),T.emit("exit-lp")},onInactive:function(){if(!p.contains([B.DISABLED,B.TIMED_OUT,B.INACTIVE,B.POWER_SAVE],this.state.uiState)&&!this.props.postPlayActive&&this._isMounted){var e=this.getNFPlayerNode(),t=this.context.staticConfiguration;if(!this.shouldKeepActive()){var i=this.props.inViewport,s=this.state.scrubbing;t.focusAfterInactivity&&e&&e.contains(document.activeElement)&&(t.shouldTrackViewportPosition?i&&e.focus():void 0===i&&e.focus()),s&&this.state.player.scrubCancel(),this.enterInactiveUIState(),this.enterLowerPowerMode(this.props)}}},enterInactiveUIState:function(){var e=this.props.onPlayerInactive;this.exitLowPowerMode(),this.isBecomingActive=!1,this.setState({uiState:B.INACTIVE,timedTextBounds:this.getTimedTextBounds(!0)});var t={type:F.INACTIVE,event:null};e(t),this.state.player.emit(F.INACTIVE,t),this.state.playerPaused&&!this.state.rebuffering&&(this._idleTimerHandle=setTimeout(this.onIdle,this.context.staticConfiguration.idleTimeout))},enterLowerPowerMode:function(e){var t=this,i=this.context.staticConfiguration,s=e.allowLowPowerMode,o=i.browserInfo,n=o&&o.isSafari,a=o&&o.isChrome,r=o&&o.isEdge;s&&(n||a||r)&&(clearTimeout(this._powerSaveTimeout),this._powerSaveTimeout=setTimeout(function(){T.emit("enter-lp"),t.setState({uiState:B.POWER_SAVE})},1e3))},onIdle:function(){var e=this;this.state.uiState!==B.DISABLED&&this.state.uiState!==B.TIMED_OUT&&this.state.playerPaused&&(clearTimeout(this._powerSaveTimeout),this.exitLowPowerMode(),this.setState({uiState:B.ACTIVATING},function(){setTimeout(function(){e.setState({uiState:B.IDLE,timedTextBounds:e.getTimedTextBounds(!0)})},16)}))},onPlayerTimeout:function(){this.props.onPlayerTimeout&&this.props.onPlayerTimeout(),this.setState({playStartCompleted:!1,uiState:B.TIMED_OUT})},onPlayerClosing:function(){this.props.onPlayerClosing&&this.props.onPlayerClosing(),q.stopHeartbeat(!1,!!this._truths.mdx2Enabled&&pe.isCasting())},onCadmiumPlayerClosed:function(){U&&U.publishPlayerMetrics&&U.publishPlayerMetrics(re.get()),this.props.onPlayerClosed&&this.props.onPlayerClosed()},onPlayerLoad:function(e){this._hasSeenLoadingEvent?this.onActive():(this._hasSeenLoadingEvent=!0,this.context.staticConfiguration.showControlsOnPlayStart?this.onActive():this.onInactive()),this.props.onPlayerLoad&&this.props.onPlayerLoad(e)},onPlayerPlaying:function(e){var t=this;clearTimeout(this._onPlayingActiveTimeout),this._onPlayingActiveTimeout=setTimeout(function(){t.onUserActivityChanged(!1)},1e3),this.props.onPlayerPlaying&&this.props.onPlayerPlaying(e)},onMouseMove:function(e){var t={x:p.get(e,"clientX"),y:p.get(e,"clientY")},i=void 0!==this._lastMousePosition,s=!1;!i||t.x===this._lastMousePosition.x&&t.y===this._lastMousePosition.y||(s=!0),this._lastMousePosition=t,s&&this.onUserActivityChanged(!0)},onMouseLeave:function(){this.context.staticConfiguration.hideControlsImmediatelyOnLeave&&(this.setKeepActive(!1),this.onInactive())},onMouseUp:function(){if(document&&document.activeElement){var e=this.getNFPlayerNode();document.activeElement!==e&&e.contains(document.activeElement)&&e.focus()}},clearTimeouts:function(){!(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&this._idleTimerHandle>-1&&(clearTimeout(this._idleTimerHandle),this._idleTimerHandle=-1),clearTimeout(this._inactivityTimerHandle),clearTimeout(this._onPlayingActiveTimeout),clearTimeout(this._powerSaveTimeout),this._inactivityTimerHandle=-1,this._onPlayingActiveTimeout=-1,this._powerSaveTimeout=-1},onUserActivityChanged:function(e,t,i){if(!this._lastMousePosition&&i&&(this._lastMousePosition=i),!(i&&this._lastMousePosition&&i.x===this._lastMousePosition.x&&i.y===this._lastMousePosition.y||(e?this.clearTimeouts():this.clearTimeouts(!0),this.props.uiState))){var s=this.state.uiState;s!==B.DISABLED&&s!==B.TIMED_OUT&&s!==B.LOADING&&(this.props.onUserActivityChanged&&this.props.onUserActivityChanged(e),e&&this.state.uiState!==B.ACTIVE&&this.onActive(),this._inactivityTimerHandle=setTimeout(this.onInactive,t||this.context.staticConfiguration.inactivityTimeout))}},onSeekBack:function(){this.state.player.seekBack(this.context.staticConfiguration.seekBackTime),this.showActionNotification(de.LEFT)},onSeekForward:function(){this.state.player.seekForward(this.context.staticConfiguration.seekForwardTime),this.showActionNotification(de.RIGHT)},setKeepActive:function(e,t){this.state.uiState===B.ACTIVE&&(void 0===t&&this._forceKeepActive||(this._forceKeepActive="boolean"==typeof t&&t,this._keepActive=e))},shouldKeepActive:function(){return this._forceKeepActive||this.props.isPlaybackBlocked||this._keepActive},getVideoNode:function(){var e=p.result(this,"refs.player",null);return e?e.getVideoNode():null},setAudioTrack:function(e){this.state.player.setAudioTrack(e)},setTimedTextTrack:function(e){this.state.player.setTimedTextTrack(e)},isLoaded:function(){return p.result(this,"refs.player.isLoaded",!1)},getNFPlayerNode:function(){return this._isMounted?j.findDOMNode(this):void 0},getFullScreenNode:function(){return this.props.fullScreenNode||this.props.getFullScreenNode()||this.getNFPlayerNode()},onPlayerSurfaceClick:function(e){this.wakeAndToggle(),this.props.onPlayerSurfaceClick&&this.props.onPlayerSurfaceClick(e)},wakeAndToggle:function(){var e=this.context.staticConfiguration;this.state.uiState===B.POWER_SAVE&&(this.onActive(),(e.controlsLayoutClass===se||this._truths.enableClickToPlayPause)&&this.state.player.togglePlay())},createPlayerComponent:function(){var e=this.context.staticConfiguration,t=e.waitForCadmiumPlayerInstance,i=e.browserInfo,s=e.attemptFallback,o=this.props,n=o.cadmiumPlayerInstance,a=o.config,r=o.controls,l=o.cropAspectRatio,c=o.onNotSupported,u=o.playbackData,d=o.showTimedText;if(this.state.destroyPlayer||t&&!n)return null;var h=a,m=p.get(this.context.models,"playerModel.data.playbackSupport",{}),f=this.shouldPreferCadmium(),v=i&&i.isIOS;if(!f&&!s)return c?c():this.onPlayerError(new Error("No fallback player engine available.")),null;var g=u&&u.manifest;return f&&!this.state.fallbackMode?H.createElement(y,{autoPlay:this.props.autoPlay,bookmarkOverride:this.props.bookmarkOverride,config:h,cadmiumPlayerInstance:n,cropAspectRatio:l,ended:this.state.ended,getFullScreenNode:this.getFullScreenNode,getNFPlayerNode:this.getNFPlayerNode,isFullScreen:this.state.isFullScreen,isImplicitAutoPlay:this.props.isImplicitAutoPlay,loaded:this.state.loaded,manifest:g,muted:this.state.muted,onPlayerClosed:this.onCadmiumPlayerClosed,onPlayerClosing:this.onPlayerClosing,onPlayerError:this.onPlayerError,onPlayerReady:this.onPlayerReady,onPlayerRebuffering:this.props.onPlayerRebuffering,onPlayerTimeout:this.onPlayerTimeout,playContext:this.props.playContext,playerPaused:this.state.playerPaused,playStartRequested:this.props.playStartRequested,preferredAudioLocale:this.props.preferredAudioLocale,preferredTextLocale:this.props.preferredTextLocale,ref:"player",rewoundOnEnd:this.state.rewoundOnEnd,showTimedText:d,trackId:this.props.trackId,uiLabel:this.props.uiLabel,uiState:this.state.uiState,updateState:this.updateState,videoId:this.props.videoId,volume:this.state.volume}):E.canPlayHTML5(m)?H.createElement(b,{autoPlay:this.props.autoPlay,config:h,ended:this.state.ended,isFullScreen:this.state.isFullScreen,getFullScreenNode:this.getFullScreenNode,muted:this.state.muted,onPlayerClosed:this.props.onPlayerClosed,onPlayerClosing:this.onPlayerClosing,onPlayerError:this.onPlayerError,onPlayerRebuffering:this.props.onPlayerRebuffering,onPlayerReady:this.onPlayerReady,playbackData:this.props.playbackData,playerPaused:this.state.playerPaused,playStartRequested:this.props.playStartRequested,ref:"player",rewoundOnEnd:this.state.rewoundOnEnd,updateState:this.updateState,uiState:this.state.uiState,uiLabel:this.props.uiLabel,videoId:this.props.videoId,volume:this.state.volume,showNativeControls:r&&v}):(this.props.onNotSupported&&this.props.onNotSupported(),null)},fullscreenChanged:function(e){var t=this.context.staticConfiguration.browserInfo,i=p.get(t,"isIOS",!1),s=p.get(t,"isAndroid",!1),o=i||s?this.getVideoNode():this.getFullScreenNode(),n=C.isFullscreen(o);this.updateState({event:e,type:n?F.FULLSCREEN_ENTER:F.FULLSCREEN_EXIT,state:{isFullScreen:n}})},focus:function(){var e=this.getNFPlayerNode();e&&e.focus()},isPlayerCreationAvailable:function(){var e=this.context,t=e.playerApp,i=e.playerSession;if(t){return ue.isPlayerCreationAvailable(i.getId(),t)}return!0},componentDidMount:function(){this._isMounted=!0;var e=this.props.onPlayerNotAvailable,t=this.context.staticConfiguration.focusOnMount;if(!this.isPlayerCreationAvailable())return void e();this._playbackPerfomance=new L(this),this._playbackPerfomance.componentDidMount(),document.addEventListener("fullscreenchange",this.fullscreenChanged),document.addEventListener("webkitfullscreenchange",this.fullscreenChanged),document.addEventListener("mozfullscreenchange",this.fullscreenChanged),document.addEventListener("MSFullscreenChange",this.fullscreenChanged),t&&this.focus()},componentWillMount:function(){var e=this.context,t=e.actionCreators,i=e.playerSession,s=e.staticConfiguration;t&&!ce&&(t.receivePlayerSession&&t.receivePlayerSession({playerSession:i,sessionId:i.getId(),shouldFetchAdvisories:s.shouldFetchAdvisories}),t.receiveVideoId&&t.receiveVideoId({sessionId:i.getId(),videoId:this.props.videoId}))},componentWillReceiveProps:function(e){var t=this.props.engine,i=e.engine,s=this.props.muted,o=e.muted,n=this.props.videoId,a=e.videoId,r=this.props.volume,l=e.volume,c=this.props.uiState,u=e.uiState,d={},h=this.context,p=h.actionCreators,y=h.playerSession;if(n!==a){y.destroyPlayerInterface();var m=y.getPlayerInterface();d=Ee({autoPlay:e.autoPlay,isFullScreen:this.state.isFullScreen,playerInterface:m,muted:this.state.muted,volume:this.state.volume,uiState:e.uiState||this.state.uiState}),p&&p.receiveVideoId&&p.receiveVideoId({sessionId:y.getId(),videoId:a}),this.resetTransientState(!0),this.clearTimeouts()}e.uiState&&(this.clearTimeouts(),this.isBecomingActive=!1,d.uiState=e.uiState,d.timedTextBounds=this.getTimedTextBounds()),t!==i&&(this.state.player.close(void 0,{dataToLog:{initParams:this.props.config,playContext:M.toPlayContextData(this.props.playContext),reason:"NFPlayerCore::switchEngines",trackId:this.props.trackId,uiLabel:this.props.uiLabel,videoId:this.props.videoId}}),y.destroyPlayerInterface(),d.player=y.getPlayerInterface(),d.started=!1,d.ready=!1),s!==o&&(this.state.player&&this.state.player.setMuted(o),d.muted=o),r!==l&&(this.state.player&&this.state.player.setVolume(l),d.volume=l),c!==u&&(u===B.DISABLED?(this.state.player&&this.state.player.pause(),d.uiState=B.DISABLED):c===B.DISABLED&&u!==B.DISABLED&&this.state.uiState!==B.TIMED_OUT&&(d.uiState=B.ACTIVE,this.onUserActivityChanged(!0))),!this.props.allowLowPowerMode&&e.allowLowPowerMode&&this.state.uiState===B.INACTIVE&&this.enterLowerPowerMode(e),this.props.allowLowPowerMode&&!e.allowLowPowerMode&&(this.state.uiState===B.POWER_SAVE?this.enterInactiveUIState():this.state.uiState===B.INACTIVE&&this.exitLowPowerMode()),d.player&&"boolean"==typeof d.player.getPaused()&&this.state.playerPaused!==d.player.getPaused()&&(d.playerPaused=d.player.getPaused()),d.timedTextBounds=this.getTimedTextBounds(),this.setState(d)},componentWillUpdate:function(e,t){this._playbackPerfomance&&this._playbackPerfomance.componentWillUpdate(e,t)},componentDidUpdate:function(e,t){var i=this.state,s=i.isFullScreen,o=i.loaded,n=i.player,a=i.playStartCompleted,r=i.playerPaused,l=i.uiState;s===t.isFullScreen&&this.props.dimensions||this.props.updateDimensions(),!this.props.isPlaybackBlocked&&e.isPlaybackBlocked&&this.onInactive(),(o&&!t.loaded||l===B.INACTIVE&&t.uiState!==B.INACTIVE||l===B.ACTIVE&&t.uiState!==B.ACTIVE)&&n.setTimedTextBounds(this.getTimedTextBounds());var c=this.context.staticConfiguration.browserInfo;this.props.playStartRequested&&!a&&!this.props.autoPlay&&r&&(o||c.isMobile)&&n&&(this.clearTimeouts(),this.resetTransientState(),this.setState({playStartCompleted:!0}),n.play()),this._playbackPerfomance&&this._playbackPerfomance.componentDidUpdate(e)},resetTransientState:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]||(this._lastMousePosition=void 0),this._hasSeenLoadingEvent=!1,this._forceKeepActive=!1,this._keepActive=!1,this.isBecomingActive=!1,this._seenKeyEvents=void 0},componentWillUnmount:function(){this._isMounted=!1,this.resetTransientState();var e=this.context,t=e.actionCreators,i=e.playerSession,s=e.staticConfiguration,o=s.browserInfo,n=this.props.videoId,a=p.get(o,"isIOS",!1),r=p.get(o,"isAndroid",!1),l=this.getVideoNode();document.removeEventListener("fullscreenchange",this.fullscreenChanged),document.removeEventListener("webkitfullscreenchange",this.fullscreenChanged),document.removeEventListener("mozfullscreenchange",this.fullscreenChanged),document.removeEventListener("MSFullscreenChange",this.fullscreenChanged),this.clearTimeouts(),clearTimeout(this._focusOnEscapeTimer),this._focusOnEscapeTimer=-1,l&&(a||r)&&(l.removeEventListener("webkitbeginfullscreen",this.fullscreenChanged),l.removeEventListener("webkitendfullscreen",this.fullscreenChanged)),t&&(t.unsetStartTime&&t.unsetStartTime({videoId:n,sessionId:i.getId()}),t.playerViewClosing&&s.shouldEmitPlayerViewClosingAction&&t.playerViewClosing({playerSession:i,sessionId:i.getId()})),p.isFunction(p.get(this.disposed,"onNext",null))&&this.disposed.next(),this.disposed=null,this.listenerMap=null,this.updateStateDispatch=null,i&&i.hasPlayerInterface()&&i.destroyPlayerInterface(),this._playbackPerfomance&&this._playbackPerfomance.componentWillUnmount()},restartPlayer:function(){this.props.restartPlayer&&this.props.restartPlayer(),this.isBecomingActive=!1,this.setState({started:!1,uiState:B.LOADING})},getTimedTextBounds:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.props,i=t.timedTextBoundsOverride,s=t.shouldRepositionSubtitlesWhenInactive,o=this.state.uiState;if(i)return i;if(s&&(o===B.INACTIVE||o===B.POWER_SAVE||o===B.DISABLED||o===B.OVERLAYED||e))return{bottom:0};var n=this._controlsComponent;if(n)return n.getTimedTextBounds();switch(this.state.uiState){case B.ACTIVE:return{bottom:80};case B.INACTIVE:return{bottom:ve};default:return ve}},getEvidence:function(){var e=this.props.playbackData,t=this.props.activeVideo,i=void 0,s=void 0,o=void 0;if(e)i=e.title,s=this.context.staticConfiguration.isRTL?null:p.get(e,"logo.url"),o=e.supplementalVideoTitle;else if(t){var n=this.context.staticConfiguration.showTitleLogoEvidence;if(i=t.getTitle(),s=n?t.getLogoURL():null,t.isEpisodic()){var a=t.getEpisodeTitleWithSeasonLabelData();o=this.context.getI18nString("player/player",a.hiddenEpisodeNumbers?"nsre.episode.title":"season.episode.title",a)}else t.isSupplemental()&&(o=t.getTitle())}return i||s?{topNodeTitle:i,logoURL:s,title:o}:{}},onClickPlay:function(e){var t=this.state,i=t.uiState,s=t.loaded,o=t.scrubbing,n=t.player,a=t.rebuffering;if(i===B.TIMED_OUT)return void this.setState({destroyPlayer:!0},function(){var e=this;this.restartPlayer(),this.setState({destroyPlayer:!1},function(){!e.props.autoPlay&&e.state.player&&e.state.player.play()})});if(s){var r=this.context.staticConfiguration,l=r.controlsLayoutClass,c=r.ignorePausePlayEventsDuringSeeking;this.onActive(),o&&(c?n.scrubCancel():n.scrubEnd()),l===oe?a||(n.togglePlay(),this.showActionNotification(de.SPACE)):(n.togglePlay(),this.showActionNotification(de.SPACE))}},onFullScreenChange:function(e){var t=this.state,i=t.isFullScreen,s=t.player,o=i;s&&(s.toggleFullscreen(e),o||this.focus()),this.props.onFullScreenChange&&this.props.onFullScreenChange(e)},shouldComponentUpdate:function(e,t){if(this.props.isPlaybackBlocked!==e.isPlaybackBlocked)return!0;if(this.state.rebuffering!==t.rebuffering)return!0;if(this.state.keyboardAction!==t.keyboardAction)return!0;if(this.props.cadmiumPlayerInstance!==e.cadmiumPlayerInstance)return!0;if(this.props.className!==e.className)return!0;if(this.props.timedTextBoundsOverride!==e.timedTextBoundsOverride)return!0;if(this.props.playStartRequested!==e.playStartRequested)return!0;if(this.props.cropAspectRatio!==e.cropAspectRatio)return!0;if(this.props.showTimedText!==e.showTimedText)return!0;if(this.props.allowLowPowerMode!==e.allowLowPowerMode)return!0;if((this.state.timedTextBounds&&this.state.timedTextBounds.bottom)!==(t.timedTextBounds&&t.timedTextBounds.bottom))return!0;if(this.state.fastForwardProgress!==t.fastForwardProgress)return!0;var i=x(this.props.controlsMainHitzoneElement)&&x(e.controlsMainHitzoneElement)&&x(this.props.staticElement)&&x(e.staticElement)&&x(this.props.interactiveElement)&&x(e.interactiveElement)&&this.props.spinnerClass===e.spinnerClass&&p.isEqual(this.props.spinnerClassProps,e.spinnerClassProps),s=B.INACTIVE,o=B.POWER_SAVE,n=this.state.uiState;return(!i||!(n===s&&t.uiState===s||n===o&&t.uiState===o))&&g.pureRender(e,t)},setControlsComponent:function(e){this._controlsComponent=e},onKey:function(e){var t=e.keyCode,i=this.state,s=i.handledKey,o=i.uiState,n=i.scrubbing,a=this.context.staticConfiguration,r=a.controlsInactivityTimeout,l=a.showKeyboardNotifications;this._seenKeyEvents?(this._seenKeyEvents.unshift({keyCode:t,ts:Date.now()}),this._seenKeyEvents.length>3&&this._seenKeyEvents.pop()):this._seenKeyEvents=[{keyCode:t,ts:Date.now()}];var c=w(e,{allowManualLogging:this.props.allowManualLogging,currentScrubTime:this.state.currentScrubTime,disableKeyHandler:this.props.disableKeyHandler,ended:this.state.ended,handledKey:s,logKeyDownEvent:this.props.logKeyDownEvent,playbackTimedOut:this.state.uiState===B.TIMED_OUT,playerElement:this.getNFPlayerNode(),playerInstance:this.state.player,restartPlayer:this.restartPlayer,scrubbing:n,setKeepActive:this.setKeepActive,started:this.state.started,shouldSeekInsteadOfScrub:this._truths.shouldSeekInsteadOfScrub,seekBack:this.onSeekBack,seekForward:this.onSeekForward,seenKeyEvents:this._seenKeyEvents});if("keydown"===e.type){t===de.ESC&&(clearTimeout(this._focusOnEscapeTimer),this._focusOnEscapeTimer=setTimeout(this.focus,120));var u=o===B.POWER_SAVE||o===B.INACTIVE;l&&t!==de.TAB?l&&(u&&(c!==de.LEFT&&c!==de.RIGHT||me(this._seenKeyEvents))||this.onUserActivityChanged(!0)):this.onUserActivityChanged(!0,t===de.TAB?r:null)}(!this.state.player.getScrubbing()||c!==de.LEFT&&c!==de.RIGHT)&&this.showActionNotification(c)},showActionNotification:function(e){var t=this,i=this.context.staticConfiguration,s=i.keyboardNotificationTiming;if(i.showKeyboardNotifications&&e){var o=ye.getActionFromKeyCode(e,{isPaused:this.state.playerPaused,isFullScreen:this.state.isFullScreen,volume:this.state.player.getVolume(),muted:this.state.player.getMuted()});if(o){var n=function(){t.setState({handledKey:e,keyboardAction:o},function(){t._keyboardActionTimer=setTimeout(function(){t._isMounted&&(t._keyboardNotificationActivating=void 0,t.setState({handledKey:void 0,keyboardAction:void 0}))},s)})};clearTimeout(this._keyboardActionTimer),this.state.keyboardAction?(this._keyboardNotificationActivating=!0,this.setState({keyboardAction:void 0,handledKey:void 0},n)):this._keyboardNotificationActivating||n()}}},onControlPointerEnter:function(e){"touch"!==e.pointerType&&this.setKeepActive(!0)},onControlPointerLeave:function(e){"touch"!==e.pointerType&&this.setKeepActive(!1)},render:function(){var e=this.props,t=e.activeVideo,i=e.className,s=e.config,o=e.controls,n=e.controlsMainHitzoneElement,r=e.cropAspectRatio,l=e.dimensions,c=e.exitPlayer,u=e.hasLargeDimensions,d=e.hasPreplay,h=e.hidePlayerCloseButton,p=e.interactiveElement,y=e.mainVideoId,m=e.metadata,f=e.onCastToTarget,g=e.playMainTitle,P=e.playNextTitle,T=e.shareLink,S=e.shareEmbedCode,E=e.shouldFadePlayerControlsBar,C=e.showTimedText,A=e.spinnerClass,b=e.spinnerClassProps,x=e.staticElement,w=e.trackId,N=e.timelineElementClass,L=e.timelineElementProps,_=e.videoId,M=e.watermarkElement,D=this.state,F=D.audioTracks,U=D.error,K=D.fastForwardProgress,W=D.isFullScreen,j=D.keyboardAction,G=D.muted,q=D.player,Z=D.playerPaused,J=D.rebuffering,Q=D.scrubbing,$=D.selectedAudioTrack,ee=D.selectedTextTrack,te=D.started,se=D.textTracks,ne=D.timedTracksLoaded,re=D.uiState,le=D.volume,ce=D.timedTextBounds,ue=this.context.staticConfiguration,de=ue.controlsLayoutClass,pe=ue.displayDisconnectedNetworkNotice,me=ue.enableTimedTextRendering,fe=ue.preventSVGDefinitionsRendering,ve=ue.browserInfo,Pe=ue.setContainerSizingClassees,Te=ue.shouldShowRebufferingSpinner,Se=ue.showKeyboardNotifications,Ee=ue.skipCreditsEnabled;if(!this.isPlayerCreationAvailable())return null;var Ce=Pe&&(u||k(s,l)),Ae=I(x),Ie=I(p),be=M?this.state.player.getVideoSize():void 0,ke=de,xe=re===B.INACTIVE||re===B.POWER_SAVE,we=ve&&ve.isIOS,Ne=re===B.TIMED_OUT?[R.EXIT,R.FULL_HITZONE]:o;return H.createElement(V,{"aria-label":this.context.getI18nString("player/player","aria.label.player."+(W?"fullscreen":"windowed")),className:v("nfp","nf-player-container","notranslate",{"nf-player-legacy-container":de===ie,"container-large":Pe&&Ce,"container-small":Pe&&!Ce,active:re===B.ACTIVE||re===B.ACTIVATING,inactive:re===B.INACTIVE||re===B.POWER_SAVE,"is-scrubbing":Q,"show-spinner":te&&J,"fast-forward":K!==he.NONE,"NFPlayer--limited-svg-support":s&&s.limitedSVGSupport},i),inViewport:this.props.inViewport,onClick:this.onPlayerSurfaceClick,onContextMenu:this.onContextMenu,onKeyDown:this.onKey,onKeyPress:void 0,onMouseLeave:this.onMouseLeave,onMouseMove:this.onMouseMove,onMouseUp:this.onMouseUp,onTouchStart:this.onPlayerSurfaceClick,onUserActivityChanged:this.onUserActivityChanged,tabIndex:0},(re!==B.POWER_SAVE||j)&&!fe&&Y(this.context.models),this.createPlayerComponent(),M&&H.createElement(ae,{width:be&&be.width||16,height:be&&be.height||9},M),me&&C&&ee&&H.createElement(X,{config:s,bounds:ce,player:q,playerDimensions:l,track:ee}),Se&&H.createElement(ye,{notification:j,showWhileActive:de!==oe,uiState:re}),Ae&&H.createElement("div",{className:"player-view-childrens player-view-childrens-static"},"function"==typeof Ae?Ae({cropAspectRatio:r,controlsAreHidden:xe}):Array.isArray(Ae)?Ae.map(function(e){return H.cloneElement(e,{cropAspectRatio:r,controlsAreHidden:xe})}):H.cloneElement(Ae,{cropAspectRatio:r,controlsAreHidden:xe})),A!==z?Te&&H.createElement(A,b):Te&&te&&J&&H.createElement(A,b),o&&!we&&!U&&!this.props.isPlaybackBlocked&&H.createElement(ke,{activeVideo:t,audioTracks:F,controls:Ne,controlsMainHitzoneElement:n,exitPlayer:c,getEvidence:this.getEvidence,getNFPlayerNode:this.getNFPlayerNode,hasPreplay:d,hidePlayerCloseButton:h,isDim:a(this.state,this.props),isFullScreen:W,keyboardAction:j,mainVideoId:y,metadata:m,muted:G,onCastToTarget:f,onClickPlay:this.onClickPlay,onControlPointerEnter:this.onControlPointerEnter,onControlPointerLeave:this.onControlPointerLeave,onFullScreenChange:this.onFullScreenChange,onSeekBack:this.onSeekBack,onSeekForward:this.onSeekForward,onTitleNav:this.props.onTitleNav,onUserActivityChanged:this.onUserActivityChanged,paused:Z,player:q,playerDimensions:l,playMainTitle:g,playNextTitle:P,innerRef:this.setControlsComponent,scrubbing:Q,selectedAudioTrack:$,selectedTextTrack:ee,setAudioTrack:this.setAudioTrack,setKeepActive:this.setKeepActive,setTimedTextTrack:this.setTimedTextTrack,shareEmbedCode:S,shareLink:T,shouldFadePlayerControlsBar:E,skipCreditsEnabled:Ee,textTracks:se,timedTracksLoaded:ne,timelineElementClass:N,timelineElementProps:L,trackId:w,uiState:re,videoId:_,volume:le}),Ie&&H.createElement("div",{className:"player-view-childrens player-view-childrens-interactive"},Ie),this.props.isPlaybackBlocked&&ue.views.playbackBlocked&&H.createElement(O,{activeVideo:this.props.activeVideo,handleExit:c,handlePlay:this.handleBlockedPlay,isRTL:ue.isRTL,showDurationOnlyInMinutes:ue.showDurationOnlyInMinutes}),pe&&ge)},handleBlockedPlay:function(){var e=this.context.playerApp.getAPI().playerApp.getPlayProxyBySessionId(this.context.playerSession.getId());e&&e.play()}});t.exports=Ae});C.r("player/nfplayer/requests/advisories.js",function(n,i,r){"use strict";function e(n,i){return s.call([c,n.id,n.path],[],[],[]).subscribe(function(n){i(null,n)},function(n){i(n,null)})}function t(n,i,r){var e=n.id,t=["jsonGraph",c,e,d,"value"];r(null,l.get(i,t.join("."),null))}function o(n,i){var r=l.assign({},p,{id:n,path:d});return e(r,function(n,e){if(n)return void i(n,null);t(r,e,i)})}function u(n,i){var r=l.assign({},p,{id:n,path:f});return e(r,function(n,e){if(n)return void i(n,null);t(r,e,i)})}function a(n,i){var r=l.assign({},p,{id:n,path:v});return e(r,function(n,e){if(n)return void i(n,null);t(r,e,i)})}var l=n("lodash"),s=n("../../../utils/falcorClientAdapter"),c="videos",d="advisories",f="expiryShown",v="expiryNeverShow",p={id:-1};i.exports={getPlaybackAdvisories:o,recordExpiryNoticeShown:u,recordExpiryNoticeNeverShow:a}});C.r("player/nfplayer/requests/postplay.js",function(n,a,l){"use strict";function o(n,a){var l=e.canUseWebPFromContext()?f:v,o=u;return n.hasSocialFollowLinksInPostPlay&&(o=[u,p]),c.call([r,n.id,o],[l,n.clearChain],[],[]).subscribe(function(n){a(null,n)},function(n){a(n,null)})}function i(n,a,l){var o=n.id,i=[r,o,u],t=[r,o,p],c=s.get(a,["jsonGraph"].concat(i).concat(["value"]).join("."),null),e=s.get(a,["jsonGraph"].concat(t).concat(["value"]).join("."),null);e&&e.links&&(c.socialLinks=e.links),l(null,c)}function t(n,a){var l=s.assign({},d,n);return o(l,function(n,o){if(n)return a(n,null);i(l,o,a)})}var s=n("lodash"),c=n("../../../utils/falcorClientAdapter"),e=n("../../../common/imageExtension"),r="videos",u="postplay",p="socialLinks",f="webp",v="jpg",d={id:-1,imageFormat:v,clearChain:!0};a.exports=t});C.r("player/nfplayer/requests/preplay.js",function(e,i,s){"use strict";function r(e){return n.call([t,e.id,e.path],[e.impressionToken],[],[]).subscribe(l,function(e){})}var n=e("../../../utils/falcorClientAdapter"),t="videos",a=e("shakti-platform/dist/ui/ShaktiProperties"),o=a.get("netflix.ui.akira.originals.prePostPlay.disableImpressionToken")?"preplayImpressionLegacy":"preplayImpression",p={id:-1,path:o},l=function(){},u={sendImpression:function(e,i){return r(Object.assign({},p,{id:e,impressionToken:i}))}};i.exports=u});C.r("player/nfplayer/requests/reportAProblem.js",function(n,r,l){"use strict";function t(n,r){return i.call([s],[JSON.stringify(n)],[],[]).subscribe(function(n){r(null,n)},function(n){r(n,null)})}function u(n,r,l){l(null,o.get(r,["jsonGraph"].concat([s,"value"]).join("."),null))}function e(n,r){var l=o.assign({},a,n);return t(l,function(n,t){return n?r(n,null):u(l,t,r)})}var o=n("lodash"),i=n("../../../utils/falcorClientAdapter"),s="reportAProblem",a={isPlayer:!0};r.exports=e});C.r("player/nfplayer/utils/featureDetection.js",function(t,e,o){"use strict";function r(t){if(p)throw new Error("Can not use featureDetection."+t+" method in node.")}function n(t){if(!p&&!y){var e=t||E.getPlaybackSupport();y=u.assign({},e)}}var i=t("babel-runtime/helpers/slicedToArray"),s=function(t){return t&&t.__esModule?t:{default:t}}(i),u=t("lodash"),a=t("nf-client-video-capabilities"),p=t("shakti-platform/dist/ui/utils/inNode"),l=t("shakti-platform/dist/ui/ShaktiProperties"),c=t("../../../common/appContext"),d=t("../../../utils/player/playerFeatureDetection"),f=t("../../../utils/eventBus"),E=t("../utils/playerConfig"),D=t("../../../utils/rx/shakti-rx").RxObservable,b=t("../../domains/videoPlayer/videoSession"),g=t("../../../utils/consolidatedLogging/loggingEventRegistry"),h=t("shakti-platform/dist/ui/consolidatedLogging"),w=void 0,y=void 0;e.exports={detect:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(r("detect"),w)return w.subscribe(e);var o=c.getModelData("browserInfo")||{};return w=D.create(function(e){return a.detectVideoCapabilities(t,o,function(t){n(),e.next(t),e.complete()}),function(){}}).flatMap(function(t){return d.init(!0).map(function(){return t})}).map(function(t){var e=c.getAB();return u.clone(u.assign(y,d.getVideoSupportMatrix(),t,o.isWindowsPhone?{EME:a._transformStatus(l.get("wwwplayer.windows.phone.allow")||e.in(6869,2))}:{},o.isAndroid?{EME:a._transformStatus(l.get("wwwplayer.windows.phone.allow")||e.in(6869,2)||e.in(6891,2))}:{}))}).publishReplay(),w.connect(),w.do(function(t){var o=e(t);f.emit(g.FEATURE_DETECTION,o||t);var r=h.getInstance();r&&r.logEvent("DebugEvent",{name:"PlaybackFeatureDetection",data:o||t})}).subscribe(u.noop,function(t){},u.noop)},getCapabilities:function(t){return p?t||{}:(n(),y)},canPlayHTML5withDRM:function(t){if(p){return(t||{}).supportsHTML5withDRM!==a.NO}if(n(),d.hasDeterminedFeatures())return d.canPlayHTML5withDRM();if(y.supportsHTML5withDRM===a.YES)return!0;var e=y.EME;return e?e!==a.NO:y.supportsHTML5withDRM!==a.NO},canPlayHTML5:function(t){if(p){return(t||{}).supportsHTML5!==a.NO}n();var e=y.TAG,o=y.H264;return!(!e||!o||e===a.NO||o===a.NO)||y.supportsHTML5!==a.NO},detectEnhancedFeaturesSupport:function(t){var e=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.noop;!l.get("wwwplayer.enhanced.features.detect.enabled")||t&&t.supportsHTML5withDRM===a.NO||(r("detectEnhancedFeaturesSupport"),f.emit(g.PLAYBACK_ENHANCED_FEATURES_DETECT_START),b.get().take(1).flatMap(function(t){return D.zip(e.isFeatureSupported("supportsUltraHd",t),e.isFeatureSupported("supportsHdr",t),e.isFeatureSupported("supportsDolbyVision",t),e.isFeatureSupported("supportsDolbyAtmos",t))}).do(function(t){var e=(0,s.default)(t,4),r=e[0],n=e[1],i=e[2],u=e[3];f.emit(g.PLAYBACK_ENHANCED_FEATURES_DETECT_END,{supports4k:r,supportsHDR:n,supportsDolbyVision:i,supportsDolbyAtmos:u,reason:"success"}),o({supports4k:r,supportsHDR:n,supportsDolbyVision:i,supportsDolbyAtmos:u})},function(t){f.emit(g.PLAYBACK_ENHANCED_FEATURES_DETECT_END,{supports4k:!1,supportsHDR:!1,supportsDolbyVision:!1,supportsDolbyAtmos:!1,reason:"error",error:t}),o({})}).subscribe())},isFeatureSupported:function(t,e){return e&&e[t]?D.create(function(o){return e[t](function(t){o.next(t),o.complete()}),u.noop}):D.of(!1)}}});C.r("player/nfplayer/utils/fullscreen.js",function(e,l,n){"use strict";var t=e("../../../akira/redux/logging/commandTriggers");l.exports={isFullscreen:function(e){if(e)return document.fullscreenElement?Boolean(document.fullscreenElement):document.webkitFullscreenElement?Boolean(document.webkitFullscreenElement):e.msRequestFullscreen?Boolean(document.msFullscreenElement):void 0!==document.webkitIsFullScreen?Boolean(document.webkitIsFullScreen):void 0!==document.mozFullScreen?Boolean(document.mozFullScreen):!!e.webkitDisplayingFullscreen&&Boolean(e.webkitDisplayingFullscreen);throw new Error("Must have an element to query fullscreen status")},enterFullscreen:t.EnterFullscreenCommand(function(e){if(!e)throw new Error("Must have an element to attempt to enter fullscreen");e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.webkitEnterFullscreen&&e.webkitEnterFullScreen()}),exitFullscreen:t.ExitFullscreenCommand(function(e){if(!e)throw new Error("Must have an element to attempt to exit fullscreen");e.exitFullscreen?e.exitFullscreen():document.exitFullscreen?document.exitFullscreen():e.msRequestFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.webkitExitFullScreen&&e.webkitExitFullScreen()}),toggleFullscreen:function(e){this.isFullscreen(e)?this.exitFullscreen(e):this.enterFullscreen(e)}}});C.r("player/nfplayer/utils/getDefaultStaticConfig.js",function(e,o,n){"use strict";function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.geo,n=e.browserInfo,t=e.loggingPlayerType,d=e.playbackSupport;return{attemptFallback:!1,allowForcingPlaybackEngine:!1,browserInfo:n,controlsAnimationType:i.STANDARD,controlsInactivityTimeout:1e4,controlsInteractionType:r.HOVER,controlsLayoutClass:l,controlsType:c.REFRESH,cropContentLetterboxing:!1,disableTrackStickiness:!1,displayDisconnectedNetworkNotice:!1,enableTimedTextRendering:!0,episodePreviewType:s.NEW,focusAfterInactivity:!0,focusOnMount:!0,hasMetadata:!1,hasPostplay:!1,hideControlsImmediatelyOnLeave:!1,idleTimeout:5e3,injectSetBottomInteractiveElementAPI:!1,ignorePausePlayEventsDuringSeeking:!1,inactivityTimeout:3e3,isRTL:m(o),keyboardNotificationTiming:y.KEYBOARD_NOTIFICATION_TIMING_MS,loggingPlayerType:t||p.NFPLAYER_TYPE,performanceLogging:!1,playbackSupport:a.getCapabilities(d),preferUnletterboxedContent:!1,preventSVGDefinitionsRendering:!1,preLoad:"auto",respectBookmark:!0,rewindOnEnd:!1,rebufferingSignalDelay:y.REBUFFERING_SIGNAL_DELAY_MS,seekBackTime:10,seekForwardTime:10,setContainerSizingClassees:!0,showControlsOnPlayStart:!0,showKeyboardNotifications:!1,showTitleLogoEvidence:!0,shouldAutoCast:!0,shouldFetchAdvisories:!1,shouldCloseCadmiumPlayerOnUnmount:!0,shouldEmitPlayerViewClosingAction:!0,shouldPauseWhenScrubbing:!0,shouldTrackViewportPosition:!1,shouldShowRebufferingSpinner:!0,showDurationOnlyInMinutes:!1,skipCreditsDisplayDuration:6e3,skipCreditsEnabled:!1,smartSubtitles:!1,uiContext:u.DEFAULT,useRequestAnimationFrameFlush:!0,useVideoElementDimensions:!1,useVideoWidthForDimensions:!1,views:{playbackBlocked:!0},waitForCadmiumPlayerInstance:!1}}var i=e("../common/controlsAnimationType"),s=e("../common/episodePreviewType"),a=e("./featureDetection"),r=e("../common/PlayerControlsInteractionType"),l=e("../components/controls/playerControlsWinningLayout.jsx"),c=e("../common/PlayerControlsType"),u=e("../uiContext"),m=e("../../../utils/isRtl"),p=e("../common/playerUIType"),y=e("../common/playerTimingConstants");o.exports=t});C.r("player/nfplayer/utils/getPlayerEngineType.js",function(e,r,n){"use strict";function t(e,r,n,t){var g=!0,o=i.get(a(e,n),"preferredEngine",!1);return t?g=t===M.CADMIUM:o?g=o===M.CADMIUM:e.preferredEngine&&(g=e.preferredEngine===M.CADMIUM),g=g&&f.canPlayHTML5withDRM(r)&&!1!==e.preferCadmium,g?M.CADMIUM:M.HTML5_VIDEO_EL}var i=e("lodash"),a=e("./getUiContextConfig"),M=e("../common/playerEngines"),f=e("./featureDetection");r.exports=t});C.r("player/nfplayer/utils/getSafeReactChildren.js",function(r,t,e){"use strict";function n(r){if(i(r))return r;if("function"==typeof r)return r;var t=Array.isArray(r)?r:[r],e=t.filter(function(r){return r});return e.length>0?e:null}var i=r("./isReactComponentElement");t.exports=n});C.r("player/nfplayer/utils/getUiContextConfig.js",function(t,n,e){"use strict";var i=t("lodash");n.exports=function(t,n){return i.get(t,"uiContextConfig_"+n,{})}});C.r("player/nfplayer/utils/isLargeDimensions.js",function(i,e,t){"use strict";function n(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],t=i.largeDisplayDimensionThreshold||{},n=t.height||900,r=t.width||1600;return!!e&&e.height>=n&&e.width>=r}e.exports=n});C.r("player/nfplayer/utils/playbackPerformance.js",function(e,t,s){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){try{window.netflix.clientNotifications.flushBuffer()}catch(e){}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.assign({},P,e)}function n(e){return _.assign({},_.omit(e,["totalTimeTracker","stalled"]))}function l(e){return _.result(e||{},"getSessionSummary",{})}function o(e){var t={};if(!e)return t;var s=_.result(e,"getVideoPlaybackQuality",null)||e.videoPlaybackQuality||e.playbackQuality;return t.totalVideoFrames=s?s.totalVideoFrames:e.webkitDecodedFrameCount,t.droppedVideoFrames=s?s.droppedVideoFrames:e.webkitDroppedFrameCount,s&&(t.corruptedVideoFrames=s.corruptedVideoFrames||0,t.totalFrameDelay=Math.round(1e3*(s.totalFrameDelay||0))),t}function c(e,t){var s=Date.now(),i=e.playerInstance.props.autoPlay,r=e.playerInstance.state.ready;e._metrics=_.assign(a({started:s,attemptedPlayCount:_.keys(e._recordedMetrics).length+1,playStartRequest:i?s:void 0,autoPlay:i,hasAttemptedPlay:i,ready:r?s:void 0,playerVersion:_.result(e,"state.player.getVersion",null),performanceTiming:_.result(window,"performance.timing.toJSON",{})}),t)}function d(e,t,s,i){var r=e.length,a=e[r-1];!t||a&&!a.end?!t&&a&&a.start&&e.push({end:!0,type:s,pts:i,ts:Date.now()}):e.push({start:!0,type:s,pts:i,ts:Date.now()})}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=s.fallbackMode,r=void 0!==i&&i,a=s.currentTime,n=void 0===a?0:a,c=s.includeTotalTime,d=void 0===c||c,m=e.playerInstance.props.config,p=e.playerInstance.context.staticConfiguration.uiContext,h=_.result(e.playerInstance,"state.player._getPlayerComponent",null),u=void 0;e._metrics=e._metrics||{},t.type===f.ENDED?(e._metrics.ended=!0,e._metrics.playTime=n,e._metrics.maxPTS=n>e._metrics.maxPTS?n:e._metrics.maxPTS):t.type===f.ERROR&&(e._metrics.error=!0,e._metrics.exception=t.state,e._metrics.playTime=n,(u=_.get(e._metrics,"exception.error",null))instanceof MediaError&&(e._metrics.exception=u.code)),e._metrics.sessionSummary=l(_.get(h,"player",null)),e._metrics.quality=o(e.playerInstance.getVideoNode&&e.playerInstance.getVideoNode()),e._metrics.uiContext=p,e._metrics.preferredEngine=_.get(m,"preferredEngine",""),e._metrics.engine=e.playerInstance.props.engine||_.get(h,"constructor.engine",""),e._metrics.playerVersion=_.result(e,"state.player.getVersion",null),e._metrics.uiContextPreferredEngine=_.get(v(m,p),"preferredEngine",""),e._metrics.preferCadmium=_.get(m,"preferCadmium",""),e._metrics.duration=h?h.getDuration():0,e._metrics.fallbackMode=r?1:0;var y=e._metrics.totalTimeTracker,g=y.length;if(d&&g&&g%2==0)for(e._metrics.totalTime=0;g--;)y[g]&&y[g-1]&&(e._metrics.totalTime+=y[g].ts-y[g-1].ts,g--)}var p=e("babel-runtime/helpers/classCallCheck"),h=i(p),u=e("babel-runtime/helpers/createClass"),y=i(u),_=e("lodash"),f=e("../common/playerEvents"),g=e("../../../utils/eventBus"),v=e("../utils/getUiContextConfig"),I=e("../../../utils/consolidatedLogging/loggingEventRegistry"),T=e("shakti-platform/dist/ui/consolidatedLogging"),P={started:-1,ready:-1,playStartRequest:-1,timeUpdate:-1,maxPTS:-1,hasAttemptedPlay:!1,playTime:-1,rebufferTime:0,stalled:!1,stalledTime:0,error:-1,loaded:-1,rebufferCount:0,quality:void 0,ended:!1,autoPlay:!1,duration:-1,fallbackMode:-1,totalTime:-1,totalTimeTracker:[],playerVersion:"",generatedAtFlush:!1,preferredEngine:"",sessionSummary:void 0,uiContext:"",engine:"",uiContextPreferredEngine:"",attemptedPlayCount:0,exception:void 0,preferCadmium:void 0,performanceTiming:void 0,version:7},E=function(){function e(t){(0,h.default)(this,e),this._metrics=P,this._recordedMetrics={},this._performanceEventListenersAttached=!1,this._paused=function(e){this._metrics&&!0===this.playerInstance.state.player.getPaused()&&d(this._metrics.totalTimeTracker,!1,"pause",this.playerInstance.state.player.getCurrentTime())},this._timeupdate=function(e){if(!(!this._metrics||isNaN(e.state.currentPlayerTime)||e.state.currentPlayerTime<.01)){var t=!1,s=void 0,i=void 0,a=_.result(this.playerInstance,"state.player.getCurrentTime",0);if(-1===this._metrics.timeUpdate&&a>0?(this._metrics.timeUpdate={ts:Date.now(),progress:a},d(this._metrics.totalTimeTracker,!0,"start",a),t=!0):!1===this.playerInstance.state.player.getPaused()&&d(this._metrics.totalTimeTracker,!0,"restart",a),this._metrics.ended||!1===this._metrics.stalled||(s=Date.now(),i=s-this._metrics.stalledTime,this._metrics.rebufferCount++,this._metrics.rebufferTime+=i,this._metrics.stalled=!1),this._metrics.playTime=a,this._metrics.maxPTS=a>this._metrics.maxPTS?a:this._metrics.maxPTS,t){m(this,e,{fallbackMode:_.get(this.playerInstance,"state.fallbackMode"),currentTime:a,includeTotalTime:!1}),g.emit(I.PERFORMANCE_START,n(this._metrics));var l=T.getInstance();l&&l.logEvent("DebugEvent",{name:"PlaybackPerformanceStart",data:this._metrics}),r()}}},this._load=function(e){this._metrics&&(this._metrics.loaded=Date.now())},this._stalled=function(e){if(this._metrics&&!(isNaN(e.state.currentPlayerTime)||e.state.currentPlayerTime<.01)){var t=Date.now();!1!==this._metrics.stalled&&(this._metrics.rebufferTime+=t-this._metrics.stalledTime),d(this._metrics.totalTimeTracker,!1,"stalled",this.playerInstance.state.player.getCurrentTime()),this._metrics.stalled=!0,this._metrics.stalledTime=t}},this._flush=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=_.get(this.playerInstance,"state.fallbackMode"),s=_.result(this.playerInstance,"state.player.getCurrentTime",0);if(this._recordedMetrics=this._recordedMetrics||{},t||!this._recordedMetrics[this.playerInstance.props.videoId]){this._metrics=this._metrics||a({generatedAtFlush:!0}),d(this._metrics.totalTimeTracker,!1,"flush",s),m(this,e,{fallbackMode:t,currentTime:s}),g.emit(I.PERFORMANCE_END,n(this._metrics));var i=T.getInstance();i&&i.logEvent("DebugEvent",{name:"PlaybackPerformanceEnd",data:this._metrics}),r(),this._recordedMetrics[this.playerInstance.props.videoId]=this._metrics,this._metrics=P,this._removePerformanceEventListeners()}},this.playerInstance=t,this._flush=this._flush.bind(this),this._stalled=this._stalled.bind(this),this._timeupdate=this._timeupdate.bind(this),this._load=this._load.bind(this),this._paused=this._paused.bind(this)}return(0,y.default)(e,[{key:"_isLoggingEnabled",value:function(){var e=this.playerInstance.props.config,t=_.get(this.playerInstance,"context.staticConfiguration")||{},s=_.get(v(e,t.uiContext),"performanceLogging",!1);return t.performanceLogging||s}},{key:"componentDidMount",value:function(){this._isLoggingEnabled()&&(c(this,{videoId:this.playerInstance.props.videoId,trackId:this.playerInstance.props.trackId}),this._addPerformanceEventListeners())}},{key:"_addPerformanceEventListeners",value:function(){this._performanceEventListenersAttached||(this.playerInstance.state.player.on("ended",this._flush),this.playerInstance.state.player.on("error",this._flush),this.playerInstance.state.player.on("stalled",this._stalled),this.playerInstance.state.player.on("rebuffering",this._stalled),this.playerInstance.state.player.on("timeupdate",this._timeupdate),this.playerInstance.state.player.on("loaded",this._load),this.playerInstance.state.player.on("paused",this._paused),window.addEventListener("beforeunload",this._flush),this._performanceEventListenersAttached=!0)}},{key:"componentWillUpdate",value:function(e,t){if(this._isLoggingEnabled()){var s=this.playerInstance.props.videoId,i=e.videoId,r=this.playerInstance.props.engine,a=e.engine;s!==i&&!isNaN(parseInt(i,10))||r!==a?this._metrics&&(this._flush({type:"videochanged"}),this._removePerformanceEventListeners()):this._metrics&&(t.ready&&-1===this._metrics.ready&&(this._metrics.ready=Date.now()),t.playerPaused||this._metrics.hasAttemptedPlay||(this._metrics.hasAttemptedPlay=!0,this._metrics.playStartRequest=Date.now()))}}},{key:"componentDidUpdate",value:function(e){if(this._isLoggingEnabled()){var t=e.videoId,s=this.playerInstance.props.videoId,i=e.engine,r=this.playerInstance.props.engine;(s!==t&&!isNaN(parseInt(s,10))||r!==i)&&(this._metrics||(c(this,{videoId:s,trackId:this.playerInstance.props.trackId}),this._addPerformanceEventListeners()))}}},{key:"componentWillUnmount",value:function(){this._isLoggingEnabled()&&(this._flush({type:"unmount"}),this._removePerformanceEventListeners())}},{key:"_removePerformanceEventListeners",value:function(){this._performanceEventListenersAttached&&(this.playerInstance.state.player.removeListener("ended",this._flush),this.playerInstance.state.player.removeListener("error",this._flush),this.playerInstance.state.player.removeListener("stalled",this._stalled),this.playerInstance.state.player.removeListener("rebuffering",this._stalled),this.playerInstance.state.player.removeListener("timeupdate",this._timeupdate),this.playerInstance.state.player.removeListener("load",this._load),this.playerInstance.state.player.removeListener("paused",this._paused),window.removeEventListener("beforeunload",this._flush),this._performanceEventListenersAttached=!1)}}]),e}();t.exports=E});C.r("player/nfplayer/utils/playerKeyDownHandler.js",function(e,t,r){"use strict";function n(e,t,r,n){return e===l.LEFT||e===l.DOWN?Math.max(0,t-r):Math.min(n,t+r)}function a(e){e.emit(s.ACTIVE,{type:s.ACTIVE,event:null})}function u(e,t){var r=t.allowManualLogging,u=t.currentScrubTime,s=t.disableKeyHandler,i=t.ended,f=(t.handledKey,t.logKeyDownEvent),p=t.playbackTimedOut,E=t.playerElement,d=t.playerInstance,g=t.restartPlayer,y=t.scrubbing,m=t.setKeepActive,v=t.started,T=t.seekBack,b=t.seekForward,D=t.shouldSeekInsteadOfScrub,C=t.seenKeyEvents,k=!!r&&r(),A=e.keyCode,P=E===document.activeElement,S=v&&!i,F=-1===u?d.getCurrentTime():u;if(S&&!s.ALL)switch(A){case l.SPACE:case l.ENTER:if(s.SPACEENTER)return;if(p)e.preventDefault(),e.stopPropagation(),g&&g();else if(P)return k&&f&&f(e),e.preventDefault(),e.stopPropagation(),y?(m(!1),void d.scrubEnd(F)):(d.togglePlay(),A);return;case l.LEFT:case l.RIGHT:if(s.LEFTRIGHT)return;if(k&&f&&f(e),D&&!y&&o(C))return A===l.LEFT?T():b(),A;-1===u&&d.scrubStart(F),m(!0);var L=n(A,F,c,d.getDuration());return d.scrub(L),A;case l.UP:case l.DOWN:if(s.UPDOWN)return;return e.preventDefault(),d.setVolume(n(A,d.getVolume(),.1,1)),k&&f&&f(e),A;case l.f:if(s.F)return;return e.preventDefault(),d.toggleFullscreen(),k&&f&&f(e),A;case l.m:if(s.M)return;return e.preventDefault(),d.toggleMute(),k&&f&&f(e),A;case l.ESC:if(s.ESC)return;e.preventDefault(),e.stopPropagation(),y&&(m(!1),d.scrubCancel()),k&&f&&f(e);break;case l.TAB:if(s.TAB)return;k&&f&&f(e),a(d);break;default:a(d)}else S&&a(d)}var l=e("../../../common/keyCodes"),s=e("../common/playerEvents"),o=e("./shouldAllowSeek"),c=10;t.exports=u});C.r("player/nfplayer/utils/playerKeyHandler.js",function(r,e,n){"use strict";var l=r("./playerKeyDownHandler"),a=r("./playerKeyPressDownHandler");e.exports=function(r,e){return e.hasControlTooltips?a(r,e):l(r,e)}});C.r("player/nfplayer/utils/playerKeyPressDownHandler.js",function(e,r,t){"use strict";function a(e,r,t,a){return e===c.LEFT||e===c.DOWN?Math.max(0,r-t):Math.min(a,r+t)}function n(e){e.emit(o.ACTIVE,{type:o.ACTIVE,event:null})}function s(e,r){var t=r.allowManualLogging,s=r.currentScrubTime,u=r.disableKeyHandler,l=(r.ended,r.handledKey),o=r.logKeyDownEvent,d=r.playbackTimedOut,y=r.playerElement,p=r.playerInstance,f=r.restartPlayer,g=r.scrubbing,E=r.setKeepActive,m=(r.started,r.seekBack),b=r.seekForward,T=r.shouldSeekInsteadOfScrub,v=!!t&&t(),k=e.keyCode,C=y===document.activeElement,D=-1===s?p.getCurrentTime():s;switch(k){case c.SPACE:case c.ENTER:if(u.SPACEENTER)return;return d?(e.preventDefault(),e.stopPropagation(),f&&f()):C&&(e.preventDefault(),e.stopPropagation(),g?(E(!1),p.scrubEnd(D)):p.togglePlay(),v&&o&&o(e)),k;case c.LEFT:case c.RIGHT:if(u.LEFTRIGHT)return;if(v&&o&&o(e),T&&!g&&l!==c.LEFT&&l!==c.RIGHT)return k===c.LEFT?m():b(),k;-1===s&&p.scrubStart(D),E(!0);var S=a(k,D,i,p.getDuration());return p.scrub(S),k;case c.UP:case c.DOWN:if(u.UPDOWN)return;return e.preventDefault(),p.setVolume(a(k,p.getVolume(),.1,1)),v&&o&&o(e),k;case c.ESC:if(u.ESC)return;e.preventDefault(),e.stopPropagation(),g&&(E(!1),p.scrubCancel()),v&&o&&o(e);break;case c.TAB:if(u.TAB)return;v&&o&&o(e),n(p);break;default:n(p)}}function u(e,r){var t=r.allowManualLogging,a=(r.currentScrubTime,r.disableKeyHandler),n=(r.ended,r.handledKey,r.logKeyDownEvent),s=(r.playbackTimedOut,r.playerElement,r.playerInstance),u=(r.restartPlayer,r.scrubbing,r.setKeepActive,r.shortcutKeys),l=(r.started,r.seekBack,r.seekForward,r.shouldSeekInsteadOfScrub,String(e.key||String.fromCharCode(e.charCode)).toLowerCase()),c=!!t&&t();switch(l){case u.fullscreen:if(a.F)return;return e.preventDefault(),s.toggleFullscreen(),c&&n&&n(e),l;case u.mute:if(a.M)return;return e.preventDefault(),s.toggleMute(),c&&n&&n(e),l}}function l(e,r){var t=r.started&&!r.ended;if(t&&!r.disableKeyHandler.ALL)switch(e.type){case"keydown":return s(e,r);case"keypress":return u(e,r)}else t&&n(r.playerInstance)}var c=e("../../../common/keyCodes"),o=e("../common/playerEvents"),i=10;r.exports=l});C.r("player/nfplayer/utils/postPlayCommon.js",function(e,t,i){"use strict";function n(e){return e.replace(/([A-Z])/g,function(e){return"_"+e.toLowerCase()})}function o(e){return!!v.get(e,"items[0].isNSRE")}function r(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.some(function(t){return e.type===t})}}function a(e){return v.get(e,"assets.LOGO")}function s(e){return v.get(e,"actions[0].videoId")}function l(e){return v.get(e,"actions[0].trackId")}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return v.get(e,"items["+t+"].actions[0].videoId")}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return v.get(e,"items["+t+"].actions[0].trackId",O)}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return v.get(e,"items["+t+"].actions[0].additionalTrackIds.userPlay",c(e))}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return v.get(e,"items["+t+"].actions[0].additionalTrackIds.autoPlay",c(e))}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return v.get(e,"items["+t+"].actions[0].bookmarkPosition",0)*q}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return v.get(e,"items["+t+"].actions[0].doNotIncrementInterrupter",!1)}function P(e,t){if(T.get("netflix.ui.akira.originals.prePostPlay.disableImpressionToken")){if(t.type!==w.originalsPostPlay&&t.type!==w.kidsOriginalsPostPlay)return;var i=v.get(t,"items[0].impressionData",{}),n=["videos",i.videoId,"postplayImpressionLegacy"];e.call(n,[i]).subscribe()}else{var o=t.impressionToken;if(!o)return;var r=t.promotedVideoId,a=["videos",r,"postplayImpression"];e.call(a,[o]).subscribe()}}function y(e,t){return x({count:R,delay:C},v.partial(b,e,v),function(e,i){return e?t(e,null):t(null,i)})}function f(e){if(E.getInitParam("prepare",!1)&&e&&e.items){var t=v.filter(e.items,function(e){return!!e}).map(function(t,i){var n=v.find(t.actions,function(e){return"play"===e.type})||{};return{movieId:t.videoId,priority:1,params:{sessionParams:{uiplaycontext:{row:0,rank:i,location:"postplay",request_id:e.requestId}},authParams:{pinCapableClient:E.getInitParam("pinConfig.isEnabled",!1)},trackingId:n.trackId||-1,startPts:-1===n.bookmarkPosition||null===n.bookmarkPosition||void 0===n.bookmarkPosition?null:1e3*n.bookmarkPosition}}});h.prepare(t).subscribe()}}function I(e,t){var i=k(e,t);return i?Object.keys(i).reduce(function(e,t){return e[n(t)]=i[t],e},{}):v.assign({row:0,rank:-99,request_id:e.requestId,location:A},t||{})}function k(e,t){var i=e.items[0],n=i.actions[0],o=n.videoId,r=n.trackId;if(!o||!r)return null;var a=D(e);return v.assign({listId:e.UUID,requestId:e.requestId,videoId:n.videoId,trackId:n.trackId,imageKey:a,row:0,location:A,rank:0},t||{})}var v=e("lodash"),T=e("shakti-platform/dist/ui/ShaktiProperties"),E=e("../utils/playerConfig"),b=e("../requests/postplay"),h=e("../../domains/videoPlayer/videoSession"),x=e("./withRetries"),A="Postplay",R=5,C=1e3,O=-1,q=1e3,N={Types:{addToMyList:"playlist",moreEpisodes:"moreEpisodes",moreInfo:"mdp",playButton:"play"},Names:{playEpisode:"playEpisode",playTrailer:"playTrailer"}},w={episodicTeaser:"episodicTeaser",kidsOriginalsPostPlay:"kidsOriginalsPostPlay",kidsOriginalsPostPlayRecommendations:"kidsOriginalsPostPlayRecommendations",nextEpisode:"nextEpisode",nextEpisodeRecommendation:"nextEpisodeRecommendation",originalsPostPlay:"originalsPostPlay",originalsPostPlayPostTrailer:"originalsPostPlayPostTrailer",originalsPostPlayRecommendations:"originalsPostPlayRecommendations",recommendations:"recommendations"},D=function(e,t){return function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch(i.type){case w.originalsPostPlayPostTrailer:case w.originalsPostPlay:return e(i);case w.episodicTeaser:case w.nextEpisode:case w.nextEpisodeRecommendation:return t(i);default:return}}}(function(e){return v.get(a(e),"assetType")},function(e){return v.get(e,"items[0].assets.DISPLAY_ART.assetType")});t.exports={Actions:N,Experiences:w,filterActions:r,getAutoPlayTrackId:p,getBookmarkPosition:m,getDoNotIncrementInterrupter:g,getExperience:y,getItemPlayActionTrackId:l,getItemPlayActionVideoId:s,getLogo:a,getPlayActionsTrackId:c,getPlayActionsVideoId:d,getPlayContextData:I,getPresentationTrackedImageKey:D,getPresentationTrackingData:k,getUserPlayTrackId:u,isNSRENextEpisode:o,prepareNextVideos:f,sendPostplayImpression:P}});C.r("player/nfplayer/utils/reduceState.js",function(r,t,e){"use strict";var n=function(r){return function(t,e){return r.reduce(function(r,n){return n.call(t,r,e)},{})}};t.exports=n});C.r("player/nfplayer/utils/shouldAllowSeek.js",function(r,e,t){"use strict";function n(r){var e=r[0],t=r.length,n=void 0;if(t<3)return!0;for(var u=1;u<t;u++){if(n=r[u],e.keyCode!==n.keyCode)return!0;if(2===u&&e.ts-n.ts<o)return!1}return!0}var o=2e3;e.exports=n});C.r("player/nfplayer/views/PlayView.jsx",function(e,t,n){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var a=e("babel-runtime/helpers/classCallCheck"),o=l(a),s=e("babel-runtime/helpers/createClass"),i=l(s),r=e("babel-runtime/helpers/possibleConstructorReturn"),c=l(r),u=e("babel-runtime/helpers/inherits"),p=l(u),d=e("../components/controls/button.jsx"),m=e("../components/controls/exitButton.jsx"),h=e("prop-types"),y=e("../components/controls/roundPlayPauseButton.jsx"),f=e("react"),P=e("../components/hoc/controlFocus.jsx"),b=function(e){function t(){var e,n,l,a;(0,o.default)(this,t);for(var s=arguments.length,i=Array(s),r=0;r<s;r++)i[r]=arguments[r];return n=l=(0,c.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l.handleExit=function(){l.props.handleExit&&l.props.handleExit()},l.handlePlay=function(){l.props.handlePlay()},a=n,(0,c.default)(l,a)}return(0,p.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props.activeVideo;return f.createElement("div",{className:"PlayView",style:{backgroundImage:"url("+e.getLoadingImageUrl(!0)+")"}},f.createElement("div",{className:"PlayView-gradient"}),f.createElement("div",{className:"PlayView-play",onClick:this.handlePlay},f.createElement(y,{animate:!1,buttonStyle:y.STYLE_PRIMARY,size:y.sizes.LARGE,tabIndex:0,type:y.PLAY})),f.createElement("div",{className:"PlayView-top"},f.createElement("div",{className:"PlayView-info"},e.getTitle()),f.createElement("div",{className:"PlayView-exit"},f.createElement(m,{controlFocusActions:this.props.controlFocusActions,controlFocusState:this.props.controlFocusState,onClick:this.handleExit,tooltip:"",tooltipAlignment:this.props.isRTL?d.TOOLTIP_LEFT:d.TOOLTIP_RIGHT}))))}}]),t}(f.Component);b.propTypes={activeVideo:h.object.isRequired,handleExit:h.func,handlePlay:h.func.isRequired,isRTL:h.bool.isRequired},t.exports=P(b)});C.r("player/playerMetrics.js",function(e,r,t){"use strict";function i(e){var r=e.flatMap(function(e){return e.deviceThroughput&&e.deviceThroughputNiqr?s.fromPromise(Promise.all([e.deviceThroughput(),e.deviceThroughputNiqr()])):s.of([void 0,void 0])}).do(function(e){var r=(0,o.default)(e,2),t=r[0],i=r[1];if(void 0!==t){a.emit(n.PERFORMANCE_METRICS_UPDATED,{throughput:t,throughputNiqr:i});var u=l.getObj(h)||{};l.setObj(h,{uiValue:u.uiValue,mostRecentValue:{throughput:t,throughputNiqr:i}},l.millisFromNow(c))}});return r.subscribe(),r}var u=e("babel-runtime/helpers/slicedToArray"),o=function(e){return e&&e.__esModule?e:{default:e}}(u),s=e("../utils/rx/shakti-rx").RxObservable,l=e("../utils/cookieUtils"),a=e("../utils/eventBus"),n=e("../utils/consolidatedLogging/loggingEventRegistry"),h="playerPerfMetrics",c=31536e6;r.exports={publishPlayerMetrics:i}});C.r("player/videoMerch/VideoMerchStandardPlayer.jsx",function(e,t,a){"use strict";var i,s=e("babel-runtime/helpers/defineProperty"),o=function(e){return e&&e.__esModule?e:{default:e}}(s),n=e("classnames"),r=e("../../utils/shallowCompare"),l=e("../app/connect/connectToApps"),p=e("create-react-class"),d=e("../../akira/utils/inViewport.jsx"),u=e("../nfplayer/NFPlayer.jsx"),c=e("../nfplayer/common/playerEngines"),y=e("../nfplayer/common/PlayerUIState"),h=e("prop-types"),f=e("react"),P=e("../nfplayer/uiContext"),S=e("../../akira/utils/windowVisibility.jsx"),m=e("../domains/videoPlayer/videoPlayerConstants"),v=m.playbackInitiator,E=m.playerIdentifier,A=m.timedTextSize,g=e("../entities/playContext"),b=g.toPlayContextData,I=e("../entities/playbackParams"),C=I.playbackParamsData,O=e("../entities/sessionParams"),k=O.sessionParamsData,R=e("../entities/authParams"),L=R.authParamsData,x=e("../domains/videoPlayer/playbackState"),w=x.closedState,T=x.loadedState,U=(e("../nfplayer/uiLabel"),e("xstate")),V=U.Machine,D={closed:"closed",ended:"ended",error:"error",initializing:"initializing",paused:"paused",playing:"playing"},N={CLOSE:"CLOSE",CREATE:"CREATE",END:"END",ERROR:"ERROR",PAUSE:"PAUSE",PLAY:"PLAY"},M={closeOthers:"closeOthers",complete:"complete",create:"create",ended:"ended",pause:"pause",play:"play",playing:"playing",tryUnpause:"tryUnpause"},B={ERROR:"PLAYER_ERROR",NOT_AVAILABLE:"NOT_AVAILABLE",NOT_SUPPORTED:"NOT_SUPPORTED"},_=function(){},J=void 0,Y=function(e){return E.VideoMerchBob+"|"+String(e)},j=function(e){return function(t,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=e[t.value];return s?s(t,a,i):void 0}},z=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.value,i=t.history;return a===D.playing||!!i&&e(i)},W=p({displayName:"VideoMerchStandardPlayer",contextTypes:{playerApp:h.object,getModelData:h.func.isRequired},shouldComponentUpdate:r.pureRender,getDefaultProps:function(){return{allowPlayback:!0,closed:!1,created:!1,ended:!1,isPlacedInJaw:!1,loaded:!1,onAutoplayBlocked:_,onPlaybackComplete:_,onPlayerEnd:_,onPlayerPlaying:_,paused:!1,playing:!1}},getInitialState:function(){var e,t,a,i,s,n=this.context.playerApp.getAPI(),r=n.playerApp;J||(J=r.getInitParams(),J.timedTextStyleOverrides=Object.assign({},J.timedTextStyleOverrides,{characterSize:A.LARGE}));var l=V({key:"videomerch",initial:D.initializing,states:(s={},(0,o.default)(s,D.closed,{onEntry:[M.complete]}),(0,o.default)(s,D.ended,{on:(e={},(0,o.default)(e,N.CLOSE,D.closed),(0,o.default)(e,N.PLAY,D.playing),(0,o.default)(e,N.ERROR,D.error),e),onEntry:[M.ended]}),(0,o.default)(s,D.error,{}),(0,o.default)(s,D.initializing,{on:(t={},(0,o.default)(t,N.CLOSE,D.closed),(0,o.default)(t,N.END,D.ended),(0,o.default)(t,N.ERROR,D.error),(0,o.default)(t,N.PAUSE,D.paused),(0,o.default)(t,N.PLAY,(0,o.default)({},D.playing,{actions:[M.closeOthers]})),t),onEntry:[M.create]}),(0,o.default)(s,D.paused,{on:(a={},(0,o.default)(a,N.CLOSE,D.closed),(0,o.default)(a,N.ERROR,D.error),(0,o.default)(a,N.PLAY,(0,o.default)({},D.playing,{cond:function(e){return e.allowPlayback}})),a),onEntry:[M.tryUnpause]}),(0,o.default)(s,D.playing,{on:(i={},(0,o.default)(i,N.CLOSE,D.closed),(0,o.default)(i,N.END,D.ended),(0,o.default)(i,N.ERROR,D.error),(0,o.default)(i,N.PAUSE,D.paused),i),onEntry:[M.playing]}),s)});return{initParams:J,machine:l,uiState:l.initialState}},send:function(e){var t=this;this.setState({uiState:this.state.machine.transition(this.state.uiState,e,this.props)},function(){t.effect(t.state.uiState,t.props,t.state)})},transition:function(e,t){},effect:function(e,t,a){var i=this,s=e.actions;!s||s.length<1||s.forEach(function(s){(0,i.effectMap[s])(e,t,a)})},effectMap:(i={},(0,o.default)(i,M.closeOthers,_),(0,o.default)(i,M.complete,_),(0,o.default)(i,M.create,_),(0,o.default)(i,M.ended,_),(0,o.default)(i,M.pause,_),(0,o.default)(i,M.play,_),(0,o.default)(i,M.playing,_),(0,o.default)(i,M.tryUnpause,_),i),componentWillMount:function(){var e,t=this;this.effectMap=(e={},(0,o.default)(e,M.closeOthers,this.closeOthers),(0,o.default)(e,M.complete,this.complete),(0,o.default)(e,M.create,this.create),(0,o.default)(e,M.ended,this.ended),(0,o.default)(e,M.pause,this.pause),(0,o.default)(e,M.play,this.play),(0,o.default)(e,M.playing,this.playing),(0,o.default)(e,M.tryUnpause,this.tryUnpause),e),this.transition=j({closed:_,ended:function(e,a,i){return a.closed?void t.send(N.CLOSE):a.playing?void t.send(N.PLAY):void 0},error:_,initializing:function(e,a,i){if(a.created&&a.loaded)return a.closed?void t.send(N.CLOSE):a.ended?void t.send(N.END):a.playing?void t.send(N.PLAY):a.paused?void t.send(N.PAUSE):void 0},paused:function(e,a,i){return a.closed?void t.send(N.CLOSE):a.playing?void t.send(N.PLAY):void 0},playing:function(e,a,i){return a.closed?void t.send(N.CLOSE):a.ended?void t.send(N.END):a.paused?void t.send(N.PAUSE):void 0},ready:function(e,a,i){return a.closed?void t.send(N.CLOSE):a.playing?void t.send(N.PLAY):a.paused?void t.send(N.PAUSE):a.ended?void t.send(N.END):void 0}}),this.transition(this.state.uiState,this.props)},componentDidMount:function(){this.effect(this.state.uiState,this.props,this.state)},visibleInUX:function(){return this.props.inViewport&&this.props.isWindowVisible},pause:function(e,t,a){t.paused||this.playerPause()},tryUnpause:function(e,t,a){!z(e)&&t.allowPlayback&&this.play(e,t,a)},shouldPlay:function(e,t,a,i){var s=i.uiState.value,o=e.inViewport&&e.isWindowVisible;return!!a.allowPlayback&&(!(s!==D.paused||!this.visibleInUX())&&(!o||!e.allowPlayback&&a.allowPlayback))},shouldPause:function(e,t,a,i){var s=i.uiState.value,o=e.inViewport&&e.isWindowVisible;return s===D.playing&&(!a.allowPlayback||o&&!this.visibleInUX())},closeOthers:function(e,t,a){this.playerCloseOthers()},play:function(e,t,a){t.playing||this.playerPlay()},playing:function(e,t,a){this.onPlayerPlaying()},ended:function(e,t,a){this.onPlayerEnd(),z(e)?this.complete(e,t,a):(this.playerSeek(),this.playerPlay())},complete:function(e,t,a){this.onPlaybackComplete(),this.isJaw()?this.playerClose():this.isBob()&&this.playerPause()},create:function(e,t,a){t.created||this.playerCreate()},componentDidUpdate:function(e,t){this.shouldPlay(e,t,this.props,this.state)?this.play(this.state.uiState,this.props,this.state):this.shouldPause(e,t,this.props,this.state)&&this.pause(this.state.uiState,this.props,this.state)},componentWillReceiveProps:function(e){this.transition(this.state.uiState,e)},componentWillUnmount:function(){this.complete(this.state.uiState,this.props,this.state)},isVisible:function(){return this.state.uiState.value===D.playing},isBob:function(){return!this.props.isPlacedInJaw},isJaw:function(){return this.props.isPlacedInJaw},onPlaybackComplete:function(){this.props.onPlaybackComplete()},playerCreate:function(){if(!isNaN(this.props.videoId)){var e=this.context.playerApp.getActionCreators(),t=this.context.getModelData("truths");e.createCadmiumPlayer({bookmarkTime:"number"==typeof this.props.bobStartTime?this.props.bobStartTime:this.props.videoStartTime,initialPlaybackState:{autoplay:!0,muted:this.context.playerApp.getAPI().playerApp.getSupplementalVideoMuteState(!1),playbackInitiator:v.VIDEO_MERCH,showTimedText:this.isJaw(),uiLabel:this.props.uiLabel,volume:1},playbackParams:C({authParams:L(),disableTrackStickiness:!0,loadImmediately:!0,sessionParams:k({isUIAutoPlay:!0,preferUnletterboxed:t.preferUnletterboxedContent,uiplaycontext:b(this.props.playContextRecord)}),trackingId:this.props.trackId,uiLabel:this.props.uiLabel}),sessionId:this.props.playerSessionId,videoId:this.props.videoId})}},playerPause:function(){this.context.playerApp.getActionCreators().playerPause({sessionId:this.props.playerSessionId})},playerPlay:function(){this.context.playerApp.getActionCreators().playerPlay({sessionId:this.props.playerSessionId})},playerSeek:function(){this.context.playerApp.getActionCreators().playerSeek({seekTime:this.props.videoStartTime||0,sessionId:this.props.playerSessionId})},playerClose:function(){this.context.playerApp.getActionCreators().closePlayer({sessionId:this.props.playerSessionId})},playerCloseOthers:function(){return this.isBob()?void this.context.playerApp.getActionCreators().playerCloseAll({excludeSessionIds:[this.props.playerSessionId]}):this.isJaw()?void this.context.playerApp.getActionCreators().playerCloseAll({excludeSessionIds:[this.props.playerSessionId,Y(this.props.videoId)]}):void 0},onNotSupported:function(){this.props.onPlayerError(B.NOT_SUPPORTED),this.onPlaybackComplete()},onNotAvailable:function(){this.props.onPlayerError(B.NOT_AVAILABLE),this.onPlaybackComplete()},onPlayerError:function(e,t){this.props.onPlayerError(B.ERROR),this.onPlaybackComplete()},onAutoplayBlocked:function(){this.props.onAutoplayBlocked()},onPlayerPlaying:function(){this.props.onPlayerPlaying()},onPlayerEnd:function(){this.props.onPlayerEnd()},render:function(){return f.createElement(u,{className:n("VideoMerchPlayer",{"VideoMerchPlayer--visible":this.isVisible(),"VideoMerchPlayer--in-jaw":this.isJaw()}),videoId:this.props.videoId,cadmiumPlayerInstance:this.props.playerInstance,autoPlay:!1,controls:!1,disableKeyHandler:{ALL:!0},engine:c.CADMIUM,onAutoplayBlocked:this.onAutoplayBlocked,onNotSupported:this.onNotSupported,onPlayerNotAvailable:this.onNotAvailable,onPlayerError:this.onPlayerError,playContext:this.props.playContextRecord,playerSessionId:this.props.playerSessionId,uiLabel:this.props.uiLabel,uiState:y.INACTIVE,showTimedText:this.props.showTimedText,staticConfiguration:{cropContentLetterboxing:!0,focusOnMount:!1,hasMetadata:!1,hasPostplay:!1,performanceLogging:!1,preventSVGDefinitionsRendering:!0,uiContext:P.VIDEO_MERCH,useRequestAnimationFrameFlush:!1,useVideoWidthForDimensions:!this.isJaw(),waitForCadmiumPlayerInstance:!0,shouldShowRebufferingSpinner:!1,shouldCloseCadmiumPlayerOnUnmount:!1,shouldEmitPlayerViewClosingAction:!1,views:{playbackBlocked:!1}}})}});t.exports=S(d(l(function(e,t){var a=t.playerSessionId,i=e.playerApp.getAPI().videoPlayer,s=i.getPlaybackStateBySessionId(a),o=i.getVideoPlayerBySessionId(a),n=i.showTimedTextBySessionId(a),r=a.indexOf(E.VideoMerchJaw)>-1,l=r?i.getPlaybackStateBySessionId(Y(t.videoId)):void 0,p=l&&l.videoId===t.videoId?l.currentTime:t.videoStartTime,d=!!s&&t.videoId===s.videoId,u=d&&s.playing&&!s.autoplayBlocked,c=!!d&&s.closedState===w.CLOSED,y=d&&s.loadedState===T.LOADED;return{closed:c,created:d,ended:d&&s.ended,loaded:y,paused:d&&s.paused,playing:u,playerInstance:o,showTimedText:n,bobStartTime:p}},void 0,void 0,{appKeys:["playerApp"]})(W)))});C.r("utils/RouteHelpers.js",function(e,t,r){"use strict";var a=e("shakti-platform/dist/ui/utils/URLGenerator"),i=e("./URLSafety"),o=e("./Routes"),n={getTitleUrl:function(e,t,r){return a.create({path:o.title.makePath({id:e,locale:r},t)})},getAgeVerificationUrl:function(e){var t=o.verifyAge.makePath();return e&&(t=a.create({path:t,query:{videoid:e}})),t},getSearchSuggestionUrl:function(e,t,r){return(r?o.kidsSearch:o.search).makePath(void 0,{q:e,suggestionId:t})},getSafeNextUrl:function(e){return e=e.replace(/[<\[\^>\]\*>]/g,""),!i.isRelativeURL(e)&&i.isAbsoluteNetflixUrl(e)?e:a.create({path:o.browse.makePath()})},makeAccountDropdownButtonURL:function(e){return e?o.profiles.makePath():o.yourAccount.makePath()},getDVDUpsellURL:function(e,t){var r={preselect:"1u",dsrc:t||"STRWEB_NAV",videoid:e||void 0};return o.dvdUpsell.makePath({},r)}};t.exports=n});C.r("utils/URLSafety.js",function(t,r,e){"use strict";function i(r){if(f){var e=t,i=e("url");return a.endsWith(i.parse(r).host,c)}throw new Error(d)}function n(t){if(i(t))return!0;try{if(i(decodeURIComponent(t)))return l.get("DEVELOPMENT"),!0}catch(t){return!1}return!1}function s(t){var r=!1;try{r=n(t)}catch(t){return!1}return r}function o(t){return a.startsWith(t,"/")}function u(t){return n(t)||o(t)}var a=t("lodash"),l=t("shakti-platform/dist/ui/ShaktiProperties"),f=t("shakti-platform/dist/ui/utils/inNode"),c=".netflix.com",d="URLSafety.isAbsoluteNetflixUrl is a node-only method and does not support browser usage.";r.exports={isAbsoluteNetflixUrlWithUntrustedInput:s,isAbsoluteNetflixUrl:n,isRelativeURL:o,isNetflixURL:u}});C.r("utils/ab/kidsParityTest.js",function(t,i,r){"use strict";var s=t("lodash"),a={kidsProfileWithParity:function(t){return s.get(t,"truths.data.kidsProfileWithParity")},kidsProfileWithoutParity:function(t){return s.get(t,"truths.data.kidsProfileWithoutParity")}};i.exports=a});C.r("utils/ab/richOriginalsRowTest.js",function(i,s,t){"use strict";var r=i("shakti-platform/dist/ui/ShaktiProperties"),a=i("lodash"),n={isRichOriginalsEnabled:function(i){return!a.get(i,"data.disableROARRow",!1)&&r.get("oui.richOriginalsRow.enabled",!0)},isRichOriginalsRow:function(i,s){return!!i&&this.isRichOriginalsEnabled(s)}};s.exports=n});C.r("utils/browserScroll.js",function(t,o,n){"use strict";var e=t("lodash"),r=t("../common/position"),l=t("../utils/cssAnimation"),i=0,c=0,s=null,a=!1,u={scrollStart:[],scroll:[],scrollEnd:[]},d=function(t){s?clearTimeout(s):(i=r.getScrollTop(),u.scrollStart.forEach(function(o){"function"==typeof o&&o(t)})),c=r.getScrollTop()-i,u.scroll.forEach(function(o){"function"==typeof o&&o(t)}),s=setTimeout(function(){u.scrollEnd.forEach(function(o){"function"==typeof o&&o(t)}),s&&clearTimeout(s),s=null},150)},f=e.throttle(d,100),w=function(t){Math.abs(t.deltaX)>=Math.abs(t.deltaY)&&t.preventDefault()},m={addEventListener:function(t,o){var n=u[t];if(Array.isArray(n)&&(n.push(o),!a)){a=!0;var e=document&&document.body;window.addEventListener("scroll",f,!1),e&&e.addEventListener("wheel",w,!1)}},removeEventListener:function(t,o){var n=u[t];if(Array.isArray(n)){var e=n.indexOf(o);if(-1!==e&&n.splice(e,1),a&&0===u.scroll.length&&0===u.scrollStart.length&&0===u.scrollEnd.length){a=!1;var r=document&&document.body;window.removeEventListener("scroll",f,!1),r&&r.removeEventListener("wheel",w,!1)}}},getScrollDistance:function(){return c},scrollTo:function(t,o){window&&window.scrollTo(t,o)},scrollDelta:function(t){window&&window.scrollTo(0,r.getScrollTop()+t)},scrollDeltaWithAnimation:function(t,o,n,e){if(window){var i=r.getWindowRect(),c=r.getTotalDocumentSize(),s=r.getScrollTop()+o,a=c.height-i.height;s>a&&(o-=s-a,s=a);var u=l.getAnimationStyle({translate3d:"0, "+-1*o+"px,0",duration:n,easing:"cubic-bezier(0.5, 0, 0.1, 1)",delay:e}),d=t.style;for(var f in u)u.hasOwnProperty(f)&&(d[f]=u[f]);setTimeout(function(){window.requestAnimationFrame(function(){window.scrollTo(0,s),t.removeAttribute("style")})},e+n+250)}}};o.exports=m});C.r("utils/dvdApi.js",function(t,r,e){"use strict";var n=t("../utils/rx/shakti-rx").RxObservable,i=t("./XHR"),a=function(t){var r=t.category.term;return("DVD"===r||"Blu-ray"===r)&&t.rentable},u=function(t){var r=t.category.term;return("DVD"===r||"Blu-ray"===r)&&t.saveable},o=function(t,r){var e=void 0,n=void 0;try{if(e=t.delivery_formats.availability,e.length>1){for(n in e)if(e.hasOwnProperty(n)&&r(e[n],!1))return!0;return!1}return r(e,!1)}catch(t){return!1}},c=function(t){return o(t,a)},s=function(t){return o(t,u)},l=function(t,r){return(r?"/catalog/titles/series/":"/catalog/titles/movies/")+t+"/format_availability"},v=function(t,r,e,a){var u={};return n.create(function(n){var o=!1,c=function(t){u.dvdAvailable=e(t),u.dvdSaveable=a(t),o||(n.next(u),n.complete())},s=function(){o||n.error({apiRequest:"fail",userAgent:navigator.userAgent,videoId:t})};return i.request({method:"get",query:{apiPath:l(t,r),output:"json",m:"internal"},resource:"",service:"dvd",authorize:!0}).subscribe(c,s),function(){o=!0}})};r.exports={getRentabilityInfo:function(t,r){return v(t,r,c,s)}}});C.r("utils/focalPoint.js",function(t,n,e){"use strict";function o(t,n,e){var o=n*e||0,f=t/2||0,i=f-o;return i=Math.min(i,0),n+i<t&&(i=t-n),i}function f(t,n,e){return o(t,n,e)/t}function i(t,n,e){return o(t,n,e)/(t-n)}function r(t,n,e){return(100*i(t,n,e)||0)+"%"}n.exports={getAbsoluteOffset:o,getRelativeOffset:f,getBackgroundPositionOffsetRaw:i,getBackgroundPositionOffset:r}});C.r("utils/imageLoadTracker.js",function(e,r,o){"use strict";function n(e){var r=e.map(function(e){return i([].slice.call(document.querySelectorAll(e)))});return Promise.all(r)}function i(e){return Promise.all(e.map(function(e){if("IMG"===e.tagName.toUpperCase())return e.src?e.complete?Promise.resolve():new Promise(function(r,o){e.onload=r,e.onerror=o}):Promise.reject(new Error("Invalid src for image "+e));if(!e.style.backgroundImage)return Promise.resolve();var r=t.exec(e.style.backgroundImage);if(!r)return Promise.resolve();var o=r[1];return o?new Promise(function(e,r){var n=new Image;n.onload=e,n.onerror=r,n.src=o}):Promise.reject(new Error("Invalid background style for element "+e+": "+e.style.backgroundImage))}))}"undefined"==typeof window||window.Promise||(window.Promise=e("promise-polyfill"));var t=/url\(['"]?([^\)"']+)["']?\)/;r.exports={trackBySelectors:n,trackByNodes:i}});C.r("utils/images.js",function(o,n,r){"use strict";n.exports={preload:function(o,n){var r=void 0,e=0,t=o.length;for(r=0;r<t;r++)!function(i,u){var d=new Image;d.onload=function(){e++,"function"==typeof n.onLoaded&&n.onLoaded(d),0===u&&"function"==typeof n.onFirstLoaded&&n.onFirstLoaded(d),e===t&&"function"==typeof n.onAllLoaded&&n.onAllLoaded(t)},d.onerror=function(){"function"==typeof n.onError&&n.onError(o[r])},d.src=i}(o[r],r)},srcsetBuilder:function(o,n,r){o=o||{},n=n||0,r=r||/^(\d*)/;var e=[],t=Number.POSITIVE_INFINITY,i="",u=void 0,d="",a=0,c=void 0,f=void 0;for(c in o)if(o.hasOwnProperty(c)&&(f=o[c],i||(i=f),u=Number(r.exec(c)[1]))){u>a&&(a=u,d=f);var s=u-n;s>=0&&s<=t&&(t=s,i=f),e.push(f+" "+u+"w")}return{srcset:e.join(", "),src:t===Number.POSITIVE_INFINITY?d:i}},backgroundStyle:function(o){var n={};return o&&(n={backgroundImage:"url("+o+")"}),n}}});C.r("utils/mouseUtils.js",function(t,e,i){"use strict";var n=t("lodash"),o={modifiedClick:function(t){return t&&(t.ctrlKey||t.shiftKey||t.metaKey||t.which&&2===t.which||t.button&&1===t.button)},checkActivityBasedOnMouseMove:function(t,e,i){if("function"==typeof e){var c={x:n.get(i,"clientX"),y:n.get(i,"clientY")};n.isEqual(this._lastMousePosition,c)||(this._lastMousePosition=c,"function"==typeof t&&t(),o.triggerInactiveTimer(e))}},getMouseMoveHandler:function(t,e,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,c=null,u=function(){clearTimeout(c)},r=function(){u(),c=setTimeout(function(){i()},o)};return{handleMouseMove:n.throttle(function(){e(),r()},t),clearMouseMoveTimer:u,startMouseMoveTimer:r}},checkActivityBasedOnScroll:function(t,e){"function"==typeof t&&t(),"function"==typeof e&&o.triggerInactiveTimer(e)},triggerInactiveTimer:function(t){clearTimeout(this._inactivityTimerHandle),this._inactivityTimerHandle=setTimeout(t,3650)}};e.exports=o});C.r("utils/mylist_utils.js",function(e,t,o){"use strict";var i=e("babel-runtime/helpers/typeof"),r=function(e){return e&&e.__esModule?e:{default:e}}(i),n=e("./playlist"),a=e("lodash"),u=e("shakti-platform/dist/ui/ShaktiProperties"),l=e("shakti-platform/dist/ui/utils/inNode"),s=e("../akira/redux/createActionGroup"),d=e("../akira/redux/discovery/discoveryActions"),c=d.TYPES,m=e("../utils/rx/shakti-rx").RxObservable,f=e("nf-algebraic-data-types/Option"),v=l?{}:window,p={addToList:function(e,t,o){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return s(e,{start:c.addToPlaylist,success:c.addToPlaylistSuccess,failure:c.addToPlaylistFailed}).dispatchStartAction().wrapObservable(p.modifyPlaylist("addToList",t,o,i))},removeFromList:function(e,t,o){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return s(e,{start:c.removeFromPlaylist,success:c.removeFromPlaylistSuccess,failure:c.removeFromPlaylistFailed}).dispatchStartAction().wrapObservable(p.modifyPlaylist("removeFromList",t,o,i))},moveInList:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return p.modifyPlaylist("moveInList",e,t,o)},getLolomo:function(e){var t=v.pathEvaluator,o=["lolomo","lolomonobillboard"];if(e){var i=t.hardBind(["lolomos",e]);if(i.getBoundValue())return f.of(i)}var r=a.find(o,function(e){return t.hardBind([e]).getBoundValue()});return f.fromNullable(r).map(function(e){return t.hardBind([e])})},getMyListRow:function(e){for(var t=p.getLolomo(e),o=t.map(function(e){var t=e.getValueSync(["summary"]);return t&&t.length}).getOrElse(0),i=0;i<o;i++){var n=function(e){var o=t.map(function(t){return t.bind([e])}),i=o.map(function(e){return e.getValueSync(["context"])});return i.isNone()?"continue":"queue"===i.get()||"watchlist"===i.get()?{v:f.of({model:o.get(),index:e})}:void 0}(i);switch(n){case"continue":continue;default:if("object"===(void 0===n?"undefined":(0,r.default)(n)))return n.v}}return f.None},isLolomoInCache:function(e){return p.getLolomo(e).isSome()},updateTitleState:function(e,t){var o=v.pathEvaluator,i=["videos",e,"queue"],r=o.getValueSync(i);r&&(r.inQueue="addToList"===t);var n=o.getValueSync(["videos",e,"watchlistQueue"]);n&&(n.inQueue="addToList"===t)},modifyPlaylist:function(e,t,o,i){var r=i.lolomoId;return p.isLolomoInCache(r)&&p.getMyListRow(r).isSome()?p.mutateMyList(e,t,o,i):m.create(function(r){return n[e](t,o,i).subscribe(function(e){v.pathEvaluator.invalidate(["mylist"]),v.reactApp.refresh(),r.next(e)},function(e){return r.error(e)},function(){return r.complete()}),a.noop}).catch(function(){throw new Error({status:"error",message:"Unknown server error"})}).do(function(o){var i=o&&"success"===o.status,r=o&&"AlreadyInQueue"===o.reason;if(!i&&!r)throw o;p.updateTitleState(t,e)}).timeout(15e3)},invalidateAllMyListRows:function(){var e,t=v.pathEvaluator,o=t.bind(["lolomos"]).getBoundValue(),i=[];Object.keys(o).filter(function(e){return"_"!==e[0]&&"$"!==e[0]&&e.indexOf("ROOT")>1}).map(function(e){var t=p.getMyListRow(e);t.isSome()&&t.get().index>=0&&i.push(["lolomos",e,t.get().index])}),(e=v.pathEvaluator).invalidate.apply(e,i)},mutateMyList:function(e,t,o,i){var r=this,n=i.lolomoId,l=p.getLolomo(n).get(),s=p.getMyListRow(n),d=["videos",t],c=["listToken",0,d,o,i.reqMsgToken,i.msgToken,s.get().model.getValueSync(["context"])],f=void 0,g=u.get("netflix.ui.akira.prefetch.page"),y=g&&g.numVideos;i.placeAfterVideo&&d.push(i.placeAfterVideo),c[0]=s.get().model.getValueSync(["id"]),c[1]=s.get().index,f=s.get().model.getValueSync(["length"]),"addToList"===e?f++:"removeFromList"===e&&f--,f<0&&(f=0);var h=["length","trackIds","context","displayName","id"];return p.invalidateAllMyListRows(),m.create(function(t){return l.call([e],c,[[h],[{to:Math.max(f,y)},"reference"]],[]).subscribe(function(e){return t.next(e)},function(e){return t.error(e)},function(){return t.complete()}),a.noop}).do(function(){"removeFromList"!==e&&"addToList"!==e||r.updateTitleState(t,e),v.reactApp.refresh()},function(){s.get().model.setValueSync(["mutationFailure"],{operation:e,video:t,trackId:o})})}};t.exports=p});C.r("utils/player/playerFeatureDetection.js",function(e,t,r){"use strict";function n(e){return function(t){var r=y.getModelData("browserInfo")||{},n=r.esnPrefix;if(e.supportsHTML5withDRM!==x||n!==F.SLMAC&&n!==F.SLWIN){var i=y.getModelData("serverDefs").host,o=m.get(L.FORCE_SILVERLIGHT);t||o||e.supportsSL===x?t&&o&&(m.clear(L.FORCE_SILVERLIGHT,i||m.TOP_DOMAIN,m.ROOT_PATH),m.set(L.UPGRADE_TO_CADMIUM,_,m.EXPIRES.NEVER,i||m.TOP_DOMAIN,m.ROOT_PATH)):(T.increment(R.FORCE_SILVERLIGHT_PLAYBACK),m.set(L.FORCE_SILVERLIGHT,_,m.EXPIRES.NEVER,i||m.TOP_DOMAIN,m.ROOT_PATH))}}}function i(){return!!m.get(L.UPGRADE_TO_CADMIUM)}function o(){return M.create(function(e){if("function"==typeof window.navigator.requestMediaKeySystemAccess){var t=v.get("wwwplayer.firefox.win.widevine.enabled")?D:O;window.navigator.requestMediaKeySystemAccess(t,E).then(function(){e.next(!0),e.complete()}).catch(function(t){e.error(t)})}else e.error(new Error("requestMediaKeySystemAccess not supported"));return S.noop}).timeout(P)}function a(e){return!(!window.WebKitMediaKeys||!window.WebKitMediaKeys.isTypeSupported(e))}function s(e){return!(!window.MediaSource||!window.MediaSource.isTypeSupported(e))}function u(){return H.determined&&H.capable}function p(){if(K)return K;var e=g.getPlaybackSupport(),t=y.getModelData("browserInfo")||{},r=M.of(!0),i=y.getAB();return e.supportsHTML5withDRM===x?r=M.of(!1):t.isFirefox?e.supportsHTML5withDRM===C?r=M.of(!0):s(I)?r=o().do(S.noop,function(e){b.emit("playbackFirefoxSLFallback",{reason:"Rejected requestMediaKeySystemAccess with an exception.",keySystem:v.get("wwwplayer.firefox.win.widevine.enabled")?D:O,keySystemParams:E,error:e?e.toString():"unknown"})}).onErrorResumeNext(function(e){return M.of(!1)}):(b.emit("playbackFirefoxSLFallback",{reason:"Unsupported MediaSource: "+I}),r=M.of(!1)):t.isSafari?r=M.of(a(A)):t.isWindowsPhone?r=M.of(v.get("wwwplayer.windows.phone.allow")||i.in(6869,2)):t.isAndroid&&(r=M.of(v.get("wwwplayer.android.chrome.allow")||i.in(6891,2))),K=r.take(1).do(n(e)).do(function(e){return H.determined=!0,H.capable=e,e}).publishReplay(),K.connect(),K}function c(){return H.determined}function l(){var e=g.getPlaybackSupport(),t=S.get(y.getModelData("truths"),"maybeSupportsSilverlight",!1),r=t&&h.isInstalled();return e.supportsSL!==x&&r}function d(){var e=S.has(window,'navigator.mimeTypes["'+k+'"]');if(S.has(window,"ActiveXObject"))try{e=!!new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(e){}return e}function f(){if("undefined"==typeof window)return{};var e=y.getModelData("browserInfo");return{determinedCapabilities:H.determined,canPlayHTML5:S.get(e,"features.maybeSupportsHTML5",!1),canPlayHTML5WithDRM:H.determined&&H.capable,canPlayFlash:d(),canPlaySilverlight:l()}}function w(e){return e?p():(p().subscribe(S.noop,function(e){}),null)}var y=e("../../common/appContext"),m=e("../../utils/cookieUtils"),S=e("lodash"),M=e("../../utils/rx/shakti-rx").RxObservable,h=e("../../player/silverlight/client/SilverlightVersion"),b=e("../eventBus"),v=e("shakti-platform/dist/ui/ShaktiProperties"),T=e("../clientCounter"),g=e("../../player/nfplayer/utils/playerConfig"),R=e("../../player/nfplayer/common/playerCounters"),L=e("../../player/nfplayer/common/playerCookies"),P=1e3,A="com.apple.fps.2_0",I='audio/mp4; codecs="mp4a.40.5"',D="com.widevine.alpha",O="com.adobe.primetime",E=[{initDataType:"cenc",stateful:"optional",uniqueIdentifier:"optional",audioType:"audio/mp4",videoType:"video/mp4"}],k="application/x-shockwave-flash",C="yes",x="no",_="true",F={SLMAC:"SLMAC-",SLWIN:"SLW32-"},H={determined:!1,capable:!1},K=void 0;t.exports={shouldUpgradePlayerType:i,canPlayHTML5withDRM:u,getVideoSupportMatrix:f,hasRequiredComponentsForPlayback:p,hasDeterminedFeatures:c,init:w}});C.r("utils/playlist.js",function(t,e,o){"use strict";function r(t,e,o){return n("add",t,e,o)}function i(t,e,o){return n("remove",t,e,o)}function s(t,e,o){return n("move",t,e,o)}function n(t,e,o,r){return a.request({method:"post",data:u.assign({operation:t,videoId:e,trackId:o,isWatchlistEnabled:d.getModelData("truths").isWatchlistEnabled},r),resource:"/playlistop",service:"api",authorize:!0})}var a=t("./XHR"),u=t("lodash"),d=t("../common/appContext"),c={addToList:r,removeFromList:i,moveInList:s};e.exports=c});C.r("utils/reactUtils.js",function(t,e,n){"use strict";e.exports={intersperse:function(t,e){return 0===t.length?[]:t.slice(1).reduce(function(t,n,r){return t.concat([e,n])},[t[0]])}}});C.r("utils/textUtils.js",function(t,r,s){"use strict";var e=t("lodash");r.exports={ellipsize:function(t,r){if(!t||"string"!=typeof t)return t;var s=t.length;return s<=0||s<r?t:e.trunc(t,{length:r,separator:/\s/,omission:""})}}});C.r("utils/throwError.js",function(r,t,o){"use strict";function n(r,t){var o=new Error(t);throw o.name=r,o}t.exports=n});C.r("utils/transition.js",function(t,n,e){"use strict";function o(t){var n=t.cloneNode(!0);n.removeAttribute("data-reactid");for(var e=n.querySelectorAll("[data-reactid]"),o=0,i=e.length;o<i;o++)e[o].removeAttribute("data-reactid"),e[o]instanceof HTMLVideoElement&&e[o].pause&&e[o].pause();return n.classList.add("js-transition-node"),t.parentNode&&(t.parentNode.appendChild(n),t.style.display="none"),n}var i=t("../utils/cssAnimation"),a=t("./eventBus"),r=t("lodash"),s={fadeIn:{before:{opacity:0},opacity:1},fadeOut:{opacity:0},fadeInHover:{before:{opacity:.35},opacity:1},crossFadeIn:{before:{zIndex:2,opacity:0},opacity:1},crossFadeOut:{before:{zIndex:1},opacity:0,duration:1}},d={presets:s,skipFirst:function(){return{show:function(t,n,e){var o=t?t.parentElement:null;if(o&&"true"!==o.getAttribute("data-transitioned-child"))return void o.setAttribute("data-transitioned-child","true");d.show(t,n,e)}}},show:function(t,n,e){a.emit("reactTransition:show"),d.commonTransition(t,n,e)},hide:function(t,n,e){if(!n.duration&&"function"!=typeof n)throw new Error("Must specify a duration for hide transitions. If you think it should beinstant, then do not use a transition.");a.emit("reactTransition:hide");var i=o(t),r=function(){i.parentNode&&i.parentNode.removeChild(i)},s=!1,c=function(){s||(s=!0,i.parentNode&&i.parentNode.removeChild(i),"function"==typeof e&&e())};n.duration>0&&setTimeout(c,n.duration+20),n.callback=c,d.commonTransition(i,n,r)},runTransition:function(t,n,e){d.commonTransition(t,n,e)},commonTransition:function(t,n,e){if("function"==typeof n)return void n(t,e||r.noop);var o=Object.assign({target:t,callback:e},n);i.animate(o)}};n.exports=d});C.r("akira/containers/header/secondaryNavigation.jsx",function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/helpers/classCallCheck"),i=s(o),a=e("babel-runtime/helpers/createClass"),r=s(a),c=e("babel-runtime/helpers/possibleConstructorReturn"),l=s(c),d=e("babel-runtime/helpers/inherits"),h=s(d),u=e("prop-types"),m=e("react"),p=e("classnames"),k=e("shakti-platform/dist/ui/ShaktiProperties"),f=e("../../containers/header/dvdLink.jsx"),g=e("../../components/search/searchBox.jsx"),v=e("../../components/controls/mainViewLink.jsx"),C=e("../../components/profile/accountDropDown.jsx"),x=e("../../components/notifications/notifications.jsx"),L=e("../../../utils/Routes"),b=e("../../../components/presentationTracking/trackingComponents/logPresentationManually"),y=function(e){function t(e){(0,i.default)(this,t);var n=(0,l.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onKidsLinkClicked=function(e){n.onTabClick("kids"),n.props.onKidsLinkClicked&&n.props.onKidsLinkClicked(e)},n.handleSearchBoxFocus=function(e){e!==n.state.searchBoxFocused&&(n.setState({searchBoxFocused:e}),n.props.handleSearchBoxFocus&&n.props.handleSearchBoxFocus(e))},n.state={searchBoxFocused:!1},n}return(0,h.default)(t,e),(0,r.default)(t,[{key:"onTabClick",value:function(e){this.endTabLogging(),this.endFocus=this.props.logFocus("browseTab",{tabName:e}),this.endCommand=this.props.logCommand("SelectCommand")}},{key:"endTabLogging",value:function(){this.endFocus&&(this.endFocus(),delete this.endFocus),this.endCommand&&(this.endCommand(),delete this.endCommand)}},{key:"renderKidsButton",value:function(){var e=this,t="discovery/akira/Chrome";return this.context.getModelData("truths","showKidsLocalizationCell2")?t="discovery/akira/Chrome-8960-2":this.context.getModelData("truths","showKidsLocalizationCell3")&&(t="discovery/akira/Chrome-8960-3"),m.createElement("div",{className:p("nav-element","show-kids")},m.createElement(v,{href:L.kidsHome.makePath(),onClick:this.onKidsLinkClicked,onAfterNavigation:function(){return e.endTabLogging()}},this.context.getI18nString(t,"navitem.kids.caps")))}},{key:"renderDVDLink",value:function(){return m.createElement("div",{className:p("nav-element","show-dvd")},m.createElement(f,null))}},{key:"renderNotifications",value:function(){return m.createElement("div",{className:p("nav-element")},m.createElement(x,{model:this.props.model}))}},{key:"render",value:function(){var e={"menu-navigation":!this.context.getModelData("truths","hasAROGallery"),"search-focused":this.state.searchBoxFocused};return m.createElement("div",{className:p("secondary-navigation",e)},m.createElement("div",{className:p("nav-element")},m.createElement(g,{term:this.props.term,model:this.props.model,hideLabel:this.context.getModelData("truths","hasAROGallery"),handleSearchBoxFocus:this.handleSearchBoxFocus})),this.props.showKidsLink&&this.renderKidsButton(),this.props.showDVDLink&&this.renderDVDLink(),k.get("web.ui.akira.notifications.enabled")&&this.renderNotifications(),m.createElement("div",{className:p("nav-element")},m.createElement(C,{model:this.props.pathEvaluator,showDVDLink:this.props.showDVDLink,showKidsLink:this.props.showKidsLink,onKidsLinkClicked:this.props.onKidsLinkClicked,hideProfileName:this.context.getModelData("truths","hasAROGallery")})))}}],[{key:"getPaths",value:function(e,t,n){return[].concat(C.getPaths(),x.getPaths())}}]),t}(m.Component);y.contextTypes={getI18nString:u.func.isRequired,getModelData:u.func.isRequired},t.exports=b(y)});C.r("akira/containers/header/systemNotifications.jsx",function(t,i,e){"use strict";var n=(t("prop-types"),t("react")),a=t("create-react-class"),o=t("./networkNotification.jsx"),s=t("./myListNotification.jsx"),r=t("./ratingNotification.jsx"),h=t("../../../utils/eventBus"),c=a({displayName:"SystemNotifications",getInitialState:function(){return{activeNetwork:!0,myListNotification:{},ratingNotification:{}}},handleNetworkStatusChange:function(){var t=this;setTimeout(function(){t.setState({activeNetwork:navigator.onLine})},navigator.onLine?1:1e3)},setNotificationTimeout:function(){var t=this;setTimeout(function(){t.setState({myListNotification:{},ratingNotification:{}})},3e3)},handleMyListChange:function(t){t.myListNotification&&(this.setState({myListNotification:t.myListNotification}),this.setNotificationTimeout())},handleRatingChange:function(t){t.ratingNotification&&(this.setState({ratingNotification:t.ratingNotification}),this.setNotificationTimeout())},componentDidMount:function(){navigator&&navigator.onLine&&(window.addEventListener("online",this.handleNetworkStatusChange),window.addEventListener("offline",this.handleNetworkStatusChange)),h.on("myList:add:end",this.handleMyListChange),h.on("myList:move:end",this.handleMyListChange),h.on("myList:remove:end",this.handleMyListChange),h.on("title:rating:end",this.handleRatingChange)},componentWillUnmount:function(){window.removeEventListener("online",this.handleNetworkStatusChange),window.removeEventListener("offline",this.handleNetworkStatusChange),h.removeListener("myList:add:end",this.handleMyListChange),h.removeListener("myList:move:end",this.handleMyListChange),h.removeListener("myList:remove:end",this.handleMyListChange),h.removeListener("title:rating:end",this.handleRatingChange)},render:function(){return this.state.activeNetwork?this.state.myListNotification.status?n.createElement(s,{model:this.state.myListNotification}):this.state.ratingNotification.status?n.createElement(r,{model:this.state.ratingNotification}):null:n.createElement(o,null)}});i.exports=c});C.r("akira/containers/header/tabbedNavigationConstants.js",function(e,n,r){"use strict";function t(e){var n=e.toString();return function(e,r,t){return e===a.genre&&(r.id===n||t&&t.bc===n)}}var a=e("../../../utils/Routes"),i=e("../../utils/linkDefs.jsx"),o=function(e){return function(n){return!!n[e]}},s=[{label:"home",resolver:i.getHomeRoute,currentWhen:function(e){return-1!==[a.home,a.browse,a.kidsHome].indexOf(e)},trackingInfo:{tabName:"home"}},{label:"tv.shows",to:a.genre,params:{id:83},showWhen:function(e){return e.hasAROGallery&&!e.hasSeriesLabel},currentWhen:t(83),trackingInfo:{genreId:83,tabName:"genreCategory"}},{label:"series",to:a.genre,params:{id:83},showWhen:function(e){return e.hasAROGallery&&e.hasSeriesLabel},currentWhen:t(83),trackingInfo:{genreId:83,tabName:"genreCategory"}},{label:"movies",to:a.genre,params:{id:34399},showWhen:o("hasAROGallery"),currentWhen:t(34399),trackingInfo:{genreId:34399,tabName:"genreCategory"}},{label:"originals",to:a.genre,params:{id:839338},showWhen:function(e){return e.hasAROGallery&&!e.noAROOriginalsTab},currentWhen:t(839338),trackingInfo:{genreId:839338,tabName:"genreCategory"}},{label:"recently.added",to:a.genre,params:{id:1592210},showWhen:o("hasAROGallery"),currentWhen:t(1592210),trackingInfo:{genreId:1592210,tabName:"genreCategory"}},{label:"my.list",to:a.myList,showWhen:function(e){return e.hasAROGallery&&!e.isWatchlistEnabled},currentWhen:function(e){return e===a.myList},trackingInfo:{tabName:"myList"}},{label:"watchlist",to:a.myList,showWhen:function(e){return e.hasAROGallery&&e.isWatchlistEnabled},currentWhen:function(e){return e===a.myList},trackingInfo:{tabName:"myList"}}];n.exports=s});C.r("akira/containers/header/tabbedPrimaryNavigation.jsx",function(e,n,t){"use strict";var o=e("react"),s=e("prop-types"),i=e("create-react-class"),a=e("classnames"),r=e("lodash"),c=e("../../components/controls/subMenuHOC"),u=e("../../components/controls/subMenu.jsx"),l=e("../../components/controls/mainViewLink.jsx"),m=e("./tabbedNavigationConstants"),d=e("../../../utils/eventBus"),p=e("../../../components/presentationTracking/trackingComponents/logPresentationManually"),h=e("shakti-platform/dist/ui/consolidatedLogging/constants/commandTypes"),g=e("shakti-platform/dist/ui/consolidatedLogging/constants/appViewTypes"),b="discovery/akira/HeaderTabs",f={home:"home","tv.shows":"tv.shows",series:"series",movies:"movies",originals:"originals","recently.added":"recently.added","my.list":"my.list",watchlist:"watchlist"},v=p(i({displayName:"PrimaryNavigation",contextTypes:{getI18nString:s.func.isRequired,getModelData:s.func.isRequired,routeHandler:s.object.isRequired},scope:{},endFocus:void 0,endCommand:void 0,onTabClick:function(e,n){d.emit("aroHeaderTab:clicked",{nextTab:e&&e.label,currentTab:n&&n.label}),this.endTabLogging(),this.endFocus=this.props.logFocus(g.browseTab,e.trackingInfo),this.endCommand=this.props.logCommand(h.SelectCommand)},onAfterNavigation:function(){this.endTabLogging()},endTabLogging:function(){this.endFocus&&(this.endFocus(),delete this.endFocus),this.endCommand&&(this.endCommand(),delete this.endCommand)},componentDidMount:function(){var e=this;this.scope.tabs.forEach(function(n){e.props.logPresented(g.browseTab,n.trackingInfo)}),this.props.addEventListeners(this.scope.menu,this.scope.menuContainer)},componentWillUnmount:function(){this.endTabLogging(),this.props.removeEventListeners(this.scope.menu,this.scope.menuContainer)},getInitialState:function(){var e=this.context.getModelData("truths");return this.scope={menu:null,menuContainer:null,tabs:m.filter(function(n){return!n.showWhen||n.showWhen(e)})},{}},getCurrentTab:function(){var e=this.context.routeHandler.route,n=this.context.routeHandler.params,t=this.context.routeHandler.query;return r.find(this.scope.tabs,function(o){return!o.currentWhen||o.currentWhen(e,n,t)})},renderOptions:function(){var e=this,n=this.getCurrentTab();return this.scope.tabs.map(function(t){return o.createElement(l,{className:a({current:n===t}),resolver:t&&t.resolver,to:t&&t.to,params:t&&t.params,onClick:function(){return e.onTabClick(t,n)},onAfterNavigation:function(){return e.onAfterNavigation()}},e.context.getI18nString(b,f[t.label]))})},render:function(){var e=this,n=a("tabbed-primary-navigation");return o.createElement("ul",{className:n,role:"navigation"},o.createElement("li",{className:a("navigation-menu"),ref:function(n){return e.scope.menuContainer=n}},o.createElement("a",{className:a("menu-trigger"),role:"button","aria-haspopup":!0,ref:function(n){return e.scope.menu=n}},this.context.getI18nString(b,"browse")),this.props.subMenuOpen&&o.createElement(u,{onClick:this.props.closeSubMenu,cols:1,showCalloutArrow:!0,items:this.renderOptions()})),this.renderOptions().map(function(e,n){return o.createElement("li",{className:a("navigation-tab"),key:"navigation-tab-"+n},e)}))}}));n.exports=c(v)});C.r("akira/containers/header/mainHeader.jsx",function(e,t,i){"use strict";var s=e("prop-types"),o=e("react"),a=e("create-react-class"),r=e("classnames"),n=e("./tabbedPrimaryNavigation.jsx"),l=e("./genreMenuPrimaryNavigation.jsx"),h=e("./secondaryNavigation.jsx"),c=e("./systemNotifications.jsx"),d=e("../../components/controls/mainViewLink.jsx"),p=e("../../utils/linkDefs.jsx"),u=e("../../../utils/Routes"),m=e("../../../common/position"),g=e("../../../utils/browserScroll"),f="discovery/akira/Chrome",k=a({displayName:"MainHeader",statics:{getPaths:h.getPaths},contextTypes:{getI18nString:s.func.isRequired,getModelData:s.func.isRequired,models:s.object.isRequired,profileManager:s.object.isRequired},determineKidsStatus:function(){var e=this.props.pathEvaluator.bind(["profilesList"]),t=e.getValueSync(["summary"]),i=0;if(this.multipleKidsProfiles=!1,this.showKids=!1,this.kidProfile=null,t)for(var s=0;s<t.length;s++){var o=e.bind([s]);if(o){var a=o.getValueSync(["summary"]);a.isKids&&(this.showKids=!0,this.kidProfile=o,i>=1&&(this.multipleKidsProfiles=!0),i++)}}},onKidsLinkClicked:function(e){!this.multipleKidsProfiles&&this.kidProfile?this.context.profileManager.switchProfile(this.kidProfile):this.context.profileManager.openProfileList(),e.preventDefault(),e.stopPropagation()},getInitialState:function(){return this.scope={lastBelowTop:!1,mainHeader:null},{searchBoxFocused:!1}},setBackgroundColor:function(){if(!this.context.getModelData("truths","hasAROGallery")&&this.props.hasBillboard){var e=m.getScrollTop()>this.props.getPreHeaderHeight();e!==this.scope.lastBelowTop&&(this.scope.lastBelowTop=e,this.scope.mainHeader.style.backgroundColor=e?"rgba(0, 0, 0, .7)":"")}else this.scope.mainHeader.style.backgroundColor=""},onScroll:function(){this.setBackgroundColor()},componentDidMount:function(){g.addEventListener("scroll",this.onScroll)},componentWillUnmount:function(){g.removeEventListener("scroll",this.onScroll)},componentDidUpdate:function(){this.setBackgroundColor()},handleSearchBoxFocus:function(e){e!==this.state.searchBoxFocused&&this.setState({searchBoxFocused:e})},renderPrimaryNavigation:function(){return this.context.getModelData("truths","hasAROGallery")?o.createElement(n,{key:"primary-nav"}):o.createElement(l,{key:"primary-nav",pathEvaluator:this.props.pathEvaluator,model:this.props.pathEvaluator,showKidsLink:this.showKids,showDVDLink:this.props.showDVDLink,onKidsLinkClicked:this.onKidsLinkClicked})},setMainHeaderRef:function(e){this.scope.mainHeader=e},onLogoClick:function(){this.props.isShowingProfilesGate&&this.context.profileManager.closeGate()},render:function(){this.determineKidsStatus();var e={solid:this.props.isSolid,"on-profiles-gate":this.props.isShowingProfilesGate,"has-billboard":this.props.hasBillboard,"search-focused":this.state.searchBoxFocused,"menu-navigation":!this.context.getModelData("truths","hasAROGallery")};return o.createElement("div",{className:r("main-header",e),ref:this.setMainHeaderRef},o.createElement(d,{onClick:this.onLogoClick,resolver:p.getHomeRoute,className:"logo icon-logoUpdate","aria-label":this.context.getI18nString(f,"header.logo.text")}),!this.props.isShowingProfilesGate&&[this.renderPrimaryNavigation(),o.createElement(h,{key:"secondary-nav",pathEvaluator:this.props.pathEvaluator,model:this.props.model,term:this.props.term,showDVDLink:this.props.showDVDLink,showKidsLink:this.showKids,onKidsLinkClicked:this.onKidsLinkClicked,handleSearchBoxFocus:this.handleSearchBoxFocus})],o.createElement(c,{model:this.props.model}),this.props.hasSignOut&&o.createElement("a",{className:"sign-out",href:u.signOut.makePath()},this.context.getI18nString(f,"navitem.sign.out")))}});t.exports=k});C.r("akira/containers/header/sortGallery.jsx",function(e,t,r){"use strict";var n=e("lodash"),o=e("prop-types"),s=e("react"),a=e("create-react-class"),i=e("classnames"),l=e("./../../components/controls/maturitySelectors.jsx"),c=e("../../components/controls/nfDropdown.jsx"),u=e("../../../utils/eventBus"),h=e("../../../utils/keyboardEventsWrapper"),p={su:"suggestions.for.you",yr:"year.release",az:"a.z",za:"z.a"},d={su:"suggestions.for.you.button",yr:"year.release.button",az:"a.z",za:"z.a"},m="discovery/akira/Chrome",g=a({displayName:"SortGallery",contextTypes:{getI18nString:o.func.isRequired,history:o.object.isRequired,closeJawbone:o.func.isRequired,routeHandler:o.object.isRequired},statics:{getPaths:function(e,t,r){return"mr"===r.sortOrder?l.getPaths():[]}},handleClick:function(e){var t=this;return function(){t.handleSortOrderChange(e)}},handleSortOrderChange:function(e){var t=this.context.routeHandler.query;this.context.closeJawbone(function(){u.emit("jawbone:close",{reason:"implicit"})},t),t.so=e,"mr"!==e&&this.props.onFilterChange&&this.props.onFilterChange(function(){return!0});var r=this.context.routeHandler.route,o=this.context.routeHandler.params;o.term&&(o=n.assign({},o,{term:encodeURIComponent(o.term)})),this.context.history.pushState(r.makePath(o,t))},getSortOptions:function(){var e=[],t=void 0;for(t in p)p.hasOwnProperty(t)&&e.push(s.createElement("a",{className:"sub-menu-link",role:"link",tabIndex:0,onClick:this.handleClick(t),onKeyDown:h.executeOnEnterOrSpace(this.handleClick(t))},this.context.getI18nString(m,p[t])));return e},render:function(){var e=this.context.getI18nString(m,d[this.props.sortOrder]),t="mr"===this.props.sortOrder;return s.createElement("div",{className:i("sortGallery")},!this.props.hideSortLabel&&s.createElement("span",null,this.context.getI18nString(m,"sort.by")),s.createElement(c,{options:this.getSortOptions(),theme:this.props.theme,defaultValue:e,cols:1}),t?s.createElement(l,{model:this.props.model,onFilterChange:this.props.onFilterChange}):null)}});t.exports=g});C.r("akira/containers/personHeaderContainer.js",function(e,n,t){"use strict";var a=e("./subHeaders/personHeader.jsx"),o=e("../utils/falcorConnect.jsx"),r=e("../../common/imageExtension"),s=function(e){return["headshot",r.getExtensionForOpaqueImage(e)]},u=["name"],c=o(a,{autoFetchPaths:function(e,n,t){return[s(e),u]},mapDataToProps:function(e,n,t,a){return{headshot:e.getValueSync(s(n)),name:e.getValueSync(u)}}});n.exports=c});C.r("components/presentationTracking/trackingComponents/categorySelectorPresTracking.js",function(e,t,n){"use strict";var o=e("./createTrackingComponent"),r=e("shakti-platform/dist/ui/consolidatedLogging/constants/appViewTypes");t.exports=o({appView:r.categorySelector,usePresentedEvent:!0})});C.r("akira/containers/subHeaders/aroGenreHeader.jsx",function(e,t,r){"use strict";var s=e("prop-types"),a=e("react"),n=e("create-react-class"),o=e("lodash"),i=e("classnames"),l=e("../../components/controls/breadCrumbs.jsx"),c=e("../../components/controls/subGenres.jsx"),d=e("../header/sortGallery.jsx"),g=e("../../../common/svgIcon.jsx"),m=e("../../utils/akiraContextTypes"),u=e("../../utils/sortable"),h=e("../../../utils/eventBus"),b=e("../../../utils/browserScroll"),p=e("../../../utils/pathEvaluatorUtils"),R="discovery/akira/Gallery",E={GRID:"grid",ROWS:"rows"},O=n({displayName:"AROGenreHeader",contextTypes:Object.assign({getI18nString:s.func.isRequired,closeJawbone:s.func.isRequired,history:s.object.isRequired,jsongDocument:s.object,models:s.object.isRequired,routeHandler:s.object.isRequired},m),statics:{getPaths:function(e,t,r){var s=c.getPaths(e,t,{id:r.id}).map(function(e){return["genres",r.id].concat(e)}),a=d.getPaths(e,t,{sortOrder:r.sortOrder}).map(function(e){return["genres",r.id].concat(e)});return l.getPaths(e,t,{id:r.id,breadCrumbs:r.breadCrumbs}).concat(s).concat(a)}},renderToggle:function(){var e=this.props,t=e.sortOrder,r=e.model,s=t!==u.ARO_DEFAULT_SORT_ORDER,n=!0,o=r&&r.bind(["genres",this.props.id]),l=r&&r.bind(["genres",this.props.id,u.ARO_DEFAULT_SORT_ORDER]),c=l&&l.getValueSync(["summary"]);return!c||c.length&&1!==c.length||(n=!1),a.createElement("div",{className:i("aro-toggle",{"grid-selected":s})},n&&a.createElement("div",{className:"aro-row-toggle",onClick:this.handleToggleChange.bind(null,E.ROWS),"aria-label":this.context.getI18nString(R,"list.view.label")},a.createElement(g,{name:"rows"})),a.createElement("div",{className:"aro-grid"},a.createElement("div",{onClick:this.handleToggleChange.bind(null,E.GRID),"aria-label":this.context.getI18nString(R,"grid.view.label"),className:"aro-grid-toggle"},a.createElement(g,{name:"grid"})),s&&a.createElement(d,{hideSortLabel:!0,theme:"theme-aro",sortOrder:this.props.sortOrder,model:o,onFilterChange:this.props.onFilterChange})))},handleToggleChange:function(e){var t=this.context.routeHandler.query||{};this.context.closeJawbone(function(){h.emit("jawbone:close",{reason:"implicit"})},t),h.emit("aro-toggle:clicked",{buttonType:e}),e===E.ROWS?t=o.omit(t,["so"]):t.so=t.so?t.so:u.DEFAULT_SORT_ORDER,b.scrollTo(0,0),this.context.history.pushState(this.context.routeHandler.route.makePath(this.context.routeHandler.params,t))},render:function(){var e=this.props,t=e.model,r=e.id,s=e.sortOrder,n=e.breadCrumbs,d=t.bind(["genres",this.props.id]),g=d.getValueSync(["name"]),m=!o.get(this,"context.models.truths.data.noToggle",!1),h=s!==u.ARO_DEFAULT_SORT_ORDER;return p.hasAnyError([d,d.getValueSync(["name"])])?null:a.createElement("div",{className:i("aro-gallery-header",{"grid-view":h})},a.createElement(l,{hideTitle:!0,breadCrumbs:n,id:r,model:t}),a.createElement("div",{className:i("aro-genre-details")},a.createElement("span",{className:"genreTitle"},g),a.createElement(c,{model:d,id:r,theme:"theme-aro",breadCrumbs:n}),m&&this.renderToggle()))}});t.exports=O});C.r("akira/containers/subHeaders/audioAndSubtitlesHeader.jsx",function(e,t,r){"use strict";var s=e("prop-types"),n=e("react"),o=e("create-react-class"),a=e("classnames"),i=e("../header/sortGallery.jsx"),c=e("../../components/controls/nfDropdown.jsx"),l=e("../../components/controls/mainViewLink.jsx"),d=e("../../components/controls/languageDropdown.jsx"),u=e("../../../utils/Routes"),p={categoryDropDown:a("categoryDropDown"),galleryHeader:a("galleryHeader"),subMenuLink:a("sub-menu-link"),title:a("title")},m=o({displayName:"AudioAndSubtitlesHeader",contextTypes:{getI18nString:s.func.isRequired,models:s.object},statics:{getPaths:function(e,t,r){return[].concat(d.getPaths(e,t,r),i.getPaths(e,t,{sortOrder:r.sortOrder}).map(function(e){return r.pathPrefix.concat(e)}))}},renderCategorySubMenuLink:function(e,t){return n.createElement(l,{to:e,className:p.subMenuLink},t)},render:function(){var e=this.context.getI18nString("discovery/akira/Chrome","audio"),t=this.context.getI18nString("discovery/akira/Chrome","subtitles"),r=this.renderCategorySubMenuLink(u.audio,e),s=this.renderCategorySubMenuLink(u.subtitles,t);return n.createElement("div",{className:p.galleryHeader},n.createElement("div",{className:p.title},this.context.getI18nString("discovery/akira/Chrome","header.audio.and.subtitles")),n.createElement("div",{className:p.categoryDropDown},n.createElement(c,{options:[r,s],cols:1,label:this.props.isAudio?e:t})),n.createElement(d,{model:this.props.model,id:this.props.id,isAudio:this.props.isAudio}),n.createElement(i,{sortOrder:this.props.sortOrder,onFilterChange:this.props.onFilterChange}))}});t.exports=m});C.r("akira/containers/subHeaders/audioDescriptionHeader.jsx",function(e,t,r){"use strict";var n=e("prop-types"),s=e("react"),a=e("create-react-class"),i=e("lodash"),o=e("classnames"),l=e("../header/sortGallery.jsx"),c=e("../../components/controls/nfDropdown.jsx"),d=e("../../components/controls/mainViewLink.jsx"),u=e("../../utils/setDataAsProps.jsx"),m=e("../../../utils/Routes"),p={breadcrumbs:o("breadCrumbs"),genreTitle:o("genreTitle"),header:o("galleryHeader"),subgenres:o("subgenres"),submenu:o("sub-menu-link"),title:o("title")},h=u(a({displayName:"AudioDescriptionHeader",contextTypes:{getI18nString:n.func.isRequired},statics:{getPaths:function(e,t,r){return{myPaths:{name:"name",genres:["genres",{to:25},["id","name"]]},childrenPaths:[l.getPaths(e,t,r)]}}},renderTitle:function(){var e=this,t=this.props,r=t.name,n=t.genres;return this.props.id?s.createElement("div",{className:p.title},s.createElement("div",{className:p.breadcrumbs},s.createElement("ul",null,s.createElement("li",null,s.createElement(d,{to:m.audioDescription},r)))),s.createElement("span",{lassName:p.genreTitle},i.find(n,function(t){return t.id===e.props.id}).name)):s.createElement("div",{className:p.title},r)},getGenreOptions:function(){return this.props.genres.map(function(e){var t=e.id,r=e.name;return s.createElement(d,{to:m.audioDescriptionByGenre,params:{id:t},className:p.submenu},r)})},renderGenreDropDown:function(){return s.createElement("div",{className:p.subgenres},s.createElement(c,{options:this.getGenreOptions(),label:this.context.getI18nString("discovery/akira/Title","genres.label"),cols:3,widthRestricted:!1}))},render:function(){return s.createElement("div",{className:p.header},this.renderTitle(),!this.props.id&&this.renderGenreDropDown(),s.createElement(l,{sortOrder:this.props.sortOrder,onFilterChange:this.props.onFilterChange}))}}));t.exports=h});C.r("akira/containers/subHeaders/myListHeader.jsx",function(e,t,a){"use strict";var r=e("react"),s=e("create-react-class"),i=e("prop-types"),n="discovery/akira/Gallery",c=s({displayName:"MyListHeader",contextTypes:{getModelData:i.func.isRequired,getI18nString:i.func.isRequired},render:function(){var e=this.context.getModelData("truths"),t=e.isWatchlistEnabled,a=t?this.context.getI18nString(n,"watchlist.label"):this.context.getI18nString(n,"myList.label");return r.createElement("div",{className:"galleryHeader"},r.createElement("div",{className:"title"},a))}});t.exports=c});C.r("akira/containers/subHeaders/personHeader.jsx",function(e,a,r){"use strict";var t=(e("prop-types"),e("react")),n=function(e,a){return t.createElement("div",{className:"personHeader"},e&&t.createElement("img",{className:"headshot",src:e}),t.createElement("span",{className:"title",dangerouslySetInnerHTML:{__html:a}}))},s=function(e){var a=e.headshot,r=e.name;return e.isLoading?null:n(a,r)};a.exports=s});C.r("akira/containers/header/subHeader.jsx",function(e,t,r){"use strict";function a(e,t){var r=e.pathEvaluator,a=t.routeHandler,s=a.query,n=a.params,o=a.route;return c.createElement(v,{model:r,sortOrder:x.getSortOrder(s),id:n.id,isAudio:o===O.audio})}function s(e,t){var r=e.pathEvaluator,a=t.routeHandler,s=a.query,n=a.params;return c.createElement(y,{sortOrder:x.getSortOrder(s),id:parseInt(n.id,10),model:r.bind(["assistiveAudio"])})}function n(e,t){var r=e.pathEvaluator,a=t.routeHandler,s=a.query,n=a.params.id,o=x.getSortOrder(s,x.ARO_DEFAULT_SORT_ORDER),u=s&&s.bc,i="string"==typeof u?u.split(","):[];return c.createElement(f,{sortOrder:o,breadCrumbs:i,model:r,id:n})}function o(e,t){var r=e.pathEvaluator,a=t.routeHandler,s=a.params.id;return c.createElement(E,{model:r.bind(["person",s])})}function u(e,t){var r=function(r,a){var s=r.pathEvaluator,n=a.routeHandler,o=s.bind(t?[e,n.params.id]:[e]),u=o&&o.getValueSync("name");return c.createElement("div",{className:m("sort-gallery-sub-header")},c.createElement("div",{className:m("title")},u),c.createElement(b,{sortOrder:x.getSortOrder(n.query),model:o}))};return r.propTypes={pathEvaluator:p.object.isRequired,model:p.object.isRequired,name:p.string},r.contextTypes={routeHandler:p.object.isRequired},r.getPaths=function(r,a,s){return!t||s&&s.params?{myPaths:{name:t?[e,s.params.id,"name"]:[e,"name"]},childrenPaths:[]}:[]},j(r,{autoFetch:!0})}var i,d=e("babel-runtime/helpers/defineProperty"),l=function(e){return e&&e.__esModule?e:{default:e}}(d),p=e("prop-types"),c=e("react"),h=e("create-react-class"),m=e("classnames"),b=e("./sortGallery.jsx"),f=e("../aroGenreHeaderContainer"),v=e("../audioAndSubtitlesHeaderContainer"),y=e("../subHeaders/audioDescriptionHeader.jsx"),H=e("../subHeaders/myListHeader.jsx"),E=e("../personHeaderContainer"),R=e("../timeoutTransition/timeoutTransitionGroup.jsx"),g=e("../freezeOnChangedPageKey.jsx"),j=e("../../utils/setDataAsProps.jsx"),x=e("../../utils/sortable"),O=e("../../../utils/Routes");a.propTypes={pathEvaluator:p.object.isRequired},a.contextTypes={routeHandler:p.object.isRequired},s.propTypes={pathEvaluator:p.object.isRequired},s.contextTypes={routeHandler:p.object.isRequired},n.propTypes={pathEvaluator:p.object.isRequired},n.contextTypes={routeHandler:p.object.isRequired},o.propTypes={pathEvaluator:p.object.isRequired},o.contextTypes={routeHandler:p.object.isRequired};var T=(i={},(0,l.default)(i,O.myList.path,H),(0,l.default)(i,O.audio.path,a),(0,l.default)(i,O.subtitle.path,a),(0,l.default)(i,O.subtitles.path,a),(0,l.default)(i,O.audioDescription.path,s),(0,l.default)(i,O.audioDescriptionByGenre.path,s),(0,l.default)(i,O.genre.path,n),(0,l.default)(i,O.person.path,o),(0,l.default)(i,O.similars.path,u("similars",!0)),(0,l.default)(i,O.newRelease.path,u("newrelease")),(0,l.default)(i,O.newReleases.path,u("newrelease")),(0,l.default)(i,O.genreNewRelease.path,u("genrenewrelease",!0)),(0,l.default)(i,O.justAdded.path,u("contentRefreshRecentlyAdded")),(0,l.default)(i,O.recentlyAdded.path,u("recentlyadded")),(0,l.default)(i,O.netflixOriginals.path,u("netflixOriginals")),i),q=h({displayName:"SubHeader",contextTypes:{routeHandler:p.object.isRequired},statics:{hasSubHeader:function(e){return!!this.getSubHeader(e)},getSubHeader:function(e){var t=e.route;return T[t.path]},getPaths:function(e,t,r){return[]}},render:function(){var e=q.getSubHeader(this.context.routeHandler);return e?c.createElement("div",{className:m("sub-header")},c.createElement("div",{className:m("subheader-shadow"),onMouseMove:this.props.onAROHeaderMouseMove,onMouseOut:this.props.onAROHeaderMouseOut}),c.createElement(R,{component:"div",transitionName:"pageTransition",enterTimeout:200,leaveTimeout:200,enterDelayMs:250},c.createElement(g,{key:this.context.routeHandler.path},e&&c.createElement("div",{className:m("sub-header-wrapper")},c.createElement(e,{pathEvaluator:this.props.pathEvaluator,model:this.props.pathEvaluator,params:this.context.routeHandler.params}))))):null}});t.exports=q});C.r("akira/containers/header/pinningHeader.jsx",function(e,t,i){"use strict";var n=e("prop-types"),s=e("react"),o=e("create-react-class"),r=e("react-dom"),a=e("classnames"),l=e("./mainHeader.jsx"),c=e("../../../utils/Routes"),p=e("./subHeader.jsx"),h=e("../../../utils/cssAnimation"),d=e("../../../common/position"),S=e("../../../utils/shallowCompare"),u=o({displayName:"TabbedHeader",contextTypes:{routeHandler:n.object.isRequired},statics:{SCROLL_STATE:{PINNED:0,FLOATING:1,SUBHEADER_PINNED:2,UNDER_PREHEADER:3},getPaths:function(e,t,i){return[].concat(l.getPaths(e,t,i),p.getPaths(e,t,i))}},getInitialState:function(){return this.scope={mainHeader:null,mainHeaderHeight:null,mainHeaderScrollWidth:null,subheader:null,pinningHeader:null,mouseOverTimeout:null,lastScrollTop:0,inAnimation:!1,scrollState:u.SCROLL_STATE.UNDER_PREHEADER},{}},shouldComponentUpdate:S.pureRender,getRevealStartTop:function(){return this.scope.scrollState===u.SCROLL_STATE.SUBHEADER_PINNED&&this.scope.pinningHeader?this.scope.pinningHeader.style.top:this.getPinningHeaderTop()-d.getScrollTop()+"px"},revealHeader:function(){var e=this;this.scope.mouseOverTimeout=null,this.scope.scrollState!==u.SCROLL_STATE.PINNED&&this.scope.scrollState!==u.SCROLL_STATE.UNDER_PREHEADER&&h.animateIt(this.scope.pinningHeader,[{position:"fixed",top:this.getRevealStartTop()},{position:"fixed",top:0}],{duration:100},function(){e.scope.pinningHeader&&(e.scope.pinningHeader.style.transitionDuration=0),e.setScrollState(u.SCROLL_STATE.PINNED,0)})},delayedRevealHeader:function(){this.clearHeaderRevealTimeout(),this.scope.mouseOverTimeout=setTimeout(this.revealHeader,100)},clearHeaderRevealTimeout:function(){this.scope.mouseOverTimeout&&(clearTimeout(this.scope.mouseOverTimeout),this.scope.mouseOverTimeout=null)},getBackgroundColor:function(e){switch(e){case u.SCROLL_STATE.UNDER_PREHEADER:return"transparent";default:return"rgb(20, 20, 20)"}},getCSSPosition:function(e){switch(e){case u.SCROLL_STATE.UNDER_PREHEADER:return"relative";case u.SCROLL_STATE.FLOATING:return"absolute";default:return"fixed"}},getAnimationStartColor:function(e){switch(e){case u.SCROLL_STATE.UNDER_PREHEADER:return"rgb(20, 20, 20)";case u.SCROLL_STATE.PINNED:case u.SCROLL_STATE.SUBHEADER_PINNED:return"transparent";default:return"rgb(20, 20, 20)"}},animateHeaderBackground:function(e){var t=this;if(!this.scope.inAnimation){var i=this.getAnimationStartColor(e),n=this.getBackgroundColor(e);this.scope.inAnimation=!0,this.scope.pinningHeader&&h.animateIt(this.scope.pinningHeader,[{background:i},{background:n}],{duration:500},function(){t.scope.pinningHeader&&(t.scope.pinningHeader.style.transitionDuration=0,t.scope.pinningHeader.style.background=t.getBackgroundColor(t.scope.scrollState)),t.scope.inAnimation=!1})}},setScrollState:function(e,t){var i=this;requestAnimationFrame(function(){i.scope.pinningHeader&&(i.scope.pinningHeader.style.top=t+"px",i.scope.pinningHeader.style.position=i.getCSSPosition(e)),i.getBackgroundColor(e)!==(i.scope.pinningHeader.style.background||"transparent")&&i.animateHeaderBackground(e),i.scope.scrollState=e})},getPinningHeaderTop:function(){return parseInt(this.scope.pinningHeader.style.top,10)},getMainHeaderHeight:function(){var e=this.scope.mainHeader&&this.scope.mainHeader.scrollWidth;return this.scope.mainHeaderHeight&&e===this.scope.mainHeaderScrollWidth||(this.scope.mainHeaderScrollWidth=e,this.scope.mainHeaderHeight=this.scope.mainHeader.getBoundingClientRect().height),this.scope.mainHeaderHeight},pinOnScroll:function(){var e=d.getScrollTop();if(e-this.scope.lastScrollTop>0){if(this.scope.scrollState===u.SCROLL_STATE.UNDER_PREHEADER&&e>this.props.getPreHeaderHeight())p.hasSubHeader(this.context.routeHandler)?this.setScrollState(u.SCROLL_STATE.FLOATING,e):this.setScrollState(u.SCROLL_STATE.PINNED,0);else if(this.scope.scrollState===u.SCROLL_STATE.PINNED&&p.hasSubHeader(this.context.routeHandler))this.setScrollState(u.SCROLL_STATE.FLOATING,e);else if(this.scope.scrollState===u.SCROLL_STATE.FLOATING){var t=this.getMainHeaderHeight();e-this.getPinningHeaderTop()>t&&this.setScrollState(u.SCROLL_STATE.SUBHEADER_PINNED,-t)}}else e<=this.props.getPreHeaderHeight()?this.setScrollState(u.SCROLL_STATE.UNDER_PREHEADER,0):this.scope.scrollState===u.SCROLL_STATE.SUBHEADER_PINNED?this.setScrollState(u.SCROLL_STATE.FLOATING,e+this.getPinningHeaderTop()):this.scope.scrollState===u.SCROLL_STATE.FLOATING&&this.getPinningHeaderTop()>=e&&this.setScrollState(u.SCROLL_STATE.PINNED,0);this.scope.lastScrollTop=e},enablePinning:function(){this.disablePinning(),window.addEventListener("scroll",this.pinOnScroll,{passive:!0})},disablePinning:function(){window.removeEventListener("scroll",this.pinOnScroll,{passive:!0})},resetPinning:function(){d.getScrollTop()>this.props.getPreHeaderHeight()?this.setScrollState(u.SCROLL_STATE.PINNED,0):this.setScrollState(u.SCROLL_STATE.UNDER_PREHEADER,0),this.enablePinning()},componentDidUpdate:function(){this.resetPinning()},componentDidMount:function(){this.resetPinning()},componentWillUnmount:function(){this.disablePinning()},hasBillboard:function(){var e=this.context.routeHandler.route;return!this.props.isShowingProfilesGate&&-1!==[c.home,c.browse].indexOf(e)&&this.props.isShowingBillboard},setPinningHeaderRef:function(e){this.scope.pinningHeader=e},setMainHeaderRef:function(e){this.scope.mainHeader=e?r.findDOMNode(e):e},setSubHeaderRef:function(e){this.scope.subheader=e?r.findDOMNode(e):e},render:function(){return s.createElement("div",{className:a("pinning-header",{hide:this.props.hideHeader,"on-profiles-gate":this.props.isShowingProfilesGate})},s.createElement("div",{className:"pinning-header-container",ref:this.setPinningHeaderRef},s.createElement(l,{pathEvaluator:this.props.pathEvaluator,model:this.props.model,term:this.props.term,showDVDLink:this.props.showDVDLink,isShowingProfilesGate:this.props.isShowingProfilesGate,isSolid:this.props.isSolid,hasSignOut:this.props.hasSignOut,hasBillboard:this.hasBillboard(),getPreHeaderHeight:this.props.getPreHeaderHeight,ref:this.setMainHeaderRef}),!this.props.isShowingProfilesGate&&s.createElement(p,{pathEvaluator:this.props.pathEvaluator,onAROHeaderMouseMove:this.delayedRevealHeader,onAROHeaderMouseOut:this.clearHeaderRevealTimeout,ref:this.setSubHeaderRef})))}});t.exports=u});C.r("akira/containers/kidsTitleContainer.js",function(i,s,t){"use strict";var e=i("../views/kidsTitle.jsx"),n=i("../utils/falcorConnect.jsx"),r=n(e);s.exports=r});C.r("akira/containers/lolomo/characterRow.jsx",function(e,t,o){"use strict";var r=e("babel-runtime/helpers/toConsumableArray"),a=function(e){return e&&e.__esModule?e:{default:e}}(r),n=e("prop-types"),s=e("react"),i=e("create-react-class"),l=e("classnames"),c=e("shakti-platform/dist/ui/ShaktiProperties"),d=e("../../utils/scheduler"),u=e("../../utils/akiraContextTypes"),m=e("../../utils/falcorPureRender.jsx"),h=e("../../../common/imageExtension"),p=e("../../utils/lolomoRowChangeDetector"),w=e("../row.jsx"),f=e("../../components/character/character.jsx"),g=c.get("netflix.ui.akira.prefetch.strategies.lolomoRow"),I=g.allTitles,k=function(e,t,o){t||(t=I);var r=o&&void 0!==o.totalVideos?Math.min(t.numVideos,o.totalVideos):t.numVideos,a=t.startIndex||0;return f.getPaths(e,t).map(function(e){return[{from:a,to:r},"reference"].concat(e)}).concat([[["length","displayName","context","id"]]])},x=function(){},v=i({displayName:"CharacterRow",contextTypes:Object.assign({models:n.object.isRequired},u),statics:{getPaths:k,defaultStrategy:I,prefetchStrategies:g},getInitialState:function(){return{fullDataLoaded:!1}},childContextTypes:{trackId:n.number,jawBoneTrackId:n.number,jawBoneEpisodeTrackId:n.number,jawBoneTrailerTrackId:n.number,listContext:n.string,listId:n.number},getChildContext:function(){var e=this.getTrackIds();return{trackId:e.trackId,jawBoneTrackId:e.trackId_jaw,jawBoneEpisodeTrackId:e.trackId_jawEpisode,jawBoneTrailerTrackId:e.trackId_jawTrailer,listContext:this.props.listContext,listId:this.props.model.getValueSync(["id"])}},getId:function(){var e=this.props.model,t=e.getValueSync(["genreId"]),o=e.getValueSync(["videoId"]);return t||(o||null)},getTrackIds:function(){return this.props.model.getValueSync(["trackIds"])||{}},getCharacters:function(){for(var e=this.props.model,t=e.getValueSync(["length"]),o=[],r=void 0,a=void 0,n=void 0,i=void 0,l=void 0,c=void 0,d=void 0,u=0,m=0;m<t;m++)if(r=e.bind([m,"reference"]),r.getBoundValue()){a=r.getValueSync(["summary"]),c=a&&a.id,i=h.getExtensionForTransparentImage(this.context.models),n=r&&r.getValueSync(["artwork","SQUAREHEADSHOT_1000x1000",i,"_400x400"]),l=n&&n.url,d="character"+c;try{l&&o.push(s.createElement(f,{id:c,rankNum:m,key:d,sliderIndex:m,model:r}))}catch(e){}}else if(3===++u)break;return{titleList:o}},getRowItems:function(){return{rowItems:this.getCharacters().titleList.slice(0,100)}},getTotalItemsInRow:function(){var e=this.props.model,t=e.getValueSync(["length"]);return t>100&&(t=100),t},handleSliderMove:function(){var e=this,t=void 0;this.state.fullDataLoaded||(e.state.fullDataLoaded=!0,d.queue(function(){var o;t=c.get("netflix.ui.akira.prefetch.rowSlide"),(o=e.props.model).get.apply(o,(0,a.default)(k(e.context.models,t))).subscribe(x,function(){return e.forceUpdate()},function(){return e.forceUpdate()})}))},showJawBone:function(){return this.props.showJawBone},render:function(){var e=this.props.model,t=l("lolomoRow","characterRow","lolomoRow_title_card",{jawBoneOpen:this.props.showJawBone}),o=this.props.jawBoneRankNum,r=this.getRowItems()||{},a=r.rowItems||[],n=this.state.fullDataLoaded?a.length:this.getTotalItemsInRow();return 0===n?null:s.createElement("div",{key:this.props.listContext+this.props.rowNum,className:t},s.createElement(w,{model:e,totalItems:n,rowNum:this.props.rowNum,showJawBone:!1,handleSliderMove:this.handleSliderMove,jawBoneModelIndex:o,columnsInRow:this.context.columnsInRow+1,enablePaginationIndicator:!1},a))}});t.exports=m(v,{modelChangeDetector:function(e){return new p(e.model)}})});C.r("akira/containers/lolomo/lolomo.jsx",function(t,o,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var n=t("babel-runtime/helpers/extends"),s=i(n),r=t("babel-runtime/helpers/toConsumableArray"),a=i(r),l=t("prop-types"),c=t("react"),h=t("create-react-class"),d=t("lodash"),u=t("classnames"),m=t("react-dom"),p=t("shakti-platform/dist/ui/ShaktiProperties"),g=t("shakti-platform/dist/ui/utils/inNode"),f=t("./lolomoRow.jsx"),R=t("../../components/billboard/BillboardRow"),w=t("./lolomoContinueWatchingRow.jsx"),L=t("./lolomoWatchlistRow.jsx"),x=t("./lolomoShortformRow.jsx"),v=t("./roarRow.jsx"),b=t("./lolomoBigRow.jsx"),C=t("./lolomoConstants.jsx"),S=t("../../components/loader/loadingRow.jsx"),I=t("../../../utils/lolomo/lolomoUtils"),T=t("../../../utils/pathEvaluatorUtils"),D=t("../../utils/akiraContextTypes"),k=t("../../utils/scheduler"),y=t("../../../utils/browserScroll"),W=t("../../../utils/eventBus"),B=t("./characterRow.jsx"),E=t("../../views/siteError.jsx"),M=t("../../../utils/ab/kidsParityTest"),A=t("../../../common/position"),F=t("../../../components/presentationTracking/trackingComponents/logPresentationManually"),V=t("react-transition-group/CSSTransitionGroup"),j=C.LIST_CONTEXTS,O=p.get("netflix.ui.akira.max.lolomo.rows"),N=p.get("netflix.ui.akira.prefetch.page"),P=p.get("netflix.ui.akira.prefetch.homeLoaded.6"),U=P?P.rowMin:25,_={allRows:{numRows:O,numVideos:7,bobs:!1,jawBones:!1}},H=_.allRows,q=function(){},z=function(t,o,e){var i=["responseExpiration","statusCode"],n=M.kidsProfileWithParity(t,!1);o||(o=H);var s={from:o.rowMin||0,to:o.numRows},r=f.getPaths(t,o).map(function(t){return[s].concat(t)}).concat([[s,["context","type"]]]).concat([["summary"]]).concat([["id"]]).concat([["meta",i]]).concat([["requestId"]]).concat(v.getPaths(t,o)).concat(w.getPaths(t,o)).concat(L.getPaths(t,o)).concat(x.getPaths(t,o));if(o.numBillboards>0&&(r=r.concat(R.getPaths(t,o))),n){var a=B.getPaths(t,o).map(function(t){return[{to:0}].concat(t)});return r.concat(a)}return r},G=h({displayName:"Lolomo",statics:{getPaths:z,prefetchStrategies:_,MAX_ROWS:O},rowsFetching:{},isFetchingAdditionalLolomoData:!1,hasfetchedLolomo:!1,logPresentationEnd:void 0,hasBillboard:!1,contextTypes:Object.assign({getModelData:l.func.isRequired,jsongDocument:l.object,models:l.object.isRequired,renderTracker:l.object},D),childContextTypes:{requestId:l.string,lolomoId:l.string,isWatchlistLolomo:l.bool},getChildContext:function(){return{requestId:this.getRequestId(),lolomoId:this.getLolomoId(),isWatchlistLolomo:this.isWatchlistLolomo()}},getInitialState:function(){return this.scope={prefetchCallbacks:[]},{bouncing:!1,maxRowToRender:N.numRows}},getRequestId:function(){return this.props.model.getValueSync(["requestId"])},isWatchlistLolomo:function(){return void 0!==this.props.model.getValueSync(["watchlist","id"])},delayWarmerCall:function(){this._delayWarmerCall=!0},lolomoIsValid:function(){var t=this.props.model,o=t.getBoundValue();return!!o&&"error"!==o.$type&&this.hasARow()},getNumRows:function(){var t=this.props.model,o=-1,e=void 0;if(!t.getBoundValue())return-1;if(!0===this.props.newArrivals)o=t.getValueSync(["length"]);else{if(!(e=t.getValueSync(["summary"])))return-1;o=e.length}return o},renderPlaceHolder:function(){return c.createElement(S,{pulsateTitles:!0,pulsateHeader:!1,showSpinner:!1})},renderSiteError:function(){return c.createElement(E,null)},setIsInteractive:function(){if(this.props.initialFetchCompleted&&!this.isInteractive&&(this.isInteractive=!0,W.emit("app:interactive",this.props),this.lolomoIsValid()&&I.setLolomoCookieFalcor(this.context.jsongDocument,!1,this.props.suppressBillboard)),this.hasNthRow(3)){var t=this.context.renderTracker;t&&t.endSession(this.renderId)}},updateRowsFetching:function(t,o,e){t=t||0,this.rowsFetching[t]=e,this.rowsFetching[o]=e},allAdditionalFetchingComplete:function(){return!1===this.rowsFetching[U]&&d.every(this.rowsFetching,function(t){return!1===t})},lastRowdataExists:function(){var t=this.props.model,o=t&&t.getValueSync(["summary"]);if(!o)return!1;var e=o.length-1;return t.bind([e]).getBoundValue()&&t.bind([e-1]).getBoundValue()&&t.bind([e-2]).getBoundValue()},allRowsFetched:function(){var t=this.isFetchingAdditionalLolomoData,o=this.lastRowdataExists();return!t&&o||t&&this.allAdditionalFetchingComplete()},bounceLolomo:function(){I.clearLolomoCookie(this.props.suppressBillboard),I.setIsBouncingLolomo(!0),setTimeout(function(){document.location.href=document.location.href},10)},componentWillMount:function(){if(this.renderTracker=this.context.renderTracker,this.mountedWithNoData=!this.lolomoIsValid(),!g){this.props.model.getBoundValue()||I.seedLolomoImpression(this.context.jsongDocument,this.props.suppressBillboard);var t=I.isBouncingLolomo();!this.props.initialFetchCompleted||this.lolomoIsValid()||t?I.setIsBouncingLolomo(!1):(this.setState({bouncing:!0}),this.bounceLolomo())}},componentWillReceiveProps:function(t){!this.props.initialFetchCompleted&&t.initialFetchCompleted&&this.didFetchInitialDataSet()},didFetchInitialDataSet:function(){if(!this.lolomoIsValid()){if(I.getLolomoCookie(null,this.props.suppressBillboard))return this.setState({bouncing:!0}),void this.bounceLolomo();this.isMounted()&&this.forceUpdate()}this.mountedWithNoData&&this.context.playerApp.getActionCreators().receiveManifestGenesisTimestamp({timestamp:Date.now()}),this.loadAdditionalData()},getLolomoId:function(){return this.props.model.getValueSync(["id"])},getLolomoLength:function(){var t=this.props.model,o=t&&t.getValueSync(["summary"]);return o&&o.length||O},componentDidMount:function(){this.context.renderTracker&&(this.renderId=this.context.renderTracker.startSession("lolomo")),this.state.scrollHandlersDisabled||(y.addEventListener("scroll",this.onScroll),y.addEventListener("scrollEnd",this.onScrollEnd)),this.setIsInteractive();var t=this.getLolomoId();this.lolomoLength=this.getLolomoLength(),this.updateCurrentLolomo(),this.context.discoveryApp.getActionCreators().setLolomoLoggingContext({lolomoId:t}),this.logPresentationEnd=this.props.logPresentationStart("browseTitles",{lolomoId:t}),setTimeout(function(){window.scrollTo(0,0)},0),this.props.initialFetchCompleted&&this.didFetchInitialDataSet()},renderRowsChunkSize:10,renderRowsChunkDelay:100,hasMoreRowsToRender:function(){return this.hasfetchedLolomo&&this.state.maxRowToRender<this.lolomoLength&&this.isMounted()},getLolomoType:function(){return d.get(this.props.model,"_path[0]")},isUsingWarmer:function(){return this.context.getModelData("truths","isLolomoWarmerEnabled")&&"lolomo"===this.getLolomoType()},shouldDisableScrollHandlers:function(){return this.state.maxRowToRender>=this.lolomoLength},updateMaxRowToRender:function(){if(this.hasMoreRowsToRender())if(this.context.getModelData("truths","lazyLoadLolomoDOM")){var t=Math.min(this.state.maxRowToRender+5,this.lolomoLength);this.setState({maxRowToRender:t})}else{var o=Math.min(this.state.maxRowToRender+this.renderRowsChunkSize,this.lolomoLength);this.setState({maxRowToRender:o}),this.renderWarmLolomoChunkTimer=window.requestIdleCallback(this.updateMaxRowToRender,{timeout:this.renderRowsChunkDelay})}else this.shouldDisableScrollHandlers()&&(y.removeEventListener("scroll",this.onScroll),y.removeEventListener("scrollEnd",this.onScrollEnd))},onScroll:function(){this.hasMoreRowsToRender()&&(this.renderRowsChunkDelay=200,this.context.getModelData("truths","lazyLoadLolomoDOM")&&this.isWithinDistanceBuffer(700)?this.updateMaxRowToRender():this.renderRowsChunkSize=1)},isWithinDistanceBuffer:function(t){var o=this.lolomoContainer&&m.findDOMNode(this.lolomoContainer);return o&&A.getDistanceToBottomOfElement(o)<t},onScrollEnd:function(){this.hasMoreRowsToRender()&&!this.context.getModelData("truths","lazyLoadLolomoDOM")&&(this.renderRowsChunkDelay=100,this.renderRowsChunkSize=10,window.cancelIdleCallback(this.renderWarmLolomoChunkTimer),this.updateMaxRowToRender())},loadAdditionalData:function(){var t=this;return t.lastRowdataExists()?(t.hasfetchedLolomo=!0,t.updateMaxRowToRender(),!1):(t.isFetchingAdditionalLolomoData=!0,t._delayWarmerCall||t.loadAdditionalDataWithWarmerOrFalcor(),null)},loadAdditionalDataWithWarmerOrFalcor:function(){this.isUsingWarmer()?this.loadAdditionalDataWithWarmer():this.loadAdditionalDataWithFalcor()},loadAdditionalDataWithWarmer:function(){var t=this,o=this.context.getModelData("truths"),e=this.context.getModelData("browserInfo");I.fetchWarmLolomo(this.context.jsongDocument,N.numRows+1,O,o,e,function(o){t.context.jsongDocument.withoutDataSource().set(o).subscribe(),t.loadRemainingDataWithFalcor(),t.hasfetchedLolomo=!0,t.isFetchingAdditionalLolomoData=!1,t.updateMaxRowToRender()})},loadAdditionalDataWithFalcor:function(){var t=this.context.getModelData("truths","fetchLolomoInChunks"),o=this,e=this.props.model,i="netflix.ui.akira.prefetch.homeLoaded",n=void 0;n=t?[i,i+".2",i+".3",i+".4",i+".5",i+".6"]:["netflix.ui.akira.prefetch.home.afterWarmer"];var s=function(t){var i=this;if(e&&e.getBoundValue()){var n=p.get(t),s=n.rowMin,r=n.numRows,l=z(o.context.models,n);o.updateRowsFetching(s,r,!0);var c=function(){o.updateRowsFetching(s,r,!1),o.hasfetchedLolomo=!0,o.updateMaxRowToRender(),o.isFetchingAdditionalLolomoData=!1,o.allRowsFetched()&&o.isMounted()&&o.forceUpdate(),n.forceUpdate&&i.forceUpdate()};e.get.apply(e,(0,a.default)(l)).subscribe(q,c,c)}},r=parseInt(p.get("netflix.ui.lolomo.firstChunkLoadIntervalMS"),10)||50,l=parseInt(p.get("netflix.ui.lolomo.chunkLoadIntervalMS"),10)||750;d.map(n,function(t,e){o.scope.prefetchCallbacks.push(k.queue(function(){s(t)},r+e*l))})},loadRemainingDataWithFalcor:function(){var t=this,o=this.props.model;if(o&&o.getBoundValue()){var e=p.get("netflix.ui.akira.prefetch.home.afterWarmer"),i=z(this.context.models,e),n=function(){e.forceUpdate&&t.forceUpdate()};o.get.apply(o,(0,a.default)(i)).subscribe(q,n,n)}},componentWillUpdate:function(t,o){this.context.discoveryApp.getActionCreators().setLolomoLoggingContext({lolomoId:this.getLolomoId()})},componentDidUpdate:function(){this.renderTracker!==this.context.renderTracker&&(this.renderTracker=this.context.renderTracker,this.context.renderTracker&&(this.renderId=this.context.renderTracker.startSession("lolomo"))),this.setIsInteractive(),this.updateCurrentLolomo()},updateCurrentLolomo:function(){var t=this.context.jsongDocument,o=t.getValueSync(["lolomos","currentLolomo"]),e=this.getLolomoId();e!==o&&t.setValueSync(["lolomos","currentLolomo"],e)},componentWillUnmount:function(){var t=this.props.model.getValueSync(["id"]);this.context.jsongDocument.getValueSync(["lolomos","currentLolomo"])===t&&this.context.jsongDocument.setValueSync(["lolomos","currentLolomo"],null);for(var o=this.scope.prefetchCallbacks.pop();o;)k.cancelQueuedItem(o),o=this.scope.prefetchCallbacks.pop();y.removeEventListener("scroll",this.onScroll),y.removeEventListener("scrollEnd",this.onScrollEnd),this.logPresentationEnd&&this.logPresentationEnd(),this.context.discoveryApp.getActionCreators().removeLolomoLoggingContext()},renderBillboardTransitionGroup:function(t){return this.context.getModelData("truths").volatileBillboardsEnabled?c.createElement(V,{className:"volatile-billboard-animations-container",transitionName:{enter:"volatile-billboard-animations-enter",leave:"volatile-billboard-animations-leave"},transitionEnterTimeout:600,transitionLeaveTimeout:400},t):t},renderRow:function(t){var o=void 0,e=this.props.model.bind([t]),i=e.getValueSync(["context"]),n=e.getValueSync(["type"]),r=this.context.columnsInRow,a=null,l=!1;this.props.jawBoneRowNum===t&&(a=this.props.jawBoneRankNum,l=!0);var h={model:e,rowNum:t,key:e.getValueSync(["id"]),listContext:i,showJawBone:l,jawBoneRankNum:a};if(i===j.BILLBOARD){var d="bigRow"===this.props.model.getValueSync(["bigRow","context"]),u=d&&p.get("netflix.ui.akira.originals.billboard.forceStaticWithBigRow");o=this.renderBillboardTransitionGroup(c.createElement(R,(0,s.default)({},h,{delayWarmerCall:this.delayWarmerCall,makeWarmerCall:this.loadAdditionalDataWithWarmerOrFalcor,forceStatic:u}))),this.hasBillboard=!0}else if(i===j.BIG_ROW)o=c.createElement(b,(0,s.default)({},h,{toggleBigRowState:this.props.toggleBigRowState,bigRowIsOpen:this.props.bigRowIsOpen}));else if(i===j.CHARACTER_ROW)o=c.createElement(B,(0,s.default)({model:e},h,{columnsInRow:r}));else{var m=void 0;switch(i){case j.CONTINUE_WATCHING:m=w;break;case j.WATCHLIST:m=L;break;case j.SHORT_FORM:m=x;break;default:m=f}o=c.createElement(m,(0,s.default)({},h,{listType:n,columnsInRow:r}))}return o},renderLolomo:function(){for(var t=this,o=[],e=0,i=this.rowsFetching||{};e<O;){if(this.hasNthRow(e))this.shouldRenderNthRow(e)&&o.push(this.renderRow(e));else if(i[e])break;e++}var n=u({lolomo:!0,"is-fullbleed":this.hasBillboard,"has-open-jaw":this.props.jawBoneVideoId,"has-open-bigRow":this.props.bigRowIsOpen});return c.createElement("div",{className:n,ref:function(o){t.lolomoContainer=o}},o,(!this.allRowsFetched()||this.hasMoreRowsToRender())&&this.renderPlaceHolder())},hasFirstRow:function(){return this.hasNthRow(0)},hasNthRow:function(t){var o=this.props.model.bind([t]),e=o.getBoundValue();return!(t>this.state.maxRowToRender)&&(!!e&&!T.isValueError(e))},hasARow:function(){for(var t=0;t<O;t++)if(this.hasNthRow(t))return!0;return!1},shouldRenderNthRow:function(t){var o=this.props.model.bind([t]),e=o.getValueSync(["context"]);return!(this.props.suppressBillboard&&e===j.BILLBOARD||-1!==[j.SOCIAL_POPULAR,j.RATE_MOVIES].indexOf(e))&&(e===j.BILLBOARD||0!==o.getValueSync(["length"]))},render:function(){return this.props.initialFetchCompleted||this.hasFirstRow()?this.state.bouncing?null:this.lolomoIsValid()?this.renderLolomo():this.renderSiteError():this.renderPlaceHolder()}});o.exports=F(G)});C.r("akira/containers/lolomo/lolomoBigRow.jsx",function(e,t,o){"use strict";var i=e("prop-types"),a=e("react"),s=e("create-react-class"),l=e("lodash"),n=e("classnames"),r=e("../../../common/imageExtension"),d=e("shakti-platform/dist/ui/ShaktiProperties"),p=e("../../components/bigRow/bigRow.jsx"),c=e("../../components/billboard/common/helpers"),g=e("../../../components/presentationTracking/presentationTrackingContainer.jsx"),m=e("../../../components/presentationTracking/trackingComponents/boxartPresTracking"),b=e("./rowHeader.jsx"),u=e("../../../utils/shallowCompare"),h=e("../../../common/safeTimeout"),y="discovery/akira/Billboard",w={info:"billboard.actions.info",play:"billboard.actions.play",playVolume:"billboard.actions.playVolume",playCollection:"billboard.actions.playCollection",playSpecial:"billboard.actions.playSpecial",playSet:"billboard.actions.playSet",playBook:"billboard.actions.playBook",playPart:"billboard.actions.playPart",playSeries:"billboard.actions.playSeries",playChapter:"billboard.actions.playChapter",playSeason:"billboard.actions.playSeason",playEpisode:"billboard.actions.playEpisode",playNextEpisode:"billboard.actions.playNextEpisode",rewatchShow:"billboard.actions.rewatchShow",continueWatching:"billboard.actions.continueWatching",playTrailer:"billboard.actions.playTrailer",replay:"billboard.actions.replay"},I=n("rowContent"),v=!1,f=s({displayName:"LolomoBigRow",_hasLoggedError:!1,_hasLoggedImpression:!1,contextTypes:{getI18nString:i.func.isRequired,history:i.object.isRequired,jsongDocument:i.object,models:i.object.isRequired,playerApp:i.object.isRequired,routeHandler:i.object.isRequired},_motionId:null,_videoId:null,disposeTimeout:null,statics:{getPaths:function(e,t,o){return[["bigRow","billboards",0,r.getExtensionForTransparentImage(e),["data","playbackVideo"],"horizontalBackground","playbackData","bigRow"],["bigRow",0,"reference","queue"]]}},childContextTypes:{rowNum:i.number,rankNum:i.number,trackId:i.number,listContext:i.string,supplementalVideoId:i.number},getChildContext:function(){var e=this.getBillboardData();return{rowNum:this.props.rowNum,rankNum:0,trackId:this.getTrackId(),listContext:this.props.listContext,supplementalVideoId:l.get(e,"videoAssets.horizontalBackground.motionId")}},getInitialState:function(){var e=v;return{videoHasPlayed:e,videoCompleted:e,useAvailablePhase:c.getAvailabilityTimeRemaining(this.getBillboardData())<=0}},componentDidMount:function(){this.props.bigRowIsOpen&&v&&this.closeJaw();var e=this.getBillboardData(),t=c.getAvailabilityTimeRemaining(e);if(t>0){var o=this;this.disposeTimeout=h(function(){o.setState({useAvailablePhase:!0})},t,3e4)}},componentWillUnmount:function(){this.disposeTimeout&&this.disposeTimeout()},shouldComponentUpdate:u.partialPropsAndAllState(["bigRowIsOpen"]),getTrackId:function(){var e=this.props.model.getValueSync(["trackIds"]),t=void 0;return e&&(t=e.trackId),t},logImpression:function(){if(!this._hasLoggedImpression){var e=this.props.model,t=r.getExtensionForTransparentImage(this.context.models),o=e&&e.bind(["billboards",0,t,"data"]),i=o&&o.getValueSync()||{},a=e&&e.getValueSync()||{},s=i&&i.impressionToken,l=this.context.jsongDocument;d.get("netflix.ui.akira.originals.bigRow.disableImpressionToken")?this.props.model.get(["logRowImpressionLegacy"]).subscribe(function(e){}):l.call(["lists",[a[1]],["logRowImpression"]],[s]).subscribe(),this._hasLoggedImpression=!0}},setCompletedState:function(e){this.setState({videoCompleted:!0},e),v=!0},setPlayState:function(){this.setState({videoHasPlayed:!0})},toggleJaw:function(e){this.props.toggleBigRowState(e)},openJaw:function(){this.toggleJaw(!0)},closeJaw:function(){this.toggleJaw(!1)},getBillboardData:function(){var e=r.getExtensionForTransparentImage(this.context.models),t=["billboards",0,e,"data"];return this.props.model.getValueSync(t)||{}},render:function(){var e=this.props.model,t=n("lolomoRow","lolomoRow_title_card","lolomoBigRow",{bigRowOpen:this.props.bigRowIsOpen}),o=this.props.title?this.props.title:e.getValueSync(["displayName"]),i=this.getBillboardData(),s=i&&i.assets||{},r=s&&s.background||{},d=r&&"light"===r.tone,c=l.get(i,"videoAssets.horizontalBackground.motionId"),u=i.id;this._motionId=this._motionId||c,this._videoId=this._motionId||u;var h=l.get(i,"assets.logo.url"),v=l.get(i,"assets.background.url"),f=i.title?i.title:null,S="newsFeed"===i.billboardType,k=i.hashtag&&S?i.hashtag:null,C=S,R=S,x=n("bigRow",{newsFeed:S,"light-tone":d}),T=e.bind([0,"reference"]),B=i.actions,P=B&&B[0]||{},E=P&&P.videoId,N=this.context.getI18nString(y,w[P.name]),_=this.context.getI18nString(y,"billboard.actions.info"),V=this.state.videoCompleted||!this._motionId,D=this.state.videoHasPlayed||!this._motionId;return a.createElement("div",{key:this.props.listContext+this.props.rowNum,className:t,"data-list-context":this.props.listContext},a.createElement(b,{id:u,title:o}),a.createElement("div",{className:x,id:"row-"+this.props.rowNum},a.createElement(g,null,a.createElement("div",{className:I},a.createElement(m,{videoId:u},a.createElement(p,{ref:"bigRow",motionId:c,isMutedByDefault:this.state.isMutedByDefault,videoModel:T,videoId:u,logoUrl:h,staticImageUrl:v,trailerId:E,primaryCtaLabel:N,moreInfoCtaLabel:_,videoTitle:f,isNewsFeedRow:S,hashtag:k,showLogoDuringVideo:C,usingHorizontalLogo:R,logImpression:this.logImpression,videoHasPlayed:D,videoCompleted:V,assets:s,setCompletedState:this.setCompletedState,setPlayState:this.setPlayState,inViewportSelector:".VideoContainer",useAvailablePhase:this.state.useAvailablePhase,openJaw:this.openJaw,closeJaw:this.closeJaw,data:i}))))))}});t.exports=f});C.r("akira/containers/lolomo/lolomoContinueWatchingRow.jsx",function(e,t,o){"use strict";function n(e,t,o){return o=a.assign({},o),o.progress=!0,u.getPaths(e,t,o)}var r=e("babel-runtime/helpers/extends"),s=function(e){return e&&e.__esModule?e:{default:e}}(r),a=e("lodash"),i=e("prop-types"),c=e("react"),l=e("create-react-class"),u=e("./lolomoRow.jsx"),d=l({displayName:"LolomoContinueWatchingRow",contextTypes:{models:i.object.isRequired},statics:{getPaths:function(e,t,o){var r=["continueWatching"];return n(e,t,o).map(function(e){return r.concat(e)})}},render:function(){return c.createElement(u,(0,s.default)({},this.props,{sliderMovePqls:n(this.context.models,u.defaultSliderMoveStrategy)}))}});t.exports=d});C.r("akira/containers/lolomo/lolomoRow.jsx",function(e,t,o){"use strict";var s=e("babel-runtime/helpers/toConsumableArray"),i=function(e){return e&&e.__esModule?e:{default:e}}(s),r=e("prop-types"),n=e("react"),a=e("create-react-class"),l=e("shakti-platform/dist/ui/ShaktiProperties"),d=e("classnames"),u=e("../../../utils/imageLoadTracker"),c=e("../../utils/scheduler"),p=e("../../utils/akiraContextTypes"),h=e("../../utils/falcorPureRender.jsx"),m=e("../../../utils/ab/richOriginalsRowTest"),g=e("../../utils/lolomoRowChangeDetector"),w=e("../row.jsx"),f=e("./rowHeader.jsx"),I=e("../../containers/title/titleCardContainer.jsx"),T=e("./lolomoConstants.jsx"),v=l.get("netflix.ui.akira.prefetch.strategies.lolomoRow"),R=v.allTitles,y=l.get("netflix.ui.akira.prefetch.rowSlide"),k=I.TitleCardContainer,S=I.getPaths,x=function(e,t){return t&&void 0!==t.totalVideos?Math.min(e.numVideos,t.totalVideos):e.numVideos},j=function(e){return e.startIndex||0},V=function(e,t,o){o=Object.assign({},o),o.videoPrefix=void 0!==o.videoPrefix?o.videoPrefix:["reference"],t||(t=R);var s=[[["trackIds","context","length","genreId","videoId","displayName","isTallRow","impressionToken","id","requestId"]]],i=x(t,o),r=j(t),n=S(e,t,o).map(function(e){return[{from:r,to:i}].concat(e)});return s.concat(n)},C=function(){},b=a({displayName:"LolomoRow",getDefaultProps:function(){return{videoRoot:"reference"}},contextTypes:Object.assign({getModelData:r.func.isRequired,models:r.object.isRequired,renderTracker:r.object},p),statics:{getPaths:V,defaultStrategy:R,prefetchStrategies:v,defaultSliderMoveStrategy:y},getInitialState:function(){return{fullDataLoaded:!1}},childContextTypes:{requestId:r.string.isRequired,trackId:r.number,jawBoneTrackId:r.number,jawBoneEpisodeTrackId:r.number,jawBoneTrailerTrackId:r.number,listContext:r.string,listId:r.string,listType:r.string,isTallRow:r.bool,impressionToken:r.string},getChildContext:function(){var e=this.getTrackIds();return{requestId:this.props.model.getValueSync(["requestId"]),trackId:e.trackId,jawBoneTrackId:e.trackId_jaw,jawBoneEpisodeTrackId:e.trackId_jawEpisode,jawBoneTrailerTrackId:e.trackId_jawTrailer,listContext:this.props.listContext,listId:this.props.model.getValueSync(["id"])?this.props.model.getValueSync(["id"]):void 0,listType:this.props.listType,isTallRow:!!this.props.model.getValueSync(["isTallRow"]),impressionToken:this.props.model.getValueSync(["impressionToken"])}},componentDidMount:function(){var e=this.context.renderTracker;if(e){var t=e.startSession("lolomoRow"+this.props.rowNum);u.trackBySelectors([".boxart-image"]).then(function(){e.endSession(t)}).catch(function(o){e.endSession(t,o)})}},getVideoPath:function(e){return this.props.videoRoot?[this.props.videoRoot].concat(e):e},getId:function(){var e=this.props.model,t=e.getValueSync(["genreId"]),o=e.getValueSync(["videoId"]);return t||(o||null)},getTrackIds:function(){return this.props.model.getValueSync(["trackIds"])||{}},getTitles:function(){var e=this,t=this.props.model,o=!!t.getValueSync(["isTallRow"]),s=m.isRichOriginalsRow(o,this.context.models.truths),i=this.props.rowNum,r={};return{titleList:this.getLoadedItemModels({isTallPanel:s}).map(function(t,o){var a=t.model.getValueSync(e.getVideoPath(["summary"])),l=a?a.id:"ph"+o,d=a&&a.id,u="title_"+l+"_"+i+"_"+o;r[d]=o;try{return n.createElement(k,{key:u,model:t.model,rowNum:i,rankNum:o,videoId:d,isTallPanel:s,videoRoot:e.props.videoRoot})}catch(e){}return null}),orderedItemList:r}},getRowItems:function(){var e=[],t=this.getTitles();return{rowItems:e.concat(t.titleList).slice(0,100),orderedItemList:t.orderedItemList||{}}},getTotalItemsInRow:function(){var e=this.props.model,t=e.getValueSync(["length"]);return t>100&&(t=100),t},sliderMovePqls:function(){if(this.props.sliderMovePqls)return this.props.sliderMovePqls;var e=this.context.models,t={},o=b.defaultSliderMoveStrategy;return m.isRichOriginalsRow(this.props.model.getValueSync(["isTallRow"]),this.context.models.truths)&&(t.tallPanelBoxart=!0),V(e,o,t)},handleSliderMove:function(){var e=this;this.state.fullDataLoaded||(this.state.fullDataLoaded=!0,c.queue(function(){var t;return(t=e.props.model).get.apply(t,(0,i.default)(e.sliderMovePqls())).subscribe(C,function(){return e.forceUpdate()},function(){return e.forceUpdate()})}))},getLoadedItemModels:function(e){for(var t=this.props.model,o=t.getValueSync("length"),s=[],i=void 0,r=void 0,n=0;n<o;n++)i=t.bind([n]),(r=i.getValueSync(this.getVideoPath(["summary"])))&&r.id&&s.push({model:i});return s},render:function(){var e=this.props.model,t=!!e.getValueSync(["isTallRow"]),o=m.isRichOriginalsRow(t,this.context.models.truths),s={lolomoRow:!0,lolomoRow_title_card:!0,jawBoneOpen:this.props.showJawBone,"originals-panels-row":o},i=this.props.jawBoneRankNum,r=this.props.listContext===T.LIST_CONTEXTS.MY_LIST,a=this.getRowItems()||{},l=a.rowItems||[],u=r&&a.orderedItemList,c=this.state.fullDataLoaded?l.length:this.getTotalItemsInRow();return 0===c||0===l.length?null:n.createElement("div",{key:this.props.listContext+this.props.rowNum,className:d(s,this.props.className),"data-list-context":this.props.listContext},this.props.hideRowHeader?null:n.createElement(f,{id:this.getId(),title:this.props.title?this.props.title:e.getValueSync(["displayName"])}),n.createElement(w,{model:e,videoRoot:this.props.videoRoot,totalItems:c,rowNum:this.props.rowNum,jawBoneRankNum:this.props.jawBoneRankNum,showJawBone:this.props.showJawBone,disableJawClose:this.props.disableJawClose,handleSliderMove:this.handleSliderMove,jawBoneModelIndex:i,columnsInRow:this.context.columnsInRow,enablePaginationIndicator:!0,isMyListRow:r,orderedItemList:r?u:null},l))}});t.exports=h(b,{modelChangeDetector:function(e){return new g(e.model)}})});C.r("akira/containers/lolomo/lolomoShortformRow.jsx",function(t,e,o){"use strict";function r(t,e,o){return o=a.assign({},o),o.progress=!0,o.shortformContent=!0,u.getPaths(t,e,o)}var s=t("babel-runtime/helpers/extends"),n=function(t){return t&&t.__esModule?t:{default:t}}(s),a=t("lodash"),l=t("prop-types"),c=t("react"),i=t("create-react-class"),u=t("./lolomoRow.jsx"),m=i({displayName:"LolomoWatchlistRow",contextTypes:{models:l.object.isRequired},statics:{getPaths:function(t,e,o){var s=["shortform",{from:0,to:50}];return r(t,e,o).map(function(t){return s.concat(t)})}},render:function(){return c.createElement(u,(0,n.default)({},this.props,{sliderMovePqls:r(this.context.models,u.defaultSliderMoveStrategy)}))}});e.exports=m});C.r("akira/containers/lolomo/lolomoWatchlistRow.jsx",function(t,e,o){"use strict";function n(t,e,o){return o=a.assign({},o),o.progress=!0,o.watchlistContent=!0,u.getPaths(t,e,o)}var s=t("babel-runtime/helpers/extends"),r=function(t){return t&&t.__esModule?t:{default:t}}(s),a=t("lodash"),i=t("prop-types"),l=t("react"),c=t("create-react-class"),u=t("./lolomoRow.jsx"),d=function(t,e){return e&&void 0!==e.totalVideos?Math.min(t.numVideos,e.totalVideos):t.numVideos},m=function(t){return t.startIndex||0},f=c({displayName:"LolomoWatchlistRow",contextTypes:{models:i.object.isRequired},statics:{getPaths:function(t,e,o){var s={from:e.rowMin||0,to:e.numRows},r={from:m(e),to:d(e,o)};return n(t,e,o).map(function(t){return["watchlist"].concat(t)}).concat([["conditionalPathsOnlyIfWatchlistRowPresent",s,r,"reference","watchlistQueue"]])}},render:function(){return l.createElement(u,(0,r.default)({},this.props,{sliderMovePqls:n(this.context.models,u.defaultSliderMoveStrategy)}))}});e.exports=f});C.r("akira/containers/lolomo/roarRow.jsx",function(e,t,r){"use strict";function s(e,t,r){return d.isRichOriginalsEnabled(e.truths)&&(r=o.assign({},r),r.tallPanelBoxart=!0),u.getPaths(e,t,r)}var a=e("babel-runtime/helpers/extends"),n=function(e){return e&&e.__esModule?e:{default:e}}(a),o=e("lodash"),i=e("prop-types"),l=e("react"),c=e("create-react-class"),u=e("./lolomoRow.jsx"),d=e("../../../utils/ab/richOriginalsRowTest"),f=c({displayName:"RoarRow",contextTypes:{models:i.object.isRequired},statics:{getPaths:function(e,t,r){var a=["netflixOriginals"];return s(e,t,r).map(function(e){return a.concat(e)})}},render:function(){return l.createElement(u,(0,n.default)({},this.props,{sliderMovePqls:s(this.context.models,u.defaultSliderMoveStrategy)}))}});t.exports=f});C.r("akira/containers/lolomo/rowHeader.jsx",function(e,t,s){"use strict";var i=e("prop-types"),r=e("react"),n=e("create-react-class"),a=e("lodash"),o=e("classnames"),l=e("../../components/controls/mainViewLink.jsx"),c=e("../../../utils/ab/richOriginalsRowTest"),d=e("../../utils/akiraContextTypes"),h=e("../../utils/linkDefs.jsx"),x=e("../../../utils/ab/kidsParityTest"),u=["genre","similars","netflixOriginals"],m=["genre","similars","genrenewrelease"],p=["netflixOriginals","recentlyAdded"],g={netflixOriginals:839338,recentlyAdded:1592210},f=n({displayName:"RowHeader",contextTypes:Object.assign({getI18nString:i.func.isRequired,getModelData:i.func.isRequired,listContext:i.string,listType:i.string,isRtl:i.bool,isTallRow:i.bool,models:i.object.isRequired},d),createListContextResolver:function(){var e=this.shouldOverrideRowHeader()?h.genre:h[this.context.listContext];return e?"function"==typeof e?e(this.context.models,this.context.isKidsPage):e:null},renderLinked:function(e){var t={rowChevron:!0},s=this.context.isRtl?"icon-akiraCaretLeft":"icon-akiraCaretRight";t[s]=!0;var i=this.context.getModelData("truths","hasAROGallery",!1),n=i?r.createElement("div",{className:o("aro-row-header")},r.createElement("div",{className:o("see-all-link")},this.context.getI18nString("discovery/akira/Gallery","gallery.row.header")),r.createElement("div",{className:o("aro-row-chevron",s)})):r.createElement("span",{className:o(t)}),c=i?r.createElement("div",{className:"row-header-title"},a.unescape(this.props.title)):a.unescape(this.props.title),d={id:this.shouldOverrideRowHeader()?g[this.context.listContext]:this.props.id},h=this.createListContextResolver();return r.createElement("h2",{className:"rowHeader"},r.createElement(l,{to:h,className:e,params:d},c,n))},shouldOverrideRowHeader:function(){return this.context.getModelData("truths","hasAROGallery",!1)&&-1!==p.indexOf(this.context.listContext)},shouldComponentUpdate:function(){return!1},render:function(){var e=o({rowTitle:!0,"originals-row-title":c.isRichOriginalsRow(this.context.isTallRow,this.context.models.truths)}),t=x.kidsProfileWithParity(this.context.models)||!this.context.isKidsPage||u.indexOf(this.context.listContext)>-1;return m.indexOf(this.context.listContext)>-1&&!this.props.id&&(t=!1),this.context.listContext&&t?this.renderLinked(e):r.createElement("h2",{className:e},a.unescape(this.props.title))}});t.exports=f});C.r("akira/containers/lolomoContainer.js",function(o,l,n){"use strict";var r=o("./lolomo/lolomo.jsx"),s=o("../utils/falcorConnect.jsx"),t=s(r);l.exports=t});C.r("akira/containers/lolopiContainer.js",function(o,t,a){"use strict";var i=o("lodash"),l=o("../components/profile/lolopi.jsx"),e=o("../utils/falcorConnect.jsx"),n=e(l,{autoFetchPaths:function(o,t,a){return i.get(o,"truths.data.showLolopi",!1)?a&&a.maturityHasChanged?[["lolopi",a.maturityLevel,a.isKids]]:[a.newProfile._path.concat(["lolopi"])]:[]},mapDataToProps:function(o,t,a,i){return i&&i.maturityHasChanged?{lolopiData:o.getValueSync(["lolopi",i.maturityLevel,i.isKids])}:{lolopiData:o.getValueSync(i.newProfile._path.concat(["lolopi"]))}}});t.exports=n});C.r("akira/containers/notificationLandingContainer.js",function(i,n,t){"use strict";var a=i("../views/NotificationLanding/NotificationLanding.jsx"),o=i("../utils/falcorConnect.jsx"),s=o(a);n.exports=s});C.r("akira/containers/profileEditContainer.js",function(i,o,r){"use strict";var t=i("../components/profile/profileEdit.jsx"),n=i("../utils/falcorConnect.jsx"),e=n(t);o.exports=e});C.r("akira/containers/rowList/rowListItem.jsx",function(e,t,n){"use strict";var o=e("babel-runtime/helpers/extends"),r=function(e){return e&&e.__esModule?e:{default:e}}(o),s=e("prop-types"),a=e("react"),i=e("create-react-class"),l=e("../../components/controls/playbutton.jsx"),m=e("../../components/controls/mainViewLink.jsx"),c=e("../../components/title/videoMeta.jsx"),u=e("../../components/titleCard/tinyTitleCard.jsx"),p=e("../../components/title/duration.jsx"),d=e("../../components/title/maturityRating.jsx"),v=e("../../components/title/userRating.jsx"),g=e("../../../common/svgIcon.jsx"),h=e("../../../common/imageExtension"),y=e("../../../utils/pathEvaluatorUtils"),x=e("../../utils/linkDefs.jsx"),E="discovery/akira/Common",f=i({displayName:"RowListItem",contextTypes:{getI18nString:s.func.isRequired},childContextTypes:{rankNum:s.number,rowNum:s.number},getChildContext:function(){return{rankNum:this.props.rankNum,rowNum:this.props.rowNum}},statics:{extension:function(e){return h.getExtensionForOpaqueImage(e)},getPaths:function(e,t,n){return[["summary"],["title"],["queue"],["availabilityEndDateNear"],["boxarts","_233x131",h.getExtensionForOpaqueImage(e)]].concat(l.getPaths()).concat(c.getPaths(e))},getSize:function(){return"_233x131"}},placeHolder:function(){return a.createElement("div",{className:"rowListItem"},this.context.getI18nString(E,"loading"))},onMoveToTop:function(e){e.preventDefault(),this.props.onMoveToTop(this.props.videoId)},onRemove:function(e){e.preventDefault(),this.props.onRemove(this.props.videoId)},renderActions:function(){return[this.props.rowNum>0&&a.createElement("div",{className:"move-to-top"},a.createElement("a",{href:"#",onClick:this.onMoveToTop},a.createElement(g,{name:"moveToTop"})," ",this.context.getI18nString(E,"move.to.top"))),a.createElement("div",{className:"remove"},a.createElement("a",{href:"#",onClick:this.onRemove},a.createElement(g,{name:"close"}),""))]},renderGrips:function(e){return a.createElement("div",{className:e},a.createElement(g,{name:"grips"}))},render:function(){var e=this.props,t=e.videoId,n=e.model,o=n.getValueSync(["summary"]),s=n.getValueSync(["title"]),i=n.getValueSync(["runtime"]),l=n.getValueSync(["seasonCount"]),c=n.getValueSync(["releaseYear"])||"",g=n.getValueSync(["availabilityEndDateNear"]),h=n.getValueSync(["seasonList","current","showMemberType"]),f="rowListItem-"+o.id,N=void 0;return o?(g&&!y.isValueError(g)&&(N=this.context.getI18nString(E,"available.until",{DATE:g})),a.createElement("div",(0,r.default)({},this.props,{id:f,key:f,className:"rowListItem"}),this.renderGrips("first-move-grips"),a.createElement(u,{model:n,className:"tinyTinyCard",key:"tinyTitle"}),a.createElement("div",{className:"title"},a.createElement(m,{resolver:x.getTitleRoute,params:{id:t}},s)),a.createElement(v,{model:this.props.model,extraClass:"jawmetastars"}),a.createElement("div",{className:"year"},c),a.createElement(d,{model:this.props.model}),a.createElement(p,{runtime:i,seasonCount:l,seasonLabelKey:h}),a.createElement("div",{className:"notes"},N),this.renderActions(),this.renderGrips("last-move-grips"))):this.placeHolder()}});t.exports=f});C.r("akira/containers/searchContainer.js",function(s,r,a){"use strict";var e=s("../views/search.jsx"),n=s("../utils/falcorConnect.jsx"),t=n(e);r.exports=t});C.r("akira/containers/sortableGallery.jsx",function(e,t,r){"use strict";var a=e("babel-runtime/helpers/extends"),s=function(e){return e&&e.__esModule?e:{default:e}}(a),l=e("prop-types"),n=e("react"),i=e("create-react-class"),o=e("./galleryContainer"),c=e("./header/sortGallery.jsx"),u=i({displayName:"SortableGallery",contextTypes:{getModelData:l.func.isRequired,models:l.object.isRequired},statics:{getPaths:function(e,t,r){var a=o.getPaths(e,t,r),s=c.getPaths(e,t,r);return[["name"]].concat(a).concat(s)}},getInitialState:function(){return{filter:function(){return!0}}},setFilter:function(e){this.setState({filter:e})},getHeader:function(e){return this.context.getModelData("truths","hasAROGallery")?n.createElement("div",null):n.createElement("div",{className:"galleryHeader"},n.createElement("div",{className:"title",dangerouslySetInnerHTML:{__html:e.getValueSync(["name"])}}),this.props.hideSortFilter?null:n.createElement(c,{sortOrder:this.props.sortOrder,model:e,onFilterChange:this.setFilter}))},render:function(){var e=this.props.model;return n.createElement(o,(0,s.default)({},this.props,{keyPrefix:this.props.keyPrefix,model:e,header:this.getHeader(e),filter:this.state.filter}))}});t.exports=u});C.r("akira/containers/sortableGalleryContainer.js",function(r,a,s){"use strict";var t=r("./sortableGallery.jsx"),e=r("../utils/falcorConnect.jsx"),l=e(t);a.exports=l});C.r("akira/containers/sortableRowList.jsx",function(e,t,i){"use strict";var s=e("prop-types"),n=e("react"),o=e("create-react-class"),r=e("react-dom"),a=e("lodash"),l=e("classnames"),d=e("shakti-platform/dist/ui/ShaktiProperties"),c=e("shakti-platform/dist/ui/utils/inNode"),h=e("../../utils/eventBus"),m=e("../utils/akiraContextTypes"),u=e("../../utils/browserScroll"),v=e("../../common/position"),g=e("./rowList/rowListItem.jsx"),p=e("../components/loader/loadingSpinner.jsx"),f=e("../../utils/pathEvaluatorUtils"),M=e("../../utils/mylist_utils"),I="discovery/akira/Gallery",S=function(e,t,i){var s=[{from:0,to:400}];return[[["id","length","name","trackIds","requestId"]]].concat(g.getPaths(e,t).map(function(e){return s.concat(e)}))},N=o({displayName:"SortableRowList",contextTypes:Object.assign({getI18nString:s.func.isRequired,models:s.object},m),isInteractive:!1,statics:{getPaths:S},childContextTypes:{requestId:s.string,trackId:s.number},getChildContext:function(){var e=this.getTrackIds();return{requestId:this.getRequestId(),trackId:e.trackId}},getTrackIds:function(){var e=this.props.model,t=this.props.trackIds;return!t&&e.getValueSync(["trackIds"])&&(t=e.getValueSync(["trackIds"])),t||{}},getRequestId:function(){return this.props.model.getValueSync(["requestId"])},handleMoveToTop:function(e){var t=this;if(!this.isSavingMove){d.get("netflix.ui.akira.manualMyListBlocking")&&(this.isSavingMove=!0);var i=this.refs.rowList;this.itemBeingMoved=r.findDOMNode(this.refs["item-"+e]),this.itemBeingMovedNextSibling=this.itemBeingMoved.nextElementSibling,this.moveItemInDOM(this.itemBeingMoved,i.firstChild),M.moveInList(e,null).subscribe(function(){t.isSavingMove=!1},function(){t.isSavingMove=!1,t.undoMoveItemInDOM(),h.emit("myList:move:end",a.assign({},t.context,t.props,{myListNotification:{status:-1,reason:"FailedToRemove"}}))})}},handleMoveInList:function(e,t){var i=this;this.isSavingMove||(d.get("netflix.ui.akira.manualMyListBlocking")&&(this.isSavingMove=!0),M.moveInList(e,null,{placeAfterVideo:t}).subscribe(function(){i.isSavingMove=!1},function(){i.isSavingMove=!1,i.undoMoveItemInDOM(),h.emit("myList:move:end",a.assign({},i.context,i.props,{myListNotification:{status:-1,reason:"FailedToRemove"}}))}))},handleRemove:function(e){var t=this,i=r.findDOMNode(this.refs["item-"+e]);this.hideRow(i),M.removeFromList(this.context.discoveryApp.getActionCreators(),e).subscribe(function(){h.emit("myList:remove:end",a.assign({},t.context,t.props))},function(){t.showRow(i),h.emit("myList:remove:end",a.assign({},t.context,t.props,{myListNotification:{status:-1,reason:"FailedToRemove"}}))})},handleMouseDown:function(e){this.isSavingMove&&(e.preventDefault(),e.stopPropagation())},dragStart:function(e){this.itemBeingMoved=e.currentTarget,this.itemBeingMovedNextSibling=e.currentTarget.nextElementSibling,this.insertAfterNode=null,e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html",e.currentTarget)},checkMousePositionForScroll:function(e){e.clientY>0&&e.clientY<100?u.scrollDelta(-4):e.clientY>v.getWindowRect().height-100&&u.scrollDelta(4)},dragOver:function(e){var t=e.target;if(e.preventDefault(),this.requiresScrollHelp&&this.checkMousePositionForScroll(e),this.hideRow(this.itemBeingMoved),"placeholder"!==t.className&&"rowListItem"===t.className){var i=t.getBoundingClientRect();(e.clientY-i.top)/(i.bottom-i.top)>.5?(this.insertAfterNode=t,this.insertBeforeNode=t.nextElementSibling,this.insertBeforeNode&&"placeholder"===this.insertBeforeNode.className&&t.nextElementSibling.nextElementSibling&&(this.insertBeforeNode=t.nextElementSibling.nextElementSibling),this.moveItemInDOM(this.placeholder,t.nextElementSibling)):(this.insertAfterNode=t.previousElementSibling,this.insertAfterNode&&"placeholder"===this.insertAfterNode.className&&t.previousElementSibling.previousElementSibling&&(this.insertAfterNode=t.previousElementSibling.previousElementSibling),this.insertBeforeNode=t,this.moveItemInDOM(this.placeholder,t))}},dragEnd:function(e){this.showRow(this.itemBeingMoved),this.moveItemInDOM(this.itemBeingMoved,this.placeholder),this.itemBeingMoved.parentNode.removeChild(this.placeholder),this.insertBeforeNode!==this.itemBeingMovedNextSibling&&this.handleMoveInList(this.itemBeingMoved.dataset.id,this.insertAfterNode&&this.insertAfterNode.dataset.id)},moveItemInDOM:function(e,t){if(this.isMounted()){var i=this.refs.rowList;t?i.insertBefore(e,t):i.appendChild(e)}},undoMoveItemInDOM:function(){this.moveItemInDOM(this.itemBeingMoved,this.itemBeingMovedNextSibling)},hideRow:function(e){this.isMounted()&&(e.style.display="none")},showRow:function(e){this.isMounted()&&(e.style.display="flex")},renderRows:function(){var e=this.props.model,t=[],i=void 0,s=void 0,o=void 0;for(i=0;i<400;i++)s=e.bind([i]),(o=s.getValueSync("summary"))&&t.push(n.createElement(g,{key:"title_"+o.id+"_"+i+"_0",ref:"item-"+o.id,"data-id":o.id,model:s,rowNum:i,rankNum:0,videoId:o.id,draggable:"true",onRemove:this.handleRemove,onMoveToTop:this.handleMoveToTop,onMouseDown:this.handleMouseDown,onDragEnd:this.dragEnd,onDragStart:this.dragStart}));return n.createElement("div",{ref:"rowList",className:"rowList",onDragOver:this.dragOver},t)},renderNoResults:function(){return n.createElement("div",{className:"rowListMessage"},this.context.getI18nString(I,"results.none"))},renderError:function(){return n.createElement("div",{className:"rowListMessage"},this.context.getI18nString(I,"results.error"))},setIsInteractive:function(){this.props.isLoading||this.isInteractive||(h.emit("app:interactive",this.props),this.isInteractive=!0)},buildDragPlaceHolder:function(){this.placeholder=document.createElement("div"),this.placeholder.className="placeholder"},componentDidMount:function(){this.buildDragPlaceHolder(),this.setIsInteractive();var e=a.get(this.context.models,"browserInfo.data");this.requiresScrollHelp=e&&e.isFirefox},componentDidUpdate:function(){this.setIsInteractive()},render:function(){var e=this.props.model,t=e.getValueSync(["name"]),i=null,s=e.bind([0]).getValueSync("summary"),o=e.bind([0]).getValueSync("releaseYear"),r=f.hasAnyError([t,s]);return s&&!r&&o?i=this.renderRows():r?(i=this.renderError(),t="&nbsp;"):i=c||this.props.isLoading||!o?n.createElement("div",{className:"rowListSpinLoader"},n.createElement(p,null)):this.renderNoResults(),n.createElement("div",{className:l({rowListContainer:!0})},this.props.header&&!r?this.props.header:n.createElement("div",{className:"title",dangerouslySetInnerHTML:{__html:t}}),i)}});t.exports=N});C.r("akira/containers/sortableRowListContainer.js",function(s,t,o){"use strict";var r=s("./sortableRowList.jsx"),a=s("../utils/falcorConnect.jsx"),i=a(r);t.exports=i});C.r("akira/containers/subHeaders/genreHeader.jsx",function(e,r,t){"use strict";var s=e("prop-types"),i=e("react"),a=e("create-react-class"),o=e("../../components/controls/breadCrumbs.jsx"),d=e("../header/sortGallery.jsx"),n=e("../../components/controls/subGenres.jsx"),c=e("../../utils/akiraContextTypes"),p=e("../../../utils/ab/kidsParityTest"),l=a({displayName:"GenreHeader",contextTypes:Object.assign({models:s.object.isRequired},c),statics:{getPaths:function(e,r,t){if(p.kidsProfileWithParity(e,!1))return o.getPaths(e,r,{id:t.id});var s=n.getPaths(e,r,{id:t.id}).map(function(e){return["genres",t.id].concat(e)}),i=d.getPaths(e,r,{sortOrder:t.sortOrder}).map(function(e){return["genres",t.id].concat(e)});return o.getPaths(e,r,{id:t.id,breadCrumbs:t.breadCrumbs}).concat(s).concat(i)}},render:function(){var e=this.props.model.bind(["genres",this.props.id]),r=!p.kidsProfileWithoutParity(this.context.models,!1);return i.createElement("div",{className:"galleryHeader"},r?i.createElement(o,{breadCrumbs:this.props.breadCrumbs,id:this.props.id,model:this.props.model}):i.createElement(o,{id:this.props.id,model:this.props.model}),r&&i.createElement(n,{model:e,id:this.props.id,breadCrumbs:this.props.breadCrumbs}),r&&i.createElement(d,{sortOrder:this.props.sortOrder,model:e,onFilterChange:this.props.onFilterChange}))}});r.exports=l});C.r("akira/init/initAppContext.js",function(e,t,n){"use strict";var o=e("../AkiraApp"),r=e("../../common/nfNamespace"),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=o.createContext({pathEvaluator:e,model:r.reactContext,renderSource:"client"},{handleRouteChange:function(e,t){return n.getDiscoveryApp().getActionCreators().changeRoute({currentRouteHandler:n.getRouteHandler(),newRouteHandler:t}),e}});r.appContext=n,t(n)};t.exports=a});C.r("akira/init/initClient.js",function(n,i,e){"use strict";n("./initShims")(),n("../../common/clientInitFastProperties.js").init();var t=n("../../utils/h2ping"),r=n("./initAppContext"),o=n("./initConsolidatedLogging"),a=n("./initClientRenderer"),s=n("./initCsrfTokenRefresh"),c=n("./initDynamicMessages"),d=n("./initPathEvaluator"),l=n("./initDevCommandLine"),m=n("./initPlayer"),p=n("./initPlayPredictionV2"),f=n("./initPresentationTracking"),u=n("./initReno"),b=n("./initTtl"),k=n("./initWebSockets"),C=n("./initWindowErrorListener"),g=n("./initXHRHooks"),E=n("../../common/nfNamespace"),h=n("ramda/src/pathOr"),P=n("./sendStartupTiming"),R=n("../components/billboard/common/ReportMetrics"),v=function(){R.akiraBeforeFalcor(),C(),E.reactContext.node={req:null,res:null},o();var n=h({},["reactContext","models","truths","data"],E);d(function(i){r(i,function(e){n.xhrHooksEnabled&&g(e,n),s(e),f(e,n),m(),n.playPredictionV2Enabled&&p(e,i,n),n.websocketsEnabled&&k(e,function(i){n.renoEnabled&&u(i,e)}),n.akiraTtlEnabled&&b(e),n.dynamicMessagesEnabled&&c(e,n),R.akiraBeforeRender(),a(e,function(){P(),t(),window.reactApp={refresh:function(){e.getDiscoveryApp().getActionCreators().forceUpdate()}}}),R.akiraAfterRender(),n.devCommandLineEnabled&&l()})})};i.exports=v});C.r("akira/init/initClientRenderer.js",function(n,t,e){"use strict";var i=n("shakti-platform/dist/ui/renderers").ReactClientRenderer,r=function(){return document.getElementById("appMountPoint")},o=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},e=!1;new i(r(),n).render(function(n){if(n)throw n.stack,n;e||(t(),e=!0)})};t.exports=o});C.r("akira/init/initConsolidatedLogging.js",function(t,i,n){"use strict";var o=t("nf-cons-log"),c=function(){try{o.clientNotifications.start()}catch(t){}};i.exports=c});C.r("akira/init/initCsrfTokenRefresh.js",function(t,i,r){"use strict";var e=t("shakti-platform/dist/ui/ShaktiProperties"),s=e.get("web.ui.akira.csrf.ttl"),n=function(t){return t.getDiscoveryApp().getActionCreators().initCsrfTokenRefresh({ttl:s})};i.exports=n});C.r("akira/init/initDynamicMessages.js",function(e,i,n){"use strict";var s=e("../../utils/dynamicMessages/dynamicMessages"),t=function(e){return function(){return e.getDiscoveryApp().getActionCreators().expireApp()}},r=function(e,i){return s.init({expireApp:t(e),identifiersMessagesEnabled:i.identifierCheckEnabled})};i.exports=r});C.r("akira/init/initPathEvaluator.js",function(a,t,o){"use strict";var e=a("falcor-polyfilled"),c=a("../../common/nfNamespace"),i=a("../../utils/falcorClientAdapter"),n=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=e({maxSize:5e6,collectRatio:.75,source:i,cache:c.falcorCache,unsafeMode:!0}).batch();window&&(window.pathEvaluator=t),c.reactContext.pathEvaluator=t,a(t)};t.exports=n});C.r("common/playPrediction/playPredictionConstants.js",function(_,n,o){"use strict";n.exports={UI_FULLSCAN:"pt:fullscan",UI_JAWBONE_OPENED:"jawbone:open",UI_PLAY_FOCUS:"play:focus",UI_SCROLL_LEFT:"left",UI_SCROLL_RIGHT:"right",UI_SCROLL_UP:"up",UI_SCROLL_DOWN:"down",UX_JAWBONE:"jawbone",PREPARE:"playprediction:prepare"}});C.r("common/playPrediction/PlayPredictionController.js",function(t,e,r){"use strict";function o(t){var e=u.get(t,"yScrollDirection",null),r=u.get(t,"xScrollDirection",null);return e?e>0?d.UI_SCROLL_UP:d.UI_SCROLL_DOWN:r?r>0?d.UI_SCROLL_RIGHT:d.UI_SCROLL_LEFT:void 0}function i(t){if(!t.length||!t[0])return{};var e={rows:[]};return u.forEach(t,function(t){var r=t.list||[];e.rows.push(t.rowIndex),e[t.rowIndex]={first:r[0]&&r[0].index,last:r[r.length-1]&&r[r.length-1].index}}),e}function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.getRouteParameterState,r=t.isPredictionAllowed,o=t.pathEvaluator,i=t.prepareVideoMerchAsset;this.getRouteParameterState=e,this._isPredictionAllowed=r,this.pathEvaluator=o,this.getModelInput=this.getModelInput.bind(this),this.isPredictionAllowed=this.isPredictionAllowed.bind(this),this.prepareVideoMerchAsset=i,this.previousLayout=void 0,this.paused=!1,this.dispose=new s}var a=t("../../utils/rx/shakti-rx").RxObservable,s=t("../../utils/rx/shakti-rx").RxSubject,u=t("lodash"),d=t("./playPredictionConstants"),l=t("../../player/nfplayer/components/prePlay/prePlayCacheHandler"),p=t("../../player/nfplayer/uiLabel"),c=t("../../player/nfplayer/utils/getCadmiumCreationParameters"),h=["summary","bookmarkPosition","creditsOffset","availability"],v=["context"],y=["current","availability"],m=["current","summary"],I=["current","bookmarkPosition"],g=function(t){return!!t};n.prototype.pause=function(){this.dispose.next(!0),this.paused=!0},n.prototype.resume=function(){this.paused=!1},n.prototype.isPaused=function(){return this.paused},n.prototype.getDisposable=function(){return this.dispose},n.prototype.getPlayable=function(t){var e=this,r=t.map(function(t){return t.videoId});return l.requestPrePlayFromList(t,h,[["videos",r,"current",h]]).takeWhile(function(){return!e.isPaused()}).onErrorResumeNext(a.of(null))},n.prototype.isPredictionAllowed=function(){var t=this.isPaused();return this._isPredictionAllowed?!t&&this._isPredictionAllowed():!t&&!0},n.prototype.getListContextForRow=function(t){var e=this.pathEvaluator.getValueSync(["lolomos","currentLolomo"]);if(!e||void 0===t||null===t)return null;var r=this.pathEvaluator.getValueSync(["lolomos",e,t].concat(v));return r&&"string"==typeof r?r:null},n.prototype.getModelInput=function(t){return t.event===d.UI_JAWBONE_OPENED||t.event===d.UI_PLAY_FOCUS?this.getModelInputFromItem(t.data):this.getModelInputFromScanResult(t.data)},n.prototype.getModelInputFromItem=function(t){var e=this,r=t.id,o=t.trackId;return!r||r<0?a.empty():this.getPlayable([{videoId:r,trackId:o}]).filter(g).map(function(){return e.getModelItem({videoId:r,trackId:o,rank:t.rank,property:"playFocused"})}).filter(g).map(function(e){var r={};return r.list=[e],r.rowIndex=t.row,t.listContext&&(r.context=t.listContext),{lolomos:[r]}})},n.prototype.getModelItem=function(t){var e=this.pathEvaluator.bind(["videos",t.videoId]);if((t.videoId&&e&&e.getValueSync(y)||{}).isPlayable){var r=e.getValueSync(I),o=l.getExperiencePath({videoId:t.videoId,trackId:t.trackId}),i=this.pathEvaluator.getValueSync(o),n=e.getValueSync(m),a=c.getSubDubPreferences(this.getRouteParameterState()),s={};a.supportsPreReleasePin=!0,a.supportsWatermark=!0,a.isUIAutoPlay=!1,"number"==typeof t.rank&&(s.index=t.rank);var d=void 0;return this.prepareVideoMerchAsset&&t.videoId&&(d=this.pathEvaluator.getValueSync(["videos",t.videoId,"promoVideo"])),(i||d)&&(s.preplay=[],d&&s.preplay.push({viewableId:d.id,pts:d.start,params:{sessionParams:a,trackingId:t.trackId,uiLabel:p.VIDEO_MERCH_BOB_HORIZONTAL}}),i&&s.preplay.push({viewableId:i.trailerVideoId||i.originalTrailerId||u.get(i,"items[0].actions[0].videoId"),params:{sessionParams:a,trackingId:i.trackId||u.get(i,"items[0].actions[0].trackId",0),uiLabel:p.PREPLAY}})),s.viewableId=n.id,s.pts=r>=0?1e3*r:void 0,s.firstTimeAdded=Date.now(),s.params={sessionParams:a,uiLabel:p.STANDARD,trackingId:t.trackId},t.property&&(s.property=t.property),s}},n.prototype.getModelInputFromScanResult=function(t){var e=this;return this.getVideoCollectionFromScanData(t.data.elements,{rowIndex:t.rowIndex,rowSegment:t.rowSegment}).filter(function(t){return t&&t.length}).map(function(r){return{layoutHasChanged:e.determineLayoutChange(r),direction:o(t),lolomos:r}})},n.prototype.determineLayoutChange=function(t){var e=this,r=i(t);if(!this.previousLayout)return this.previousLayout=r,!0;var o=!1;o=u.get(r,"rows.length")===u.get(this.previousLayout,"rows.length")&&u.every(this.previousLayout.rows,function(t,e){return r.rows[e]===t});var n=u.every(this.previousLayout.rows,function(t){var i=e.previousLayout[t],n=r[t];return o&&i.first===n.first&&i.last===n.last});return this.previousLayout=r,!(o&&n)},n.prototype.getVideoCollectionFromScanData=function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=[],i={},n=void 0,s=u.reduce(t,function(t,e,r){return e&&e.video_id&&e.video_id>-1&&t.push({videoId:e.video_id,trackId:e.track_id}),t},[]);return s&&s.length?this.getPlayable(s).filter(g).map(function(){return u.forOwn(t,function(t,a){n=t.row,void 0===i[n]&&(i[n]=o.length);var s=e.getModelItem({listId:t.list_id,rank:t.rank,trackId:t.track_id,videoId:t.video_id});if(s){var l=i[n];void 0===o[l]&&(o[l]={rowIndex:n,requestId:t.request_id,list:[]},"number"==typeof r.rowIndex&&r.rowIndex===n&&"number"==typeof r.rowSegment&&(o[l].rowSegment=r.rowSegment),t.parent_context?(o[l].context=d.UX_JAWBONE,o[l].parent=e.getListContextForRow(u.get(t,"parent_context.row"))):o[l].context=e.getListContextForRow(n)),o[l].list.push(s)}}),o}):a.empty()},e.exports=n});C.r("utils/observableFromEventBus.js",function(r,t,e){"use strict";function n(r){return u.create(function(t){function e(r){try{t.next(r)}catch(r){t.error(r)}}return s.on(r,e),function(){s.removeListener(r,e)}})}var s=r("./eventBus"),u=r("../utils/rx/shakti-rx").RxObservable;t.exports=n});C.r("common/playPrediction/playPredictionV2.js",function(t,e,n){"use strict";function o(t){v||(v=!0,I=new c(t),a(I))}function i(){I&&I.pause()}function r(){I&&I.resume()}function a(t){var e=f.getInitParam("ppmScanDebounce",500),n=function(t){},o=p(m.UI_JAWBONE_OPENED).map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{event:m.UI_JAWBONE_OPENED,data:{id:t.episodeId||t.videoId,trackId:t.trackId,row:t.rowNum,rank:t.rankNum}}}),i=p(m.UI_PLAY_FOCUS).map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{event:m.UI_PLAY_FOCUS,data:{id:t.episodeId||t.videoId,trackId:t.trackId,row:t.rowNum,rank:t.rankNum,listContext:t.listContext}}});d.merge(o,i).filter(t.isPredictionAllowed).flatMap(function(e){return d.of(!0).takeWhile(t.isPredictionAllowed).flatMap(function(){return t.getModelInput(e).takeUntil(t.getDisposable())})}).do(l).subscribe(u.noop,n),p(m.UI_FULLSCAN).throttleTime(e).filter(t.isPredictionAllowed).map(function(){return{data:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},event:m.UI_FULLSCAN}}).flatMap(function(e){return d.of(!0).takeWhile(t.isPredictionAllowed).flatMap(function(){return t.getModelInput(e).takeUntil(t.getDisposable())})}).filter(function(t){return!!t.layoutHasChanged}).do(l).subscribe(u.noop,n)}function l(t){t&&t.lolomos&&t.lolomos.length&&s.emit(m.PREPARE,t)}var u=t("lodash"),d=t("../../utils/rx/shakti-rx").RxObservable,s=t("../../utils/eventBus"),c=t("./PlayPredictionController"),f=t("../../player/nfplayer/utils/playerConfig"),p=t("../../utils/observableFromEventBus"),m=t("./playPredictionConstants"),v=!1,I=void 0;e.exports={pause:i,resume:r,init:o}});C.r("player/domains/playerApp/getRouteBasedPlaybackParams.js",function(a,e,r){"use strict";function s(a){if(!a)return{};var e=a.params,r=a.query;switch(a.route){case t.watchNow:var s={};return r.al&&(s.al=r.al),r.sl&&(s.sl=r.sl),s;case t.subtitles:case t.subtitle:return e&&e.id?{sl:e.id}:{};case t.audio:return e&&e.id?{al:e.id}:{};default:return{}}}var t=a("../../../utils/Routes");e.exports=s});C.r("akira/init/initPlayPredictionV2.js",function(t,e,r){"use strict";var n=t("nf-algebraic-data-types/Option"),a=t("../../common/playPrediction/playPredictionV2"),i=t("../../utils/Routes"),o=t("../../player/domains/playerApp/getRouteBasedPlaybackParams"),u=function(t){return function(){return o(t.getRouteHandler())}},c=function(t){return function(){return n.fromNullable(t.getRouteHandler()).map(function(t){return t.route!==i.watchNow}).getOrElse(!0)}},l=function(t,e,r){return a.init({pathEvaluator:e,getRouteParameterState:u(t),isPredictionAllowed:c(t),prepareVideoMerchAsset:r.usePPMV2ForMerchAsset})};e.exports=l});C.r("akira/init/initPlayer.js",function(i,t,e){"use strict";var r=i("../../utils/player/playerFeatureDetection"),n=function(){r.init()};t.exports=n});C.r("akira/init/initPresentationTracking.js",function(n,i,e){"use strict";var t=n("../../core/consolidatedLogging/log-presentation-events"),o=n("../../common/presentationTracking/presentationTracking"),r=function(n,i){o.init(),i.isCl2LoggingEnabledForDiscoveryPlayback&&t(n.getLogger()).subscribe()};i.exports=r});C.r("akira/init/initReno.js",function(n,t,e){"use strict";var i=function(n,t){return n.addPoller({activate:function(){t.startRenoPolling()},deactivate:function(){t.stopRenoPolling()}})},o=function(n,t){return n.addListener("reno",function(n){t.renoPushReceived({message:n})})},r=function(n,t){var e=t.getDiscoveryApp().getActionCreators();o(n,e),i(n,e)};t.exports=r});C.r("akira/init/initShims.js",function(i,s,t){"use strict";var a=function(){Object.assign=i("object-assign"),i("shakti-platform/dist/ui/utils/requestIdleCallback"),i("../../shims/arrayFind")};s.exports=a});C.r("akira/init/initTtl.js",function(t,i,r){"use strict";var e=t("shakti-platform/dist/ui/ShaktiProperties"),n=e.get("web.ui.akira.ttl"),o=function(t){return function(){return t.getDiscoveryApp().getActionCreators().expireApp()}},u=function(t){return window.setTimeout(o(t),n)};i.exports=u});C.r("node_modules/shakti-platform/dist/ui/utils/safeParseJSON.js",function(t,r,s){"use strict";var e=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;try{return JSON.parse(t)}catch(t){return r}};r.exports=e});C.r("node_modules/shakti-platform/dist/ui/zuulSocket/ZuulSocket.js",function(e,t,s){"use strict";function o(e,t){this.url=e,this.webSocket=null,this.reconnectAttempt=0,this.reconnectInterval=r,this.reconnectTimeout=null,this.messageListeners={},this.messageBuffers={},this.pollers=[],this.options=t,this.destroyed=!1}var n=e("../utils/safeParseJSON"),r=Math.ceil(3e3*Math.random()+3e3);o.prototype.open=function(){var e=this;this.destroyed||(this.webSocket=new WebSocket(this.url),this.webSocket.onopen=function(){e.destroyed||(e.deactivatePollers(),e.reconnectAttempt=0,e.reconnectInterval=r,e.flushBuffers())},this.webSocket.onerror=function(t){e.destroyed||("function"==typeof e.options.onerror&&e.options.onerror(t),e.reconnect())},this.webSocket.onmessage=function(t){if(!e.destroyed)switch(t.data){case"_CLOSE_":return e.close();case"_STAY_CLOSED_":return e.closeForGood();default:return e.dispatch(t.data)}},this.webSocket.onclose=function(t){e.destroyed||(e.activatePollers(),"function"==typeof e.options.onclose&&e.options.onclose({code:t.code}),1e3!==t.code&&(e.blockReconnect||e.reconnect()))})},o.prototype.addPoller=function(e){this.destroyed||(this.pollers.push(e),this.webSocket&&this.webSocket.readyState===WebSocket.OPEN||e.activate())},o.prototype.removePoller=function(e){var t=this.pollers.indexOf(e);if(-1===t)throw new Error("Attempted to remove an invalid poll");this.pollers.splice(t,1)},o.prototype.deactivatePollers=function(){this.pollers.forEach(function(e){return e.deactivate()})},o.prototype.activatePollers=function(){this.destroyed||this.pollers.forEach(function(e){return e.activate()})},o.prototype.addListener=function(e,t){this.destroyed||(this.webSocket||this.open(),this.messageListeners[e]||(this.messageListeners[e]=[]),this.messageListeners[e].push(t),this.flushBuffers(e))},o.prototype.removeListener=function(e,t){if(!this.destroyed){var s=this.messageListeners[e];if(!s||!s.length)throw new Error("Attempted to remove a listener using an invalid app name");var o=s.indexOf(t);if(-1===o)throw new Error("Attempted to remove an invalid listener");s.splice(o,1),s.length&&!this.webSocket&&this.open()}},o.prototype.reconnect=function(){var e=this;this.destroyed||(++this.reconnectAttempt,this.reconnectTimeout&&clearTimeout(this.reconnectTimeout),this.reconnectTimeout=setTimeout(function(){e.reconnectInterval=Math.ceil(1.5*e.reconnectInterval),e.reconnectInterval>6e5&&(e.reconnectInterval=6e5),e.open()},this.reconnectInterval))},o.prototype.reset=function(){this.destroyed||(this.close(),this.messageListeners={},this.messageBuffers={},this.pollers=[])},o.prototype.close=function(){this.destroyed||(this.reconnectAttempt=0,this.reconnectInterval=r,this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null),this.webSocket&&(this.webSocket.close(),this.webSocket=null))},o.prototype.closeForGood=function(){this.destroyed||(this.blockReconnect=!0,this.close())},o.prototype.dispatch=function(e){if(!this.destroyed){var t=n(e,{}),s=t.senderApp;if(s){var o=this.messageListeners[s];o&&o.length?o.forEach(function(e){return e(t)}):(this.messageBuffers[s]||(this.messageBuffers[s]=[]),this.messageBuffers[s].push(t))}}},o.prototype.flushBuffers=function(e){var t=this;if(!this.destroyed){if(!e)return void Object.keys(this.messageBuffers).forEach(function(e){return t.flushBuffers(e)});var s=this.messageListeners[e],o=this.messageBuffers[e];s&&s.length&&o&&o.length&&o.forEach(function(e){return s.forEach(function(t){return t(e)})}),this.messageBuffers[e]=[]}},o.prototype.destroy=function(){this.reconnectTimeout&&clearTimeout(this.reconnectTimeout),this.destroyed=!0,this.webSocket&&(this.webSocket.close(),this.webSocket=null),this.messageBuffers={},this.messageListeners={},this.deactivatePollers(),this.pollers=[],this.options={}},o.prototype.isDestroyed=function(){return this.destroyed},t.exports=function(e,t){return new o(e,t)}});C.r("akira/init/initWebSockets.js",function(t,e,r){"use strict";var o=t("shakti-platform/dist/ui/ShaktiProperties"),i=t("shakti-platform/dist/ui/zuulSocket/ZuulSocket"),n=o.get("web.ui.akira.websockets.url"),s=function(t){return function(e){return t.getDiscoveryApp().getActionCreators().websocketError({error:e})}},c=function(t){return function(e){var r=e.code;return t.getDiscoveryApp().getActionCreators().websocketClose({code:r})}},u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=i(n,{onerror:s(t),onclose:c(t)});return t.getDiscoveryApp().addChangeListener(function(t){var e=t.profile;e&&e.hasProfileMisMatch()&&!r.isDestroyed()&&r.destroy()}),e(r)};e.exports=u});C.r("akira/init/initWindowErrorListener.js",function(r,i,n){"use strict";var t=r("../../windowOnError"),o=function(){return t.addErrorListener()};i.exports=o});C.r("akira/redux/profile/profileUtils.js",function(e,r,t){"use strict";var i=function(e,r){e.setRequestHeader("x-netflix.request.client.user.guid",r)},s=function(e){return"true"===e.getResponseHeader("x-netflix.request.inbound.identity.changed")};r.exports={xhrHasProfileMisMatch:s,setXhrUserGuidHeader:i}});C.r("akira/init/initXHRHooks.js",function(e,i,r){"use strict";var t=e("../../utils/XHR"),o=e("../../akira/redux/profile/profileUtils"),s=function(e,i){if(e&&i&&o.xhrHasProfileMisMatch(e)){var r=i.getActionCreators(),t=i.getAPI().profile;t.pageIsUnloading()||t.profileIsChanging()||!r.receiveProfileMisMatch||r.receiveProfileMisMatch()}},a=function(e,i){var r=e.getModelData("userInfo","userGuid"),a=e.getDiscoveryApp(),n=a.getAPI().profile,f=i.profileMisMatchDetectionEnabled;t.before.subscribe(function(e){f&&r&&o.setXhrUserGuidHeader(e,r)}),t.after.subscribe(function(e){f&&!n.hasProfileMisMatch()&&s(e,a)})};i.exports=a});C.r("akira/init/sendStartupTiming.js",function(t,e,i){"use strict";var n=t("../../utils/consolidatedLogging/index"),o=t("nf-algebraic-data-types/Option"),r=t("../../utils/performanceMetrics"),a=function(){return o.fromNullable(r.getMetrics()).map(function(t){return n.logStartup(t)}).getOrElse(void 0)},u=function(){"complete"===document.readyState?setTimeout(a,20):window&&(window.onload=setTimeout.bind(window,a,20))};e.exports=u});C.r("akira/redux/createMiddlewareFromActionHandlers.js",function(r,t,n){"use strict";function e(r){return function(t){return function(n){return function(e){var c=e.type,u=e.data,i=n({type:c,data:u});return a(c,Object.keys(r))&&r[c](u,t),i}}}}var a=r("ramda/src/contains");t.exports=e});C.r("akira/redux/discovery/actionHandlers/refreshApp.js",function(t,o,r){"use strict";var e=t("../discoveryAPI"),i=t("../../routing/routingActions"),s=i.actions,a=function(t,o){e.shouldRefreshApp(o.getState())&&(window.location.reload(),o.dispatch(s.startPageLoad()))};o.exports=a});C.r("akira/redux/discovery/actionHandlers/setThumbRating.js",function(e,t,n){"use strict";var u=e("babel-runtime/helpers/typeof"),i=function(e){return e&&e.__esModule?e:{default:e}}(u),r=e("../../../../utils/XHR"),s=e("../discoveryActions"),c=s.actions,o=e("../../eventUuidUtils"),a=o.ensureUuid,d=function(e,t){return function(n){null!==n&&"object"===(void 0===n?"undefined":(0,i.default)(n))&&t.dispatch(c.setThumbRatingSuccess(a(e.eventUuid,n)))}},f=function(e,t){return function(n){return t.dispatch(c.setThumbRatingFailed({err:n,eventUuid:e.eventUuid}))}},l=function(e,t){return r.request({method:"post",data:e,resource:"/setThumbRating",service:"api",authorize:!0}).subscribe(d(e,t),f(e,t))};t.exports=l});C.r("akira/redux/discovery/cl1Middleware.js",function(e,r,o){"use strict";var t=e("../createMiddlewareFromActionHandlers"),n=e("../../../utils/consolidatedLogging"),c={websocketError:function(e){return n.logWebsocketError(e)},websocketClose:function(e){return n.logWebsocketClose(e)}},s=function(){return t(c)};r.exports=s});C.r("akira/redux/discovery/createDiscoveryDomain.js",function(e,o,r){"use strict";var i=e("../../../player/nfplayer/domain/common/createDomain"),a=e("./discoveryActions"),t=e("./csrfRefreshMiddleware"),c=e("./discoveryAPI"),d=e("./discoveryStateReducer"),s=e("./discoveryMiddleware"),l=e("./cl1Middleware"),n=e("../logging/getLoggingMiddleware"),g=e("./logAddToPlaylist"),m=e("./logRemoveFromPlaylist"),v=e("./logSetThumbRating"),y=e("./logWebsocket"),u=e("./logLolomoContext");o.exports=function(e,o){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"discovery";return i({actionCreators:a.actions,api:c,middlewares:[].concat(t(o),s(e,o),l(),n([g,m,v,y,u])),name:r,stateReducer:d})}});C.r("akira/redux/discovery/csrfRefreshMiddleware.js",function(e,r,t){"use strict";var n=e("babel-runtime/helpers/defineProperty"),u=function(e){return e&&e.__esModule?e:{default:e}}(n),o=e("./discoveryActions"),s=o.actions,i=o.TYPES,a=e("../createMiddlewareFromActionHandlers"),f=e("../../../utils/XHR"),c=function(e){return function(){return e.dispatch(s.refreshCsrfToken())}},d=function(e,r){var t=e.ttl;setInterval(c(r),t)},l=function(e){return function(r){return e.dispatch(s.updateCsrfToken(r))}},h=function(){},R=function(e,r){return f.request({method:"get",service:"api",resource:"/refreshCsrf",authorize:!0,protocol:"https"}).subscribe(l(r),h)},p=function(e){return function(r){var t=r.token;e&&e.userInfo&&e.userInfo.data&&(e.userInfo.data.authURL=t)}},E=function(e){var r;return a((r={},(0,u.default)(r,i.INIT_CSRF_TOKEN_REFRESH,d),(0,u.default)(r,i.REFRESH_CSRF_TOKEN,R),(0,u.default)(r,i.UPDATE_CSRF_TOKEN,p(e)),r))};r.exports=E});C.r("akira/redux/discovery/discoveryAPI.js",function(e,r,n){"use strict";var t=function(e){return e.forceUpdateCount},s=function(e){return e.isRefreshingApp},i=function(e){return e.appNeedsRefresh},o={getForceUpdateCount:t,isRefreshingApp:s,shouldRefreshApp:i};r.exports=o});C.r("akira/redux/discovery/discoveryMiddleware.js",function(e,n,r){"use strict";function t(e,n){var r,t=(r={setThumbRating:l},(0,o.default)(r,c.changePage,f),(0,o.default)(r,c.changeRoute,function(e,n){p(e.currentRouteHandler,e.newRouteHandler)&&n.dispatch(s.changePage(e))}),r);return d(t)}var a=e("babel-runtime/helpers/defineProperty"),o=function(e){return e&&e.__esModule?e:{default:e}}(a),u=e("ramda/src/equals"),i=e("../routing/routingActions"),s=i.actions,c=i.TYPES,d=e("../createMiddlewareFromActionHandlers"),l=e("./actionHandlers/setThumbRating"),f=e("./actionHandlers/refreshApp"),p=function(e,n){return!u(e&&e.components,n.components)||!u(e&&e.params,n.params)};n.exports=t});C.r("akira/redux/discovery/discoveryStateReducer.js",function(e,t,r){"use strict";var n=e("redux"),i=n.combineReducers,c=e("./discoveryActions"),s=c.TYPES,u=e("../routing/routingActions"),o=u.TYPES,a=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case o.startPageLoad:return!0;default:return e}},d=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case s.expireApp:return!0;default:return e}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(arguments[1].type){case s.forceUpdate:return e+1;default:return e}},f=i({isRefreshingApp:a,appNeedsRefresh:d,forceUpdateCount:p});t.exports=f});C.r("akira/redux/logging/createExclusiveContextMiddleware.js",function(t,e,n){"use strict";function r(t){var e;return t?(e={},(0,u.default)(e,t.start,f),(0,u.default)(e,t.end,c),e):{}}function o(t){var e;return t?(e={},(0,u.default)(e,t.start,function(){return d.Update}),(0,u.default)(e,t.end,function(){return d.Remove}),e):{}}function i(t){var e=t.bindings,n=t.contextName,i=t.transformers,a=void 0===i?{}:i,c=t.predicates,l=void 0===c?{}:c,v=t._console,p=void 0===v?console:v;return function(t){function i(){x&&t.removeContext(x)}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i();var r=t.addContext(n,e);if(!r)return void g.printErrorSessionFailedToStart("Context '"+n+"' failed to start with data "+JSON.stringify(e));x=r}var v,x=null,g=s(p),m=(v={},(0,u.default)(v,d.Ignore,function(){}),(0,u.default)(v,d.Update,c),(0,u.default)(v,d.Remove,i),v),C=Object.assign(r(e),a),b=Object.assign(o(e),l);return function(t){return function(t){return function(e){var n=e.data,r=e.type,o=b[r];if(o){var i=(C[r]||f)(n);m[o(n)](i)}return t({data:n,type:r})}}}}}var a=t("babel-runtime/helpers/defineProperty"),u=function(t){return t&&t.__esModule?t:{default:t}}(a),d={Ignore:0,Update:1,Remove:2},f=function(t){return t},c=function(){return{}},s=function(t){return{printErrorSessionFailedToStart:function(t){}}};e.exports={createExclusiveContextMiddleware:i,ContextActions:d}});C.r("akira/redux/discovery/logLolomoContext.js",function(e,o,t){"use strict";var r,n=e("babel-runtime/helpers/defineProperty"),l=function(e){return e&&e.__esModule?e:{default:e}}(n),i=e("../logging/createExclusiveContextMiddleware"),d=i.createExclusiveContextMiddleware,a=i.ContextActions,u=e("./discoveryActions"),c=u.TYPES;o.exports=d({transformers:(0,l.default)({},c.SET_LOLOMO_LOGGING_CONTEXT,function(e){return{trackingInfo:{lolomoId:e.lolomoId}}}),predicates:(r={},(0,l.default)(r,c.SET_LOLOMO_LOGGING_CONTEXT,function(e){return void 0!==e.lolomoId?a.Update:a.Remove}),(0,l.default)(r,c.REMOVE_LOLOMO_LOGGING_CONTEXT,function(){return a.Remove}),r),contextName:"LolomoDataModel"})});C.r("akira/redux/discovery/logSetThumbRating.js",function(t,e,i){"use strict";var n=t("babel-runtime/helpers/defineProperty"),s=function(t){return t&&t.__esModule?t:{default:t}}(n),a=t("../logging/createSessionMiddleware"),r=t("./discoveryActions"),o=r.TYPES,u=t("shakti-platform/dist/ui/consolidatedLogging/constants/actionTypes");e.exports=a({bindings:{start:o.setThumbRating,end:o.setThumbRatingSuccess,failed:o.setThumbRatingFailed},sessionName:u.SetThumbRating,transformers:(0,s.default)({},o.setThumbRating,function(t){return{thumbRating:t.rating}})})});C.r("akira/redux/discovery/logWebsocket.js",function(e,o,t){"use strict";function r(e){return c({websocketError:function(o){return e.logEvent(n.ExceptionOccurred,{error:{cause:{code:o.code},code:"WebsocketError"}})},websocketClose:function(o){return e.logEvent(n.DebugEvent,{type:"websocketClose",data:o})}})}var c=e("../createMiddlewareFromActionHandlers"),n=e("shakti-platform/dist/ui/consolidatedLogging/constants/eventTypes");o.exports=r});C.r("akira/redux/geo/createGeoDomain.js",function(e,a,t){"use strict";var o=e("../../../player/nfplayer/domain/common/createDomain"),r=e("../../../player/nfplayer/domain/common/createStateReducer"),n=e("./geoAPI"),c=e("./geoState"),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.defaultGeoState;return o({api:n,name:"geo",stateReducer:r({},e)})};a.exports=i});C.r("akira/redux/geo/geoAPI.js",function(t,e,n){"use strict";var r=t("ramda/src/pathOr"),o=function(t,e){return r(e,["locale","dir"],t)},a=function(t,e){return r(e,["locale","id"],t)},i=function(t,e){return r(e,["locale","language"],t)},u=function(t){return r("US",["requestCountry","id"],t)},c=function(t){return"rtl"===o(t,"ltr")},l=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r(e,["locale","hasExtendedDiacritics"],t)},s=function(t){return"onlyMinutes"===r(!1,["locale","durationFormat"],t)},d={getLocaleDirection:o,getLocaleId:a,getLocaleLanguage:i,getUserCountryId:u,isLocaleRtl:c,localeHasExtendedDiacritics:l,showDurationOnlyInMinutes:s};e.exports=d});C.r("akira/redux/geo/geoState.js",function(e,t,a){"use strict";var s=e("nf-algebraic-data-types/Record"),r=s({hasLocaleQuery:!1,locale:{default:!0,dir:"ltr",displayName:"American English",doubleByte:!1,durationFormat:"hoursAndMinutes",fallbacks:["en"],hasExtendedDiacritics:!1,id:"en-US",isCursive:!1,language:"en"},localeUrl:null,preferredLocale:{country:"US",default:!0,dir:"ltr",doubleByte:!1,hasExtendedDiacritics:!1,id:"en-US",isCursive:!1,language:"en"},requestCountry:{countryName:"United States",defaultLocale:"en",id:"US",status:"ALLOW",supportedLocales:["en","es"]},shouldReverseNameFields:!1,showAltTermsOfUse:!1,showIntlTerms:!1,showLegalContactsLink:!1,showMemberReviews:!0,showPretaxDisclaimer:!1,supportedCountry:"ALLOW",supportedLocales:[{country:"US",default:!0,displayText:"English",id:"en",locale:"en-US",selected:!0}]},"GeoStateRecord"),l=r();t.exports={defaultGeoState:l,geoStateRecord:r}});C.r("akira/redux/playerFeatureSupport/middleware/playerFeatureMiddleware.js",function(e,r,t){"use strict";var n=e("babel-runtime/helpers/defineProperty"),a=function(e){return e&&e.__esModule?e:{default:e}}(n),u=e("../playerFeatureActionCreators"),c=u.actionCreators,o=u.actionTypes,i=e("../../createMiddlewareFromActionHandlers"),d=e("../../../../player/nfplayer/utils/featureDetection"),p=function(e){return function(r){return e.dispatch(c.detectPlayerEnhancedFeatureSupportSuccess(r))}},l=function(e){return function(r,t){d.detectEnhancedFeaturesSupport(e,p(t))}},s=function(e){return i((0,a.default)({},o.detectPlayerEnhancedFeatureSupport,l(e)))};r.exports=s});C.r("akira/redux/playerFeatureSupport/playerFeatureActionCreators.js",function(e,t,r){"use strict";var a=e("../../../player/nfplayer/domain/common/createAction"),c=Object.freeze({detectPlayerEnhancedFeatureSupport:"detectPlayerEnhancedFeatureSupport",detectPlayerEnhancedFeatureSupportSuccess:"detectPlayerEnhancedFeatureSupportSuccess"}),u=a(c.detectPlayerEnhancedFeatureSupport),n=a(c.detectPlayerEnhancedFeatureSupportSuccess),p=Object.freeze({detectPlayerEnhancedFeatureSupport:u,detectPlayerEnhancedFeatureSupportSuccess:n});t.exports={actionCreators:p,actionTypes:c}});C.r("akira/redux/playerFeatureSupport/playerFeatureApi.js",function(r,e,a){"use strict";var t=function(r){return r.playerEnhancedFeatureSupport},p={playerEnhancedFeatureSupport:t};e.exports=p});C.r("akira/redux/playerFeatureSupport/playerFeatureDomain.js",function(e,r,a){"use strict";var t=e("./playerFeatureActionCreators"),i=t.actionCreators,o=e("./playerFeatureApi"),n=e("../../../player/nfplayer/domain/common/createDomain"),u=e("./playerFeatureStateReducer"),p=e("./middleware/playerFeatureMiddleware"),l=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"playerFeatures";return n({name:r,actionCreators:i,api:o,stateReducer:u,middlewares:[p(e)]})};r.exports=l});C.r("akira/redux/playerFeatureSupport/playerFeatureStateReducer.js",function(e,r,t){"use strict";var a=e("redux"),u=a.combineReducers,c=e("./playerFeatureActionCreators"),n=c.actionTypes,p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1];switch(r.type){case n.detectPlayerEnhancedFeatureSupportSuccess:return r.data;default:return e}},o=u({playerEnhancedFeatureSupport:p});r.exports=o});C.r("akira/redux/profile/createProfileDomain.js",function(e,r,o){"use strict";var t=e("babel-runtime/helpers/toConsumableArray"),i=function(e){return e&&e.__esModule?e:{default:e}}(t),l=e("../../../player/nfplayer/domain/common/createDomain"),a=e("./createProfileStateReducer"),n=e("./profileActions"),d=e("./profileMiddleware"),f=e("./profileAPI"),c=e("../logging/getLoggingMiddleware"),g=e("./logProfileAdd"),u=e("./logProfileDelete"),s=e("./logProfileEdit"),p=e("./logProfileSwitch"),m=e("./logDeeplinkAvatarContext"),P=e("./logSelectedProfileAvatarContext");r.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"profile";return l({actionCreators:n.actions,api:f,middlewares:[].concat((0,i.default)(c([g,u,s,p,m,P,d]))),name:e,stateReducer:a()})}});C.r("akira/redux/profile/createProfileStateReducer.js",function(e,t,i){"use strict";var r=e("babel-runtime/helpers/defineProperty"),n=function(e){return e&&e.__esModule?e:{default:e}}(r),a=e("../../../player/nfplayer/domain/common/createHandleAction"),c=e("../../../player/nfplayer/domain/common/createStateReducer"),o=e("./profileActions").TYPES,f=e("./profileState"),l=function(e){return Object.assign({},e,{profileMisMatch:!0})},u=function(e){return Object.assign({},e,{profileSwitching:!0})},s=function(e){return Object.assign({},e,{profileSwitching:!1,profileHasSwitched:!0})},d=function(e){return Object.assign({},e,{profileSwitching:!1})},p=function(e){return Object.assign({},e,{pageUnloading:!0})};t.exports=function(){var e;return c((e={},(0,n.default)(e,o.switchProfile,a(u)),(0,n.default)(e,o.switchProfileFailed,a(d)),(0,n.default)(e,o.switchProfileSuccess,a(s)),(0,n.default)(e,o.receivePageUnloading,a(p)),(0,n.default)(e,o.receiveProfileMisMatch,a(l)),e),f.defaultProfileState())}});C.r("akira/redux/profile/profileActions.js",function(e,i,l){"use strict";var r=e("../../../player/nfplayer/domain/common/createAction"),c={addProfile:"addProfile",addProfileSuccess:"addProfileSuccess",addProfileFailed:"addProfileFailed",confirmAvatar:"confirmAvatar",avatarDeeplink:"avatarDeeplink",deleteProfile:"deleteProfile",deleteProfileSuccess:"deleteProfileSuccess",deleteProfileFailed:"deleteProfileFailed",editProfile:"editProfile",editProfileSuccess:"editProfileSuccess",editProfileFailed:"editProfileFailed",editProfileCanceled:"editProfileCanceled",receivePageUnloading:"receivePageUnloading",receiveProfileMisMatch:"receiveProfileMisMatch",receiveProfileWarningRefresh:"receiveProfileWarningRefresh",switchProfile:"switchProfile",switchProfileSuccess:"switchProfileSuccess",switchProfileFailed:"switchProfileFailed",selectPlan:"selectPlan",selectPlanSuccess:"selectPlanSuccess",selectPlanFailed:"selectPlanFailed"},a=r(c.addProfile),d=r(c.addProfileSuccess),o=r(c.addProfileFailed),s=r(c.confirmAvatar),P=r(c.avatarDeeplink),f=r(c.deleteProfile),t=r(c.deleteProfileSuccess),n=r(c.deleteProfileFailed),u=r(c.editProfile),v=r(c.editProfileSuccess),S=r(c.editProfileFailed),h=r(c.editProfileCanceled),F=r(c.receivePageUnloading),g=r(c.receiveProfileMisMatch),w=r(c.receiveProfileWarningRefresh),p=r(c.switchProfile),M=r(c.switchProfileSuccess),m=r(c.switchProfileFailed),A=r(c.selectPlan),k=r(c.selectPlanSuccess),C=r(c.selectPlanFailed);i.exports={TYPES:c,actions:{addProfile:a,addProfileSuccess:d,addProfileFailed:o,confirmAvatar:s,avatarDeeplink:P,deleteProfile:f,deleteProfileSuccess:t,deleteProfileFailed:n,editProfile:u,editProfileSuccess:v,editProfileFailed:S,editProfileCanceled:h,receiveProfileMisMatch:g,receiveProfileWarningRefresh:w,receivePageUnloading:F,switchProfile:p,switchProfileSuccess:M,switchProfileFailed:m,selectPlan:A,selectPlanSuccess:k,selectPlanFailed:C}}});C.r("akira/redux/profile/logDeeplinkAvatarContext.js",function(e,t,n){"use strict";var r,i=e("babel-runtime/helpers/defineProperty"),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=e("../logging/createExclusiveContextMiddleware"),u=a.createExclusiveContextMiddleware,l=a.ContextActions,c=e("./profileActions"),d=c.TYPES;t.exports=u({predicates:(r={},(0,o.default)(r,d.avatarDeeplink,function(){return l.Update}),(0,o.default)(r,d.editProfileSuccess,function(){return l.Remove}),(0,o.default)(r,d.receivePageUnloading,function(){return l.Remove}),r),contextName:"DeepLinkInput"})});C.r("akira/redux/profile/logProfileAdd.js",function(e,i,t){"use strict";var r,a=e("babel-runtime/helpers/defineProperty"),d=function(e){return e&&e.__esModule?e:{default:e}}(a),s=e("../logging/createSessionMiddleware"),l=e("./profileActions"),n=l.TYPES,o=["littleKids","olderKids","teens","adults"];i.exports=s({bindings:{start:n.addProfile,end:n.addProfileSuccess,failed:n.addProfileFailed},sessionName:"AddProfile",transformers:(r={},(0,d.default)(r,n.addProfile,function(e){return{desiredSettings:{name:e.desiredSettings.name,avatarName:e.desiredSettings.avatarName?e.desiredSettings.avatarName:void 0,kids:e.desiredSettings.kids,maturityLevel:e.desiredSettings.maturityLevel}}}),(0,d.default)(r,n.addProfileSuccess,function(e){var i=e.newProfiles[0];return{type:"AddProfileEnded",profileGuid:i.guid,actualSettings:{name:i.firstName,avatarName:i.avatarName,kids:0===i.maturityLevel||1===i.maturityLevel,maturityLevel:o[i.maturityLevel]}}}),r)})});C.r("akira/redux/profile/logProfileDelete.js",function(e,i,l){"use strict";var r=e("../logging/createSessionMiddleware"),o=e("./profileActions"),s=o.TYPES;i.exports=r({bindings:{start:s.deleteProfile,end:s.deleteProfileSuccess,failed:s.deleteProfileFailed},sessionName:"DeleteProfile"})});C.r("akira/redux/profile/logProfileEdit.js",function(e,i,t){"use strict";function r(e){return null===e?void 0:e}var d=e("babel-runtime/helpers/defineProperty"),s=function(e){return e&&e.__esModule?e:{default:e}}(d),n=e("../logging/createSessionMiddleware"),l=e("./profileActions"),a=l.TYPES,o={ADULTS:"adults",LITTLE_KIDS:"littleKids",OLDER_KIDS:"olderKids",TEENS:"teens"};i.exports=n({bindings:{start:a.editProfile,end:a.editProfileSuccess,failed:a.editProfileFailed,cancelled:a.editProfileCanceled},sessionName:"EditProfile",transformers:(0,s.default)({},a.editProfile,function(e){return{profileGuid:e.profileGuid,desiredSettings:{name:r(e.desiredSettings.name),avatarName:r(e.desiredSettings.avatarName),kids:r(e.desiredSettings.kids),language:r(e.desiredSettings.language),maturityLevel:o[e.desiredSettings.maturityLevel]}}})})});C.r("akira/redux/profile/logProfileSwitch.js",function(e,i,r){"use strict";var t=e("babel-runtime/helpers/defineProperty"),s=function(e){return e&&e.__esModule?e:{default:e}}(t),o=e("../logging/createSessionMiddleware"),l=e("./profileActions"),n=l.TYPES;i.exports=o({bindings:{start:n.switchProfile,end:n.switchProfileSuccess,failed:n.switchProfileFailed},sessionName:"SelectProfile",transformers:(0,s.default)({},n.switchProfile,function(e){return{profileGuid:e.guid}})})});C.r("akira/redux/profile/logSelectedProfileAvatarContext.js",function(e,t,r){"use strict";var n,o=e("babel-runtime/helpers/defineProperty"),i=function(e){return e&&e.__esModule?e:{default:e}}(o),a=e("../logging/createExclusiveContextMiddleware"),l=a.createExclusiveContextMiddleware,c=a.ContextActions,u=e("./profileActions"),d=u.TYPES;t.exports=l({predicates:(n={},(0,i.default)(n,d.confirmAvatar,function(){return c.Update}),(0,i.default)(n,d.editProfileSuccess,function(){return c.Remove}),(0,i.default)(n,d.receivePageUnloading,function(){return c.Remove}),n),contextName:"SelectedProfileAvatarModel"})});C.r("akira/redux/profile/profileAPI.js",function(i,n,r){"use strict";var e=function(i){return i.profileMisMatch},o=function(i){return i.profileSwitching},t=function(i){return i.pageUnloading},a={pageIsUnloading:t,profileIsChanging:o,hasProfileMisMatch:e};n.exports=a});C.r("akira/redux/profile/profileMiddleware.js",function(e,t,i){"use strict";var n=e("shakti-platform/dist/ui/utils/inNode"),r=e("./profileActions").TYPES,o=e("shakti-platform/dist/ui/consolidatedLogging/constants/eventTypes"),a=function(e){return function(t){return function(t){return function(i){var a=i.type;if(n)return t(i);switch(a){case r.receiveProfileWarningRefresh:e.logEvent(o.DebugEvent,{action:a}),window.location.reload(!0);break;case r.receiveProfileMisMatch:e.logEvent(o.DebugEvent,{action:a})}return t(i)}}}};t.exports=a});C.r("akira/redux/profile/profileState.js",function(e,i,t){"use strict";var r={pageUnloading:!1,profileMisMatch:!1,profileSwitching:!1,profileHasSwitched:!1},a=function(){return Object.assign({},r)};i.exports={defaultProfileState:a}});C.r("akira/redux/reno/renoActionCreators.js",function(O,R,E){"use strict";var L=O("../../../player/nfplayer/domain/common/createAction"),_=Object.freeze({CLEAR_LOLOMO:"CLEAR_LOLOMO",DEFER_CLEAR_LOLOMO:"DEFER_CLEAR_LOLOMO",HANDLE_DEFERRED_CLEAR_LOLOMO:"HANDLE_DEFERRED_CLEAR_LOLOMO",POLL_RENO:"POLL_RENO",REFRESH_ROW:"REFRESH_ROW",RENO_POLLING_ERROR:"RENO_POLLING_ERROR",RENO_PUSH_RECEIVED:"RENO_PUSH_RECEIVED",START_RENO_POLLING:"START_RENO_POLLING",STOP_RENO_POLLING:"STOP_RENO_POLLING"}),e=L(_.CLEAR_LOLOMO),o=L(_.DEFER_CLEAR_LOLOMO),r=L(_.HANDLE_DEFERRED_CLEAR_LOLOMO),N=L(_.POLL_RENO),P=L(_.REFRESH_ROW),n=L(_.RENO_POLLING_ERROR),l=L(_.RENO_PUSH_RECEIVED),A=L(_.START_RENO_POLLING),C=L(_.STOP_RENO_POLLING),a=Object.freeze({clearLolomo:e,refreshRow:P,deferClearLolomo:o,handleDeferredClearLolomo:r,pollReno:N,renoPollingError:n,renoPushReceived:l,startRenoPolling:A,stopRenoPolling:C});R.exports={actionCreators:a,actionTypes:_}});C.r("player/nfplayer/components/prePlay/preRollLoggingEvents.js",function(R,r,e){"use strict";var l={PRE_ROLL_INTRO_START:"preRollIntro:start",PRE_ROLL_INTRO_END:"preRollIntro:end",PRE_ROLL_OUTRO_START:"preRollOutro:start",PRE_ROLL_OUTRO_END:"preRollOutro:end",PRE_ROLL_SKIPPED:"preRollSkipped",PRE_ROLL_EXITED:"preRollExited"};r.exports=l});C.r("utils/consolidatedLogging/identifiersCheck.js",function(e,i,t){"use strict";i.exports={logIdentifiersCheck:function(e){var i=this;i.validateParamsAndSend({name:"logIdentifierCheck",params:e,requiredParams:[],send:function(e){var t={category:"www",modalView:i.getCurrentModalView(),kids:e.kids,data:e,dataContext:{}};i.logSessionStart("identifiersCheck",t),i.logSessionEnd("identifiersCheck",t)}})}}});C.r("utils/consolidatedLogging/index.js",function(o,e,n){"use strict";function t(o){if(i.get("web.ui.cl.appendUIVersion.enabled")&&o){var e=a.get(k.getModelData("playerModel"),"config.ui.initParams.uiVersion");e&&(o.uiVersion=e)}}function l(o){return a.get(window,"netflix.reactContext.models.truths.data."+o,!1)}var a=o("lodash"),i=o("shakti-platform/dist/ui/ShaktiProperties"),r=o("./jawBone"),s=o("./genre"),d=o("./bob"),g=o("./modal"),c=o("./apm"),u=o("./reno"),P=o("./identifiersCheck"),f=o("./player"),E=o("./search"),S=o("./survey"),p=o("./rating"),b=o("./notifications"),w=o("../eventBus"),y=o("../../common/nfNamespace"),m=o("./falcorHelpers"),h=o("../../player/nfplayer/components/prePlay/preRollLoggingEvents"),R=o("./preRollLoggingHelper"),A=o("./profiles"),C=o("./profilesGate"),T=o("./playerConsLogHelper"),v=o("./socialLinks"),k=o("../../common/appContext"),O=o("./windowsAppBanner"),N=o("./websocket"),I=o("./loggingEventRegistry"),_=o("./perf"),L=o("./playlist"),D=o("./seamless"),M=o("./common"),V=["bob","miniBob","jawNext","jawPrev","rowNext","rowPrev"],F=["browseTitles","characterDetails"],B=["movieDetails"],J={kids:!1},x=!1,U=null,Y=!1,j=function(){};e.exports={logJawOpen:r.logJawOpen||j,logJawClose:r.logJawClose||j,logJawTabOpen:r.logJawTabOpen||j,logJawTabClose:r.logJawTabClose||j,getOpenJawParams:r.getOpenJawParams||j,setOpenJawParams:r.setOpenJawParams||j,isJawOpen:r.isJawOpen||j,setCurrentTab:r.setCurrentTab||j,getCurrentTab:r.getCurrentTab||j,logJawTabScrollPrev:r.logJawScrollPrev||j,logJawTabScrollNext:r.logJawScrollNext||j,logJawTabClick:r.logJawTabClick||j,logBobOpen:d.logBobOpen||j,logBobClose:d.logBobClose||j,getOpenBobParams:d.getOpenBobParams||j,setOpenBobParams:d.setOpenBobParams||j,isBobOpen:d.isBobOpen||j,getCurrentModalView:g.getCurrentModalView||j,setCurrentModalView:g.setCurrentModalView||j,logModalViewChange:g.logModalViewChange||j,logModelessViewStart:g.logModelessViewStart||j,logModelessViewEnd:g.logModelessViewEnd||j,logStartup:c.logStartup||j,logRenderSessionStart:c.logRenderSessionStart||j,logRenderSessionEnd:c.logRenderSessionEnd||j,logProcessStateTransitionStart:c.logProcessStateTransitionStart||j,logProcessStateTransitionEnd:c.logProcessStateTransitionEnd||j,logNavigationSessionStart:c.logNavigationSessionStart||j,logNavigationSessionEnd:c.logNavigationSessionEnd||j,logDataRequest:c.logDataRequest||j,logSmallAssetMetrics:c.logSmallAssetMetrics||j,logAddToPlaylistStart:L.logAddToPlaylistStart||j,logAddToPlaylistEnd:L.logAddToPlaylistEnd||j,logRemoveFromPlaylistStart:L.logRemoveFromPlaylistStart||j,logRemoveFromPlaylistEnd:L.logRemoveFromPlaylistEnd||j,logRequestPlaybackStart:f.logRequestPlaybackStart||j,logPlaybackStarted:f.logPlaybackStarted||j,logPlaybackInitError:f.logPlaybackInitError||j,logFirefoxSLFallback:f.logFirefoxSLFallback||j,logWindowOnError:M.logWindowOnError||j,logTrailerPlayStart:f.logTrailerPlayStart||j,logTrailerPlayEnd:f.logTrailerPlayEnd||j,logAutoPlayInterrupterShown:f.logAutoPlayInterrupterShown||j,logPinEntryShown:f.logPinEntryShown||j,logAdultVerificationShown:f.logAdultVerificationShown||j,logAdvisoryShown:f.logAdvisoryShown||j,logSkipCreditsShow:f.logSkipCreditsShow||j,logSkipCreditsHide:f.logSkipCreditsHide||j,logEmbeddedPlayerShow:f.logEmbeddedPlayerShow||j,logSearchEdit:E.logSearchEdit||j,logSearchFocus:E.logSearchFocus||j,logSearchImpression:E.logSearchImpression||j,logSearchError:E.logSearchError||j,logStartNavigation:g.logStartNavigation||j,logEndNavigation:g.logEndNavigation||j,logSurveyStart:S.logSurveyStart||j,logSurveyEnd:S.logSurveyEnd||j,logSurveyQuestionStart:S.logSurveyQuestionStart||j,logSurveyQuestionEnd:S.logSurveyQuestionEnd||j,logRatingWelcomeModal:p.logRatingWelcomeModal||j,logBillboardUIMilestones:_.logBillboardUIMilestones||j,logRenoMessage:u.logRenoMessage||j,logIdentifiersCheck:P.logIdentifiersCheck||j,logFalcorApiError:m.logApiError||j,logRating:p.logRating||j,logToggleClick:s.logToggleClick||j,logNotificationsOpen:b.logNotificationsOpen||j,logNotificationsClose:b.logNotificationsClose||j,logNotificationsReadStart:b.logNotificationsReadStart||j,logNotificationsReadEnd:b.logNotificationsReadEnd||j,logNotificationsClicked:b.logNotificationsClicked||j,logPlaybackPerformanceStart:T.logPlaybackPerformanceStart||j,logPlaybackPerformanceEnd:T.logPlaybackPerformanceEnd||j,logPlaybackFeatureDetection:T.logPlaybackFeatureDetection||j,logPlaybackUIMilestones:T.logPlaybackUIMilestones||j,logPlayerClose:T.logPlayerClose||j,logPlayerCreate:T.logPlayerCreate||j,logPlayerInteraction:T.logPlayerInteraction||j,logPlaybackEnhancedFeaturesDetectStart:T.logPlaybackEnhancedFeaturesDetectStart||j,logPlaybackEnhancedFeaturesDetectEnd:T.logPlaybackEnhancedFeaturesDetectEnd||j,logPlayerNoVideoElement:T.logPlayerNoVideoElement||j,logSeamlessEvent:D.logSeamlessEvent||j,logReportAProblemError:D.logReportAProblemError||j,logSeamlessVideoAddedStart:D.logSeamlessVideoAddedStart||j,logSeamlessVideoAddedEnd:D.logSeamlessVideoAddedEnd||j,logPlayNextSeamlessVideoStart:D.logPlayNextSeamlessVideoStart||j,logPlayNextSeamlessVideoEnd:D.logPlayNextSeamlessVideoEnd||j,logShowSeamlessExperience:D.logShowSeamlessExperience||j,logPreRollIntroStart:R.logPreRollIntroStart||j,logPreRollIntroEnd:R.logPreRollIntroEnd||j,logPreRollOutroStart:R.logPreRollOutroStart||j,logPreRollOutroEnd:R.logPreRollOutroEnd||j,logPreRollSkipped:R.logPreRollSkipped||j,logPreRollExited:R.logPreRollExited||j,logPreRollEvent:R.logPreRollEvent||j,logAccountDropdownOpen:A.logAccountDropdownOpen||j,logAccountDropdownClose:A.logAccountDropdownClose||j,logProfileDeleteStart:A.logProfileDeleteStart||j,logProfileDeleteEnd:A.logProfileDeleteEnd||j,logProfileEditStart:A.logProfileEditStart||j,logProfileEditEnd:A.logProfileEditEnd||j,logInputTypeTouch:M.logInputTypeTouch||j,logPlayerClick:T.logClick||j,logPlayerKey:T.logKeyPress||j,logPlayerHotKey:T.logHotKey||j,logPlayerAutoplay:T.logAutoplay||j,logPlayerShowUI:T.logPlayerShowUI||j,logCommand:T.logCommand||j,logWebsocketRenoReceived:N.logRenoReceived||j,logWebsocketError:N.logError||j,logWebsocketClose:N.logClose||j,logWebsocketPollingFallbackError:N.logPollingFallbackError||j,setKidsMode:function(o){J.kids=o},attachListeners:function(){var o=this;x||(w.on("dataRequest:send",function(e,n){o.logDataRequest(e,n)}),w.on("jawbone:open",function(e){o.isJawOpen()&&-1!==V.indexOf(e.trigger)&&(o.logJawClose({reason:e.trigger}),o.logJawTabClose()),o.logJawOpen(e)}),w.on("jawbone:close",function(e){o.logJawClose(e),o.logJawTabClose({tab:o.getCurrentTab()})}),w.on("jawbone:tab:open",function(e){o.getCurrentTab()&&o.getCurrentTab()!==e.tab&&o.logJawTabClose({tab:o.getCurrentTab()}),o.logJawTabOpen(e)}),w.on("jawbone:tab:click",function(e){o.logJawTabClick(e)}),w.on("jawbone:tab:scrollNext",function(e){o.logJawTabScrollNext()}),w.on("jawbone:tab:scrollPrev",function(e){o.logJawTabScrollPrev()}),w.on("bob:open",function(e){o.logBobOpen(e)}),w.on("bob:close",function(e){o.logBobClose(e)}),w.on("myList:add:start",function(e){o.logAddToPlaylistStart(e)}),w.on("myList:add:end",function(e){o.logAddToPlaylistEnd(e)}),w.on("myList:remove:start",function(e){o.logRemoveFromPlaylistStart(e)}),w.on("myList:remove:end",function(e){o.logRemoveFromPlaylistEnd(e)}),w.on(I.PROFILE_SWITCH,function(e){o.flushBuffer()}),w.on(I.REQUEST_PLAY,function(e){if(o.logRequestPlaybackStart(e),o.isJawOpen()){var n=o.getOpenJawParams();n&&e.rowNum===n.rowNum&&e.rankNum===n.rankNum?o.logJawClose({reason:"success"}):o.logJawClose({reason:"implicit"})}}),w.on(I.PLAYBACK_START,function(e){o.logPlaybackStarted(e)}),w.on("playbackFirefoxSLFallback",function(e){o.logFirefoxSLFallback(e)}),w.on("logTrailerPlayStart",function(e){o.logTrailerPlayStart(e)}),w.on("logTrailerPlayEnd",function(e){o.logTrailerPlayEnd(e)}),w.on("logAutoPlayInterrupterShown",function(e){o.logAutoPlayInterrupterShown(e)}),w.on("logPinEntryShown",function(e){o.logPinEntryShown(e)}),w.on("logAdultVerificationShown",function(e){o.logAdultVerificationShown(e)}),w.on("logAdvisoryShown",function(e){o.logAdvisoryShown(e)}),w.on("logSkipCreditsHideShow",function(e){e.hidden?o.logSkipCreditsHide(e):o.logSkipCreditsShow(e)}),w.on("window:error",function(e){o.logWindowOnError(e)}),w.on("app:interactive",function(e){setTimeout(function(){o.logEndNavigation(e),Y=!1})}),w.on("search:edit",function(e){o.logSearchEdit(e)}),w.on("aro-toggle:clicked",function(e){o.logToggleClick(e)}),w.on("aroHeaderTab:clicked",(s.logAroHeaderTabClicked||j).bind(this)),w.on("search:focus",function(e){o.logSearchFocus(e)}),w.on("search:impression",function(e){o.logSearchImpression(e)}),w.on("search:error",function(e){o.logSearchError(e)}),l("hasUmaSurveyMessage")&&(w.on("survey:start",function(e){o.logSurveyStart(e)}),w.on("survey:end",function(e){o.logSurveyEnd(e)}),w.on("surveyQuestion:start",function(e){o.logSurveyQuestionStart(e)}),w.on("surveyQuestion:end",function(e){o.logSurveyQuestionEnd(e)})),w.on("ratingWelcomeModal:open",function(e){o.logRatingWelcomeModal(e)}),l("originalsBillboardEnabled")&&w.on("billboard:milestones",function(e){o.logBillboardUIMilestones(e)}),w.on("app:pageChange",function(e){var n=window.location.pathname||"generic";n===U&&e.uiView===o.getCurrentModalView()||(Y&&o.logEndNavigation(e),o.logStartNavigation(e),Y=!0),o.isJawOpen()&&!e.jawBoneVideoId&&o.logJawClose({reason:"implicit"}),o.isBobOpen()&&o.logBobClose({reason:"implicit"}),o.getCurrentTab()&&"movieDetails"!==e.uiView&&!e.jawBoneVideoId&&o.logJawTabClose({tab:null}),o.logModalViewChange({modalView:e.uiView,id:F.indexOf(e.uiView)>-1?e.id:null,videoId:B.indexOf(e.uiView)>-1?e.id:null}),e.jawBoneVideoId&&(U?n!==U&&o.logJawOpen({trigger:"return",videoId:e.jawBoneVideoId,rowNum:e.jawBoneRowNum,rankNum:e.jawBoneRankNum}):o.logJawOpen({trigger:"url",videoId:e.jawBoneVideoId,rowNum:e.jawBoneRowNum,rankNum:e.jawBoneRankNum})),U=n}),l("renoEnabled")&&(w.on("reno:message",function(e){o.logRenoMessage(e)}),w.on("lolomo:refreshStart",function(e){o.logRenoRefreshStart(e)}),w.on("lolomo:refreshEnd",function(e){o.logRenoRefreshEnd(e)})),l("identifierCheckEnabled")&&w.on("identifiers:update",function(e){o.logIdentifiersCheck(e)}),w.once("falcorFetch:error",function(e){o.logFalcorApiError(e)}),w.on("rating:set",function(e){o.logRating(e)}),w.on("accountDropdown:open",function(e){o.logAccountDropdownOpen(e)}),w.on("accountDropdown:close",function(e){o.logAccountDropdownClose(e)}),w.on("notifications:open",function(e){o.logNotificationsOpen(e)}),w.on("notifications:close",function(e){o.logNotificationsClose(e)}),w.on("notifications:readstart",function(e){o.logNotificationsReadStart(e)}),w.on("notifications:readend",function(e){o.logNotificationsReadEnd(e)}),w.on("notifications:clicked",function(e){o.logNotificationsClicked(e)}),w.on("browsePlayback:recordPerformanceMetrics",function(e){o.logBrowsePlaybackPerformanceMetrics(e)}),w.on(I.PLAYBACK_INIT_ERROR,function(e){o.logPlaybackInitError(e)}),w.on(I.PERFORMANCE_START,function(e){o.logPlaybackPerformanceStart(e)}),w.on(I.PERFORMANCE_END,function(e){o.logPlaybackPerformanceEnd(e)}),w.on(I.FEATURE_DETECTION,function(e){o.logPlaybackFeatureDetection(e)}),w.on(I.MILESTONES,function(e){o.logPlaybackUIMilestones(e)}),w.on(I.PLAYER_CLOSE,function(e){o.logPlayerClose(e)}),w.on(I.PLAYER_CREATE,function(e){o.logPlayerCreate(e)}),w.on(I.PLAYER_INTERACTION,function(e){o.logPlayerInteraction(e)}),w.on(I.PLAYBACK_ENHANCED_FEATURES_DETECT_START,function(e){o.logPlaybackEnhancedFeaturesDetectStart(e)}),w.on(I.PLAYBACK_ENHANCED_FEATURES_DETECT_END,function(e){o.logPlaybackEnhancedFeaturesDetectEnd(e)}),w.on(I.PLAYER_NO_VIDEO_ELEMENT,function(e){o.logPlayerNoVideoElement(e)}),w.on(I.PLAYBACK_SEAMLESS,function(e){o.logSeamlessEvent(e)}),w.on(I.PERFORMANCE_METRICS_UPDATED,(T.logPerformanceMetricsUpdated||j).bind(this)),w.on(I.REPORT_A_PROBLEM_ERROR,function(e){o.logReportAProblemError(e)}),w.on(h.PRE_ROLL_INTRO_START,function(e){return o.logPreRollIntroStart(e)}),w.on(h.PRE_ROLL_INTRO_END,function(e){return o.logPreRollIntroEnd(e)}),w.on(h.PRE_ROLL_OUTRO_START,function(e){return o.logPreRollOutroStart(e)}),w.on(h.PRE_ROLL_OUTRO_END,function(e){return o.logPreRollOutroEnd(e)}),w.on(h.PRE_ROLL_SKIPPED,function(e){return o.logPreRollSkipped(e)}),w.on(h.PRE_ROLL_EXITED,function(e){return o.logPreRollExited(e)}),w.on("smallAssets:loaded",function(e){o.logSmallAssetMetrics(e)}),w.on("profile:deleteStart",function(e){o.logProfileDeleteStart(e)}),w.on("profile:deleteEnd",function(e){o.logProfileDeleteEnd(e)}),w.on("profile:editStart",function(e){o.logProfileEditStart(e)}),w.on("profile:editEnd",function(e){o.logProfileEditEnd(e)}),w.once("inputType:touch",function(e){o.logInputTypeTouch()}),w.on(I.PLAYER_UI_CLICK,function(e){o.logPlayerClick(e)}),w.on(I.PLAYER_UI_KEY,function(e){o.logPlayerKey(e)}),w.on(I.PLAYER_UI_HOTKEY,function(e){o.logPlayerHotKey(e)}),w.on(I.PLAYER_UI_AUTOPLAY,function(e){o.logPlayerAutoplay(e)}),w.on(I.PLAYER_UI_SHOW,function(e){o.logPlayerShowUI(e)}),w.on(I.PLAYBACK_SEAMLESS_VIDEO_ADDED_START,function(e){o.logSeamlessVideoAddedStart(e)}),w.on(I.PLAYBACK_SEAMLESS_VIDEO_ADDED_END,function(e){o.logSeamlessVideoAddedEnd(e)}),w.on(I.PLAYBACK_PLAY_NEXT_SEAMLESS_VIDEO_START,function(e){o.logPlayNextSeamlessVideoStart(e)}),w.on(I.PLAYBACK_PLAY_NEXT_SEAMLESS_VIDEO_END,function(e){o.logPlayNextSeamlessVideoEnd(e)}),w.on(I.PLAYBACK_SHOW_SEAMLESS_EXPERIENCE,function(e){o.logShowSeamlessExperience(e)}),l("hasWindowsAppBanner")&&(w.on("windowsAppBanner:render",(O.logWindowsAppBannerRender||j).bind(this)),w.on("windowsAppBanner:click",(O.logWindowsAppBannerClick||j).bind(this)),w.on("windowsAppBanner:close",(O.logWindowsAppBannerClose||j).bind(this))),w.on(I.PROFILES_LOADED,(C.logProfilesGateLoaded||j).bind(this)),w.on(I.PROFILE_FOCUSED,(C.logProfilesGateProfileFocused||j).bind(this)),w.on(I.PROFILE_DEFOCUSED,(C.logProfilesGateProfileDefocused||j).bind(this)),w.on(I.PROFILES_SWITCH,(C.logProfilesGateSwitch||j).bind(this)),w.on(I.PROFILES_PLAY_TITLE,(C.logProfilesGatePlayTitle||j).bind(this)),w.on(I.MANAGE_PROFILES,(C.logProfilesGateManageProfiles||j).bind(this)),w.on(I.PROFILES_VIDEO_PREPARE,(C.logProfilesVideoPrepare||j).bind(this)),w.on("socialLink:click",(v.logSocialLinkClicked||j).bind(this)),w.on("logEmbeddedPlayerShow",function(e){o.logEmbeddedPlayerShow(e)}),x=!0)},flushBuffer:function(){y.clientNotifications.flushBuffer()},validateParamsAndSend:function(o){var e=o.defaultParams,n=o.requiredParams,t={},l=void 0;for(l in J)J.hasOwnProperty(l)&&(t[l]=J[l]);for(l in e)e.hasOwnProperty(l)&&(t[l]=e[l]);for(l in o.params)o.params.hasOwnProperty(l)&&"function"!=typeof o.params[l]&&(t[l]=o.params[l]);var a=this.validateParams(t,n);0===a.length?"function"==typeof o.send?o.send(t):this._outputErrorMessage('Unable to log event due to missing "send" function'):this._outputErrorMessage("Unable to log event ("+o.name+") due to missing params: "+a.join(","))},getSpecification:function(o,e,n){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return{constants:{sessionLength:30,ownerToken:n,locale:o||"en-US",uiMode:t.uiMode||"member",version:{app:"shakti-"+e,ui:"akira"},pageName:t.pageName||this.getCurrentModalView(),logPageOnStart:t.logPageOnStart||!1,debugMode:!1,videoId:t.videoId||void 0,trackId:t.trackId||void 0},specification:{uiView:{impression:{send:"both"},jawImpression:{send:"both"},jawTabImpression:{send:"both"},focus:{send:"both"},command:{send:"end"},uma:{send:"both"},titleFeedback:{send:"end"},impressionSession:{send:"end"}},uiAction:{selectProfile:{send:"end"},rateTitle:{send:"end"},addToPlaylist:{send:"end"},removeFromPlaylist:{send:"end"},search:{send:"end"},navigate:{send:"both"},startPlay:{send:"both"},survey:{send:"end"},surveyQuestion:{send:"end"},startTrailerPlay:{send:"both"},trailerPlay:{send:"both"},renoMessage:{send:"end"},renoRefresh:{send:"both"},identifierCheck:{send:"end"},submitTitleFeedback:{send:"end"},videoPlay:{send:"end"},deleteProfile:{send:"end"},editProfile:{send:"end"},postPlay:{send:"end"},profilesGateVideoPrepare:{send:"end"}},search:{focus:{send:"both"}},www:{debug:{send:"start"},playbackPerformanceStart:{send:"end"},playbackPerformanceEnd:{send:"end"},playbackDetect4k:{send:"both"},playerNoVideoElement:{send:"end"},playerSeamless:{send:"end"},showPlaybackUIComponent:{send:"end"},playbackFeatureDetection:{send:"end"},playbackUIMilestones:{send:"end"},billboardUIMilestones:{send:"end"},playerClose:{send:"end"},playerCreate:{send:"end"},playerInteraction:{send:"end"},prerollIntro:{send:"both"},prerollOutro:{send:"both"},performanceMetricsUpdated:{send:"end"},userSkippedPreRoll:{send:"end"},userExitedPreRoll:{send:"end"},webFontLoadObserver:{send:"end"},canFulfillUIAttempt:{send:"end"},precachePrepareAttempt:{send:"end"},siteSmallAssetMetrics:{send:"end"},playbackInitError:{send:"end"},firefoxSLFallback:{send:"end"},autoPlayInterrupterShown:{send:"end"},pinEntryShown:{send:"end"},adultVerificationShown:{send:"end"},advisoryShown:{send:"end"},skipCreditsShown:{send:"both"},embeddedPlayerShow:{send:"both"},windowOnError:{send:"end"},seamlessVideoAddedStart:{send:"end"},seamlessVideoAddedEnd:{send:"end"},playNextSeamlessVideo:{send:"both"},showSeamlessExperience:{send:"end"}},uiQOE:{appSession:{send:"both"},reportAProblemError:{send:"end"},userSession:{send:"both"},uiBrowseStartup:{send:"end"},uiDataRequest:{send:"end",disabledChance:90},uiModalViewChanged:{eventProperties:{value:"modalView"},send:"start"},uiModelessView:{send:"both",overlapping:"true"},NavigationLevel:{send:"both"},RenderNavigationLevel:{send:"both"},ProcessStateTransition:{send:"both"}},interactiveOriginals:{popupNotification:{send:"end"},assetLoad:{send:"end"},postPlay:{send:"end"}}}}},validateParams:function(o,e){return e.filter(function(e){return void 0===o[e]})},logEvent:function(o,e){y&&y.clientNotifications&&(t(e.data),this._outputEventDebugMessage("Event",o,e),y.clientNotifications.notify(o,e))},logSessionStart:function(o,e){y&&y.clientNotifications&&(t(e.data),this._outputEventDebugMessage("Start",o,e),y.clientNotifications.notifyStart(o,e))},logSessionEnd:function(o,e){y&&y.clientNotifications&&(t(e.data),this._outputEventDebugMessage("End",o,e),y.clientNotifications.notifyEnd(o,e))},logDebugEvent:function(o){var e=this;this.validateParamsAndSend({name:"logDebugEvent",params:o,defaultParams:{},requiredParams:[],send:function(o){e.logEvent("debug",{category:"www",modalView:e.getCurrentModalView(),data:o})}})},_outputEventDebugMessage:function(o,e,n){n.modalView&&n.modalView,n.data,n.dataContext;y&&y.notification&&y.notification.constants&&y.notification.constants.debugMode},_outputErrorMessage:function(o){y&&y.notification&&y.notification.constants&&y.notification.constants.debugMode}}});C.r("akira/redux/reno/middleware/renoCl1Middleware.js",function(e,r,o){"use strict";var n,t=e("babel-runtime/helpers/defineProperty"),i=function(e){return e&&e.__esModule?e:{default:e}}(t),l=e("../renoActionCreators"),a=l.actionTypes,d=e("../../createMiddlewareFromActionHandlers"),u=e("../../../../utils/consolidatedLogging"),c=(n={},(0,i.default)(n,a.RENO_POLLING_ERROR,function(e){return u.logWebsocketPollingFallbackError(e)}),(0,i.default)(n,a.RENO_PUSH_RECEIVED,function(e){return u.logWebsocketRenoReceived(e)}),n),s=d(c);r.exports=s});C.r("akira/redux/reno/middleware/renoCl2Middleware.js",function(e,r,n){"use strict";var t=e("babel-runtime/helpers/defineProperty"),o=function(e){return e&&e.__esModule?e:{default:e}}(t),a=e("../renoActionCreators"),i=a.actionTypes,s=e("ramda/src/compose"),c=e("../../createMiddlewareFromActionHandlers"),d=e("shakti-platform/dist/ui/consolidatedLogging/constants/eventTypes"),u=e("ramda/src/pathOr"),l=e("shakti-platform/dist/ui/utils/safeParseJSON"),f=s(u("INVALID_MESSAGE_OR_NO_MESSAGE_ID",["renoMessageId"]),l),E=function(e){return function(r){var n=r.message;return e.logEvent(d.PushNotificationReceived,{receivedTime:Date.now(),trackingInfo:{renoMessageId:f(n.payload)}})}},p=function(e){return function(r){var n=r.code;return e.logEvent(d.ExceptionOccurred,{error:{cause:{code:n},code:"RenoPollingError"}})}},_=function(e){var r;return r={},(0,o.default)(r,i.RENO_POLLING_ERROR,p(e)),(0,o.default)(r,i.RENO_PUSH_RECEIVED,E(e)),r},g=s(c,_);r.exports=g});C.r("akira/redux/reno/middleware/renoClearLolomoMiddleware.js",function(e,o,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var t=e("babel-runtime/helpers/defineProperty"),a=r(t),l=e("babel-runtime/helpers/toConsumableArray"),i=r(l),u=e("lodash"),s=e("../renoActionCreators"),d=s.actionCreators,c=s.actionTypes,f=e("../renoApi"),m=e("../../createMiddlewareFromActionHandlers"),p=e("../../routing/routingActions"),g=p.TYPES,b=e("../../../../utils/lolomo/lolomoUtils"),h=e("nf-algebraic-data-types/Option"),v=function(e){var o=[["lolomo"],["lolomonobillboard"]],n=e.bind(["genres"]).getBoundValue()||{};return Object.keys(n).map(function(e){var n=u.parseInt(e);"_"===e[0]||"$"===e[0]||u.isNaN(n)||o.push(["genres",e,"rw"])}),o},L=function(e){var o=[],n=e.bind(["lolomos"]).getBoundValue()||{};return Object.keys(n).map(function(e){"_"!==e[0]&&"$"!==e[0]&&e.indexOf("ROOT")>-1&&o.push(["lolomos",e])}),o},O=function(e){return v(e).concat(L(e))},C=function(e,o,n){var r=O(e),t=e.getValueSync(["lolomos","currentLolomo"]);if(t){var a=[];r.forEach(function(o){e.bind(o)&&e.bind(o).getValueSync(["id"])===t&&(u.pull(r,o),a.push(o))});var l={message:o,paths:a};n.dispatch(d.deferClearLolomo(l))}e.invalidate.apply(e,(0,i.default)(r))},y=function(e){return function(o,n){var r=o.message;b.clearAllLolomoCookies(),C(e,r,n)}},A=function(e){return function(o,n){var r=o.paths;return e.invalidate.apply(e,(0,i.default)(r))}},E=function(e,o){e.newRouteHandler;return h.fromNullable(f.getDeferredClearLolomoData(o.getState())).map(function(e){o.dispatch(d.handleDeferredClearLolomo(e))}).getOrElse(void 0)},_=function(e){var o;return m((o={},(0,a.default)(o,c.CLEAR_LOLOMO,y(e)),(0,a.default)(o,c.HANDLE_DEFERRED_CLEAR_LOLOMO,A(e)),(0,a.default)(o,g.changePage,E),o))};o.exports=_});C.r("akira/redux/reno/renoApi.js",function(e,o,r){"use strict";var t=function(e){return e.deferredClearLolomoData},a=function(e){return e.lastNewLolomoTimestamp},n={getDeferredClearLolomoData:t,getLastNewLolomoTimestamp:a};o.exports=n});C.r("akira/redux/reno/middleware/renoPollMiddleware.js",function(e,t,r){"use strict";var n=e("babel-runtime/helpers/defineProperty"),a=function(e){return e&&e.__esModule?e:{default:e}}(n),o=e("../renoActionCreators"),i=o.actionCreators,u=o.actionTypes,l=e("../renoApi"),c=e("../../createMiddlewareFromActionHandlers"),s=e("shakti-platform/dist/ui/ShaktiProperties"),f=e("nf-algebraic-data-types/Option"),d=e("ramda/src/path"),p=s.get("web.ui.akira.websockets.reno.fallback.polling.interval"),m=["reno","newLolomo"],g=function(e,t){return function(r){return r.creationTS>e?t.dispatch(i.clearLolomo({message:{message:r}})):void 0}},b=function(e){return f.fromNullable(d(["latestMessage"],e.getValueSync(m))).map(function(e){return e}).getOrElse(void 0)},v=function(e,t,r){return function(){return f.fromNullable(b(t)).map(g(e,r)).getOrElse(void 0)}},L=function(e){return function(t){var r=t.xhrStatus;return e.dispatch(i.renoPollingError({code:r}))}},O=function(e){return function(t,r){var n=t.timestamp;return e.call(m,[n,"pushFallback"]).subscribe(v(n,e,r),L(r))}},h=function(e){return function(){return e.dispatch(i.pollReno({timestamp:l.getLastNewLolomoTimestamp(e.getState())}))}},N=function(e){var t,r=void 0;return c((t={},(0,a.default)(t,u.POLL_RENO,O(e)),(0,a.default)(t,u.START_RENO_POLLING,function(e,t){r=setInterval(h(t),p)}),(0,a.default)(t,u.STOP_RENO_POLLING,function(e,t){clearInterval(r),h(t)()}),t))};t.exports=N});C.r("akira/entities/reno/eventType.js",function(e,t,i){"use strict";var o={GpsRowAdjustment:"GpsRowAdjustment",DeleteVideoFromPlaylist:"DeleteVideoFromPlaylist",AddVideoToPlaylist:"AddVideoToPlaylist"};t.exports=o});C.r("akira/entities/reno/index.js",function(e,t,s){"use strict";t.exports={EventType:e("./eventType"),ListContext:e("./listContext"),MessageType:e("./messageType")}});C.r("akira/entities/reno/listContext.js",function(e,n,t){"use strict";var i={continueWatching:"continueWatching",queue:"queue",trendingNow:"trendingNow",contentPreview:"contentPreview"};n.exports=i});C.r("akira/entities/reno/messageType.js",function(o,e,r){"use strict";var s={NewLolomo:"NewLolomo",NewRow:"NewRow",Bookmark:"Bookmark"};e.exports=s});C.r("akira/redux/reno/middleware/renoPushMiddleware.js",function(e,r,t){"use strict";var a=e("babel-runtime/helpers/defineProperty"),s=function(e){return e&&e.__esModule?e:{default:e}}(a),n=e("../renoActionCreators"),o=n.actionCreators,i=n.actionTypes,u=e("../../createMiddlewareFromActionHandlers"),c=e("../../../entities/reno"),d=c.MessageType,l=e("nf-algebraic-data-types/Option"),f=e("shakti-platform/dist/ui/utils/safeParseJSON"),m=function(e){return function(r){switch(r.message.messageType){case d.NewLolomo:return e.dispatch(o.clearLolomo({message:r}));case d.NewRow:return e.dispatch(o.refreshRow({message:r}));default:return}}},p=function(e){return function(r){return{message:r,guid:e.notificationGuid}}},g=function(e,r){var t=e.message;return l.fromNullable(f(t.payload)).map(p(t)).map(m(r)).getOrElse(void 0)},w=u((0,s.default)({},i.RENO_PUSH_RECEIVED,g));r.exports=w});C.r("akira/redux/reno/middleware/renoRefreshRowMiddleware.js",function(e,r,t){"use strict";var n=e("babel-runtime/helpers/defineProperty"),o=function(e){return e&&e.__esModule?e:{default:e}}(n),s=e("../renoActionCreators"),a=s.actionTypes,i=e("../../createMiddlewareFromActionHandlers"),u=e("../../../utils/falcor/lolomoRefresh"),l=u.refreshCurrentLolomoListWithContext,d=function(e,r){return function(t,n){var o=t.message;return l(e,o.message.messageAttributes.listContext,r,o.message.renoMessageId)}},f=function(e,r){return i((0,o.default)({},a.REFRESH_ROW,d(e,r)))};r.exports=f});C.r("akira/redux/reno/renoStateReducer.js",function(e,t,r){"use strict";var a=e("./renoActionCreators"),n=a.actionTypes,o=e("redux"),s=o.combineReducers,u=function(e,t){switch(t.type){case n.DEFER_CLEAR_LOLOMO:return t.data;case n.HANDLE_DEFERRED_CLEAR_LOLOMO:return null;default:return e||null}},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=arguments[1];switch(t.type){case n.CLEAR_LOLOMO:return t.data.message.message.creationTS;default:return e}},i=s({deferredClearLolomoData:u,lastNewLolomoTimestamp:c});t.exports=i});C.r("akira/redux/routing/routingActions.js",function(a,e,t){"use strict";var g=a("../../../player/nfplayer/domain/common/createAction"),n={startPageLoad:"startPageLoad",changeRoute:"changeRoute",changePage:"changePage"};e.exports={TYPES:n,actions:{startPageLoad:g(n.startPageLoad),changeRoute:g(n.changeRoute),changePage:g(n.changePage)}}});C.r("akira/utils/falcor/lolomoRefresh.js",function(o,t,n){"use strict";function e(o,t){for(var n=void 0,e=!0,r=0,i=[];e;)n=o.bind([r]),(e=!!n.getBoundValue())&&(n.getValueSync(["context"])===t&&i.push({list:n,index:r}),r++);return i}function r(o){return o.getValueSync(["id"])}function i(){x.reactApp.refresh()}function l(o,t,n,i){e(o,t).forEach(function(e){u(o,r(e.list),t,e.index,n,i)})}function u(o,t,n,e,r,l){var u=m.getPaths(r);switch(n){case b.LIST_CONTEXTS.BILLBOARD:u=u.concat(h.getPaths(r).map(function(o){return o.slice(1)}))}o.call(["refreshListByContext"],[t,e,n,l],u,[]).subscribe(i)}function a(o){var t=o.bind(["lolomos"]).getBoundValue();return t?Object.keys(t).filter(function(o){return"_"!==o[0]&&"$"!==o[0]&&o.indexOf("ROOT")>-1}):[]}function s(o,t){var n=o.getValueSync(["lolomos","currentLolomo"]),r=a(o),i=r.filter(function(o){return o!==n}).reduce(function(n,r){var i=o.bind(["lolomos",r]);return n.concat(e(i,t).map(function(o){return["lolomos",r,o.index]}))},[]);if(i.length){var l;(l=x.pathEvaluator).invalidate.apply(l,(0,d.default)(i))}}function c(o,t,n,e){var r=o.getValueSync(["lolomos","currentLolomo"]);if(r){l(o.bind(["lolomos",r]),t,n,e)}else{var i=a(o),u=void 0;i.forEach(function(r){u=o.bind(["lolomos",r]),u.getBoundValue()&&l(u,t,n,e)})}}var f=o("babel-runtime/helpers/toConsumableArray"),d=function(o){return o&&o.__esModule?o:{default:o}}(f),m=o("../../containers/lolomo/lolomoRow.jsx"),h=o("../../components/billboard/BillboardRow"),b=o("../../containers/lolomo/lolomoConstants.jsx"),v=o("shakti-platform/dist/ui/utils/inNode"),x=v?{}:window;t.exports={refreshCurrentLolomoListWithContext:c,refreshListById:u,refreshListByContext:l,invalidateListWithContext:s,findListsWithContext:e}});C.r("akira/utils/lolomoRowChangeDetector.js",function(e,t,n){"use strict";function i(e){this.model=e,this.updateUniqueKey()}var o=["continueWatching","queue"];i.prototype={isTransientRow:function(){var e=this.model.getValueSync("context");return-1!==o.indexOf(e)},updateUniqueKey:function(){this.prevModelLength=this.model.getValueSync("length"),this.isTransientRow()&&(this.prevUniqueKey=this.generateUniqueKey())},didChange:function(){return this.model.getValueSync("length")!==this.prevModelLength||!(!this.isTransientRow()||this.generateUniqueKey()===this.prevUniqueKey)},generateUniqueKey:function(){for(var e=this.model.getValueSync("length"),t="",n=void 0,i=0;i<e;i++)(n=this.model.getValueSync([i,"summary"]))&&n.id&&(t+=n.id.toString().substr(-4));return t}},t.exports=i});C.r("common/safeTimeout.js",function(t,e,o){"use strict";e.exports=function(t,e){function o(){var e=c-Date.now(),i=e>n?n:e;if(i<=0)try{t()}catch(t){}else r=setTimeout(o,i)}var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e4,i=Date.now(),c=i+e,r=void 0;return o(),function(){clearTimeout(r)}}});C.r("components/presentationTracking/trackingComponents/billboardPresTracking.js",function(e,n,r){"use strict";var o=e("./createTrackingComponent"),t=e("prop-types"),i=e("shakti-platform/dist/ui/consolidatedLogging/constants/appViewTypes");n.exports=o({appView:i.billboard,propTypes:{location:t.string,rank:t.number,requestId:t.string,row:t.number,trackId:t.number,videoId:t.number,imageKey:t.string,supplementalVideoId:t.number,lolomoId:t.number,listId:t.number}})});C.r("components/presentationTracking/trackingComponents/noRowPresTracking.js",function(n,o,r){"use strict";var e=n("./createTrackingComponent"),t=n("prop-types"),s=n("shakti-platform/dist/ui/consolidatedLogging/constants/appViewTypes");o.exports=e({appView:s.noRow,propTypes:{rank:t.number,row:t.number,requestId:t.string,trackId:t.number,lolomoId:t.number,listId:t.number}})});C.r("utils/billboard.js",function(e,r,o){"use strict";var n={},i=function(e){return e<.5?4*e*e*e:1+4*(e-=1)*e*e};r.exports={RECORD_IMPRESSION:"recordImpression",RECORD_ACTION:"recordAction",recordActionOrImpression:function(e,r,o,i){"recordImpression"===o&&n[i]||(n[i]=!0,r.call(["videos",i,o],[e]).subscribe())},recordActionOrImpressionLegacy:function(e,r,o,i,t,c,s){if("recordImpression"===r){if(n[o])return;n[o]=!0}"recordImpression"===r?r="recordImpressionLegacy":"recordAction"===r&&(r="recordActionLegacy"),e.call(["videos",o,r],[{isKids:!1,imageDescriptor:"Image_Iconic",awardCampaign:i,billboardType:c,billboardTheme:t,contentType:s}]).subscribe()},fadeOutVolume:function(e,r,o,n){var i=void 0,t=void 0,c=n?"getVolume":"volume",s=n?"setVolume":"volume",l=n?"_getPlayerComponent":"getNode";e&&(i=setInterval(function(){e&&e[l]()?e[c]()<=.1?(e[s](0),clearInterval(i),o&&o()):(t=e[c](),e[s](t-=.1)):clearInterval(i)},r))},fadeInVolume:function(e,r,o,n){var t=void 0,c=o?"setVolume":"volume",s=o?"_getPlayerComponent":"getNode";if(e){var l=.2,a=0;e[c](a),t=setInterval(function(){if(e&&e[s]())if(a>=.99)e[c](1),clearInterval(t);else{n?a=i(l+=.025):a+=.1,e[c](a)}else clearInterval(t)},r)}}}});C.r("utils/globalContext.js",function(t,e,r){"use strict";var i=t("shakti-platform/dist/ui/utils/inNode"),o=t("../common/appContext"),a={_require_:function(e){return t(e)}},n=function(t,e){if(i){var r=a._require_("shakti-platform/dist/lib/modelRegistry").getModel(t,e);return r&&r.data||{}}var n=o.getModelData(e);return n&&n[e]||n||{}};e.exports={getModelData:n}});C.r("utils/lolomo/lolomoUtils.js",function(o,e,t){"use strict";function i(o,e,t,i){var n={expires:i,domain:r.TOP_DOMAIN,path:r.ROOT_PATH};o.setCookie(e,t,n),o.setCookie(e+f,(new Date).getTime(),n)}function n(o,e,t){r.set(o,e,t),r.set(o+f,(new Date).getTime(),t)}var l=o("../globalContext"),r=o("../cookieUtils"),a=o("../userUtils"),s=o("shakti-platform/dist/ui/ShaktiProperties"),u=o("shakti-platform/dist/ui/utils/inNode"),m=o("../XHR"),g=o("../../common/imageExtension"),c=o("../../akira/utils/getLolomoQueryParameters"),f="-T";e.exports={COOKIE_TTL_KEY:"netflix.ui.akira.lolomo.ttl",BOUNCE_LOLOMO_KEY:"bounceLolomo",generateHpMapRequestId:function(o){return"lhpuuid"+(s.get("web.ui.gps.useNewModel")?"h":"")+"-browse-"+o},generateUUIDCookieValue:function(o,e,t){return e+":"+t+":"+o},getLolomoExpiry:function(o,e){var t=o.getValueSync(["meta","responseExpiration"]);return"number"==typeof t?new Date(t):new Date((new Date).getTime()+1e3*parseInt(e||7200,10))},isLolomoFallback:function(o){return"number"!=typeof o.getValueSync(["meta","responseExpiration"])},isLolomoCookieValueValid:function(o){return o&&"string"==typeof o&&-1===o.indexOf("Fallback")},getLolomoCookieName:function(o,e,t){if(u&&!o)return!1;var i=t||l.getModelData(o,"userInfo").userGuid,n=e?"-NB":"";return this.generateHpMapRequestId(i)+n},getLolomoCookie:function(o,e){if(u&&!o)return null;var t=this.getLolomoCookieName(o,e),i=void 0;return i=u?o.cookies[t]:r.get(t),this.isLolomoCookieValueValid(i)?i:null},getValidLolomoCookieUUID:function(o,e){if(u&&!o)return null;var t=this.getLolomoCookie(o,e),i=void 0,n=void 0,l=void 0,r=void 0;return!(!t||(i=t.split(":"),n=i[0],l=i[1],!(r=i[2])||a.getCountry(o)!==n||a.getLocale(o)!==l))&&r},getLolomoCookieTimestamp:function(o,e){if(u&&!o||!this.getValidLolomoCookieUUID(o,e))return null;var t=this.getLolomoCookieName(o,e)+f;return u?o.cookies[t]:r.get(t)},setLolomoCookieValue:function(o,e,t,r,a){return!l.getModelData(r,"truths").noUUIDCaching&&(!!(o&&e&&this.isLolomoCookieValueValid(e))&&(u?i(a,o,e,t):n(o,e,t),!0))},setLolomoCookieFalcor:function(o,e,t,i,n){if(u&&(!i||!n)||!o)return!1;var l=s.get(this.COOKIE_TTL_KEY),r=o.bind([t?"lolomonobillboard":"lolomo"]),m=r&&r.getValueSync(),g=m&&2===m.length&&m[1],c=this.getLolomoExpiry(r,l),f=this.isLolomoFallback(r);if(this.getLolomoCookie(i,t)&&!e||f||!g)return!1;var L=this.generateUUIDCookieValue(g,a.getCountry(i),a.getLocale(i)),k=this.getLolomoCookieName(i,t);return this.setLolomoCookieValue(k,L,c,i,n)},setLolomoCookieFakira:function(o,e,t,i,n){if(u&&(!i||!n)||!o)return!1;var l=new Date((new Date).getTime()+1e3*parseInt(7200,10));if(this.getLolomoCookie(i,t)&&!e)return!1;var r=this.generateUUIDCookieValue(o,a.getCountry(i),a.getLocale(i)),s=this.getLolomoCookieName(i,t);return this.setLolomoCookieValue(s,r,l,i,n)},clearLolomoCookie:function(o,e,t,i){if(u&&(!t||!i))return!1;var n=!!this.getLolomoCookie(t,o),l=this.getLolomoCookieName(t,o,e);if(l&&n)if(u){var a={maxAge:1,domain:r.TOP_DOMAIN,path:r.ROOT_PATH};i.setCookie(l,"",a),i.setCookie(l+f,"",a)}else r.clear(l),r.clear(l+f);return n},clearAllLolomoCookies:function(o,e,t){this.clearLolomoCookie(!0,o,e,t),this.clearLolomoCookie(!1,o,e,t)},seedLolomoImpression:function(o,e,t){if(u&&!t)return!1;var i=this.getValidLolomoCookieUUID(t,e);return!!i&&(o.setValueSync([e?"lolomonobillboard":"lolomo"],["lolomos",i]),o.setValueSync(["lolomos",i,"aLeafNode"],"anyValue"),!0)},setIsBouncingLolomo:function(o){if(!u)try{localStorage.setItem(this.BOUNCE_LOLOMO_KEY,o)}catch(o){}},isBouncingLolomo:function(){return!u&&"true"===localStorage.getItem(this.BOUNCE_LOLOMO_KEY)},fetchWarmLolomo:function(o,e,t,i,n,l,r){var a=o&&o.getValueSync(["lolomo"]);return a&&2===a.length?m.request({method:"get",data:Object.assign({},c(i,n),{lolomoid:a[1],fromRow:e,toRow:t,opaqueImageExtension:g.getExtensionForOpaqueImage(),transparentImageExtension:g.getExtensionForTransparentImage()}),resource:"/preflight",service:"api",protocol:"https",authorize:!0}).subscribe(function(o){l&&l(o)},function(){r&&r()}):("function"==typeof r&&r(),!1)}}});C.r("utils/userUtils.js",function(t,e,o){"use strict";var r=t("./globalContext"),a=t("lodash");e.exports={DEFAULT_COUNTRY:"US",DEFAULT_LOCALE:"en",getCountry:function(t){var e=r.getModelData(t,"geo");return a.get(e,"requestCountry.id",this.DEFAULT_COUNTRY).toUpperCase()},getLocale:function(t){var e=r.getModelData(t,"geo");return a.get(e,"locale.id",this.DEFAULT_LOCALE).toUpperCase()}}});C.r("akira/redux/reno/renoDomain.js",function(e,r,a){"use strict";var o=e("./renoActionCreators"),d=o.actionCreators,n=e("./renoApi"),i=e("./middleware/renoCl1Middleware"),l=e("./middleware/renoCl2Middleware"),t=e("./middleware/renoClearLolomoMiddleware"),w=e("../../../player/nfplayer/domain/common/createDomain"),m=e("../logging/getLoggingMiddleware"),c=e("./middleware/renoPollMiddleware"),s=e("./middleware/renoPushMiddleware"),g=e("./middleware/renoRefreshRowMiddleware"),u=e("./renoStateReducer"),C=function(e,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"reno";return w({actionCreators:d,api:n,name:a,stateReducer:u,middlewares:[].concat(i,m([l]),s,c(e),t(e),g(e,r))})};r.exports=C});C.r("akira/redux/routing/createRoutingDomain.js",function(n,o,i){"use strict";var r=n("../../../player/nfplayer/domain/common/createDomain"),e=n("./routingActions"),t=n("../logging/getLoggingMiddleware"),a=n("./logKidsMode");o.exports=function(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"routing";return r({actionCreators:e.actions,middlewares:[].concat(t([a])),name:o})}});C.r("akira/redux/routing/isKidsPage.js",function(i,s,r){"use strict";var e=i("lodash"),a=i("../../../utils/Routes"),d=[a.kidsHome,a.kidsCategory,a.kidsTitle,a.kidsCharacter,a.kidsSearch,a.kidsSearchTerm,a.kidsSimilars,a.kidsSearchSuggestion,a.kidsCharacterGallery,a.kidsOriginals],t=function(i){return e.includes(d,i)};s.exports=t});C.r("akira/redux/routing/logKidsMode.js",function(e,t,o){"use strict";var n=e("babel-runtime/helpers/defineProperty"),r=function(e){return e&&e.__esModule?e:{default:e}}(n),i=e("../../../common/appContext"),a=e("./isKidsPage"),u=e("../logging/createExclusiveContextMiddleware"),d=u.createExclusiveContextMiddleware,s=u.ContextActions,c=e("./routingActions"),l=c.TYPES;t.exports=d({transformers:(0,r.default)({},l.changeRoute,function(){}),predicates:(0,r.default)({},l.changeRoute,function(e){return a(e.newRouteHandler.route)||i.getModelData("userInfo").isKids?s.Update:s.Remove}),contextName:"KidsMode"})});C.r("akira/redux/search/createSearchDomain.js",function(e,t,a){"use strict";var o=e("../../../player/nfplayer/domain/common/createDomain"),r=e("./searchActions"),n=e("../logging/getLoggingMiddleware"),i=e("./searchMiddleware"),s=e("./logTitleResultsContext"),g=e("./logSuggestionResultsContext"),l=e("./logSuggestionTitleResultsContext");t.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"search";return o({actionCreators:r.actions,middlewares:n([i,s,g,l]),name:e})}});C.r("akira/redux/search/isSearchRoute.js",function(r,e,s){"use strict";function t(r){return c.some(function(e){return e===r})}var u=r("../../../utils/Routes"),c=[u.search,u.searchTerm,u.searchSuggestion,u.searchDVD];e.exports=t});C.r("akira/redux/search/searchActions.js",function(E,S,e){"use strict";var C=E("../../../player/nfplayer/domain/common/createAction"),c={SEARCH_SUCCESS:"SEARCH_SUCCESS",LEAVING_SEARCH_EXPERIENCE:"LEAVING_SEARCH_EXPERIENCE"};S.exports={TYPES:c,actions:{searchSuccess:C(c.SEARCH_SUCCESS),leavingSearchExperience:C(c.LEAVING_SEARCH_EXPERIENCE)}}});C.r("akira/redux/search/logSuggestionResultsContext.js",function(e,t,r){"use strict";var n,s=e("babel-runtime/helpers/defineProperty"),u=function(e){return e&&e.__esModule?e:{default:e}}(s),o=e("../logging/createExclusiveContextMiddleware"),i=o.createExclusiveContextMiddleware,a=o.ContextActions,c=e("./searchActions"),d=c.TYPES;t.exports=i({transformers:(0,u.default)({},d.SEARCH_SUCCESS,function(e){return{trackingInfo:{refId:e.suggestionsReferenceId,query:e.term}}}),predicates:(n={},(0,u.default)(n,d.SEARCH_SUCCESS,function(e){return e.suggestionsReferenceId?a.Update:a.Remove}),(0,u.default)(n,d.LEAVING_SEARCH_EXPERIENCE,function(){return a.Remove}),n),contextName:"SearchSuggestionResults"})});C.r("akira/redux/search/logSuggestionTitleResultsContext.js",function(e,t,n){"use strict";var r,i=e("babel-runtime/helpers/defineProperty"),s=function(e){return e&&e.__esModule?e:{default:e}}(i),u=e("../logging/createExclusiveContextMiddleware"),o=u.createExclusiveContextMiddleware,a=u.ContextActions,c=e("./searchActions"),l=c.TYPES;t.exports=o({transformers:(0,s.default)({},l.SEARCH_SUCCESS,function(e){return{trackingInfo:{refId:e.suggestionTitlesReferenceId,query:e.term,entityId:e.entityId}}}),predicates:(r={},(0,s.default)(r,l.SEARCH_SUCCESS,function(e){return e.suggestionTitlesReferenceId?a.Update:a.Remove}),(0,s.default)(r,l.LEAVING_SEARCH_EXPERIENCE,function(){return a.Remove}),r),contextName:"SearchSuggestionTitleResults"})});C.r("akira/redux/search/logTitleResultsContext.js",function(e,t,r){"use strict";var n,i=e("babel-runtime/helpers/defineProperty"),u=function(e){return e&&e.__esModule?e:{default:e}}(i),o=e("../logging/createExclusiveContextMiddleware"),s=o.createExclusiveContextMiddleware,a=o.ContextActions,c=e("./searchActions"),l=c.TYPES;t.exports=s({transformers:(0,u.default)({},l.SEARCH_SUCCESS,function(e){return{trackingInfo:{refId:e.titlesReferenceId,query:e.term}}}),predicates:(n={},(0,u.default)(n,l.SEARCH_SUCCESS,function(e){return e.titlesReferenceId?a.Update:a.Remove}),(0,u.default)(n,l.LEAVING_SEARCH_EXPERIENCE,function(){return a.Remove}),n),contextName:"SearchTitleResults"})});C.r("akira/redux/search/searchMiddleware.js",function(e,r,t){"use strict";function n(){var e=(0,u.default)({},s.changeRoute,function(e,r){var t=e.currentRouteHandler,n=e.newRouteHandler;t&&o(t.route)&&!o(n.route)&&r.dispatch(l.leavingSearchExperience())});return i(e)}var a=e("babel-runtime/helpers/defineProperty"),u=function(e){return e&&e.__esModule?e:{default:e}}(a),i=e("../createMiddlewareFromActionHandlers"),o=e("./isSearchRoute"),c=e("../routing/routingActions"),s=c.TYPES,d=e("./searchActions"),l=d.actions;r.exports=n});C.r("akira/redux/uma/actionHandlers/sendBackgroundCall.js",function(n,e,r){"use strict";var t=n("../umaActions"),u=t.actions,a=n("../../../../akira/redux/eventUuidUtils"),i=a.ensureUuid,c=n("../../../../common/umaUpdate"),d=function(n,e){return function(r){e.dispatch(u.sendBackgroundCallSuccess(i(n.eventUuid)))}},s=function(n,e){return function(r){return e.dispatch(u.sendBackgroundCallFailure({err:r,eventUuid:n.eventUuid}))}},o=function(n,e){return c({version:"v3",cmd:n.action,data:n.parameters},d(n,e),s(n,e))};e.exports=o});C.r("akira/redux/uma/actionHandlers/sendUmaImpression.js",function(n,e,i){"use strict";var r=n("../umaActions"),t=r.actions,s=n("../../../../akira/redux/eventUuidUtils"),u=s.ensureUuid,a=s.removeEventUuid,o=n("../../../../common/umaUpdate"),d=function(n,e){return function(i){e.dispatch(t.sendUmaImpressionSuccess(u(n.eventUuid)))}},c=function(n,e){return function(i){return e.dispatch(t.sendUmaImpressionFailure({err:i,eventUuid:n.eventUuid}))}},m=function(n,e){return o({version:"v3",cmd:"impression",data:a(n)},d(n,e),c(n,e))};e.exports=m});C.r("akira/redux/uma/actionHandlers/umaCtaClicked.js",function(a,t,n){"use strict";function i(a,t){-1===r.indexOf(a.action)&&t.dispatch(s.sendBackgroundCall({action:a.action,params:a.parameters}))}function c(a,t){var n=d[a.action],i=u[a.action];i?t.dispatch(s.startFlow({flowName:i})):n&&(window.location=n.makePath())}function o(a,t){(0,{APP_REDIRECT:c,BACKGROUND_CALL:i,LINK:function(a,t){}}[a.actionType])(a,t),a.umsAlertCtaFeedback&&t.dispatch(s.sendUmaImpression(a.umsAlertCtaFeedback)),"DISMISS"===a.action&&t.dispatch(s.hideUma())}var e=a("../umaActions"),s=e.actions,r=["DISMISS"],d={},u={PLAN_SELECT:"PLAN_SELECT"};t.exports=o});C.r("akira/redux/uma/createUmaDomain.js",function(a,e,r){"use strict";var t=a("../../../player/nfplayer/domain/common/createDomain"),i=a("./createUmaStateReducer"),n=a("./umaActions"),m=a("./umaMiddleware"),o=a("./umaApi");e.exports=function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"uma";return t({api:o,actionCreators:n.actions,middlewares:[m],name:e,stateReducer:i(a)})}});C.r("akira/redux/uma/createUmaStateReducer.js",function(e,a,t){"use strict";var n=e("babel-runtime/helpers/defineProperty"),r=function(e){return e&&e.__esModule?e:{default:e}}(n),u=e("../../../player/nfplayer/domain/common/createHandleAction"),o=e("../../../player/nfplayer/domain/common/createStateReducer"),i=e("./umaActions").TYPES,c=e("./umaState"),f=function(e){return Object.assign({},e,{uma:void 0,flowName:void 0})},l=function(e,a){return Object.assign({},e,{flowName:a.flowName})},m=function(e){return Object.assign({},e,{flowName:void 0})};a.exports=function(e){var a;return o((a={},(0,r.default)(a,i.HIDE_UMA,u(f)),(0,r.default)(a,i.START_FLOW,u(l)),(0,r.default)(a,i.END_FLOW,u(m)),a),c.defaultUmaState(e))}});C.r("akira/redux/uma/umaActions.js",function(_,S,E){"use strict";var A=_("../../../player/nfplayer/domain/common/createAction"),C=_("ramda/src/compose"),U=_("../eventUuidUtils"),N=U.ensureWithRandomUuid,D={HIDE_UMA:"HIDE_UMA",UMA_CTA_CLICKED:"UMA_CTA_CLICKED",SEND_UMA_IMPRESSION:"SEND_UMA_IMPRESSION",SEND_UMA_IMPRESSION_SUCCESS:"SEND_UMA_IMPRESSION_SUCCESS",SEND_UMA_IMPRESSION_FAILURE:"SEND_UMA_IMPRESSION_FAILURE",SEND_BACKGROUND_CALL:"SEND_BACKGROUND_CALL",SEND_BACKGROUND_CALL_SUCCESS:"SEND_BACKGROUND_CALL_SUCCESS",SEND_BACKGROUND_CALL_FAILURE:"SEND_BACKGROUND_CALL_FAILURE",START_FLOW:"START_FLOW",END_FLOW:"END_FLOW"};S.exports={TYPES:D,actions:{hideUma:A(D.HIDE_UMA),umaCtaClicked:A(D.UMA_CTA_CLICKED),sendUmaImpression:C(A(D.SEND_UMA_IMPRESSION),N),sendUmaImpressionSuccess:A(D.SEND_UMA_IMPRESSION_SUCCESS),sendUmaImpressionFailure:A(D.SEND_UMA_IMPRESSION_FAILURE),sendBackgroundCall:A(D.SEND_BACKGROUND_CALL),sendBackgroundCallSuccess:A(D.SEND_BACKGROUND_CALL_SUCCESS),sendBackgroundCallFailure:A(D.SEND_BACKGROUND_CALL_FAILURE),startFlow:A(D.START_FLOW),endFlow:A(D.END_FLOW)}}});C.r("akira/redux/uma/umaApi.js",function(a,t,r){"use strict";var u=function(a){return a.uma},e=function(a){return a.hadUma},n=function(a){return a.flowName},m={getUmaPayload:u,getHadUma:e,getFlowName:n};t.exports=m});C.r("akira/redux/uma/umaMiddleware.js",function(e,a,r){"use strict";var n,d=e("babel-runtime/helpers/defineProperty"),t=function(e){return e&&e.__esModule?e:{default:e}}(d),l=e("../createMiddlewareFromActionHandlers"),u=e("./actionHandlers/sendUmaImpression"),i=e("./actionHandlers/sendBackgroundCall"),s=e("./actionHandlers/umaCtaClicked"),o=e("./umaActions"),c=o.TYPES,C=l((n={},(0,t.default)(n,c.SEND_UMA_IMPRESSION,u),(0,t.default)(n,c.SEND_BACKGROUND_CALL,i),(0,t.default)(n,c.UMA_CTA_CLICKED,s),n));a.exports=C});C.r("akira/redux/uma/umaState.js",function(a,t,e){"use strict";var u=function(a){return{uma:a.umaModel.data.alertBox,hadUma:!!a.umaModel.data.alertBox,flowName:void 0}};t.exports={defaultUmaState:u}});C.r("akira/routeHandlers.js",function(e,i,s){"use strict";function o(e,i){return function(s,o,t){t(null,w.get(o.getModelData("truths"),"kidsProfileWithParity")?[l,n,i]:[l,n,e])}}var t=e("../utils/Routes"),r=e("shakti-platform/dist/ui/routing/provideRoutingContext"),n=e("./components/appBase/akiraLayout.jsx"),l=r(e("./containers/baseRouteHandlerContainer")),w=e("lodash"),a=e("./views/home.jsx"),u=e("./views/genre.jsx"),c=e("./views/person.jsx"),m=e("./views/myList.jsx"),d=e("./views/title.jsx"),p=e("./views/titleAdd.jsx"),v=e("./views/titleLike.jsx"),h=e("./views/titleDislike.jsx"),V=e("./views/audioAndSubtitles.jsx"),b=e("./views/newRelease.jsx"),T=e("./views/recentlyAdded.jsx"),y=e("./views/contentRefresh.jsx"),f=e("./views/similars.jsx"),k=e("./views/genreNewRelease.jsx"),g=e("./views/newArrivals.jsx"),x=e("./views/searchRoute.jsx"),j=e("./views/audioDescription.jsx"),G=e("./views/netflixOriginals.jsx"),R=e("./views/watch.jsx"),S=e("./containers/notificationLandingContainer"),P=e("./containers/kidsTitleContainer"),C=e("./views/kidsCharacter.jsx"),D=e("./views/kidsGenre.jsx"),A=e("./views/kidsSimilars.jsx"),I=e("./views/kidsOriginals.jsx"),L=e("./views/kidsCharacterGallery.jsx"),M=e("./views/kidsHome.jsx");i.exports=[{route:t.kidsHome,resolveComponents:o(M,a),uiView:"homeScreen",view:"browseTitles"},{route:t.kidsCharacter,components:[l,n,C],uiView:"characterDetails"},{route:t.kidsTitle,resolveComponents:function(e,i){return function(s,o,t){t(null,w.get(o.getModelData("truths"),"kidsProfileWithParity")&&!w.get(o.getModelData("truths"),"hasKidsParityWithMDPOverlay")?[l,n,i]:[l,n,e])}}(P,d),uiView:"movieDetails"},{route:t.kidsCategory,resolveComponents:o(D,u),uiView:"browseTitles",view:"browseTitlesGallery"},{route:t.kidsSimilars,components:[l,n,A],uiView:"kidsSimilars",view:"browseTitlesGallery"},{route:t.kidsSearch,components:[l,n,x],uiView:"searchResults",view:"search"},{route:t.kidsSearchTerm,components:[l,n,x],uiView:"searchResults",view:"search"},{route:t.kidsSearchSuggestion,components:[l,n,x],uiView:"searchResults",view:"search"},{route:t.kidsCharacterGallery,components:[l,n,L],uiView:"kidsCharacters",view:"browseKidsCharactersGallery"},{route:t.kidsOriginals,resolveComponents:o(I,G),uiView:"kidsOriginals",view:"browseTitlesGallery"},{route:t.home,components:[l,n,a],uiView:"homeScreen",view:"browseTitles"},{route:t.browse,components:[l,n,a],uiView:"homeScreen",view:"browseTitles"},{route:t.deepLinkedUma,components:[l,n,a],uiView:"homeScreen",view:"browseTitles"},{route:t.title,components:[l,n,d],uiView:"homeScreen",view:"browseTitles"},{route:t.titleShowEpisodes,components:[l,n,d],uiView:"homeScreen",view:"browseTitles"},{route:t.addToMyList,components:[l,n,p],uiView:"homeScreen",view:"browseTitles"},{route:t.likeTitle,components:[l,n,v],uiView:"homeScreen",view:"browseTitles"},{route:t.dislikeTitle,components:[l,n,h],uiView:"homeScreen",view:"browseTitles"},{route:t.genre,components:[l,n,u],uiView:"browseTitles",view:"browseTitlesGallery"},{route:t.similars,components:[l,n,f],uiView:"WiSimilarsByViewType",view:"browseTitlesGallery"},{route:t.genreNewRelease,components:[l,n,k],uiView:"NewReleases",view:"browseTitlesGallery"},{route:t.person,components:[l,n,c],uiView:"rolesDisplay",view:"browseTitlesGallery"},{route:t.myList,components:[l,n,m],uiView:"MyListAsGallery",view:"browseTitlesGallery"},{route:t.recentlyAdded,components:[l,n,T],uiView:"WiRecentAdditions",view:"browseTitlesGallery"},{route:t.justAdded,components:[l,n,y],uiView:"justAdded",view:"browseTitlesGallery"},{route:t.newRelease,components:[l,n,b],uiView:"NewReleases",view:"browseTitlesGallery"},{route:t.newReleases,components:[l,n,b],uiView:"NewReleases",view:"browseTitlesGallery"},{route:t.newArrivals,components:[l,n,g],uiView:"NewReleases",view:"browseTitlesGallery"},{route:t.audio,components:[l,n,V],uiView:"browseAudio",view:"browseTitlesGallery"},{route:t.subtitle,components:[l,n,V],uiView:"browseTitles",view:"browseTitlesGallery"},{route:t.subtitles,components:[l,n,V],uiView:"browseTitles",view:"browseTitlesGallery"},{route:t.audioDescription,components:[l,n,j],uiView:"browseTitles",view:"browseTitlesGallery"},{route:t.audioDescriptionByGenre,components:[l,n,j],uiView:"browseTitles",view:"browseTitlesGallery"},{route:t.netflixOriginals,components:[l,n,G],uiView:"browseTitles",view:"browseTitlesGallery"},{route:t.search,components:[l,n,x],uiView:"searchResults",view:"search"},{route:t.searchTerm,components:[l,n,x],uiView:"searchResults",view:"search"},{route:t.searchSuggestion,components:[l,n,x],uiView:"searchResults",view:"search"},{route:t.searchDVD,components:[l,n,x],uiView:"searchResults",view:"search"},{route:t.profilesManage,components:[l,n,a],uiView:"profilesManage",view:"editProfiles"},{route:t.manageProfiles,components:[l,n,a],uiView:"manageProfiles",view:"editProfiles"},{route:t.editProfiles,components:[l,n,a],uiView:"manageProfiles",view:"editProfiles"},{route:t.profilesIcon,components:[l,n,a],uiView:"profilesIcon",view:"editProfiles"},{route:t.profilesIconId,components:[l,n,a],uiView:"profilesIcon",view:"editProfiles"},{route:t.profilesGuidIcon,components:[l,n,a],uiView:"profilesIcon",view:"editProfiles"},{route:t.profilesGuidIconId,components:[l,n,a],uiView:"profilesIcon",view:"editProfiles"},{route:t.profilesAdd,components:[l,n,a],uiView:"addProfile"},{route:t.onRamp,components:[l,n,a],uiView:"onRamp"},{route:t.notificationLanding,components:[l,n,S],uiView:"notificationLanding"},{route:t.watchNow,components:[l,R],uiView:"playback"}]});C.r("akira/utils/serviceCode.js",function(e,r,t){"use strict";var i=e("../../utils/XHR"),c={fetchServiceCode:function(){return i.request({method:"post",data:{},resource:"/servicecode",service:"api",authorize:!0})},formatAuthCode:function(e){return e=e||"",e=e.replace(/[^a-z0-9]/gi,""),[e.slice(0,3),e.slice(3)].join("-")}};r.exports=c});C.r("akira/views/NotificationLanding/NotificationLanding.jsx",function(t,i,e){"use strict";var o=t("babel-runtime/helpers/extends"),n=function(t){return t&&t.__esModule?t:{default:t}}(o),a=t("prop-types"),s=t("react"),r=t("create-react-class"),c=t("./NotificationLandingLogging.jsx"),u=t("../../../components/presentationTracking/trackingComponents/logPresentationManually"),d=t("../../containers/lolomo/lolomoRow.jsx"),l=t("./NotificationLandingView.jsx"),p=t("../../components/notifications/notifications.jsx"),f=t("nf-algebraic-data-types/Option"),g=t("../../../utils/Routes"),h=t("./getOptNotificationTemplate"),m=u(c(l)),v=r({displayName:"NotificationLandingViewContainer",contextTypes:{routeHandler:a.object.isRequired,getI18nString:a.func.isRequired,history:a.object.isRequired},propTypes:{model:a.object.isRequired,isLoading:a.bool},statics:{getPaths:function(t,i,e,o){var n=d.getPaths(t,i,{videoPrefix:null}).map(function(t){return["notifications",e.eventGuid||o.eventGuid,"videos"].concat(t)}),a=p.getPaths();return n.concat(a)}},componentDidMount:function(){this.redirectIfNoData()},componentDidUpdate:function(t,i){this.redirectIfNoData()},redirectIfNoData:function(){!this.props.isLoading&&h(this.getNotification()).isNone()&&this.context.history.pushState(g.home.makePath())},getFalcorModel:function(){return this.props.model.pathEvaluator},getVideoPath:function(){return["notifications",this.context.routeHandler.params.eventGuid,"videos"]},getNotification:function(){var t=this.context.routeHandler.params.eventGuid,i=this.props.model.pathEvaluator.getValueSync(["notifications","fullList"]),e=i.filter(function(i){return i.message.eventGuid===t});return f.fromNullable(e[0])},render:function(){return s.createElement(m,(0,n.default)({},this.props,{videoModels:this.props.model.pathEvaluator.bind(this.getVideoPath()),notification:this.getNotification(),isDataLoading:this.props.isLoading}))}});i.exports=v});C.r("akira/views/NotificationLanding/NotificationLandingLogging.jsx",function(n,t,i){"use strict";function o(n){var t=e({displayName:n.displayName?"logNotificationLanding("+n.displayName+")":"logNotificationLanding()",propTypes:Object.assign({logFocus:a.func.isRequired},n.propTypes),endFocus:void 0,componentDidMount:function(){this.startFocus()},componentWillReceiveProps:function(n){this.startFocus(n)},componentWillUnmount:function(){this.endFocus&&this.endFocus()},startFocus:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=this.getPageTrackingInfo(n);!this.endFocus&&t.isSome()&&(this.endFocus=this.props.logFocus("notificationLanding",t.get()))},getPageTrackingInfo:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props).notification.map(function(n){return n.message.templateJSON.trackingInfo})},render:function(){return s.createElement(n,this.props)}});return c(t,n),t}var s=n("react"),e=n("create-react-class"),c=n("hoist-non-react-statics"),a=n("prop-types");t.exports=o});C.r("akira/views/NotificationLanding/NotificationLandingView.jsx",function(e,n,a){"use strict";var i=e("prop-types"),o=e("react"),t=e("../../components/controls/flatButton.jsx"),l=e("../../containers/lolomo/lolomoRow.jsx"),c=e("nf-algebraic-data-types/Option"),s=e("../../../utils/Routes"),r=e("../../../player/nfplayer/components/spinner.jsx"),d=e("./getOptNotificationTemplate"),m=function(e,n){var a=d(e.notification);if(a.isNone())return o.createElement("div",{className:"notification-landing"});var i=a.get(),m=e.jawBoneVideoId||c.fromNullable(e.videoModels.getValueSync(["0","summary"])).map(function(e){return e.id}).getOrElse(null);return o.createElement("div",{className:"notification-landing"},o.createElement("div",{className:"notification-landing-title"},i.headlineText),o.createElement("div",{className:"notification-landing-summary"},i.bodyText),!e.isDataLoading&&o.createElement(l,{className:"notification-landing-row",columnsInRow:e.videoModels.getValueSync(["length"]),disableJawClose:!0,jawBoneRankNum:e.jawBoneRankNum||0,jawBoneRowNum:e.jawBoneRowNum||0,jawBoneVideoId:m,model:e.videoModels,rowNum:0,showJawBone:!0,videoRoot:null}),e.isDataLoading&&o.createElement(r,null),o.createElement("div",{className:"notification-landing-back-to-home-container lolomoRow"},o.createElement(t,{hrefLink:s.home.makePath(),label:n.getI18nString("discovery/akira/NotificationLanding","notification.landing.back.to.home")})))};m.displayName="NotificationLandingView",m.contextTypes={getI18nString:i.func.isRequired},n.exports=m});C.r("akira/views/NotificationLanding/getOptNotificationTemplate.js",function(t,e,i){"use strict";function n(t){return t.map(function(t){return t.message.templateJSON.landingPage.template})}e.exports=n});C.r("akira/components/pin/pinNumber.jsx",function(e,n,t){"use strict";function s(){if(this.props.focused){var e=p.findDOMNode(this);e&&e!==document.activeElement&&e.focus()}}var i=e("prop-types"),a=e("react"),o=e("create-react-class"),p=e("react-dom"),r=e("lodash"),l=e("../../../utils/shallowCompare"),h=e("./pinUtils"),u=o({displayName:"PinNumber",contextTypes:{getI18nString:i.func.isRequired,getModelData:i.func},shouldComponentUpdate:l.props,getDefaultProps:function(){return{handleChange:r.noop,handleInvalidInput:r.noop,handleFocus:r.noop}},componentDidMount:s,componentDidUpdate:s,needsIEHiddenValueBugFix:function(){return!this.props.showValue&&this.context.getModelData("browserInfo").isIE},handleKeyDown:function(e){var n=h.isBackspace(e);if(!this.needsIEHiddenValueBugFix())return n&&this.props.handleChange(null,this.props.index,!0),!1;var t=h.getPinInput(e),s=h.isTab(e),i=h.isDelete(e);return s||this.props.showValue&&t||e.preventDefault(),i||n?this.props.handleChange(null,this.props.index,n):t?this.props.handleChange(t,this.props.index):h.isPrintableCharacter(e)&&this.props.handleInvalidInput(this.props.index),!0},handleChange:function(e){var n=this;if(!this.needsIEHiddenValueBugFix()){h.onlyIfValid(e.target.value)?this.props.handleChange(e.target.value,this.props.index):""===e.target.value?this.props.handleChange(null,this.props.index,!1):(this.props.handleInvalidInput(this.props.index),setTimeout(function(){return n.select()}))}},select:function(){var e=p.findDOMNode(this);e&&(e.select(),e.setSelectionRange&&e.setSelectionRange(0,9999))},handleFocus:function(e){this.select(),this.props.handleFocus(e,this.props.index)},getDisplayValue:function(){var e=this.props,n=e.value,t=e.showValue;return n?t?n:"":""},render:function(){return a.createElement("input",{type:"tel",maxLength:"1",className:"pin-number-input",tabIndex:0,onKeyDown:this.handleKeyDown,onFocus:this.handleFocus,value:this.getDisplayValue(),onChange:this.handleChange,"aria-label":this.context.getI18nString("player/player","pin.input",{INDEX:this.props.index+1})})}});n.exports=u});C.r("akira/components/pin/pinPad.jsx",function(n,e,t){"use strict";var i=(n("prop-types"),n("react")),s=n("create-react-class"),o=n("lodash"),u=n("./pinNumber.jsx"),a=n("../../../utils/shallowCompare"),r=s({displayName:"PinPad",shouldComponentUpdate:a.pureRender,getDefaultProps:function(){return{showDigits:!1,onPinChange:o.noop,handlePinEntry:o.noop,pin:[null,null,null,null]}},getInitialState:function(){return{focusedIndex:0}},componentWillReceiveProps:function(n){o.every(n.pin,function(n){return null===n})&&this.setState({focusedIndex:0})},onFocus:function(n,e){this.setState({focusedIndex:e})},moveFocus:function(n){var e=this,t=this.props.pin,i=this.state.focusedIndex;if(n&&i>0||!n&&i<t.length-1){var s=n?i-1:i+1;setTimeout(function(){return e.setState({focusedIndex:s})})}},changePinDigit:function(n,e,t){var i=this.props,s=i.pin,o=i.onPinChange,u=i.handlePinEntry;(n||t)&&this.moveFocus(t);var a=s.slice();a[e]=n,o(a),a.reduce(function(n,e){return n+(e?1:0)},0)===a.length&&u(a)},render:function(){var n=this.props.pin,e=this.state.focusedIndex,t=o.map(n,function(t,s){return i.createElement(u,{key:"input"+s,handleChange:this.changePinDigit,handleInvalidInput:this.props.handleInvalidInput,handleFocus:this.onFocus,index:s,focused:e===s,value:n[s],showValue:this.props.showValue})},this);return i.createElement("div",{className:"pin-input-container"},t)}});e.exports=r});C.r("akira/components/pin/pinUtils.js",function(n,e,t){"use strict";var r=n("../../../common/keyCodes"),i=["altKey","ctrlKey","metaKey"],u=/^[0-9]$/,o=function(n){return n>=r.NUM0&&n<=r.NUM9},c=function(n){return function(e){return!!n[e]}},f=function(n){return i.some(c(n))},a=function(n){return o(n)?n-48:n},s=function(n){return f(n)?void 0:String.fromCharCode(a(n.keyCode))},y=function(n){return void 0!==n&&null!==n&&u.test(n)},d=function(n){return y(n)?n:void 0},k=function(n){return n.key&&"Unidentified"!==n.key?n.key:void 0},l=function(n){return d(k(n)||s(n))},C=function(n){return function(e){return function(t){return t.key&&"Unidentified"!==t.key?t.key===n:t.keyCode===e}}},p=C("Tab")(r.TAB),m=C("Backspace")(r.BACKSPACE),U=C("Delete")(r.DEL),v=function(n){return n>=r[0]&&n<=r.NUMSLASH},A=function(n){return!!n&&1===n.length},B=function(n){return!f(n)&&(A(n.key)||v(n.keyCode))};e.exports={getPinInput:l,isTab:p,isBackspace:m,isDelete:U,isPrintableCharacter:B,onlyIfValid:d}});C.r("akira/utils/falcor/playbackPositionCacher.js",function(e,t,i){"use strict";function n(e,t,i,n){var s=t&&e.bind(["videos",t]);if(s&&s.getBoundValue()){var a=s.getValueSync(["current","summary"]);a&&a.id===i||(s.setValueSync(["current"],["videos",i]),n&&(s.setValueSync(["seasonList","current"],["seasons",n]),s.setValueSync(["seasonList","current","episodes","current"],["videos",i])),-1===d.indexOf(t)&&d.push(t),-1===d.indexOf(n)&&d.push(n))}}function s(e,t,i,n){var s=e.bind(["videos",t]);s.getBoundValue()&&(i&&s.setValueSync(["bookmarkPosition"],i),n&&s.setValueSync(["runtime"],n),-1===u.indexOf(t)&&u.push(t))}var a=e("shakti-platform/dist/ui/ShaktiProperties"),o=e("./lolomoRefresh"),r=e("../../../common/appContext"),c=a.get("web.ui.player.exit.data.refresh.delay"),u=[],d=[],l={cachePlaybackPosition:function(e,t){if(t&&!t.fromPrePlay){var i=t.time,a=t.duration,o=t.watchedToEndOffset,r=t.ancestorId,c=t.id,u=t.nextEpisodeId,d=t.currentSeasonId,l=t.nextEpisodeSeasonId;if(r&&r!==c){var h=i&&o&&i>o;n(e,r,h?u||c:c,h?l||d:d)}s(e,c,i,a)}},syncCache:function(e,t){var i=[u,d];u=[],d=[],o.invalidateListWithContext(e,"continueWatching"),r.getModelData("truths").isWatchlistEnabled&&o.invalidateListWithContext(e,"watchlist"),e.call(["refreshVideoCurrentPositions"],i).subscribe(function(){o.refreshCurrentLolomoListWithContext(e,"continueWatching",t),r.getModelData("truths").isWatchlistEnabled&&o.refreshCurrentLolomoListWithContext(e,"watchlist",t)})},delayedSyncCache:function(e,t){var i=this;setTimeout(function(){return i.syncCache(e,t)},c)}};t.exports=l});C.r("components/presentationTracking/trackingComponents/planUpgradeConfirmationPromptPresTracking.js",function(n,t,o){"use strict";var a=n("./createTrackingComponent"),i=n("shakti-platform/dist/ui/consolidatedLogging/constants/appViewTypes");t.exports=a({appView:i.planUpgradeConfirmationPrompt})});C.r("components/presentationTracking/trackingComponents/planUpgradeGatePresTracking.js",function(n,a,t){"use strict";var e=n("./createTrackingComponent"),p=n("shakti-platform/dist/ui/consolidatedLogging/constants/appViewTypes");a.exports=e({appView:p.planUpgradeGate})});C.r("player/components/adultVerificationPrompt.jsx",function(e,t,n){"use strict";var i=e("prop-types"),o=e("react"),a=e("create-react-class"),r=e("../../akira/components/controls/flatButton.jsx"),s=e("../nfplayer/components/controls/exitButton.jsx"),l=e("../nfplayer/components/hoc/controlFocus.jsx"),c=e("../nfplayer/components/controls/controlRow.jsx"),p=e("../nfplayer/components/controls/button.jsx"),u=e("../../utils/RouteHelpers"),d=e("../../utils/shallowCompare"),f=e("../../utils/eventBus"),m=e("../../components/presentationTracking/trackingComponents/logPresentationManually"),g="player/player",y=l(s),v=m(a({displayName:"AdultVerificationPrompt",contextTypes:{getI18nString:i.func.isRequired},shouldComponentUpdate:d.props,getDefaultProps:function(){return{adultVerificationURL:"/verifyage"}},componentDidMount:function(){f.emit("logAdultVerificationShown",{videoId:this.props.videoId}),this.props.logPresented("ageVerificationDialog",{videoId:this.props.videoId})},verifyAge:function(e){window.location.replace(this.props.adultVerificationURL)},getURL:function(){var e=this.props,t=e.videoId,n=e.adultVerificationURL;return t?u.getAgeVerificationUrl(t):n},render:function(){var e=this.context.getI18nString(g,"adult.verification.cancel"),t=this.context.getI18nString(g,"adult.verification.verify"),n=this.context.getI18nString(g,"adult.verification.message"),i=this.props,a=i.cancelLink,s=i.isRTL,l=i.exitTooltip,u=this.getURL();return o.createElement("div",{className:"adult-verification-prompt"},o.createElement("div",{className:"adult-verification-prompt-content"},o.createElement("h3",{className:"adult-verification-header"},n),o.createElement("div",{className:"adult-verification-actions"},o.createElement(r,{tabIndex:0,ariaLabel:t,isPrimaryBtn:!0,onClick:this.verifyAge,label:t,hrefLink:u,styleType:r.styleTypes.FOCUSABLE_STATIC}),a&&o.createElement(r,{tabIndex:0,ariaLabel:e,onClick:this.props.onCancel,label:e,hrefLink:this.props.cancelLink,styleType:r.styleTypes.FOCUSABLE_STATIC}))),!a&&o.createElement(c,{position:c.TOP_RIGHT},o.createElement(y,{tooltip:l,tooltipAlignment:s?p.TOOLTIP_LEFT:p.TOOLTIP_RIGHT,onClick:this.props.onCancel})))}}));t.exports=v});C.r("player/components/autoplayInterrupter.jsx",function(t,e,n){"use strict";var r=t("prop-types"),a=t("react"),i=t("create-react-class"),o=t("classnames"),s=t("../../akira/components/controls/flatButton.jsx"),l=t("../../utils/eventBus"),c=t("../../components/presentationTracking/trackingComponents/logPresentationManually"),p="player/player",u=c(i({displayName:"AutoplayInterrupter",contextTypes:{getI18nString:r.func.isRequired},getDefaultProps:function(){return{shouldDisplayCTA:!1}},componentWillMount:function(){this.YO=this.context.getI18nString(p,"autoplay.interrupter"),this.BACK=this.context.getI18nString(p,"button.exit.playback.browse"),this.RESTART=this.context.getI18nString(p,"button.restart.episode"),this.PLAY=this.context.getI18nString(p,"button.continue.playing")},componentDidMount:function(){l.emit("logAutoPlayInterrupterShown",{videoId:this.props.videoId}),this.props.logPresented("autoPlayInterrupter",{videoId:this.props.videoId})},render:function(){var t=this.props,e=t.shouldDisplayCTA,n=t.restart,r=t.play,i=t.back;return a.createElement("div",{className:o("nfp-autoplay-interrupter")},a.createElement("div",null,e&&a.createElement("div",{className:o("interrupter-text")},this.YO),a.createElement("div",{className:o("interrupter-actions")},r&&a.createElement(s,{icon:"play",tabIndex:0,ariaLabel:this.PLAY,onClick:r,label:this.PLAY}),n&&a.createElement(s,{icon:"restart",tabIndex:0,ariaLabel:this.RESTART,onClick:n,label:this.RESTART}),i&&a.createElement(s,{icon:"close",tabIndex:0,ariaLabel:this.BACK,onClick:i,label:this.BACK}))))}}));e.exports=u});C.r("player/components/pinEntry.jsx",function(n,t,e){"use strict";function i(n){return 401===n.xhrStatus?c.of(n.xhrResponse||{success:!1}):c.throw(n)}function r(n){if("string"==typeof n)try{n=JSON.parse(n)}catch(n){}return{valid:n.success}}function o(n){return c.of({error:n.xhrStatus})}var s=n("prop-types"),a=n("react"),p=n("create-react-class"),l=n("lodash"),c=n("../../utils/rx/shakti-rx").RxObservable,u=n("../../utils/rx/rxUtils"),h=n("../../akira/components/pin/pinPad.jsx"),d=n("../nfplayer/components/controls/button.jsx"),m=n("../../akira/components/controls/flatButton.jsx"),P=n("../nfplayer/components/spinner.jsx"),y=n("../nfplayer/components/controls/exitButton.jsx"),f=n("../nfplayer/components/controls/controlRow.jsx"),R=n("../nfplayer/components/hoc/controlFocus.jsx"),E=n("../../akira/containers/timeoutTransition/timeoutTransitionGroup.jsx"),v=n("../../utils/XHR"),g=n("../../common/appContext"),I=n("../util/popup"),T=n("../../utils/eventBus"),b=n("classnames"),x=n("../../components/presentationTracking/trackingComponents/logPresentationManually"),S=R(y),L={menubar:!1,resizable:!1,location:!0,width:440,height:330,scrollBars:!1,chrome:!0,centered:!0},D={DEFAULT:"DEFAULT",ERROR:"PIN_ERROR",VALID:"PIN_VALID",INVALID:"PIN_INVALID"},N=[null,null,null,null],k=x(p({displayName:"PinEntry",statics:{BUNDLE:"player/player"},contextTypes:{getI18nString:s.func.isRequired},getDefaultProps:function(){return{videoId:-1,showPreReleasePin:!1}},getInitialState:function(){return{pinRequest:D.DEFAULT,pin:N,validPinEntry:!1,validatingPin:!1,performReload:!1}},componentDidMount:function(){T.emit("logPinEntryShown",{videoId:this.props.videoId}),this.props.logPresented("pinPrompt",{videoId:this.props.videoId})},handlePinEntry:function(n){l.result(document,"activeElement.blur"),this.setState({validPinEntry:!0}),this.onSubmitPin(n)},onForgotPinClick:function(){var n=this;this._forgotPinWindow=I.open({url:this.props.resetURL+"?authurl="+encodeURIComponent(l.get(g.getModelData("userInfo"),"authURL")),name:"nf-pin-reset-popup",features:L}).do(function(t){var e=t.data||{};"pinReset"===e.state&&"success"===e.status&&l.isFunction(n.props.onValidPinEntry)&&n.props.onValidPinEntry(),"resetDisabled"===e.state&&n.setState({performReload:!0}),"beforeunload"===t.type&&n.state.performReload&&setTimeout(function(){window.location.reload(!0)},0)}).subscribe(l.noop,function(n){},l.noop)},onPinChange:function(n){this.setState({pin:n})},clearPin:function(){this.setState({pin:N})},onSubmitPin:function(n){var t=this;if(!this._pinRequest){this.setState({validatingPin:!0});var e=n.join(""),s=this.props.videoId,a=c.create(function(n){return v.request({protocol:"https",resource:"/pin/service",service:"api",data:{pin:e,showPreReleasePin:t.props.showPreReleasePin,videoId:s},method:"post",authorize:!0}).subscribe(function(t){n.next(t),n.complete()},function(t){n.error(t)},function(){n.complete()})}).publishReplay().refCount();this._pinRequest=u.retryWithBackoff(a.timeout(1e4).catch(i),4,1e3).map(r).catch(o).do(this.onPinValidationAttempt).subscribe(l.noop,function(n){},l.noop),this._spinnerTimer=c.timer(1e3).takeUntil(a).do(function(){t.state.validatingPin&&t.setState({showRequestSpinner:!0})}).subscribe(l.noop,function(n){},l.noop)}},onPinValidationAttempt:function(n){n.error?(this.clearPin(),this.setState({pinRequest:D.ERROR,validPinEntry:!1,validatingPin:!1,showRequestSpinner:!1}),l.isFunction(this.props.onPinRequestError)&&this.props.onPinRequestError()):n.valid?(this.setState({pinRequest:D.VALID}),l.isFunction(this.props.onValidPinEntry)&&this.props.onValidPinEntry()):n.valid||(this.clearPin(),this.setState({pinRequest:D.INVALID,validPinEntry:!1,validatingPin:!1,showRequestSpinner:!1}),l.isFunction(this.props.onInvalidPinEntry)&&this.props.onInvalidPinEntry()),this._pinRequest=null,this._spinnerTimer=null},componentWillUnmount:function(){this._pinRequest&&this._pinRequest.unsubscribe(),this._spinnerTimer&&this._spinnerTimer.unsubscribe(),this._forgotPinWindow&&this._forgotPinWindow.unsubscribe(),I.close()},render:function(){var n=this.props,t=n.isRTL,e=n.exitTooltip,i=n.onCancel,r=this.state.showRequestSpinner,o=r?a.createElement(P,null):this.renderPinEntry(),s=r?"spinner":"pin-entry";return a.createElement("div",{className:"player-pin-entry-container"},a.createElement(E,{key:"loadingTransition",transitionName:"pinLoadingTransition",component:"div",enterTimeout:150,leaveTimeout:150,enterDelayMs:r?150:0,leaveDelayMs:r?50:0,transitionAppear:!0},a.createElement("div",{key:s,className:"loading-children-container"},o)),a.createElement(f,{position:f.TOP_RIGHT},a.createElement(S,{tooltip:e,tooltipAlignment:t?d.TOOLTIP_LEFT:d.TOOLTIP_RIGHT,onClick:i})))},renderPinEntry:function(){var n=this.state,t=n.pinRequest,e=n.validatingPin;return a.createElement("div",{className:b("player-pin-entry",{"player-pin-entry-validating":e})},this.renderPinEntryTitle(),a.createElement("div",{className:b("player-pin-entry-pad-wrapper",{"player-pin-entry-invalid":(t===D.ERROR||t===D.INVALID)&&!e})},this.renderPinPad()),this.renderForgotPinLink())},renderPinEntryTitle:function(){var n=this.state.pinRequest,t="";switch(n){case n.ERROR:t=this.context.getI18nString(k.BUNDLE,"pin.network.error");break;case D.INVALID:t=this.context.getI18nString(k.BUNDLE,"pin.invalid");break;default:t=this.context.getI18nString(k.BUNDLE,"pin.enter")}return a.createElement("h2",{className:"player-pin-entry-title"},t)},renderPinPad:function(){return a.createElement(h,{handlePinEntry:this.handlePinEntry,onPinChange:this.onPinChange,pin:this.state.pin})},renderForgotPinLink:function(){return this.props.showPreReleasePin?null:a.createElement("div",{className:"player-pin-reset-link-container"},a.createElement(m,{styleType:m.styleTypes.BORDERLESS,onClick:this.onForgotPinClick,label:this.context.getI18nString(k.BUNDLE,"pin.forgot")}))}}));t.exports=k});C.r("player/domains/playerApp/getPlaybackInitParams.js",function(e,i,r){"use strict";function t(e){return b.pick(e,Object.keys(e).filter(function(e){return-1===e.indexOf("__")}))}function a(e,i,r){return!e||isNaN(i)||isNaN(r)||"number"!=typeof i||"number"!=typeof r?e&&!isNaN(i)&&"number"==typeof i?{bookmarkByMovieId:(0,I.default)({},e,i*N),endPtsByViewableId:{}}:e&&!isNaN(r)&&"number"==typeof r?{bookmarkByMovieId:{},endPtsByViewableId:(0,I.default)({},e,r*N)}:{bookmarkByMovieId:{},endPtsByViewableId:{}}:{bookmarkByMovieId:(0,I.default)({},e,i*N),endPtsByViewableId:(0,I.default)({},e,r*N)}}function o(e,i,r){var a=t(e.getValueSync(k.getExperiencePath({videoId:i,trackId:r}))||{}),o={};if(a)if(a.type===T){var n=a;o.recap={movieId:n.trailerVideoId||n.originalTrailerId,backgroundImage:n.backgroundImg,logoImage:n.logoImg,seasonLabel:n.seasonLabel,previousSeasonLabel:n.previousSeasonLabel,backgroundImageTone:n.backgroundImageTone},o.preplay={trackId:n.trackId,movieTitle:n.title,impressionVideoId:n.impressionVideoId,impressionToken:n.impressionToken}}else if(a.type===V){var s=a,d=s.items&&s.items[0];if(d){var l={};l.videoId=d.videoId,l.ancestorVideoId=s.items[0].ancestorId,l.impressionToken=s.items[0].impressionData,o.tutorial=l,o.preplay={trackId:d.actions[0].trackId,impressionToken:s.impressionData,movieTitle:d.ancestorTitle}}}else if(a.type===R){var u=a;o.preplay={trackId:u.items[0].actions[0].trackId,movieTitle:u.items[0].ancestorTitle,impressionVideoId:u.items[0].actions[0].videoId,impressionToken:u.impressionData},o.impressionToken=u.impressionData,o.preRoll=u}return o}function n(e,i){return!0===e.getValueSync(["videos",i,"requiresPreReleasePin"])}function s(e,i){var r=e.getValueSync(["profilesList","current","summary"]);return r&&r.isKids?v.kidsHome.makePath():i?v.title.makePath({id:i}):v.browse.makePath()}function d(e,i){var r=!1;return e.index>0?r=!0:i.requestFromNetflix&&(r=!0),r}function l(e,i,r){if(i&&!b.isEmpty(i)){if(e.bookmarkByMovieId=e.bookmarkByMovieId||{},i.recap)e.recap=i.recap,e.bookmarkByMovieId[i.recap.movieId]=0,e.preReleasePinRequiredById[i.recap.movieId]=!1;else if(i.tutorial){var t=e.profileGuid,a=m.getTutorialSeen(t,i.tutorial.ancestorVideoId);a||(e.tutorial=i.tutorial,e.bookmarkByMovieId[i.tutorial.videoId]=0,e.preReleasePinRequiredById[i.tutorial.videoId]=!1)}if(r.preRollEnabled&&i.preRoll){var o=i.preRoll,n=o.items[0].actions[0].videoId;e.preRoll=o,e.bookmarkByMovieId[n]=0,e.endPtsByViewableId=e.endPtsByViewableId||{},e.endPtsByViewableId[n]=o.autoplaySeconds,e.preReleasePinRequiredById[n]=!1}e.preplay=i.preplay,e.impressionToken=i.impressionToken}}function u(e,i,r,t){var o=void 0;if(!i||!i.id)return a();var n=y.isBranchingTitle(i),s=e.bind(["videos",i.id]),d=i.id,l=parseInt(s.getValueSync(["videoScenePosition",b.get(t,"scene",null)]),10),u=parseInt(s.getValueSync(["runtime"]),10)||0,p=parseInt(b.get(t,"t",null),10),c=parseInt(s.getValueSync(["creditsOffset"]),10),I=parseInt(s.getValueSync(["bookmarkPosition"]),10);return"supplemental"===i.type&&(o=0),n&&!isNaN(I)&&(o=I),l&&(o=l),isNaN(p)||(o=p<0?Math.max(u+p,0):p>=u?u-h:p),a(d,o,c)}function p(e){var i=e.baseInitParams,r=e.falcorModel,t=e.truths,a=e.routeHandler,p=e.trackId,c=e.uiLabel,I=e.history,m=e.serverRequestId,y=e.localRequestId,k=e.rowNum,v=e.rankNum,T=e.requestCountryCode,V={},R=B.getVideoIdFromRoute(a);return g({falcorModel:r,truths:t,trackId:B.getTrackIdFromQueryWithFallback(a.query,p),videoId:R,routeHandler:a,requestCountryCode:T}).take(1).map(function(e){e=e||{};var g=e.id;V.playableId=g,"movie"===e.type?V.movieId=g:"episode"===e.type?V.episodeId=g:V.videoId=g||0;var T=a.query,N=o(r,g,B.getTrackIdFromQueryWithFallback(a.query,p)),h=u(r,e,i,a.query),S=n(r,g);V.uiLabel=c,V.backToBrowsingUrl=s(r,g),V.trackingId=B.getTrackIdFromQueryWithFallback(a.query,p),V.playcontext=B.getUIPlayContext(R,e.trackId,m,y,a.query.tctx,k,v),V.referrerIsNetflix=d(I,i),V.assistiveAudioPreferred="true"===T.ad,V.pinConfig={adultVerificationUrl:f.getAgeVerificationUrl(g)},V.preReleasePinRequiredById={},S&&g>0&&(V.preReleasePinRequiredById[g]=S);try{if(!P&&window.netflix&&window.netflix.clientNotifications){var q=window.netflix.clientNotifications,w=q.getCurrentSession("appSession"),M=q.getCurrentSession("userSession");V.appId=V.nccpAppId=w&&w.sessionId,V.sessionId=V.nccpSessionId=M&&M.sessionId}}catch(e){}return b.merge(V,i),b.assign(V,h),l(V,N,t),V})}var c=e("babel-runtime/helpers/defineProperty"),I=function(e){return e&&e.__esModule?e:{default:e}}(c),m=e("../../domains/branching/storeManager"),y=e("../../../utils/titles/interactiveTitles"),k=e("../../nfplayer/components/prePlay/prePlayCacheHandler"),f=e("../../../utils/RouteHelpers"),v=e("../../../utils/Routes"),b=e("lodash"),g=e("./getPlaybackPlayableSummary"),P=e("shakti-platform/dist/ui/utils/inNode"),B=e("./playerAppUtils"),T="recapPrePlay",V="tutorialPrePlay",R="originalsPreRoll",N=1e3,h=1;i.exports=p});C.r("player/domains/playerApp/getPlaybackPlayableSummary.js",function(r,e,a){"use strict";function t(r){var e=r.falcorModel,a=(r.truths,r.trackId),t=r.videoId,n=r.routeHandler,f=r.requestCountryCode,p=n.query&&n.query.scene,v=["videos",t];if(!isNaN(t)&&t>0){var m=e.bind(v),h=v.concat(["current"]),P=[h.concat([y])];p&&P.push(h.concat(["videoScenePosition",p]));var b=o.requestPrePlay({videoId:t,trackId:a,playbackVideoPaths:y,additionalPaths:P});return u.retryWithBackoff(b,s,c).catch(function(){var r=m.getValueSync(["current","summary"]);return d(r)?i.of(r):i.throw(new l.InvalidDataError)}).flatMap(function(){var r=m.getValueSync(["current","summary"]);return d(r)?i.of(r):i.throw(new l.InvalidDataError)})}return t<=0?i.throw(new l.TitleUnavailableError(null,f)):i.throw(new l.InvalidDataError)}var n=r("../../../utils/pathEvaluatorUtils"),o=r("../../nfplayer/components/prePlay/prePlayCacheHandler"),i=r("../../../utils/rx/shakti-rx").RxObservable,l=r("../../nfplayer/common/playerErrors"),u=r("../../../utils/rx/rxUtils"),s=3,c=500,y=["summary","bookmarkPosition","creditsOffset","type","runtime","requiresPreReleasePin"],d=function(r){return r&&!n.isValueError(r)};e.exports=t});C.r("player/nfplayer/components/advisories/advisory.jsx",function(e,a,t){"use strict";var s=(e("prop-types"),e("react")),r=e("create-react-class"),i=e("lodash"),n=e("classnames"),o=e("../../../../common/svgIcon.jsx"),d=e("../../../../utils/eventBus"),c=e("shakti-platform/dist/ui/consolidatedLogging/constants/appViewTypes"),l=e("../../../../components/presentationTracking/trackingComponents/logPresentationManually"),v={KR:{1009:"harmful-themes",1010:"harmful-themes",1011:"harmful-themes",1012:"harmful-themes",1013:"lewdness",1014:"lewdness",1015:"lewdness",1016:"lewdness",1017:"violence",1018:"violence",1019:"violence",1020:"violence",1021:"profanity",1022:"profanity",1023:"profanity",1024:"profanity",1025:"fear",1026:"fear",1027:"fear",1028:"fear",1029:"drugs",1030:"drugs",1031:"drugs",1032:"drugs",1033:"immatatable-behaviors",1034:"immatatable-behaviors",1035:"immatatable-behaviors",1036:"immatatable-behaviors"}},y=n("advisory-level-icon"),m=n("advisory-icon"),p=l(r({displayName:"Advisory",statics:{EXPIRY_NOTICE_TYPE:"expiry_notice",PRODUCT_PLACEMENT_TYPE:"product_placement_advisory",CONTENT_ADVISORY_TYPE:"content_advisory"},getDefaultProps:function(){return{videoId:-1}},componentDidMount:function(){d.emit("logAdvisoryShown",{videoId:this.props.videoId,advisoryType:i.get(this,"props.advisory.type","")}),this.props.logPresented(c.maturityAdvisory,{videoId:this.props.videoId,advisoryType:i.get(this,"props.advisory.type","")})},getIcon:function(e){var a=i.get(e,"advisory.data.icons.country",""),t=i.get(e,"advisory.data.icons.board","");return s.createElement("span",{className:n(e.className),key:"maturity-"+e.type+"-"+e.id},s.createElement(o,{name:"maturity-"+e.type+"-"+a+"-"+t+"-"+e.id}),s.createElement("span",{className:"advisory-icon-text"},e.text?e.text:null))},getReasons:function(e){var a=i.get(e,"data.icons.reasons",[]),t=i.get(e,"data.icons.country",""),s=this;if(a.length&&t){var r=void 0;return a.map(function(a){if(!(r=a&&v[t]&&v[t][a.id]))return null;var i={advisory:e,type:"advisory",id:r,text:a?a.text:"",className:m};return s.getIcon(i)})}return null},renderContentAdvisory:function(e){var a=this.getReasons(e),t=i.get(e,"data.icons.level",""),r=i.get(e,"data.i18nRating"),o={advisory:e,type:"rating",id:t,text:"",className:y};if(a)return s.createElement("div",{className:n("advisory","advisory-has-icons")},s.createElement("div",{className:n("advisory-content")},s.createElement("div",{className:n("advisory-body")},this.getIcon(o),a),r?s.createElement("h4",{className:n("advisory-header")},r):null));var d=i.get(e,"data.i18nAdvisories");return s.createElement("div",{className:n("advisory")},s.createElement("div",{className:n("advisory-bar")}),s.createElement("div",{className:n("advisory-content")},r?s.createElement("h4",{className:n("advisory-header")},r):null,d?s.createElement("p",{className:n("advisory-body")},d):null))},renderStandardAdvisory:function(e){var a=i.get(e,"data.text");return s.createElement("div",{className:n("advisory")},s.createElement("div",{className:n("advisory-bar")}),s.createElement("div",{className:n("advisory-content")},a?s.createElement("p",{className:n("advisory-body")},a):null))},render:function(){var e=this.props.advisory,a=void 0;switch(e.type){case"content_advisory":a=this.renderContentAdvisory(e);break;case"expiry_notice":case"product_placement_advisory":default:a=this.renderStandardAdvisory(e)}return a}}));a.exports=p});C.r("player/nfplayer/components/advisories/advisories.jsx",function(t,i,e){"use strict";var s=(t("prop-types"),t("react")),n=t("create-react-class"),r=t("lodash"),o=t("classnames"),a=t("./advisory.jsx"),d=t("../../../../akira/containers/timeoutTransition/timeoutTransitionGroup.jsx"),p=t("../../components/videoAspectContainer.jsx"),l=t("../../requests/advisories"),c=n({displayName:"Advisories",_timer:null,shouldComponentUpdate:function(t,i){return t.controlsAreHidden!==this.props.controlsAreHidden||t.aspectOverride!==this.props.aspectOverride||i.advisory!==this.state.advisory||null===this.state.advisory&&this.getAdvisory(this.state.index)},getInitialState:function(){var t=this.getAdvisory(0);return{index:0,advisory:t,duration:r.get(t,"displayDuration",null)}},componentDidMount:function(){this.props.controlsAreHidden&&this.state.advisory&&this.startDisplay()},componentWillReceiveProps:function(t){var i=this,e=this.getAdvisory(this.state.index);!this.state.advisory&&e?this.setState({advisory:e,duration:e.displayDuration},function(){i.props.controlsAreHidden&&i.startDisplay()}):this.props.controlsAreHidden&&!t.controlsAreHidden?this.endDisplay():!this.props.controlsAreHidden&&t.controlsAreHidden&&this.state.advisory&&this.startDisplay()},componentWillUnmount:function(){window.clearTimeout(this._timer),this.endDisplay()},getAdvisory:function(t){return this.props.advisories[t]||null},startDisplay:function(){this.endDisplay(),this._durationInterval=setInterval(this.display,1e3)},endDisplay:function(){clearInterval(this._durationInterval)},next:function(){var t=this,i=this,e=this.state.index+1,s=this.getAdvisory(e);this.endDisplay(),this.setState({index:e,advisory:s,duration:s?s.displayDuration:null},function(){s&&i.props.controlsAreHidden&&i.startDisplay()}),r.isFunction(this.props.onAdvisoriesCompleted)&&!s&&(this._timer=setTimeout(function(){t.props.onAdvisoriesCompleted()},2e3))},display:function(){var t=this.state.duration,i=t-1;if(null!==t)return i<0?void this.next():void this.setState({duration:i})},afterTransitionEnter:function(){var t=this.props.videoId,i=this.state.advisory;i&&i.type===a.EXPIRY_NOTICE_TYPE&&l.recordExpiryNoticeShown(t,function(t,i){})},render:function(){var t=this.props,i=t.aspectOverride,e=t.controlsAreHidden,n=t.videoId,r=this.state,l=r.index,c=r.advisory,v=!e||!c,u={"advisory-hidden":v};return s.createElement(p,{aspectOverride:i,width:16,height:9},s.createElement(d,{className:o("advisory-container",u),component:"div",key:"background",transitionName:"advisory-transition",transitionAppear:!0,transitionEnter:!0,transitionLeave:!0,enterTimeout:500,leaveTimeout:500},s.createElement("div",{key:"background",className:"advisory-background"})),s.createElement(d,{className:o("advisory-container",u),component:"div",key:"advisories",transitionName:"advisory-transition",transitionAppear:!0,transitionEnter:!0,transitionLeave:!0,afterTransitionEnter:this.afterTransitionEnter,enterTimeout:500,leaveTimeout:500,enterDelayMs:c?1e3*c.displayTimeGap:1e3},c&&e?s.createElement(a,{key:c.type+l,advisory:c,videoId:n}):null))}});i.exports=c});C.r("player/nfplayer/components/akiraPlayerSpinner.jsx",function(e,n,t){"use strict";var a=e("react"),i=e("create-react-class"),r=(e("prop-types"),e("./spinner.jsx")),s=e("../../../components/string.jsx"),f=e("classnames"),o=e("../../../utils/shallowCompare"),c=e("../common/playerTimingConstants"),l=i({displayName:"AkiraPlayerSpinner",_isMounted:void 0,_fadeOutTimer:void 0,_fadeInTimer:void 0,getDefaultProps:function(){return{hasTransparentBackground:!1,shouldDelaySpinnerRendering:!1}},getInitialState:function(){return{opaque:!1,buffering:this.props.isBuffering}},shouldComponentUpdate:o.pureRender,componentDidMount:function(){this._isMounted=!0,this.props.isBuffering&&this.fadeIn()},componentWillReceiveProps:function(e){var n=this.props.isBuffering;n&&!e.isBuffering?this.fadeOut():!n&&e.isBuffering&&this.fadeIn()},componentWillUnmount:function(){this._isMounted=!1,this.clearTimers()},fadeIn:function(){var e=this;if(this.state.buffering)this.setState({opaque:!0});else{var n=this.props.shouldDelaySpinnerRendering;this.setState({buffering:!0}),this.clearTimers(),this._fadeInTimer=setTimeout(function(){e._isMounted&&e.setState({opaque:!0})},16+(n?c.REBUFFERING_SIGNAL_DELAY_MS:0))}},clearTimers:function(){this._fadeInTimer&&clearTimeout(this._fadeInTimer),this._fadeOutTimer&&clearTimeout(this._fadeOutTimer)},fadeOut:function(){var e=this;this.setState({opaque:!1}),this.clearTimers(),this._fadeOutTimer=setTimeout(function(){e._isMounted&&e.setState({buffering:!1})},300)},render:function(){var e=this.props,n=e.congestedNetworkName,t=e.hasTransparentBackground,i=e.isNetworkCongested,o=e.percentage,c=this.state,l=c.buffering,u=c.opaque;return l?a.createElement("div",{className:f("AkiraPlayerSpinner--container","nfa-w-100 nfa-pos-abs nfa-d-flex nfa-h-100\n     nfa-top-0 nfa-bot-0 nfa-left-0 nfa-right-0\n     nfa-jc-center nfa-ac-center nfa-ai-center\n     nfa-flx-dir-col nfa-opacity-0",{"nfa-bgc-40-black":!t,"nfa-opacity-1":u})},a.createElement("div",{className:"nfa-pos-rel nfa-w-100 nfa-overflow-hidden nfa-h-12-em nfa-d-flex nfa-jc-center nfa-ai-center nfa-min-h-5-rem"},a.createElement(r,{percentage:o})),i&&a.createElement("h2",{className:"CongestedNetwork--title nfa-text-shadow-light nfa-fs-2-4-em nfa-ta-center"},a.createElement(s,{bundle:"player/player",stringKey:"congested.network.title",stringParams:{NETWORK:n}})),i&&a.createElement("h3",{className:"CongestedNetwork--message nfa-text-shadow-light nfa-fs-2-em nfa-m-0 nfa-p-0 nfa-ta-center"},a.createElement(s,{bundle:"player/player",stringKey:"congested.network.message"}))):null}});n.exports=l});C.r("player/nfplayer/components/branching/timeline/connectedTimeline.js",function(e,n,t){"use strict";var i=e("../../../../app/connect/connectToApps"),r=e("./timeline.jsx");n.exports=i(function(e,n){var t=e.playerApp,i=t.getAPI(),r=i.branching,o=r.getCurrentSegmentId(n.playerSessionId),s=r.getInteractiveVideoMoments(n.playerSessionId);return{currentSegmentId:o,currentTimeMS:r.getCurrentSegmentTime(n.playerSessionId),interactiveVideoMoments:s,shouldShowInteractiveScene:r.shouldShowInteractiveScene(n.playerSessionId),videoId:r.getVideoId(n.playerSessionId),xid:r.getXid(n.playerSessionId)}},void 0,void 0,{appKeys:["playerApp"]})(r)});C.r("player/nfplayer/components/controls/reportAProblem.jsx",function(e,t,r){"use strict";function o(e){return Object.keys(e).filter(function(e){return"comments"!==e&&"leaving"!==e}).reduce(function(t,r){return t||e[r]},!1)}var a,l=e("babel-runtime/helpers/defineProperty"),n=function(e){return e&&e.__esModule?e:{default:e}}(l),i=e("create-react-class"),E=e("prop-types"),s=e("react"),m=e("../../../../components/string.jsx"),c=e("../../../../components/focusTrap.jsx"),p=e("classnames"),R=e("../spinner.jsx"),_=e("../../../../utils/Routes"),b=e("../../../../utils/shallowCompare"),d=e("../../../../common/svgIcon.jsx"),u="player/player",I={BUFFERING_LINK:"BUFFERING_LINK",BUFFERING_MESSAGE:"BUFFERING_MESSAGE",CLOSE_ARIA_LABEL:"CLOSE_ARIA_LABEL",DETAILS_HEADER_OPTIONAL:"DETAILS_HEADER_OPTIONAL",DETAILS_HEADER:"DETAILS_HEADER",DIALOG_HEADER:"DIALOG_HEADER",DIALOG_SUB_HEADER:"DIALOG_SUB_HEADER",ERROR_MESSAGE:"ERROR_MESSAGE",FINISH_CTA:"FINISH_CTA",LABEL_PROBLEM_DEFINITION:"LABEL_PROBLEM_DEFINITION",LABEL_PROBLEM_HEADER:"LABEL_PROBLEM_HEADER",NETWORK_PROBLEM_DEFINITION:"NETWORK_PROBLEM_DEFINITION",NETWORK_PROBLEM_HEADER:"NETWORK_PROBLEM_HEADER",SOUND_PROBLEM_DEFINITION:"SOUND_PROBLEM_DEFINITION",SOUND_PROBLEM_HEADER:"SOUND_PROBLEM_HEADER",SUBDUB_PROBLEM_DEFINITION:"SUBDUB_PROBLEM_DEFINITION",SUBDUB_PROBLEM_HEADER:"SUBDUB_PROBLEM_HEADER",SUBMIT_BUTTON:"SUBMIT_BUTTON",THANKS_MESSAGE:"THANKS_MESSAGE",VIDEO_PROBLEM_DEFINITION:"VIDEO_PROBLEM_DEFINITION",VIDEO_PROBLEM_HEADER:"VIDEO_PROBLEM_HEADER"},D=(a={},(0,n.default)(a,I.BUFFERING_LINK,"report.problem.buffering.link"),(0,n.default)(a,I.BUFFERING_MESSAGE,"report.problem.buffering.message"),(0,n.default)(a,I.CLOSE_ARIA_LABEL,"report.problem.close.aria.label"),(0,n.default)(a,I.DETAILS_HEADER_OPTIONAL,"report.problem.details.optional.disclaimer"),(0,n.default)(a,I.DETAILS_HEADER,"report.problem.details.header"),(0,n.default)(a,I.DIALOG_HEADER,"report.problem.dialog.header"),(0,n.default)(a,I.DIALOG_SUB_HEADER,"report.problem.dialog.subheader"),(0,n.default)(a,I.ERROR_MESSAGE,"report.problem.error"),(0,n.default)(a,I.FINISH_CTA,"report.problem.finish"),(0,n.default)(a,I.LABEL_PROBLEM_DEFINITION,"report.problem.label.problem.definition"),(0,n.default)(a,I.LABEL_PROBLEM_HEADER,"report.problem.label.problem.header"),(0,n.default)(a,I.NETWORK_PROBLEM_DEFINITION,"report.problem.network.problem.definition"),(0,n.default)(a,I.NETWORK_PROBLEM_HEADER,"report.problem.network.problem.header"),(0,n.default)(a,I.SOUND_PROBLEM_DEFINITION,"report.problem.sound.problem.definition"),(0,n.default)(a,I.SOUND_PROBLEM_HEADER,"report.problem.sound.problem.header"),(0,n.default)(a,I.SUBDUB_PROBLEM_DEFINITION,"report.problem.subdub.problem.definition"),(0,n.default)(a,I.SUBDUB_PROBLEM_HEADER,"report.problem.subdub.problem.header"),(0,n.default)(a,I.SUBMIT_BUTTON,"report.problem.submit"),(0,n.default)(a,I.THANKS_MESSAGE,"report.problem.thanks.message"),(0,n.default)(a,I.VIDEO_PROBLEM_DEFINITION,"report.problem.video.problem.definition"),(0,n.default)(a,I.VIDEO_PROBLEM_HEADER,"report.problem.video.problem.header"),a),A=[{name:"mislabel",header:I.LABEL_PROBLEM_HEADER,definition:I.LABEL_PROBLEM_DEFINITION},{name:"video",header:I.VIDEO_PROBLEM_HEADER,definition:I.VIDEO_PROBLEM_DEFINITION},{name:"sound",header:I.SOUND_PROBLEM_HEADER,definition:I.SOUND_PROBLEM_DEFINITION},{name:"subtitle",header:I.SUBDUB_PROBLEM_HEADER,definition:I.SUBDUB_PROBLEM_DEFINITION},{name:"connection",header:I.NETWORK_PROBLEM_HEADER,definition:I.NETWORK_PROBLEM_DEFINITION}],N=i({displayName:"ReportAProblem",contextTypes:{actionCreators:E.object.isRequired,getI18nString:E.func.isRequired,playerSession:E.object.isRequired},_hideTimer:void 0,shouldComponentUpdate:b.pureRender,getInitialState:function(){return A.reduce(function(e,t){return e[t.name]=!1,e},{comments:""})},componentWillUnmount:function(){clearTimeout(this._hideTimer),this._hideTimer=void 0},hideDialog:function(){var e=this;this.setState({leaving:!0}),this._hideTimer=setTimeout(function(){e.context.actionCreators.hideReportAProblemDialog({sessionId:e.context.playerSession.getId()})},250)},onFormSubmit:function(e){e.preventDefault(),this.context.actionCreators.submitReportAProblemDialog({report:this.state,sessionId:this.context.playerSession.getId()})},updateCheckedStateForName:function(e){var t=this;return function(){t.setState((0,n.default)({},e,!t.state[e]))}},updateComments:function(e){this.setState({comments:e.target.value})},handleMouseUp:function(e){e.stopPropagation()},render:function(){var e=this.props,t=e.requestPending,r=e.requestSuccess,o=this.state.leaving,a="boolean"==typeof r;return s.createElement(c,{className:"ReportAProblemDialog--focus-trap"},s.createElement("div",{className:p("ReportAProblemDialog--container",{"ReportAProblemDialog--container-leaving":o}),onMouseUp:this.handleMouseUp},s.createElement("div",{className:"ReportAProblemDialog--dialog-box"},s.createElement("button",{tabIndex:0,className:"ReportAProblemDialog--close-button",type:"button","aria-label":this.context.getI18nString(u,D[I.CLOSE_ARIA_LABEL]),onClick:this.hideDialog},s.createElement(d,{name:"nfplayerExit",preventFocus:!0})),s.createElement("div",{className:p("ReportAProblemDialog--form-container",{"ReportAProblemDialog--request-complete":a})},this.renderFormContainer(),t&&!a&&s.createElement(R,null),this.renderCompletionMessage()))))},renderFormContainer:function(){var e=this,t=o(this.state),r=this.props.requestPending,a="boolean"==typeof r,l=a?-1:0;return s.createElement("div",{className:p("ReportAProblemDialog--form-contents",{"ReportAProblemDialog--request-sent":a})},s.createElement("h3",{className:"ReportAProblemDialog--header"},s.createElement(m,{bundle:u,stringKey:D[I.DIALOG_HEADER]})),s.createElement("h4",{className:"ReportAProblemDialog--sub-header"},s.createElement(m,{bundle:u,stringKey:D[I.DIALOG_SUB_HEADER]})),s.createElement("form",{className:"ReportAProblemDialog--form",onSubmit:this.onFormSubmit},A.map(function(t){var r=t.name,o=t.header,a=t.definition;return s.createElement("div",{key:r,className:"ReportAProblemDialog--fieldset"},s.createElement("div",{className:"ReportAProblemDialog--checkbox-container"},s.createElement("input",{"aria-label":e.context.getI18nString(u,D[o]),tabIndex:l,className:"ReportAProblemDialog--checkbox-input",id:r,type:"checkbox",name:r,checked:e.state[r],onChange:e.updateCheckedStateForName(r)}),s.createElement("span",{className:"ReportAProblemDialog--checkbox"})),s.createElement("div",{className:"ReportAProblemDialog--label-container"},s.createElement("label",{className:"ReportAProblemDialog--checkbox-label",htmlFor:r},s.createElement(m,{bundle:u,stringKey:D[o]}),s.createElement(m,{bundle:u,className:"ReportAProblemDialog--checkbox-label-definition",stringKey:D[a]}))))}),s.createElement("div",{className:p("ReportAProblemDialog--message-fieldset",{"ReportAProblemDialog--message-fieldset-visible":t})},s.createElement("h4",{className:"ReportAProblemDialog--details-header"},s.createElement(m,{bundle:u,stringKey:D[I.DETAILS_HEADER],className:"ReportAProblemDialog--details-question"}),s.createElement(m,{bundle:u,stringKey:D[I.DETAILS_HEADER_OPTIONAL],className:"ReportAProblemDialog--details-question-optional"})),s.createElement("textarea",{tabIndex:t?l:-1,className:"ReportAProblemDialog--textarea",rows:5,cols:30,value:this.state.comments,onChange:this.updateComments}),s.createElement("button",{tabIndex:t?l:-1,type:"submit","aria-label":this.context.getI18nString(u,D[I.SUBMIT_BUTTON]),className:"ReportAProblemDialog--submit-button"},s.createElement(m,{bundle:u,stringKey:D[I.SUBMIT_BUTTON]})))))},renderCompletionMessage:function(){var e=this.props.requestSuccess,t=this.state.connection,r="boolean"==typeof e,o=r?0:-1;return s.createElement("div",{className:p("ReportAProblemDialog--completion-container",{"ReportAProblemDialog--request-complete":r})},e&&s.createElement(m,{bundle:u,stringKey:D[I.THANKS_MESSAGE],className:"ReportAProblemDialog--confirmation-title"}),e&&t&&s.createElement(m,{bundle:u,stringKey:D[I.BUFFERING_MESSAGE],className:"ReportAProblemDialog--confirmation-subtext"}),r&&!e&&s.createElement(m,{bundle:u,stringKey:D[I.ERROR_MESSAGE],className:"ReportAProblemDialog--error-message"}),s.createElement("div",{className:"ReportAProblemDialog--button-row"},s.createElement("button",{tabIndex:o,type:"button","aria-label":this.context.getI18nString(u,D[I.FINISH_CTA]),className:"ReportAProblemDialog--finish-button",onClick:this.hideDialog},s.createElement(m,{bundle:u,stringKey:D[I.FINISH_CTA]})),e&&t&&s.createElement("a",{className:"ReportAProblemDialog--help-link",href:_.help.makePath(),target:"_blank",title:this.context.getI18nString(u,D[I.BUFFERING_LINK])},s.createElement(m,{bundle:u,stringKey:D[I.BUFFERING_LINK]}),s.createElement("span",{className:"ReportAProblemDialog--chevron"}))))}});t.exports=N});C.r("player/nfplayer/components/controls/seamlessControls.jsx",function(t,o,e){"use strict";var n=t("create-react-class"),s=t("classnames"),i=t("prop-types"),a=t("react"),r=t("../../../../akira/components/controls/flatButton.jsx"),l=t("../../../../components/presentationTracking/trackingComponents/logPresentationManually"),c=t("../../../../akira/redux/logging/commandTriggers"),d=t("../../../../akira/redux/decorators/decorateWithUuid"),u=t("../hoc/controlFocus.jsx"),h=t("./exitButton.jsx"),p=t("./button.jsx"),m="player/player",C=function(){},f=u(h),g=l(n({displayName:"SeamlessControls",_isMounted:void 0,_fadeInId:void 0,_intervalId:void 0,_fadeOutId:void 0,_watchNextPresEnd:void 0,_logCountdownActions:void 0,contextTypes:{isRtl:i.bool.isRequired,getI18nString:i.func.isRequired,playerApp:i.object.isRequired},getDefaultProps:function(){return{initialCountDownTime:5,onClickWatchCredits:C,onClickWatchNextEpisode:C,onCountdownComplete:C,shouldAutoPlay:!0,showWatchCreditsButton:!0,showControls:!0}},getInitialState:function(){return{time:this.props.initialCountDownTime,hideButtons:!0}},componentDidMount:function(){var t=this;this._isMounted=!0,this.startTimer(),this._fadeInId=setTimeout(function(){t._isMounted&&t.setState({hideButtons:!1})},16)},clearTimers:function(){this._fadeInId&&clearTimeout(this._fadeInId),this._fadeOutId&&clearTimeout(this._fadeOutId),"number"==typeof this._intervalId&&clearInterval(this._intervalId),this._logCountdownActions&&(this._logCountdownActions.logCancelCountdownTimer(),delete this._logCountdownActions)},componentWillReceiveProps:function(t){!t.showControls&&this.props.showControls?this.clearTimers():t.showControls&&!this.props.showControls&&this.startTimer()},componentWillUnmount:function(){this.clearTimers(),this._isMounted=!1,this._watchNextPresEnd&&this._watchNextPresEnd()},componentDidUpdate:function(t,o){var e=this.shouldControlsDisplay(this.props,this.state);e!==this.shouldControlsDisplay(t,o)&&(e?this._watchNextPresEnd=this.props.logPresentationStart("continueWatchingButton"):this._watchNextPresEnd&&this._watchNextPresEnd())},shouldControlsDisplay:function(t,o){return t.showControls&&!o.hideButtons},startTimer:function(){var t=this;this.props.shouldAutoPlay&&(this.clearTimers(),this._logCountdownActions=d(this.context.playerApp.getActionCreators()),this._logCountdownActions.logStartCountdownTimer({maxDuration:this.props.initialCountDownTime}),this.setState({time:this.props.initialCountDownTime}),this._intervalId=setInterval(function(){t.state.time<=1?(t._logCountdownActions&&(t._logCountdownActions.logEndCountdownTimer(),delete t._logCountdownActions),t.clearTimers(),t.setState({hideButtons:!0},function(){t._fadeOutId=setTimeout(function(){t._isMounted&&t.props.onCountdownComplete()},300)})):t.setState({time:t.state.time-1})},1e3))},render:function(){var t=this.props,o=t.backgroundImageURL,e=t.exitPlayer,n=t.onClickWatchCredits,i=t.onClickWatchNextEpisode,l=t.shouldAutoPlay,d=t.showWatchCreditsButton,u=this.context.isRtl,h=this.context.getI18nString(m,"seamless.watch.credits.button"),C=l?this.context.getI18nString(m,"seamless.next.episode.button",{SECONDS:this.state.time}):this.context.getI18nString(m,"button.next.episode");return a.createElement("div",{className:s("nfa-pos-abs nfa-top-0 nfa-left-0 nfa-right-0 nfa-bot-0 nfa-d-flex\n     nfa-ai-flex-end nfa-jc-flex-end","SeamlessControls--container",{"SeamlessControls--container-visible":this.shouldControlsDisplay(this.props,this.state)})},o&&a.createElement("div",{className:s("SeamlessControls--background-artwork",{"SeamlessControls--background-artwork-visible":!d}),style:{backgroundImage:"url("+o+")"}}),a.createElement("div",{className:"nfa-pos-abs nfa-bot-6-em nfa-right-5-em"},l&&d&&a.createElement(r,{label:h,ariaLabel:h,tabIndex:0,flatButton:!0,onClick:n}),a.createElement(r,{label:C,ariaLabel:C,tabIndex:0,flatButton:!0,isPrimaryBtn:!0,icon:"play",onClick:c.PlayNextCommand(i)})),e&&a.createElement(f,{onClick:e,iconName:"nfplayerBack",tooltipAlignment:u?p.TOOLTIP_LEFT:p.TOOLTIP_RIGHT,tooltipPosition:p.TOOLTIP_CENTER,iconFilter:"#dropShadow"}))}}));o.exports=g});C.r("player/nfplayer/components/controls/titleEvidence.jsx",function(e,t,l){"use strict";var o=(e("prop-types"),e("react")),a=e("create-react-class"),r=(e("lodash"),e("classnames")),s=e("../../../../utils/shallowCompare"),n=e("../../common/PlayerControlsType"),c=e("../../common/PlayerUIState"),i=e("../../common/playerControls"),m=c.ACTIVATING,p=c.IDLE,E=c.INACTIVE,d=c.LOADING,y=c.POWER_SAVE,N=a({displayName:"TitleEvidence",statics:{CONTROL_NAME:i.TITLE_EVIDENCE},shouldComponentUpdate:s.partialProps(["isRTL","logoURL","title","topNodeTitle","uiState"]),render:function(){var e=this.props,t=e.controlsType,l=e.isRTL,a=e.logoURL,s=e.title,c=e.topNodeTitle,i=e.uiState,N=r("PlayerControls--control-element","player-title-evidence",{"PlayerControls--control-element-hidden":t===n.REFRESH&&i===E||i===y||i===m||t!==n.REFRESH&&i!==p&&i!==d&&i!==y&&i!==m}),T=void 0,C=null;return T=!l&&a?o.createElement("img",{className:"logo",src:a}):o.createElement("h3",{className:"title"},c||""),s&&(C=o.createElement("h4",{className:"playable-title"},s)),o.createElement("div",{className:N,"aria-label":s,tabIndex:-1},T,C)}});t.exports=N});C.r("player/nfplayer/components/fatalErrorView.jsx",function(r,e,t){"use strict";var i,o=r("babel-runtime/helpers/defineProperty"),n=function(r){return r&&r.__esModule?r:{default:r}}(o),s=r("prop-types"),a=r("react"),l=r("create-react-class"),p=r("lodash"),c=r("../../../components/ux/UIMarkup.jsx"),d=r("../components/svgDefs.jsx"),u=r("../../../utils/shallowCompare"),h=r("../../nfplayer/utils/cadmiumErrors"),m="discovery/akira/BVUICommon",g="discovery/akira/BVUISafari",f="discovery/akira/BVUIIE",E="discovery/akira/BVUIFirefox",y=(i={},(0,n.default)(i,"discovery/akira/BVUIChromeCommon","discovery/akira/BVUIChromeCommon"),(0,n.default)(i,"discovery/akira/BVUIChromeOS","discovery/akira/BVUIChromeOS"),(0,n.default)(i,g,g),(0,n.default)(i,f,f),(0,n.default)(i,E,E),i),S=l({displayName:"FatalErrorView",getDefaultProps:function(){return{initParams:{},error:new Error,countryName:""}},contextTypes:{getI18nString:s.func.isRequired,models:s.object},logError:function(){var r=window.netflix.clientNotifications,e=this.props.error;if(r){var t={category:"uiQOE",modalView:"errorDialog",data:{playable:this.props.videoId||-1,code:p.get(e,"display.code",-1),core:p.result(this,"props.player.getAdditionalLogInfo")||"na"}};r.notify("uiModalViewChanged",t),r.flushBuffer&&r.flushBuffer()}},shouldComponentUpdate:u.props,_getString:function(r,e,t){var i=p.get(y,r);return this.context.getI18nString(i,e,this.context.getI18nString(m,e,t))},_getErrorString:function(r,e){var t=this.props.initParams||{},i=this,o={SIGNOUT_URL:t.signoutUrl||"",CHROME_VERSION:t.chromeVersion||"",ISO:this.props.countryName},n="",s="";return r&&r.length>0&&r.some(function(r){return s=e+r+"-phone",n=i._getString(i.props.i18nBundle,s,o),(""===n||n.indexOf(s)>=0)&&(n=i._getString(i.props.i18nBundle,e+r,o)),""!==n&&!/---.*---/.test(n)&&!/{.*}/.test(n)}),(n=n.indexOf("MISSINGRESOURCE")>-1||s.indexOf(n)>-1?"":n)||this._getString(this.props.i18nBundle,e+"default")},_getSupportUrl:function(r){var e=p.get(this,"props.initParams.errorSupportUrls["+r+"]",!1);return e?"https://help.netflix.com/support/"+e:""},componentDidMount:function(){this.logError()},render:function(){var r=this.props.exitButtonElement;return a.createElement("div",{className:"nfp-fatal-error-view"},r,a.createElement("div",{className:"information"},a.createElement("div",{className:"error-heading-wrapper"},this.renderErrorHeader()),a.createElement("div",{className:"information-wrapper"},a.createElement("div",{className:"fatal-error-view-secondary-info"},this.renderErrorTitle(),this.renderErrorText(),this.renderErrorAction(),this.renderSupportUrl()),this.renderErrorCode())),d(this.context.models))},renderErrorHeader:function(){var r=this.props,e=r.error,t=r.i18nBundle,i=h.isSignoutError(e),o=i?m:t,n=i?"ce-head-sorry":"ce-header";return a.createElement("h1",{className:"whoops"},this._getString(o,n))},renderErrorTitle:function(){return h.isSignoutError(this.props.error)?null:a.createElement("h2",{className:"error-title"},this._getErrorString(this.props.error.messageIdList,"ce-head-"))},renderErrorText:function(){var r=this.props.error,e="";return r.display?(e=h.isSignoutError(r)?this._getString(m,"ce-text-session-expired"):r.display.text?r.display.text:this._getErrorString(r.messageIdList,"ce-text-"),a.createElement(c,{tagType:"p",className:"error-text",text:e})):null},renderErrorAction:function(){var r=this.props,e=r.error,t=r.initParams,i=h.isSignoutError(e),o=t.signoutUrl||"/SignOut?lnkctr=mL",n=void 0;return i&&(n=a.createElement("a",{href:o,className:"fatal-error-view-signout-link"},this._getString(m,"ce-sign-out-button"))),n?a.createElement("div",{className:"fatal-error-view-action-container"},n):null},renderSupportUrl:function(){var r=this.props.error,e=p.get(this,"props.initParams.hideSupportUrl",!1),t=this._getString(this.props.i18nBundle,"ce-support-text"),i=this._getSupportUrl(r.display&&r.display.code||-1);return r.display&&!e&&t&&i?a.createElement("p",{className:"player-help-center"},t," ",a.createElement("a",{href:i},i)):null},renderErrorCode:function(){var r=this.props.error;return r.display?a.createElement(c,{className:"error-code",tagType:"h3",text:this._getString(this.props.i18nBundle,"ce-head-code",{CODE:r.display&&r.display.code||-1})}):null}});e.exports=S});C.r("player/nfplayer/components/netflixScreen.jsx",function(e,n,r){"use strict";var s=(e("prop-types"),e("react")),t=e("create-react-class"),a=e("../components/spinner.jsx"),c=t({displayName:"NetflixScreen",getDefaultProps:function(){return{spinner:!1}},render:function(){return s.createElement("div",{className:"nf-screen-wrapper"},s.createElement("div",{className:"nf-screen"},s.createElement("div",{className:"nf-screen-logo"}),s.createElement("div",{className:"nf-screen-light"}),s.createElement("div",{className:"nf-screen-shadow"}),this.props.spinner?s.createElement(a,null):null))}});n.exports=c});C.r("player/nfplayer/components/upsell/playerUpsellConfirmation.jsx",function(e,t,n){"use strict";function r(e){return o.of({error:e.xhrStatus})}var a=e("prop-types"),i=e("react"),l=e("create-react-class"),s=e("lodash"),o=e("../../../../utils/rx/shakti-rx").RxObservable,c=e("../../../../utils/rx/rxUtils"),p=e("classnames"),u=e("../../../../utils/eventBus"),m=e("./../controls/exitButton.jsx"),d=e("../svgDefs.jsx"),f=e("../../../../components/string.jsx"),g=e("../../../../akira/components/controls/flatButton.jsx"),h=e("../../../../utils/XHR"),E=e("../../../../akira/redux/createActionGroup"),v=e("../../../../akira/redux/profile/profileActions"),b=v.TYPES,x=e("../../../../components/presentationTracking/trackingComponents/planUpgradeConfirmationPromptPresTracking"),y=e("../hoc/controlFocus.jsx"),P=y(m),S="player/player",C=l({displayName:"PlayerUpsellConfirmation",contextTypes:{getI18nString:a.func.isRequired,models:a.object,discoveryApp:a.object},getInitialState:function(){return{validatingUpgrade:!1}},onConfirmClick:function(){var e=this;if(u.emit("playerui:click",{name:"playerUpsell",inputMethod:"pointer",button:"confirm",newPlan:e.props.upgradePlan.productId}),!this._upgradeRequest){this.setState({validatingUpgrade:!0});var t=E(this.context.discoveryApp.getActionCreators(),{start:b.selectPlan,success:b.selectPlanSuccess,failure:b.selectPlanFailed}).dispatchStartAction({planId:this.props.upgradePlan.productId}),n=o.create(function(t){return h.request({method:"post",protocol:"https",data:{productID:e.props.upgradePlan.productId,action:"commit",ts:(new Date).getTime()},resource:"/changeplan",service:"api",authorize:!0}).subscribe(function(e){t.next(e),t.complete()},function(e){t.error(e)},function(){t.complete()})}).publishReplay().refCount();this._upgradeRequest=t.wrapObservable(c.retryWithBackoff(n.timeout(1e4),4,1e3)).catch(r).do(this.onUpgradeAttempt).subscribe(s.noop,function(e){},s.noop)}},onUpgradeAttempt:function(e){this._upgradeRequest=null,e.error?s.isFunction(this.props.onUpgradeError)&&this.props.onUpgradeError():window.location.reload()},renderPlanDetails:function(){var e=this.props,t=e.currentPlan,n=e.upgradePlan,r=e.playerUpsellData;return i.createElement("div",{className:"confirmation-details"},i.createElement("div",{className:"confirmation-current-plan"},i.createElement("h2",null,this.context.getI18nString(S,"upsell.confirmation.current.header")),i.createElement("div",{className:"confirmation-detail"},i.createElement("div",null,i.createElement(f,{bundle:S,stringKey:"upsell.confirmation.streams",stringParams:{numScreens:t.maxStreams}})),i.createElement("div",{className:"price"},i.createElement(f,{bundle:S,stringKey:"upsell.confirmation.current.price",stringParams:{planPrice:t.planPrice}})))),i.createElement("div",{className:"confirmation-new-plan"},i.createElement("h2",null,this.context.getI18nString(S,"upsell.confirmation.new.header")),i.createElement("div",{className:"confirmation-detail"},i.createElement("div",null,i.createElement(f,{bundle:S,stringKey:"upsell.confirmation.streams",stringParams:{numScreens:n.maxStreams}})),i.createElement("div",{className:"price"},i.createElement(f,{bundle:S,stringKey:"upsell.confirmation.new.price",stringParams:{planPrice:n.planPrice}}),i.createElement(f,{bundle:S,stringKey:"upsell.confirmation.new.date",stringParams:{date:r.membership.billingDate},className:"date"})))))},renderButtons:function(){return i.createElement("div",{className:"confirmation-buttons"},i.createElement(g,{label:this.context.getI18nString(S,"upsell.confirmation.button.upgrade"),ariaLabel:this.context.getI18nString(S,"upsell.confirmation.button.upgrade"),flatButton:!0,onClick:this.onConfirmClick,isPrimaryBtn:!0}),i.createElement(g,{label:this.context.getI18nString(S,"upsell.confirmation.button.cancel"),ariaLabel:this.context.getI18nString(S,"upsell.confirmation.button.cancel"),flatButton:!0,onClick:this.props.onCancelClick}))},renderInfo:function(){return i.createElement("div",{className:p("player-upsell-view-secondary-info")},this.renderPlanDetails(),this.renderButtons())},render:function(){return i.createElement(x,null,i.createElement("div",{className:p("nfp-player-upsell-view")},i.createElement(P,{onClick:this.props.exitHandler}),i.createElement("div",{className:p("information")},i.createElement("div",{className:p("information-wrapper")},i.createElement("div",{className:p("upsell-heading-wrapper")},i.createElement("h1",{className:p("upsell-title")},i.createElement(f,{bundle:S,stringKey:"upsell.confirmation.title"}))),this.renderInfo())),d(this.context.models)))}});t.exports=C});C.r("player/nfplayer/components/upsell/playerUpsellError.jsx",function(e,r,l){"use strict";var t=e("prop-types"),s=e("react"),a=e("create-react-class"),n=e("classnames"),c=e("./../controls/exitButton.jsx"),p=e("../svgDefs.jsx"),o=e("../../../../components/string.jsx"),i=e("../hoc/controlFocus.jsx"),m=i(c),u=a({displayName:"PlayerUpsellOffer",contextTypes:{models:t.object},renderInfo:function(){return s.createElement("div",{className:n("player-upsell-view-secondary-info")},s.createElement(o,{bundle:"player/player",stringKey:"upsell.error.paragraph"}))},render:function(){return s.createElement("div",{className:n("nfp-player-upsell-view")},s.createElement(m,{onClick:this.props.exitHandler}),s.createElement("div",{className:n("information")},s.createElement("div",{className:n("information-wrapper")},s.createElement("div",{className:n("upsell-heading-wrapper")},s.createElement("h1",{className:n("upsell-title")},s.createElement(o,{bundle:"player/player",stringKey:"upsell.error.title"}))),this.renderInfo())),p(this.context.models))}});r.exports=u});C.r("player/nfplayer/components/upsell/playerUpsellOffer.jsx",function(e,t,r){"use strict";var n=e("prop-types"),a=e("react"),l=e("create-react-class"),s=e("lodash"),i=e("classnames"),o=e("../../../../utils/eventBus"),c=e("./../controls/exitButton.jsx"),p=e("../svgDefs.jsx"),u=e("../../../../components/string.jsx"),m=e("../../../../akira/components/controls/flatButton.jsx"),d=e("../../../../components/presentationTracking/trackingComponents/planUpgradeGatePresTracking"),f=e("../hoc/controlFocus.jsx"),g=f(c),y="player/player",h=l({displayName:"PlayerUpsellOffer",contextTypes:{getI18nString:n.func.isRequired,models:n.object},canUpgrade:function(){var e=s.get(this.props,"playerUpsellData.membership",{});return!(!this.props.upgradePlan||!e.canChangePlan)},retryClick:function(){o.emit("playerui:click",{name:"playerUpsell",inputMethod:"pointer",button:"retry"}),window.location.reload()},renderDeviceList:function(e){return e.length<1||!this.canUpgrade()?null:a.createElement("div",{className:"upsell-streams"},e.map(function(e,t){return a.createElement("div",{key:"stream"+t},a.createElement(u,{bundle:y,stringKey:"upsell.stream.info",stringParams:{deviceName:e.deviceName,videoName:e.videoName,profileName:e.profileName},dangerouslySetInnerHTML:!0}))}))},renderButtons:function(){var e=this.props,t=e.upgradePlan,r=e.onUpgradeClick,n=this.context.getI18nString(y,"upsell.offer.button.retry"),l=this.canUpgrade();return a.createElement("div",null,a.createElement("div",{className:"offer-buttons"},l&&t&&a.createElement(m,{label:a.createElement(u,{bundle:y,stringKey:"upsell.offer.button.upgrade",stringParams:{numStreams:t.maxStreams},key:"upgrade-btn"}),flatButton:!0,noIcon:!0,onClick:r,isPrimaryBtn:!0}),a.createElement("div",null,a.createElement(m,{label:n,ariaLabel:n,flatButton:!0,noIcon:!0,onClick:this.retryClick}))),l&&t&&a.createElement("div",{className:"upgrade-details"},a.createElement("p",{className:"upgrade-price"},a.createElement(u,{bundle:y,stringKey:"upsell.offer.price",stringParams:{additionalCost:t.upgradePlanIncrementalPrice}})),a.createElement("p",null,a.createElement(u,{bundle:y,stringKey:"upsell.offer.try"}))))},renderParagraph:function(e){var t=e.currentUser,r=e.streams,n=void 0,l="upsell.offer.stop.screen";return this.canUpgrade()?r||(l="upsell.offer.stop.no.screen"):l="upsell.offer.stop.no.upgrade",n=t?a.createElement(u,{bundle:y,stringKey:l,stringParams:{numScreens:r&&r.length?r.length:0,title:t.videoName},dangerouslySetInnerHTML:!0}):a.createElement(u,{bundle:y,stringKey:"upsell.offer.stop.no.customer"}),a.createElement("div",null,a.createElement("p",{className:"upsell-text"},n),r?this.renderDeviceList(r):null,this.renderButtons())},renderInfo:function(){return a.createElement("div",{className:i("player-upsell-view-secondary-info")},this.props.playerUpsellData?this.renderParagraph(this.props.playerUpsellData):null)},render:function(){return a.createElement(d,null,a.createElement("div",{className:i("nfp-player-upsell-view")},a.createElement(g,{onClick:this.props.exitHandler}),a.createElement("div",{className:i("information")},a.createElement("div",{className:i("information-wrapper")},a.createElement("div",{className:i("upsell-heading-wrapper")},a.createElement("h1",{className:i("upsell-title")},a.createElement(u,{bundle:y,stringKey:"upsell.offer.title"}))),this.renderInfo())),p(this.context.models)))}});t.exports=h});C.r("player/nfplayer/components/upsell/playerUpsellView.jsx",function(e,t,r){"use strict";var a=(e("prop-types"),e("react")),n=e("create-react-class"),l=e("lodash"),i=e("../../../../utils/eventBus"),o=e("../../utils/withRetries"),s=e("../../requests/playerupsell"),p=e("./playerUpsellOffer.jsx"),c=e("./playerUpsellConfirmation.jsx"),u=e("./playerUpsellError.jsx"),d=e("../../../../components/presentationTracking/presentationTrackingContainer.jsx"),h=n({displayName:"PlayerUpsellView",getInitialState:function(){return{view:"offer",playerUpsellData:null,currentPlan:null,upgradePlan:null}},logError:function(){var e=window.netflix.clientNotifications,t=this.props.error;if(e){var r={category:"uiQOE",modalView:"upsellDialog",data:{playable:this.props.videoId||-1,code:l.get(t,"display.code",-1),core:l.result(this,"props.player.getAdditionalLogInfo")||"na"}};e.notify("uiModalViewChanged",r),e.flushBuffer&&e.flushBuffer()}},componentDidMount:function(){this.logError(),this.getPlayerUpsellData()},getPlayerUpsellData:function(){var e=this;return o({count:5},l.partial(s,{id:e.props.videoId},l),function(t,r){return t?e.onDataError(t,null):r?e.onDataSuccess(r):e.onDataError(new Error("No concurrent stream data."),null)})},onDataError:function(e,t){this.setState({playerUpsellData:{},upgradePlan:{}})},onDataSuccess:function(e){var t=l.get(e,"membership.products",[]),r=void 0,a=void 0;t.forEach(function(e){e.currentPlan&&(r=e),e.nextUpgradePlan&&e.availableForChange&&(a=e)}),this.setState({playerUpsellData:e,currentPlan:r,upgradePlan:a})},onCancelClick:function(){this.setState({view:"offer"}),i.emit("playerui:click",{name:"playerUpsell",inputMethod:"pointer",button:"cancel"})},onUpgradeClick:function(){i.emit("playerui:click",{name:"playerUpsell",inputMethod:"pointer",button:"upgrade"}),this.setState({view:"confirmation"})},onUpgradeError:function(){this.setState({view:"error"})},renderChildView:function(){return"confirmation"===this.state.view?a.createElement(c,{playerUpsellData:this.state.playerUpsellData,upgradePlan:this.state.upgradePlan,currentPlan:this.state.currentPlan,exitHandler:this.props.exitHandler,onCancelClick:this.onCancelClick,onUpgradeError:this.onUpgradeError}):"error"===this.state.view?a.createElement(u,{exitHandler:this.props.exitHandler}):a.createElement(p,{playerUpsellData:this.state.playerUpsellData,upgradePlan:this.state.upgradePlan,exitHandler:this.props.exitHandler,onUpgradeClick:this.onUpgradeClick})},render:function(){return a.createElement(d,null,this.renderChildView())}});t.exports=h});C.r("player/nfplayer/components/watermark.jsx",function(e,t,r){"use strict";var a=(e("prop-types"),e("react")),o=e("create-react-class"),n=e("classnames"),c=e("./videoAspectContainer.jsx"),i=o({displayName:"Watermark",statics:{ANCHOR_TOP_CENTER:"top_center",ANCHOR_BOTTOM_CENTER:"bottom_center"},getDefaultProps:function(){return{anchor:"top_center",opacity:25,useAspectContainer:!0,videoWidth:16,videoHeight:9}},render:function(){var e=this.props,t=e.id,r=e.opacity,o=e.anchor,i=e.useAspectContainer,s=e.videoWidth,p=e.videoHeight,m={opacity:(isNaN(r)?25:r)/100},d=n("content-preview-watermark",{"top-center":"top_center"===o,"bottom-center":"bottom_center"===o}),h=a.createElement("p",{className:d,style:m},t);return i?a.createElement(c,{width:s,height:p},h):h}});t.exports=i});C.r("player/nfplayer/requests/playerupsell.js",function(n,l,r){"use strict";function u(n,l){return a.call([s,n.id,c],[],[],[]).subscribe(function(n){l(null,n)},function(n){l(n,null)})}function t(n,l,r){var u=n.id,t=[s,u,c];r(null,i.get(l,["jsonGraph"].concat(t).concat(["value"]).join("."),null))}function e(n,l){var r=i.assign({},o,n);return u(r,function(n,u){if(n)return l(n,null);t(r,u,l)})}var i=n("lodash"),a=n("../../../utils/falcorClientAdapter"),s="videos",c="playerUpsell",o={id:-1};l.exports=e});C.r("node_modules/ramda/src/when.js",function(r,n,e){var o=r("./internal/_curry3");n.exports=o(function(r,n,e){return r(e)?n(e):e})});C.r("player/nfplayer/components/postplay/countdownTimer.jsx",function(t,e,n){"use strict";var i=t("classnames"),s=t("create-react-class"),r=(t("prop-types"),t("react")),o=t("../../../../components/ux/UIMarkup.jsx"),p=i("countdown-container"),a=s({displayName:"CountdownTimer",getDefaultProps:function(){return{stoppedString:"",singularString:"1",getPluralString:function(t){return t&&t.toString()||"0"},onExpire:function(){},onStart:function(){},onCancel:function(){},duration:15e3,interval:1e3,stopped:!1}},getInitialState:function(){return{duration:this.props.duration,text:this.props.getPluralString(this.props.duration),stopped:!1}},currentTime:0,intervalId:void 0,componentWillReceiveProps:function(t){t.stopped&&this.stop()},componentDidMount:function(){this.props.stopped?this.stop():(this.currentTime=this.state.duration,this.intervalId=setInterval(this.updateTime,this.props.interval),this.updateTime(),this.props.onStart())},updateTime:function(){var t=this.currentTime--;t>1?this.setState({text:this.props.getPluralString(t)}):1===t?this.setState({text:this.props.singularString}):(this.props.onExpire(),this.stop({wasCancelled:!1}))},stop:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.wasCancelled,n=void 0===e||e;this.intervalId&&(clearInterval(this.intervalId),delete this.intervalId,n&&this.props.onCancel()),this.isMounted()&&this.setState({stopped:!0,text:this.props.stoppedString})},componentWillUnmount:function(){this.stop()},render:function(){return r.createElement(o,{className:p,tagType:"h3",text:this.state.text})}});e.exports=a});C.r("player/nfplayer/components/postplay/postplayPPTracker.jsx",function(e,t,r){"use strict";function a(e){var t={__meta__:e.__meta__};return s({displayName:"PresentationTrackingComponent("+e.displayName+")",statics:t,getOverrides:function(){var e=this.props,t=e.row,r=e.rank,a=e.videoId,n=e.trackId,s=e.imageKey,o={};return t&&(o.row=t),r&&(o.rank=r),a&&(o.videoId=a),n&&(o.trackId=n),s&&(o.imageKey=s),o},render:function(){var t=this.props.postplayMetadata,r=this.getOverrides(),a=i.getPresentationTrackingData(t,r);return a?n.createElement(o,a,n.createElement(e,this.props)):n.createElement(e,this.props)}})}var n=(e("prop-types"),e("react")),s=e("create-react-class"),o=e("../../../../components/presentationTracking/trackingComponents/boxartPresTracking"),i=e("../../utils/postPlayCommon.js");t.exports=a});C.r("player/nfplayer/components/postplay/thumbsRating.jsx",function(t,e,r){"use strict";var s=t("prop-types"),a=t("react"),n=t("create-react-class"),i=t("classnames"),p=t("../../../../akira/components/title/thumbs.jsx"),o=n({displayName:"ThumbsRating",contextTypes:{getI18nString:s.func.isRequired},getDefaultProps:function(){return{handleRating:function(){},shouldPrefixTitle:!0,title:""}},getInitialState:function(){return{userRating:null}},render:function(){var t=void 0;return t=""===this.props.title?this.context.getI18nString("player/player","postplay.recommendations.rate"):this.props.shouldPrefixTitle?this.context.getI18nString("player/player","postplay.rate",{title:this.props.title}):this.props.title,a.createElement("div",{className:i("pp-rating-container")},a.createElement("div",{className:i("pp-thumbs-wrapper")},a.createElement("span",{className:i("pp-rating-title")},t),a.createElement("div",{className:i("pp-thumbs-container")},a.createElement(p,{matchScore:this.props.matchScore,model:this.props.model,onRating:this.props.handleRating,readOnly:!1,tooNewForMatchScore:this.props.tooNewForMatchScore,userRating:this.props.userRating,videoId:this.props.videoId}))))}});e.exports=o});C.r("player/nfplayer/components/postplay/watchNextTimer.jsx",function(t,o,n){"use strict";var e=t("prop-types"),r=t("react"),i=t("create-react-class"),s=t("../postplay/countdownTimer.jsx"),a=t("../../../../akira/redux/decorators/decorateWithUuid"),p="player/player",c=i({displayName:"WatchNextTimer",contextTypes:{getI18nString:e.func.isRequired,playerApp:e.object.isRequired},_countdownActionCreators:void 0,getDefaultProps:function(){return{autoPlayEnabled:!0}},getPluralString:function(t){return this.context.getI18nString(p,"postplay.countdown.timer",{CURRENT_TIME:t})},shouldComponentUpdate:function(t,o){return this.props.autoPlayEnabled},onExpire:function(){this._countdownActionCreators&&(this._countdownActionCreators.logEndCountdownTimer(),delete this._countdownActionCreators),this.props.onExpire()},onStart:function(){this._countdownActionCreators=a(this.context.playerApp.getActionCreators()),this._countdownActionCreators.logStartCountdownTimer({maxDuration:this.props.duration})},onCancel:function(){this._countdownActionCreators&&(this._countdownActionCreators.logCancelCountdownTimer(),delete this._countdownActionCreators)},render:function(){var t=this.props.stoppedLabel||this.context.getI18nString(p,"postplay.countdown.timer.stopped"),o=!this.props.autoPlayEnabled||this.props.stopped;return r.createElement(s,{duration:this.props.duration,getPluralString:this.props.getCountdownText?this.props.getCountdownText:this.getPluralString,interval:this.props.interval,onExpire:this.onExpire,onStart:this.onStart,onCancel:this.onCancel,singularString:this.props.getCountdownText?this.props.getCountdownText(1):this.context.getI18nString(p,"postplay.countdown.timer.singular"),stopped:o,stoppedString:t})}});o.exports=c});C.r("player/nfplayer/domain/common/commonUtils.js",function(t,n,r){"use strict";var e=t("ramda/src/compose"),a=t("ramda/src/isNil"),u=t("ramda/src/when"),i=u(a,function(){return[]}),h=u(a,function(){return{}}),o=u(a,function(){return""}),c=u(a,function(){return!1}),f=u(a,function(){return-1}),l=function(t){return function(n){return e(t)(n)}},s=l(i),g=l(h),m=l(o),y=l(c),P=l(f),d=function(t){return s(t)},p=function(t){return g(t)},T=function(t){return m(t)},N=function(t){return y(t)},w=function(t){return P(t)};n.exports={getPathThatDefaultsToEmptyArray:d,getPathThatDefaultsToEmptyObj:p,getPathThatDefaultsToEmptyString:T,getPathThatDefaultsToFalse:N,getPathThatDefaultsToNegativeOne:w,getPathWithArrayGuard:s,getPathWithBoolGuard:y,getPathWithGuard:l,getPathWithNumberGuard:P,getPathWithObjGuard:g,getPathWithStringGuard:m,whenNilEmptyArray:i,whenNilEmptyObj:h,whenNilEmptyString:o,whenNilFalse:c,whenNilNegativeOne:f}});C.r("player/nfplayer/domain/video/videoAPI.js",function(t,e,a){"use strict";var n=t("../common/commonUtils"),r=t("ramda/src/compose"),i=t("ramda/src/path"),g=t("./videoConstants"),s=g.ratingType,o=n.getPathThatDefaultsToEmptyString,u=n.getPathThatDefaultsToFalse,R=n.getPathThatDefaultsToNegativeOne,c=R(i(["userRating","matchScore"])),m=R(i(["userRating","average"])),T=R(i(["userRating","predicted"])),d=u(i(["userRating","newForPVR"])),h=o(i(["userRating","type"])),p=R(i(["userRating","userRating"])),l=function(t){return t===s.STARS},P=function(t){return t===s.THUMB},f=r(l)(h),v=r(P)(h);e.exports={getAverageRating:m,getPredictedRating:T,getRatingMatchPercentage:c,getRatingNewForPVR:d,getRatingType:h,getRatingValue:p,isStarsRating:f,isThumbRating:v}});C.r("player/nfplayer/domain/video/videoConstants.js",function(e,s,i){"use strict";var o={STARS:"stars",THUMB:"thumb"},r={EPISODE:"episode",MOVIE:"movie",SERIES:"series",SHOW:"show"};s.exports={ratingType:o,videoType:r}});C.r("player/nfplayer/domain/video/videoUtils.js",function(i,e,o){"use strict";var s=i("./videoConstants"),n=s.videoType,r=function(i){return function(e){return i===e}},t=r(n.EPISODE),d=r(n.MOVIE),u=r(n.SERIES),v=r(n.SHOW);e.exports={isEpisode:t,isMovie:d,isSeries:u,isShow:v}});C.r("player/nfplayer/ui/postplayclassic/BackToBrowse.jsx",function(e,a,o){"use strict";var r=(e("prop-types"),e("react")),t=e("../../../../common/svgIcon.jsx"),c=function(e){var a=e.handleSelect,o=void 0===a?function(){}:a,c=e.message,s=void 0===c?"":c;return r.createElement("a",{className:"BackToBrowse",onClick:o},r.createElement(t,{filter:"#dropShadow",name:"bvuiExit",preventFocus:!0}),r.createElement("div",null,s))};c.displayName="BackToBrowse",a.exports=c});C.r("player/nfplayer/ui/postplayclassic/EpisodicTeaser.jsx",function(e,t,a){"use strict";var o=e("./BackToBrowse.jsx"),s=e("../../../../utils/shallowCompare"),r=e("create-react-class"),i=e("../../../../akira/components/controls/flatButton.jsx"),l=e("../../components/controls/playIcon.jsx"),n=e("./PlayerSpace.jsx"),c=e("../../../../components/presentationTracking/presentationTrackingContainer.jsx"),d=e("./PromotedVideo.jsx"),p=(e("prop-types"),e("react")),m=e("../../uiLabel"),g=e("../../components/postplay/watchNextTimer.jsx"),u=function(){},P=r({displayName:"EpisodicTeaser",getDefaultProps:function(){return{exitFullscreenText:"",handleAutoPlay:u,handleExitFullscreen:u,handleGoBack:u,handlePlayNextTitle:u,isFullscreen:!1,playText:"",uiLabel:m.POSTPLAY}},shouldComponentUpdate:s.pureRender,render:function(){var e=this,t=this.props.postPlayExperienceAPI,a=t.getInitialItemAPI(),s=a.getPlayTrailerActionAPI();return p.createElement(c,{className:"fill-container"},p.createElement(o,{handleSelect:this.props.handleGoBack,message:this.props.backText}),p.createElement("div",{className:"EpisodicTeaser"},p.createElement("div",{className:"EpisodicTeaser-background",style:{backgroundImage:"url("+t.getInitialItemAPI().getBackgroundAssetURL()+")"}},p.createElement("div",{className:"EpisodicTeaser-background-gradient"})),p.createElement("div",{className:"EpisodicTeaser-footer"},p.createElement("div",{className:"EpisodicTeaser-autoplay"},p.createElement(g,{autoPlayEnabled:t.isAutoplay(),duration:t.getAutoPlaySeconds(),onExpire:function(){return e.props.handleAutoPlay(s.getVideoId(),s.getAutoPlayTrackId(),t.getPlayContext({rank:0,row:0,trackId:s.getAutoPlayTrackId()}),s.getBookmarkPosition(),m.POSTPLAY)}}),p.createElement("div",{className:"EpisodicTeaser-display-text"},s.getDisplayText()),p.createElement("div",{className:"EpisodicTeaser-still-container",onClick:function(){return e.props.handlePlayNextTitle(s.getVideoId(),s.getUserPlayTrackId(),t.getPlayContext({rank:0,row:0,trackId:s.getUserPlayTrackId()}),s.getBookmarkPosition(),m.POSTPLAY)}},p.createElement("img",{className:"EpisodicTeaser-still",src:t.getInitialItemAPI().getDisplayArtAssetURL()}),p.createElement("div",{className:"EpisodicTeaser-play-icon"},p.createElement(l,{size:l.MEDIUM}))),p.createElement("div",{className:"EpisodicTeaser-action-buttons"},!s.isDefaultAction()&&p.createElement(i,{isPrimaryBtn:!1,label:this.props.playText,onClick:function(){return e.props.handlePlayNextTitle(s.getVideoId(),s.getUserPlayTrackId(),t.getPlayContext({rank:0,row:0,trackId:s.getUserPlayTrackId()}),s.getBookmarkPosition(),m.POSTPLAY)}}))))),p.createElement(n,{additionalContent:p.createElement("div",{className:"EpisodicTeaser-promoted-video"},p.createElement(d,{imageKey:t.getImageKey(),logoText:t.getPromotedTitle(),logoURL:t.getLogoAssetURL(),playContext:t.getPlayContext({rank:0,row:0}),promotedMessage:t.getPromotedSupplementalMessage(),showMoreInfo:!1,showSynopsis:!1,trackId:s.getAutoPlayTrackId(),uiLabel:m.POSTPLAY,videoId:a.getVideoId()})),showRating:!1,videoId:this.props.currentVideoId}))}});t.exports=P});C.r("player/nfplayer/ui/postplayclassic/OriginalsLogo.jsx",function(e,a,o){"use strict";var r=(e("prop-types"),e("react")),s=function(e){var a=e.logoText,o=void 0===a?"":a,s=e.logoURL,t=void 0===s?"":s;return r.createElement("div",{className:"OriginalsLogo"},""!==t?r.createElement("img",{src:t,alt:o}):r.createElement("span",{className:"OriginalsLogo-text"},o))};s.displayName="OriginalsLogo",a.exports=s});C.r("player/nfplayer/ui/postplayclassic/OriginalsPostPlay.jsx",function(e,t,s){"use strict";var o=e("./BackToBrowse.jsx"),i=e("../../../../utils/shallowCompare"),a=e("create-react-class"),n=e("../../../../akira/components/controls/flatButton.jsx"),r=e("./PlayerSpace.jsx"),l=e("../../../../components/presentationTracking/presentationTrackingContainer.jsx"),p=e("./PromotedVideo.jsx"),c=(e("prop-types"),e("react")),d=e("../../uiLabel"),g=e("../../domain/video/videoConstants"),y=function(){},m=a({displayName:"OriginalsPostPlay",getDefaultProps:function(){return{exitFullscreenText:"",handleAutoPlay:y,handleExitFullscreen:y,handleGoBack:y,handleMoreInfo:y,handlePlayNextTitle:y,isFullscreen:!1,messageHeaderText:"",messageBodyText:"",moreInfoText:"",myListText:"",playText:"",playTrailerText:"",ratingType:"",showMessage:!1,showRating:!0,uiLabel:d.POSTPLAY,userRating:0}},getInitialState:function(){return{isInMyList:this.props.postPlayExperienceAPI.getAddToMyListActionAPI().isInMyList(),userRating:this.props.userRating}},sentImpression:!1,componentDidMount:function(){if(!this.sentImpression){var e=this.props.postPlayExperienceAPI,t={impressionData:e.getInitialItemAPI().getImpressionData(),impressionToken:e.getImpressionToken(),promotedVideoId:e.getPromotedVideoId(),type:e.getType()};this.props.actionCreators.createSendImpression(t),this.sentImpression=!0}},componentWillReceiveProps:function(e){this.props.userRating!==e.userRating&&this.setState({userRating:e.userRating})},shouldComponentUpdate:i.pureRender,handleMoreInfo:function(){var e=this.props.postPlayExperienceAPI,t=e.getInitialItemAPI(),s=-1===t.getMoreInfoActionAPI().getVideoId()?e.getMoreInfoActionAPI().getVideoId():t.getMoreInfoActionAPI().getVideoId();this.props.handleMoreInfo(s)},handleThumbRating:function(e){this.setState({userRating:e})},render:function(){var e=this,t=this.props.postPlayExperienceAPI,s=t.getAddToMyListActionAPI(),i=t.getInitialItemAPI(),a=i.getPlayMovieActionAPI(),y=a.isDefaultAction()?i.getPlayEpisodeActionAPI():a,m=i.getPlayTrailerActionAPI();return c.createElement(l,{className:"fill-container"},c.createElement(o,{handleSelect:this.props.handleGoBack,message:this.props.backText}),c.createElement("div",{className:"OriginalsPostPlay"},c.createElement("div",{className:"OriginalsPostPlay-background",style:{backgroundImage:"url("+t.getInitialItemAPI().getBackgroundAssetURL()+")"}},c.createElement("div",{className:"OriginalsPostPlay-background-gradient"})),c.createElement("div",{className:"OriginalsPostPlay-promo-container"},c.createElement(p,{actions:[!y.isDefaultAction()&&c.createElement(n,{icon:"play",isPrimaryBtn:!0,key:y.getName(),label:"playEpisode"===y.getName()?this.props.getPlayEpisodeIndexText(y.getSeasonSequenceAbbr(),y.getEpisode()):this.props.playText,onClick:function(){return e.props.handlePlayNextTitle(y.getVideoId(),y.getUserPlayTrackId(),t.getPlayContext({rank:0,row:0,trackId:y.getUserPlayTrackId()}),y.getBookmarkPosition(),d.POSTPLAY)}}),!m.isDefaultAction()&&c.createElement(n,{icon:y.isDefaultAction()?"play":void 0,isPrimaryBtn:y.isDefaultAction(),key:m.getName(),label:this.props.playTrailerText,onClick:function(){return e.props.handlePlayNextTitle(m.getVideoId(),m.getUserPlayTrackId(),t.getPlayContext({rank:0,row:0,trackId:m.getUserPlayTrackId()}),m.getBookmarkPosition(),d.POSTPLAY)}}),!s.isDefaultAction()&&!this.state.isInMyList&&c.createElement(n,{icon:"mylist-add",isPrimaryBtn:!1,key:s.getName(),label:this.props.myListText,onClick:function(){e.setState({isInMyList:!0}),e.props.actionCreators.createAddToMyList({trackId:s.getTrackId(),videoId:s.getVideoId()})}}),!s.isDefaultAction()&&this.state.isInMyList&&c.createElement(n,{icon:"mylist-added",isPrimaryBtn:!1,key:s.getName(),label:this.props.myListText,onClick:function(){e.setState({isInMyList:!1}),e.props.actionCreators.createRemoveFromMyList({trackId:s.getTrackId(),videoId:s.getVideoId()})}}),this.props.isFullscreen&&c.createElement(n,{key:"exitFullscreen",label:this.props.exitFullscreenText,onClick:this.props.handleExitFullscreen})],autoplaySeconds:t.getAutoPlaySeconds(),getCountdownText:this.props.getCountdownText,handleAutoPlay:this.props.handleAutoPlay,handleMoreInfo:this.handleMoreInfo,imageKey:t.getImageKey(),isAutoplay:t.isAutoplay(),logoText:t.getPromotedTitle(),logoURL:t.getLogoAssetURL(),moreInfoText:this.props.moreInfoText,playContext:t.getPlayContext({rank:0,row:0}),promotedMessage:t.getPromotedSupplementalMessage(),showMoreInfo:!i.getMoreInfoActionAPI().isDefaultAction()||!t.getMoreInfoActionAPI().isDefaultAction(),synopsis:i.getSynopsis(),trackId:y.getAutoPlayTrackId(),uiLabel:this.props.uiLabel,videoId:i.getVideoId()}),this.props.showMessage&&(i.isEpisode()||i.isShow())&&c.createElement("section",{className:"OriginalsPostPlay-message"},c.createElement("h1",null,this.props.messageHeaderText),c.createElement("h2",null,this.props.messageBodyText)))),c.createElement(r,{handleRating:this.handleThumbRating,matchScore:this.props.matchScore,ratingType:this.props.ratingType,showRating:this.props.showRating,tooNewForMatchScore:this.props.tooNewForMatchScore,userRating:this.state.userRating,videoId:this.props.activeVideo.getId(),videoTitle:this.props.ratingType===g.ratingType.THUMB?this.props.activeVideo.getTitle():""}))}});t.exports=m});C.r("player/nfplayer/ui/postplayclassic/PlayerSpace.jsx",function(e,a,t){"use strict";var i=e("react"),o=e("../../components/postplay/thumbsRating.jsx"),n=e("../../domain/video/videoConstants"),r=function(e){var a=e.additionalContent,t=e.handleRating,r=void 0===t?function(){}:t,c=e.matchScore,l=e.ratingType,d=void 0===l?"":l,s=e.showRating,p=void 0===s||s,v=e.tooNewForMatchScore,y=e.userRating,m=void 0===y?0:y,u=e.videoId,h=void 0===u?-1:u,S=e.videoTitle,g=void 0===S?"":S;return i.createElement("div",{className:"PlayerSpace"},i.createElement("div",{className:"PlayerSpace-player"},p&&i.createElement(o,{handleRating:r,matchScore:c,shouldPrefixTitle:!1,title:d===n.ratingType.THUMB?g:"",tooNewForMatchScore:v,type:d,userRating:m,videoId:h})),a&&i.createElement("div",{className:"PlayerSpace-additional-content"},a))};r.displayName="PlayerSpace",a.exports=r});C.r("player/nfplayer/ui/postplayclassic/PromotedVideo.jsx",function(e,o,t){"use strict";var a=e("../../../../components/presentationTracking/trackingComponents/boxartPresTracking"),n=e("./OriginalsLogo.jsx"),i=e("react"),d=e("../../components/postplay/watchNextTimer.jsx"),s=function(){},r=function(e){var o=e.actions,t=void 0===o?[]:o,r=e.autoplaySeconds,l=void 0===r?20:r,c=e.getCountdownText,m=e.handleAutoPlay,p=void 0===m?s:m,v=e.handleMoreInfo,u=void 0===v?s:v,g=e.isAutoplay,y=void 0!==g&&g,x=e.imageKey,E=void 0===x?"":x,I=e.logoText,P=void 0===I?"":I,f=e.logoURL,k=void 0===f?"":f,w=e.moreInfoText,N=void 0===w?"":w,T=e.playContext,V=e.promotedMessage,h=void 0===V?"":V,C=e.showMoreInfo,L=void 0!==C&&C,b=e.showSynopsis,j=void 0===b||b,M=e.synopsis,q=void 0===M?"":M,A=e.trackId,K=e.uiLabel,R=e.videoId;return i.createElement("div",{className:"PromotedVideo"},i.createElement(a,{imageKey:E,location:T.location,rank:T.rank,requestId:T.requestId,row:T.row,trackId:A,videoId:R,listId:T.listId},i.createElement(n,{logoText:P,logoURL:k})),""!==h&&i.createElement("h2",{className:"PromotedVideo-message"},h),j&&i.createElement("div",{className:"PromotedVideo-synopsis"},q,L&&i.createElement("span",{className:"PromotedVideo-moreinfo",onClick:u},N)),y&&i.createElement("div",{className:"PromotedVideo-countdown"},i.createElement(d,{autoPlayEnabled:!0,duration:l,getCountdownText:c,onExpire:function(){p(R,A,T,null,K)}})),t.length>0&&i.createElement("div",{className:"PromotedVideo-actions"},t))};r.displayName="PromotedVideo",o.exports=r});C.r("player/nfplayer/ui/postplayclassic/Recommendation.jsx",function(e,t,o){"use strict";var a=e("../../../../utils/shallowCompare"),n=e("create-react-class"),s=e("../../components/controls/playIcon.jsx"),i=(e("prop-types"),e("react")),r=function(){},c=n({displayName:"Recommendation",getDefaultProps:function(){return{actorNames:[],actorsPrefixText:"",actorsText:"",boxshotURL:"",durationText:"",handleActive:r,handlePlayVideo:r,isActive:!1}},getInitialState:function(){return{isHovered:!1}},shouldComponentUpdate:a.pureRender,handleMouseEnter:function(){this.setState({isHovered:!0}),this.props.handleActive(this.props.videoId)},handleMouseLeave:function(){this.setState({isHovered:!1})},handlePlayVideo:function(){this.props.handlePlayVideo(this.props.videoId,this.props.playContext)},render:function(){return i.createElement("div",{className:"Recommendation"},i.createElement("div",{className:this.props.isActive?"Recommendation-boxshot-active":"Recommendation-boxshot",onClick:this.handlePlayVideo,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,style:{backgroundImage:"url("+this.props.boxshotURL+")"}},i.createElement(s,{centered:!0,fadeOnHover:!0,hiddenVisibility:!0,size:s.LARGE})),i.createElement("div",{className:this.state.isHovered?"Recommendation-bob-visible":"Recommendation-bob"},i.createElement("div",{className:"Recommendation-bob-movie-header"},i.createElement("span",{className:"Recommendation-bob-movie-title"},this.props.videoTitle),i.createElement("div",{className:"Recommendation-bob-movie-attributes"},i.createElement("span",{className:"Recommendation-bob-movie-attributes-year"},this.props.videoYear),this.props.videoMaturityRating&&i.createElement("span",{className:"Recommendation-bob-movie-attributes-rating"},this.props.videoMaturityRating),i.createElement("span",{className:"Recommendation-bob-movie-attributes-duration"},this.props.durationText))),i.createElement("div",{className:"Recommendation-bob-movie-content"},i.createElement("span",null,this.props.videoSynopsis),this.props.actorNames&&i.createElement("div",{className:"Recommendation-bob-movie-content-info"},i.createElement("ul",null,i.createElement("li",null,i.createElement("span",null,this.props.actorsPrefixText),i.createElement("span",null,this.props.actorNames.join(", "))))))))}});t.exports=c});C.r("player/nfplayer/ui/postplayclassic/Recommendations.jsx",function(e,t,i){"use strict";function a(e,t){var i=d();return e.some(function(e){return e.getVideoId()===t&&(i=e,!0)}),i}var o=e("ramda/src/always"),s=e("../../../../utils/shallowCompare"),n=e("create-react-class"),r=e("../../../../akira/components/controls/flatButton.jsx"),c=e("./PlayerSpace.jsx"),d=e("../../domain/postplay/postPlayItemAPI"),l=e("../../components/postplay/postplayPPTracker.jsx"),p=e("../../../../components/presentationTracking/presentationTrackingContainer.jsx"),m=(e("prop-types"),e("react")),h=e("./Recommendation.jsx"),g=e("../../uiLabel"),I=e("../../domain/video/videoConstants"),u=o(""),y=l(h),x="Recommendations",P=function(){},T=n({displayName:"Recommendations",getDefaultProps:function(){return{backText:"",exitFullscreenText:"",getDurationText:u,handleExitFullscreen:P,handleGoBack:P,handleMoreInfo:P,headerText:"",isFullscreen:!1,matchScore:-1,myListText:"",playNextTitle:P,predictedRating:-1,ratingText:"",ratingType:"",recommendedItems:[],showExperienceActions:!1,showRating:!0,subheaderText:"",tooNewForMatchScore:!0,trackId:-1,userRating:0}},getInitialState:function(){var e=this.props.postPlayExperienceAPI;return{activeItemVideoId:e.getInitialItemAPI().getVideoId(),isInMyList:e.getAddToMyListActionAPI().isInMyList(),userRating:"number"==typeof this.props.userRating?this.props.userRating:0}},handleActiveRecommendation:function(e){this.setState({activeItemVideoId:e})},handleGoBack:function(){this.props.handleGoBack()},handlePlayVideo:function(e,t){var i=this.props.postPlayExperienceAPI,o=a(i.getItemAPIs(),e),s=o.getFirstPlayTypeActionAPI();this.props.playNextTitle(s.getVideoId(),s.getUserPlayTrackId(),t,s.getBookmarkPosition(),g.POSTPLAY)},handleExitFullscreen:function(){this.props.handleExitFullscreen()},handleThumbRating:function(e){this.setState({userRating:e})},componentWillReceiveProps:function(e){"number"==typeof e.userRating&&this.props.userRating!==e.userRating&&this.setState({userRating:e.userRating}),-1===this.state.activeItemVideoId&&0===this.props.postPlayExperienceAPI.getItems().length&&e.postPlayExperienceAPI.getItems().length>0&&this.setState({activeItemVideoId:e.postPlayExperienceAPI.getInitialItemAPI().getVideoId()})},shouldComponentUpdate:s.pureRender,render:function(){var e=this,t=this.props.postPlayExperienceAPI.getItemAPIs(),i=a(t,this.state.activeItemVideoId).getBackgroundAssetURL(),o=this.props.postPlayExperienceAPI,s=o.getAddToMyListActionAPI(),n=o.getMoreInfoActionAPI();return m.createElement(p,{className:"filled-container"},m.createElement("div",{className:x},m.createElement("div",{className:"Recommendations-background",style:{backgroundImage:"url("+i+")"}},m.createElement("div",{className:"Recommendations-background-gradient"})),m.createElement("div",{className:"Recommendations-recommend-text"},m.createElement("h1",{className:"Recommendations-recommend-header"},this.props.headerText),m.createElement("h2",{className:"Recommendations-recommend-subheader"},this.props.subheaderText),m.createElement("div",{className:"Recommendations-action-buttons"},m.createElement(r,{label:this.props.backText,onClick:this.handleGoBack}),this.props.isFullscreen&&m.createElement(r,{label:this.props.exitFullscreenText,onClick:this.handleExitFullscreen}))),m.createElement("div",{className:"Recommendations-recommendations"},t.map(function(t,i){var a=t.getVideoId(),s=t.getFirstPlayTypeActionAPI();return m.createElement(y,{actorNames:t.getActorNames(),actorsPrefixText:e.props.actorsPrefixText,bookmarkPosition:s.getBookmarkPosition(),boxshotURL:t.getDisplayArtAssetURL(),durationText:e.props.getDurationText(t.toData()),handleActive:e.handleActiveRecommendation,handlePlayVideo:e.handlePlayVideo,isActive:a===e.state.activeItemVideoId,key:a,playContext:o.getPlayContext({rank:i,row:0,trackId:s.getTrackId(),videoId:s.getVideoId()}),postplayMetadata:o.toData(),rank:i,row:0,trackId:s.getTrackId(),videoId:a,videoMaturityRating:t.getMaturityRating(),videoSynopsis:t.getSynopsis(),videoTitle:t.getTitle(),videoYear:t.getYear()})})),m.createElement(c,{additionalContent:this.props.showExperienceActions?m.createElement("div",{className:"Recommendations-experience"},m.createElement("div",{className:"Recommendations-experience-title"},o.getPromotedTitle()),m.createElement("div",{className:"Recommendations-experience-actions"},!s.isDefaultAction()&&!this.state.isInMyList&&m.createElement(r,{icon:"mylist-add",isPrimaryBtn:!1,key:s.getName(),label:this.props.myListText,onClick:function(){e.setState({isInMyList:!0}),e.props.actionCreators.createAddToMyList({trackId:s.getTrackId(),videoId:s.getVideoId()})}}),!s.isDefaultAction()&&this.state.isInMyList&&m.createElement(r,{icon:"mylist-added",isPrimaryBtn:!1,key:s.getName(),label:this.props.myListText,onClick:function(){e.setState({isInMyList:!1}),e.props.actionCreators.createRemoveFromMyList({trackId:s.getTrackId(),videoId:s.getVideoId()})}}),!n.isDefaultAction()&&m.createElement(r,{isPrimaryBtn:!1,key:n.getName(),label:this.props.moreInfoText,onClick:function(){return e.props.handleMoreInfo(n.getVideoId())}}))):void 0,handleRating:this.handleThumbRating,matchScore:this.props.matchScore,ratingType:this.props.ratingType,showRating:this.props.showRating,tooNewForMatchScore:this.props.tooNewForMatchScore,userRating:this.state.userRating,videoId:this.props.activeVideo.getId(),videoTitle:this.props.ratingType===I.ratingType.THUMB?this.props.activeVideo.getTitle():""})))}});t.exports=T});C.r("player/nfplayer/ui/postplayclassic/WatchNext.jsx",function(e,t,a){"use strict";var s=e("./BackToBrowse.jsx"),o=e("../../../../utils/shallowCompare"),n=e("create-react-class"),i=e("../../common/episodePreviewType"),l=e("../../components/controls/episodeSelector/index.jsx"),c=e("../../../../akira/components/controls/flatButton.jsx"),r=e("../../utils/getDefaultStaticConfig"),p=e("../../common/PlayerControlsInteractionType"),d=e("../../common/PlayerUIState"),h=e("../../components/controls/playIcon.jsx"),u=e("../../components/controls/popup.jsx"),m=e("../../../../components/presentationTracking/presentationTrackingContainer.jsx"),g=e("prop-types"),y=e("react"),x=e("../../types/staticConfiguration"),E=e("../../uiLabel"),N=e("../../components/postplay/watchNextTimer.jsx"),P=e("../../../../akira/redux/logging/commandTriggers"),I=e("../../../../components/presentationTracking/trackingComponents/boxartPresTracking"),T=(e("../../components/hoc/controlFocus.jsx"),e("classnames")),A=function(){},k=n({displayName:"WatchNext",contextTypes:{getModelData:g.func.isRequired},getDefaultProps:function(){return{backText:"",episodesButtonText:"",exitFullscreenText:"",handleExitFullscreen:A,handleGoBack:A,handleAutoPlayTitle:A,handlePlayTitle:A,isFullscreen:!1}},getInitialState:function(){var e=this.context.getModelData,t=e("playerModel","playbackSupport"),a=e("geo"),s=e("browserInfo"),o=e("truths");return{isAutoplayStopped:!1,shouldAutoplay:this.props.postPlayExperienceAPI.isAutoplay(),showEpisodes:!1,staticConfiguration:Object.assign(r({browserInfo:s,geo:a,playbackSupport:t}),{controlsInteractionType:p.CLICK,episodePreviewType:o.useNeoControlsLayout?i.MODERN:i.CLASSIC})}},childContextTypes:{staticConfiguration:x},getChildContext:function(){return{staticConfiguration:this.state.staticConfiguration}},shouldComponentUpdate:o.pureRender,componentWillReceiveProps:function(e){var t=!!e.controlFocusState.focused&&this.props.controlFocusState.focused!==e.controlFocusState.focused,a=this.props.isFullscreen&&!e.isFullscreen;this.state.isAutoplayStopped||!t&&!a||this.setState({isAutoplayStopped:!0})},handleEpisodes:function(){this.setState({showEpisodes:!this.state.showEpisodes})},handleGoBack:function(){this.props.handleGoBack()},handlePlayNextEpisode:P.PlayNextCommand(function(){this.handlePlayTitle(this.props.postPlayExperienceAPI.getInitialItemAPI().getFirstPlayTypeActionAPI().getVideoId())}),handleAutoPlayNextEpisode:function(){this.handleAutoPlayTitle(this.props.postPlayExperienceAPI.getInitialItemAPI().getFirstPlayTypeActionAPI().getVideoId())},handleAutoPlayTitle:function(e){var t=this.props.postPlayExperienceAPI,a=t.getInitialItemAPI().getFirstPlayTypeActionAPI();this.props.handleAutoPlayTitle(e,a.getAutoPlayTrackId(),t.getPlayContext({rank:0,row:0,trackId:a.getAutoPlayTrackId(),videoId:e}),a.getBookmarkPosition(),E.POSTPLAY)},handlePlayTitle:function(e){var t=this.props.postPlayExperienceAPI,a=t.getInitialItemAPI().getFirstPlayTypeActionAPI();this.props.handlePlayTitle(e,a.getUserPlayTrackId(),t.getPlayContext({rank:0,row:0,trackId:a.getUserPlayTrackId(),videoId:e}),a.getBookmarkPosition(),E.POSTPLAY)},handleExitFullscreen:function(){this.props.handleExitFullscreen()},render:function(){var e=this.context.getModelData,t=this.props.postPlayExperienceAPI,a=t.getInitialItemAPI(),o=a.getFirstPlayTypeActionAPI(),n=e("truths"),i=this.props.getEpisodeTitleText({episodeNumber:o.getEpisode(),episodeTitle:a.getTitle(),seasonTitle:o.getSeasonSequenceLong(),ancestorTitle:a.getAncestorTitle(),showEpisodeNumbers:a.showEpisodeNumbers()}),r=this.props.getEpisodeInfoText({year:a.getYear(),maturityRating:a.getMaturityRating(),runtime:a.getRuntime()}),g=t.getPlayContext({rank:0,row:0}),x=o.getUserPlayTrackId(),E=o.getVideoId();return y.createElement(m,{className:"fill-container"},a.isNSRE()&&y.createElement(s,{handleSelect:this.props.handleGoBack,message:this.props.backText}),y.createElement("div",{className:"WatchNext"},y.createElement("div",{className:"WatchNext-background",style:{backgroundImage:"url("+a.getBackgroundAssetURL()+")"}},y.createElement("div",{className:"WatchNext-background-gradient"})),y.createElement("div",{className:"WatchNext-footer"},!a.isNSRE()&&y.createElement("div",{className:"WatchNext-show-info"},y.createElement("div",{className:"WatchNext-show-info-container"},y.createElement("h1",{className:"WatchNext-show-title"},a.getAncestorTitle()),y.createElement("h2",{className:"WatchNext-episode-title"},i),y.createElement("div",{className:"WatchNext-episode-info"},r),y.createElement("div",{className:"WatchNext-episode-synopsis"},a.getSynopsis()))),y.createElement("div",{className:"WatchNext-autoplay"},y.createElement("div",{onClick:this.handlePlayNextEpisode},y.createElement(N,{autoPlayEnabled:this.state.shouldAutoplay,duration:t.getAutoPlaySeconds(),handleClick:this.handlePlayNextEpisode,onExpire:this.handleAutoPlayNextEpisode,stopped:this.state.isAutoplayStopped})),y.createElement("div",{className:"WatchNext-still-container",onClick:this.handlePlayNextEpisode},y.createElement(I,{imageKey:a.getDisplayArtImageKey(),location:g.location,rank:g.rank,requestId:g.requestId,row:g.row,trackId:x,videoId:E,listId:t.getUUID()},y.createElement("img",{className:"WatchNext-still",src:a.getDisplayArtAssetURL()})),y.createElement("div",{className:"WatchNext-still-hover-container"},y.createElement(h,{size:h.MEDIUM})),a.isNSRE()&&y.createElement("div",{className:"WatchNext-nsre-info"},y.createElement("h1",null,a.getAncestorTitle()),y.createElement("div",{className:"WatchNext-nsre-title"},a.getBadgeKeys().length>0&&y.createElement("div",{className:"WatchNext-badges"},a.getBadgeKeys().map(function(e){return y.createElement("div",{className:"WatchNext-badge",key:e},e)})),y.createElement("h2",null,a.getTitle())),y.createElement("div",{className:"WatchNext-nsre-time"},y.createElement("span",null,a.getAvailabilityDateMessaging()),y.createElement("span",{className:"WatchNext-nsre-time-separator"},"|"),y.createElement("span",null,this.props.getDurationText(a.toData()))))),y.createElement("div",{className:"WatchNext-action-buttons"},!a.isNSRE()&&y.createElement(c,{label:this.props.backText,onClick:this.handleGoBack}),this.props.isFullscreen&&y.createElement(c,{label:this.props.exitFullscreenText,onClick:this.handleExitFullscreen}),y.createElement("div",{className:T("WatchNext-more-container",{"legacy-controls-styles":!n.useNeoControlsLayout})},y.createElement(l,{activeVideo:this.props.activeVideo,buttonComponentType:u.BUTTON_FLAT,buttonText:this.props.episodesButtonText,controlFocusActions:this.props.controlFocusActions,controlFocusState:this.props.controlFocusState,controlsInteractionType:p.CLICK,displayActiveSeasonCheckmark:n.useNeoControlsLayout,displayShowTitle:!0,iconName:"",isHidden:this.props.uiState!==d.ACTIVE,keepRight:!this.state.staticConfiguration.isRTL,noPadding:!1,playIconElement:n.useNeoControlsLayout?void 0:y.createElement(h,{transparent:!0,centered:!0,size:h.MEDIUM}),playNextTitle:this.handlePlayTitle,setKeepActive:this.props.setKeepActive,showActiveVideoProgress:!0,showVideoProgress:!0,tooltip:void 0,topAligned:!1,trackId:x})))))))}});t.exports=k});C.r("player/nfplayer/ui/postplayclassic/PostplayClassic.jsx",function(t,e,i){"use strict";var n=t("../../../entities/authParams"),s=n.authParamsData,o=t("../../../entities/sessionParams"),a=o.sessionParamsData,r=t("../../utils/getCadmiumCreationParameters"),l=t("../../../../utils/shallowCompare"),p=t("create-react-class"),c=t("./EpisodicTeaser.jsx"),g=t("../../../domains/playerApp/getRouteBasedPlaybackParams"),x=t("../../../../akira/utils/linkDefs.jsx"),d=t("../../../../components/presentationTracking/trackingComponents/logPresentationManually"),u=t("./NextEpisodeRecommendations.jsx"),h=t("./OriginalsPostPlay.jsx"),y=t("../../../entities/playContext"),m=t("../../utils/playerConfig"),T=t("../../common/PlayerUIState"),I=t("../../domain/postplay/postPlayConstants"),P=t("../../../entities/prepareItem"),S=t("prop-types"),E=t("react"),b=t("./Recommendations.jsx"),f=t("../../utils/time"),v=t("../../uiLabel"),N=t("../../domain/video/videoAPI"),F=t("../../domain/video/videoUtils"),R=t("./WatchNext.jsx"),k=(t("../../components/hoc/controlFocus.jsx"),t("shakti-platform/dist/ui/consolidatedLogging/constants/appViewTypes")),w="player/player",C=function(){},A=F.isShow,M=N.getPredictedRating,D=N.getRatingMatchPercentage,L=N.getRatingNewForPVR,B=N.getRatingType,V=N.getRatingValue,O=I.experienceTypes,U=function(t,e,i){var n=t.getItemAPIs();if(m.getInitParam("prepare",!1)&&!(n.length<1)){var o=n.map(function(i,n){var o=i.getFirstPlayTypeActionAPI();return P.prepareItemRecord({movieId:o.getVideoId(),params:{authParams:s({pinCapableClient:m.getInitParam("pinConfig.isEnabled",!1)}),sessionParams:a(Object.assign({},{uiplaycontext:y.toPlayContextData(t.getPlayContext())},e.sessionParams)),startPts:-1!==o.getBookmarkPosition()?o.getBookmarkPosition():void 0,trackingId:o.getTrackId()},uiLabel:v.POSTPLAY})});i.prepareVideos({prepareItems:o})}},j=d(p({displayName:"PostplayClassic",getDefaultProps:function(){return{handleExitFullscreen:C,isFullscreen:!1,trackId:-1,uiState:T.ACTIVE}},contextTypes:{discoveryApp:S.object.isRequired,getI18nString:S.func.isRequired,getICUString:S.func.isRequired,history:S.object.isRequired,isKidsPage:S.bool.isRequired,models:S.object.isRequired,routeHandler:S.object.isRequired,getModelData:S.func.isRequired},endNavigationLevel:void 0,componentDidMount:function(){var t=this.props.activeVideo.getId();this.endNavigationLevel=this.props.logNavigationLevel(k.postPlay),U(this.props.postPlayExperienceAPI,{videoId:t,sessionParams:r.getSubDubPreferences(g(this.context.routeHandler))},this.props.actionCreators)},componentWillUnmount:function(){this.endNavigationLevel&&this.endNavigationLevel()},getDurationText:function(t){if(A(t.type))return this.context.getICUString(w,"postplay.recommendations.seasons",{SEASONS:t.seasons});if(this.context.discoveryApp.getAPI().geo.showDurationOnlyInMinutes())return this.context.getICUString(w,"time.minutes",{M:t.runtime});var e=f.getFormattedTime(t.runtime);return e.h>0?this.context.getICUString(w,"time.hours.minutes",{H:e.h,M:e.m}):this.context.getICUString(w,"time.minutes",{M:e.m})},getPlayEpisodeIndexText:function(t,e){return this.context.getICUString(w,"play.season.episode.index",{EPISODE:e,SEASON_ABR:t})},getCountdownText:function(t){return this.context.getICUString(w,"postplay.autoplay.trailer",{SECONDS:t})},getEpisodeTitleText:function(t){var e=t.episodeNumber,i=t.episodeTitle,n=t.seasonTitle,s=t.ancestorTitle;return t.showEpisodeNumbers?this.context.getI18nString(w,"postplay.episode.title",{EPISODE_NUMBER:e,EPISODE_TITLE:i,SEASON_TITLE:n}):s},getEpisodeInfoText:function(t){var e=t.year,i=t.maturityRating,n=t.runtime;return i=null===i||void 0===i?"":i,E.createElement("div",{className:"postplay--episode-info-container"},E.createElement("div",{className:"postplay--episode-year"},e),E.createElement("div",{className:"postplay--episode-maturity-rating"},i),E.createElement("div",{className:"postplay--episode-time"},this.context.getI18nString(w,"time.minutes",{M:parseInt(n/60,10)})))},shouldComponentUpdate:l.pureRender,handleMoreInfo:function(t){this.context.history.pushState(x.getTitleRoute(this.context.models,this.context.isKidsPage).makePath({id:t}))},getMyListStringKey:function(){return this.context.getModelData("truths").isWatchlistEnabled?"postplay.watchlist":"postplay.mylist"},render:function(){var t=this.props,e=t.activeVideo,i=t.controlFocusActions,n=t.controlFocusState,s=t.exitPlayer,o=t.handleExitFullscreen,a=t.isFullscreen,r=t.setKeepActive,l=t.uiState,p=this.props.actionCreators,g=this.props.postPlayExperienceAPI;if(!g.getItems()||0===g.getItems().length)return null;var x=e.toVideoData(),d=D(x);switch(g.getType()){case O.nextEpisode:return E.createElement(R,{activeVideo:e,backText:this.context.getI18nString(w,"button.exit.playback.browse"),episodesButtonText:this.context.getI18nString(w,"postplay.button.moreepisodes"),exitFullscreenText:this.context.getI18nString(w,"postplay.button.exitfullscreen"),controlFocusActions:i,controlFocusState:n,getDurationText:this.getDurationText,getEpisodeInfoText:this.getEpisodeInfoText,getEpisodeTitleText:this.getEpisodeTitleText,handleExitFullscreen:o,handleGoBack:s,handleAutoPlayTitle:this.props.autoplayNextTitle,handlePlayTitle:this.props.playNextTitle,isFullscreen:a,postPlayExperienceAPI:g,setKeepActive:r,uiState:l});case O.nextEpisodeRecommendation:return E.createElement(u,{activeVideo:e,backText:this.context.getI18nString(w,"button.exit.playback.browse"),episodesButtonText:this.context.getI18nString(w,"postplay.button.moreepisodes"),exitFullscreenText:this.context.getI18nString(w,"postplay.button.exitfullscreen"),controlFocusActions:i,controlFocusState:n,getDurationText:this.getDurationText,getEpisodeInfoText:this.getEpisodeInfoText,getEpisodeTitleText:this.getEpisodeTitleText,handleExitFullscreen:o,handleGoBack:s,handleAutoPlayTitle:this.props.autoplayNextTitle,handlePlayTitle:this.props.playNextTitle,isFullscreen:a,postPlayExperienceAPI:g,setKeepActive:r,uiState:l});case O.recommendations:return E.createElement(b,{activeVideo:e,actorsPrefixText:this.context.getI18nString("discovery/akira/Title","cast.label.with.colon"),actionCreators:p,backText:this.context.getI18nString(w,"button.exit.playback.browse"),exitFullscreenText:this.context.getI18nString(w,"postplay.button.exitfullscreen"),getDurationText:this.getDurationText,handleExitFullscreen:o,handleGoBack:s,headerText:this.context.getI18nString(w,"postplay.recommendations.title"),isFullscreen:a,matchScore:d,moreInfoText:this.context.getI18nString(w,"postplay.more.info"),myListText:this.context.getI18nString(w,this.getMyListStringKey()),playNextTitle:this.props.playNextTitle,postPlayExperienceAPI:g,ratingType:B(x),readOnly:this.props.readOnly,predictedRating:M(x),showRating:this.props.displayUserRatings,subheaderText:this.context.getI18nString(w,"postplay.recommendations.subtitle"),tooNewForMatchScore:L(x),userRating:V(x)});case O.originalsPostPlay:return E.createElement(h,{actionCreators:p,activeVideo:e,backText:this.context.getI18nString(w,"button.exit.playback.browse"),exitFullscreenText:this.context.getI18nString(w,"postplay.button.exitfullscreen"),getCountdownText:this.getCountdownText,getPlayEpisodeIndexText:this.getPlayEpisodeIndexText,handleAutoPlay:this.props.playNextTitle,handleExitFullscreen:o,handleGoBack:s,handleMoreInfo:this.handleMoreInfo,handlePlayNextTitle:this.props.playNextTitle,isFullscreen:a,matchScore:d,messageHeaderText:this.context.getI18nString(w,"postplay.opp.show.trailerheadertext"),messageBodyText:this.context.getI18nString(w,"postplay.opp.show.trailermessagetext"),moreInfoText:this.context.getI18nString(w,"postplay.more.info"),myListText:this.context.getI18nString(w,this.getMyListStringKey()),playText:this.context.getI18nString(w,"postplay.play"),playTrailerText:this.context.getI18nString(w,"postplay.play.trailer"),postPlayExperienceAPI:g,ratingType:B(x),showMessage:!1,showRating:this.props.displayUserRatings,tooNewForMatchScore:L(x),userRating:V(x)});case O.originalsPostPlayPostTrailer:return E.createElement(h,{actionCreators:p,activeVideo:e,backText:this.context.getI18nString(w,"button.exit.playback.browse"),exitFullscreenText:this.context.getI18nString(w,"postplay.button.exitfullscreen"),getCountdownText:this.getCountdownText,getPlayEpisodeIndexText:this.getPlayEpisodeIndexText,handleAutoPlay:this.props.playNextTitle,handleExitFullscreen:o,handleGoBack:s,handleMoreInfo:this.handleMoreInfo,handlePlayNextTitle:this.props.playNextTitle,isFullscreen:a,matchScore:d,messageHeaderText:this.context.getI18nString(w,"postplay.opp.show.trailerheadertext"),messageBodyText:this.context.getI18nString(w,"postplay.opp.show.trailermessagetext"),moreInfoText:this.context.getI18nString(w,"postplay.more.info"),myListText:this.context.getI18nString(w,this.getMyListStringKey()),playText:this.context.getI18nString(w,"postplay.play"),playTrailerText:this.context.getI18nString(w,"postplay.play.trailer"),postPlayExperienceAPI:g,ratingType:B(x),showMessage:!0,showRating:!1,tooNewForMatchScore:L(x),userRating:V(x)});case O.episodicTeaser:return E.createElement(c,{backText:this.context.getI18nString(w,"button.exit.playback.browse"),currentVideoId:e.getId(),exitFullscreenText:this.context.getI18nString(w,"postplay.button.exitfullscreen"),getPlayEpisodeIndexText:this.getPlayEpisodeIndexText,handleAutoPlay:this.props.playNextTitle,handleExitFullscreen:o,handleGoBack:s,handlePlayNextTitle:this.props.playNextTitle,isFullscreen:a,playText:this.context.getI18nString(w,"button.play"),postPlayExperienceAPI:g});case O.originalsPostPlayRecommendations:return E.createElement(b,{activeVideo:e,actionCreators:p,backText:this.context.getI18nString(w,"button.exit.playback.browse"),exitFullscreenText:this.context.getI18nString(w,"postplay.button.exitfullscreen"),getDurationText:this.getDurationText,handleExitFullscreen:o,handleGoBack:s,handleMoreInfo:this.handleMoreInfo,headerText:this.context.getI18nString(w,"postplay.recommendations.title"),isFullscreen:a,matchScore:d,moreInfoText:this.context.getI18nString(w,"postplay.more.info"),myListText:this.context.getI18nString(w,this.getMyListStringKey()),playNextTitle:this.props.playNextTitle,postPlayExperienceAPI:g,ratingType:B(x),readOnly:this.props.readOnly,predictedRating:M(x),showExperienceActions:!0,showRating:!1,subheaderText:this.context.getI18nString(w,"postplay.recommendations.subtitle"),tooNewForMatchScore:L(x),userRating:V(x)});default:return}}}));e.exports=j});C.r("player/nfplayer/views/loading.jsx",function(e,t,n){"use strict";var o=e("prop-types"),i=e("react"),s=e("create-react-class"),l=e("lodash"),a=e("./loadingContainer.jsx"),r=e("../components/svgDefs.jsx"),p=e("../components/controls/controlRow.jsx"),d=e("../components/controls/button.jsx"),c=e("../components/controls/exitButton.jsx"),g=e("../components/hoc/controlFocus.jsx"),u=e("../../components/pinEntry.jsx"),T=e("../../components/adultVerificationPrompt.jsx"),h=e("../../nfplayer/components/spinner.jsx"),m=e("../../../utils/Routes"),E=e("../../../utils/shallowCompare"),I=g(c),P={NONE:"none",SPINNER:"spinner",PIN:"pin",ADULT_VERIFICATION:"adultVerification"},R=s({displayName:"LoadingView",contextTypes:{getI18nString:o.func.isRequired,models:o.object},shouldComponentUpdate:E.props,getDefaultProps:function(){return{exitButtonType:d.TYPES.CIRCLE,hideExitButton:!1,spinnerClass:h}},getLoadingChildType:function(){var e=this.props,t=e.showPin,n=e.showPreReleasePin,o=e.showAgeVerification,i=e.hideSpinner;return o?P.ADULT_VERIFICATION:t||n?P.PIN:i?P.NONE:P.SPINNER},render:function(){var e=this.props,t=e.activeVideo,n=e.exitButtonType,o=e.initParams,s=e.videoId,c=e.isRTL,g=e.onCancel,h=e.onValidPinEntry,E=e.noLoadingImage,R=e.noLogoTitleEvidence,x=e.showPin,L=e.showPreReleasePin,f=e.showAgeVerification,C=e.hideBackgroundImage,N=e.hideExitButton,y=e.hideTitleText,v=e.loadingBackgroundURL,U=e.exitTooltip,w=e.spinnerClass,V=e.spinnerClassProps,j=e.shouldUseStillImage,S=this.getLoadingChildType(),B=null,O=null,A=null;if(f?B=i.createElement(T,{isRTL:c,videoId:s,adultVerificationURL:l.get(o,"pinConfig.adultVerificationUrl",m.verifyAge.makePath()),onCancel:g,exitTooltip:U}):x||L?B=i.createElement(u,{isRTL:c,onCancel:g,onValidPinEntry:h,apiEndpoint:l.get(o,"pinConfig.apiEndpoint"),resetURL:l.get(o,"pinConfig.resetUrl"),videoId:s,exitTooltip:U,showPreReleasePin:L}):S===P.SPINNER&&(B=i.createElement(w,V)),t&&(O=t.getTitle(),t.isEpisodic())){var b=t.getEpisodeTitleWithSeasonLabelData();A=this.context.getI18nString("player/player",b.showEpisodeNumbers?"season.episode.title":"hidden.episode.numbers.status.episode.title",b)}return i.createElement(a,{video:E?null:t,topNodeTitle:O,logoURL:!R&&t?t.getLogoURL():null,title:A,childType:S,isRTL:c,loadingBackgroundURL:v,shouldUseStillImage:j,hideBackgroundImage:C,hideTitleText:y},r(this.context.models),B,!N&&S===P.SPINNER&&i.createElement(p,{position:p.TOP_RIGHT},i.createElement(I,{buttonType:n,tooltip:U,tooltipAlignment:c?d.TOOLTIP_LEFT:d.TOOLTIP_RIGHT,onClick:g})))}});t.exports=R});C.r("player/nfplayer/views/loadingContainer.jsx",function(e,t,o){"use strict";var n=e("prop-types"),a=e("react"),i=e("create-react-class"),r=e("classnames"),s=e("../../../akira/containers/timeoutTransition/timeoutTransitionGroup.jsx"),d=e("../components/controls/titleEvidence.jsx"),g=e("../common/PlayerUIState"),l=e("../common/PlayerControlsType"),c=e("../components/controls/controlRow.jsx"),m=e("../../../utils/shallowCompare"),u=i({displayName:"Loading",contextTypes:{getI18nString:n.func.isRequired,models:n.object.isRequired},getInitialState:function(){return{backgroundImageLoaded:!1}},getDefaultProps:function(){return{shouldUseStillImage:!1}},_backgroundImage:void 0,shouldComponentUpdate:m.pureRender,componentDidMount:function(){this._backgroundImage=document.createElement("img"),this._backgroundImage.addEventListener("load",this.onBackgroundImageLoad),this.props.video&&this.setBackgroundImageSrc()},componentDidUpdate:function(e){!e.video&&this.props.video&&this._backgroundImage&&this.setBackgroundImageSrc()},componentWillUnmount:function(){this._backgroundImage&&this._backgroundImage.removeEventListener("load",this.onBackgroundImageLoad)},onBackgroundImageLoad:function(e){this.setState({backgroundImageLoaded:!0})},setBackgroundImageSrc:function(){var e=this._backgroundImage,t=this.getLoadingImageUrl();e&&t&&(e.src=t)},getTitle:function(){return this.props.video?this.props.video.getTitle():void 0},getSubtitle:function(){var e=this.props.video;if(e&&e.isEpisodic())return this.context.getI18nString("player/player","loading.episode.title",{SEASON_ABR:e.getSeason().getShortName(),EPISODE:e.getEpisodeNumber(),TITLE:e.getEpisodeTitle()})},getLoadingImageUrl:function(){return this.props.loadingBackgroundURL?this.props.loadingBackgroundURL:this.props.video?this.props.video.getLoadingImageUrl(this.props.shouldUseStillImage):void 0},render:function(){var e=this.props,t=e.children,o=e.childType,n=e.logoURL,i=e.isRTL,m=e.title,u=e.topNodeTitle,p=e.loadingBackgroundURL,h=e.hideBackgroundImage,I=e.hideTitleText,k=this.getLoadingImageUrl(),v={};k&&(v.backgroundImage="url("+k+")");var T=this.state.backgroundImageLoaded||p,E=r("player-loading-background-image",{"player-loading-background-image-loading":!T,"player-loading-background-image-loaded":T});return a.createElement("div",{className:"player-loading"},!h&&a.createElement("div",{className:E,style:v}),a.createElement("div",{className:"gradient"}),!I&&u&&a.createElement(c,{position:c.TOP_LEFT},a.createElement(d,{controlsType:l.REFRESH,isRTL:i,logoURL:n,title:m,topNodeTitle:u,uiState:g.ACTIVE})),a.createElement(s,{key:"loadingTransition",transitionName:"loadingTransition",component:"div",enterTimeout:300,leaveTimeout:300,transitionAppear:!0},a.createElement("div",{key:o,className:"loading-children-container"},t)))}});t.exports=u});C.r("player/util/popup.js",function(e,n,t){"use strict";function o(e){return e=e||{},!h||h.closed||e.url!==g?u(e):h.focus(),m}function i(e){var n=/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/,t=n.exec(e);return t[1]+":"+t[2]+t[3]}function r(){b&&b.next(),h&&h.close(),h=null,g=null,p=null,x=null,w=null,b=null,m=null}function u(e){r(),g=e.url,p=e.name,x=l(e.features),b=new f;var n=d(x);h=window.open(g,p,n),w=i(g),s()}function l(e){var n=e.width||300,t=e.height||200,o=screen.availTop,i=screen.availLeft,r={width:n,height:t},u={},l=void 0,d=void 0,s=void 0;return e.centered&&(l=document.body.getBoundingClientRect(),d=l.width,s=l.height,r.top=s/2-t/2+o,r.left=d/2-n/2+i),c.assign(e,u,{centered:!0}),c.assign(r,u)}function d(e){var n="",t=void 0;return c.forOwn(e,function(o){t=e[o],!0===t?t="yes":!1===t?t="no":t+="",n+=(n.length?",":"")+o+"="+t}),n}function s(){h&&!h.closed&&(m=v.merge(v.fromEvent(h,"message"),v.fromEvent(h,"beforeunload")).takeUntil(b).filter(a))}function a(e){return!(!e||"beforeunload"!==e.type)||e&&e.origin===w}var c=e("lodash"),v=e("../../utils/rx/shakti-rx").RxObservable,f=e("../../utils/rx/shakti-rx").RxSubject,h=void 0,g=void 0,p=void 0,x=void 0,w=void 0,b=void 0,m=void 0;n.exports={open:o,close:r}});C.r("utils/rx/rxUtils.js",function(t,r,n){"use strict";var i=t("../../utils/rx/shakti-rx").RxObservable;r.exports={retryWithBackoff:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,e=1;return r=r>0?r:1,t.retryWhen(function(t){return t.switchMap(function(t){return r===e?i.throw(t):i.timer(Math.pow(2,e++)*n)})}).do(function(){e=1})}}});C.r("akira/views/akiraPlayer.jsx",function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t,a){return Se(e,t,{videoPrefix:null})}var r=e("babel-runtime/helpers/extends"),o=s(r),n=e("babel-runtime/helpers/typeof"),l=s(n),p=e("../../player/entities/playContext"),d=p.playContextRecord,c=p.toPlayContextData,y=p.toPlayContextRecord,u=e("../../player/nfplayer/components/advisories/advisories.jsx"),h=e("../../player/components/autoplayInterrupter.jsx"),m=e("ramda/src/always"),P=e("../../player/nfplayer/components/controls/button.jsx"),I=e("classnames"),g=e("../../utils/shallowCompare"),v=e("ramda/src/cond"),f=e("create-react-class"),S=e("../../player/nfplayer/components/akiraPlayerSpinner.jsx"),x=e("../../utils/eventBus"),A=e("../../player/nfplayer/common/episodePreviewType"),C=e("../../player/nfplayer/components/controls/exitButton.jsx"),E=e("../../player/nfplayer/components/fatalErrorView.jsx"),T=e("../../player/nfplayer/utils/fullscreen"),b=e("../../player/nfplayer/components/hoc/controlFocus.jsx"),k=e("shakti-platform/dist/ui/utils/inNode"),w=e("../../player/nfplayer/utils/isLargeDimensions"),L=e("ramda/src/isNil"),N=e("../utils/linkDefs.jsx"),R=e("../../player/nfplayer/views/loading.jsx"),D=e("../../player/nfplayer/components/netflixScreen.jsx"),V=e("../../player/nfplayer/NFPlayer.jsx"),M=e("ramda/src/pathOr"),B=e("../utils/falcor/playbackPositionCacher"),O=e("../../player/nfplayer/common/PlayerControlsInteractionType"),q=e("../../player/nfplayer/common/playerEngines"),U=e("../../player/nfplayer/common/playerErrors"),F=e("../../player/nfplayer/utils/playerSession"),W=e("../../player/nfplayer/common/PlayerUIState"),j=e("../../player/nfplayer/components/upsell/playerUpsellView.jsx"),_=e("../../player/nfplayer/components/prePlay/preRollContainer.jsx"),H=e("../../player/nfplayer/ui/postplayclassic/PostplayClassic.jsx"),G=e("../../player/nfplayer/domain/postplay/postPlayConstants"),Y=e("ramda/src/propOr"),K=e("prop-types"),z=e("react"),X=e("../../player/nfplayer/components/controls/reportAProblem.jsx"),Q=e("../../player/nfplayer/components/controls/seamlessControls.jsx"),J=e("../../utils/rx/shakti-rx").RxSubject,Z=e("../../utils/rx/shakti-rx").RxObservable,$=e("../../player/session/sessionManager"),ee=e("../containers/title/titleCardContainer.jsx"),te=e("../../player/nfplayer/uiContext"),ae=e("../../player/nfplayer/uiLabel"),se=e("../../player/nfplayer/components/watermark.jsx"),ie=e("../../player/nfplayer/components/branching/timeline/connectedTimeline"),re=e("../../player/nfplayer/components/branching/interactiveScene/interactiveSceneManager.jsx"),oe=e("../../player/domains/videoPlayer/videoPlayerConstants"),ne=oe.playerIdentifier,le=e("../../player/domains/playerApp/playerAppUtils"),pe=e("../../player/domains/playerApp/getPlaybackInitParams"),de=e("../../player/domains/playerApp/getPlaybackPlayableSummary"),ce=e("../../utils/titles/interactiveTitles"),ye=e("../../player/entities/prepareItem"),ue=ye.prepareItemRecord,he=e("../../player/entities/authParams"),me=he.authParamsData,Pe=e("../../player/entities/sessionParams"),Ie=Pe.sessionParamsData,ge=e("../../player/nfplayer/components/controls/playerControlsLegacyStyles.jsx"),ve=e("../../player/nfplayer/components/controls/playerControlsNeoLabeledLayout.jsx"),fe=e("../../utils/consolidatedLogging"),Se=ee.getPaths,xe=b(H),Ae=b(C),Ce=function(){},Ee={defaultStrategy:{bobs:!0,jawBones:!0}},Te=function(e){return!L(e)&&T.isFullscreen(e)},be=v([[function(e,t){return e},m(W.INACTIVE)],[function(e,t){return t},m(W.ACTIVE)]]),ke=function(e){return Y(0,"playableId",e)},we=function(e,t){return Array.isArray(e)&&e.length>0&&!t},Le=function(e,t){var a=e.getValueSync(["videos",t,"current","summary"]);return!(!a||!ce.isBranchingTitle(a))},Ne=f({displayName:"BaseAkiraPlayer",childContextTypes:{playerSession:K.instanceOf(F)},getChildContext:function(){return{playerSession:this.props.playerSession}},getDefaultProps:function(){return{advisories:void 0,bufferingProgress:void 0,congestedNetworkName:"",displayUserRatings:!0,isBuffering:!1,isNetworkCongested:!1,isVideoEnded:!1,isVideoReadyForSeamlessTransition:!1,isVideoTransitioningSeamlessly:!1,isInteractiveSceneTransitioning:!1,playerSession:new F({id:ne.Watch,bindWatermarkEvent:!0,pollDynamicMessages:!0,fetchMetadata:!0,views:{loading:R,unloading:D,upsell:j,error:E}}),postPlayExperienceAPI:void 0,reportAProblemRequestPending:void 0,reportAProblemRequestSuccess:void 0,showReportAProblemDialog:!1,showSeamlessControls:!1,showSeamlessExperience:!1,updateDimensions:Ce}},_attemptSeamlessTransition:void 0,player:void 0,playerTimedOut:!1,disposed:new J,contextTypes:{getModelData:K.func.isRequired,history:K.object.isRequired,isRtl:K.bool,models:K.object,playerApp:K.object.isRequired,discoveryApp:K.object,routeHandler:K.object.isRequired},statics:{getPaths:i,prefetchStrategies:Ee,defaultStrategy:Ee.defaultStrategy},shouldComponentUpdate:g.pureRender,getInitialState:function(){var e=this.context,t=e.playerApp,a=e.discoveryApp,s=e.getModelData;return this.props.playerSession.updateOptions({playerApp:t,discoveryApp:a}),{advisoriesCompleted:!1,autoplayCount:0,autoplayInterrupter:!1,playbackEnded:!1,showPostPlay:!1,stoppedPostplay:!1,trackId:-1,uiLabel:ae.STANDARD,timedTextBoundsOverride:void 0,prePlayWatched:void 0,mainTitlePreloaded:!1,showKeyboardNotifications:s("truths","showKeyboardNotifications"),watchingBranchingTitle:!1}},componentWillReceiveProps:function(e){var t=this.props.postPlayExperienceAPI,a=e.postPlayExperienceAPI,s=this.context.playerApp.getAPI(),i=s.playerApp,r=s.videoPlayer;if(!t&&a||t&&a&&t.toData()!==a.toData()){var o=this.context.playerApp.getActionCreators();if(a.getType()===G.experienceTypes.nextEpisodeSeamless&&i.isSeamlessTransitionEnabled()&&r.isSeamlessEnabled()){var n=a.getInitialItemAPI().getFirstPlayTypeActionAPI(),l=a.getCurrentEpisodeSeamlessData();l.seamlessEnd>0&&o.addNextSeamlessVideo({sessionId:this.props.playerSession.getId(),seamlessData:{movieId:this.state.videoId,currentEndPts:l.seamlessEnd,nextStartPts:l.seamlessStart,playbackParams:{uiLabel:ae.POSTPLAY_SEAMLESS,trackingId:this.state.trackId}}}),o.addNextSeamlessVideo({sessionId:this.props.playerSession.getId(),seamlessData:{movieId:n.getVideoId(),currentEndPts:n.getSeamlessEnd(),nextStartPts:n.getSeamlessStart(),playbackParams:{uiLabel:ae.POSTPLAY_SEAMLESS,trackingId:n.getTrackId(),sessionParams:{uiplaycontext:c(d({row:0,rank:0,videoId:n.getVideoId(),trackId:n.getTrackId(),requestId:a.getRequestId(),location:"POSTPLAY"}))}}}})}}},initPlayer:function(){var e=this,t=this.context,a=t.getModelData,s=t.playerApp,i=t.routeHandler,r=this.props.playerSession,o=a("truths"),n=a("geo"),l=s.getAPI().playerApp,p=M("",["requestCountry","id"],n).toLowerCase();pe({baseInitParams:l.getInitParams(),falcorModel:this.props.model.pathEvaluator,truths:o,routeHandler:i,trackId:this.props.trackId,uiLabel:this.state.uiLabel,history:this.context.history,serverRequestId:a("serverDefs","requestId"),localRequestId:this.props.requestId,rowNum:this.props.rowNum,rankNum:this.props.rankNum,requestCountryCode:p}).takeUntil(this.disposed).do(function(t){var a=e.getPrePlayVideoId(t),s=a||t.playableId,i=!s||s<1?new U.TitleUnavailableError(null,p):null;if(i)throw i},r.setFatalError).flatMap(function(t){var a=e.getPrePlayVideoId(t),o=a||t.playableId,n=Le(e.props.model.pathEvaluator,o),l=a?e.getPrePlayUILabel(t):e.getUILabel(e.state.uiLabel,n),p=r.getTrackId(t),d=Y(void 0,"playcontext",t),c=d?y(d):void 0;return delete t.playcontext,r.updateOptions({uiLabel:l,activeView:F.LOADING}),e.setState({initParams:t,videoId:o,trackId:p,uiLabel:l,prePlayVideoId:a,playContext:c,watchingBranchingTitle:n}),r.createCadmiumPlayer({videoId:o,trackId:p,uiLabel:l,isBranching:e.getIsBranchingPlayback(),isImplicitAutoPlay:!!a,models:e.context.models,playContext:c,preferredAudioLocale:i.query.al,preferredTextLocale:i.query.sl},t,s).takeUntil(e.disposed).do(function(t){e.setState({cadmiumPlayerInstance:t})})}).subscribe(Ce,r.setFatalError,Ce)},hasPreplay:function(){return!!this.state.prePlayVideoId},shouldShowPreRoll:function(e){var t=this.context.getModelData,a=t("truths");return this.hasPreplay()&&!!e&&!!e.preRoll&&a.preRollEnabled},shouldShowTutorial:function(e){return this.hasPreplay()&&!!e&&!!e.tutorial},getPrePlayVideoId:function(e){var t=void 0;return e.tutorial?t=e.tutorial.videoId:"object"===(0,l.default)(e.preRoll)?t=M(void 0,["items","0","actions","0","videoId"],e.preRoll):"object"===(0,l.default)(e.recap)&&(t=e.recap.movieId),t},getPrePlayUILabel:function(e){var t=this.context.getModelData,a=t("truths"),s=a&&a.watchingBranchingTitle,i=!!e.tutorial;return s&&i?ae.BRANCHING_TUTORIAL:e&&e.preRoll&&a.preRollEnabled?ae.PREPLAY_PREROLL:ae.PREPLAY},getUILabel:function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?ae.BRANCHING:e},getIsBranchingPlayback:function(){return!this.hasPreplay()&&this.state.watchingBranchingTitle},beforePlayerClosing:function(e,t){var a=this.player;if(a){var s=e&&e.getNextEpisode(),i=t&&t.getVideo(),r=e&&e.getSeason(),o={time:a.getCurrentTime(),duration:a.getDuration(),ended:a.getEnded(),id:this.state.videoId,currentSeasonId:r&&r.getId(),watchedToEndOffset:void 0,nextEpisodeId:void 0,nextEpisodeSeasonId:void 0,ancestorId:void 0,type:void 0};e&&(o.watchedToEndOffset=e.getWatchedToEndOffset()),s&&(o.nextEpisodeId=s.getId(),o.nextEpisodeSeasonId=s.getSeason().getId()),i&&(o.ancestorId=i.getId(),o.type=i.getType()),B.cachePlaybackPosition(this.props.model&&this.props.model.pathEvaluator,o)}},onPlayerPlaying:function(){if(this.props.playerSession.updateOptions({clearPostplayChain:!1}).render(),this.hasPreplay()){var e=this.context.playerApp.getActionCreators(),t=this.state.initParams,a=t&&t.preplay;if(t&&t.tutorial){var s=this.props.playerSession.getId(),i=t.profileGuid,r=t.tutorial,o=r.ancestorVideoId,n=r.impressionToken;e.branchingLogTutorialPlaybackImpression&&e.branchingLogTutorialPlaybackImpression({sessionId:s,profileGuid:i,videoId:o,impressionToken:n})}else a&&a.impressionVideoId&&a.impressionToken&&e.sendPrePlayImpression({videoId:a.impressionVideoId,impressionToken:a.impressionToken})}},onPlayerReady:function(e){this.player=e,this.playerTimedOut=!1},onPlayerLoad:function(){this.setState({playbackEnded:!1,mainTitlePreloaded:!1})},onPlayerEnd:function(){var e=this,t=this.props.postPlayExperienceAPI&&!this.props.postPlayExperienceAPI.isDefaultExperience(),a=ke(this.state.initParams),s=void 0;s=this.shouldShowPreRoll(this.state.initParams)?void 0:this.hasPreplay()&&a>0?function(){return e.playMainTitle(a)}:t?void 0:this.exitPlayer,this.setState({playbackEnded:!0},s)},onPlayerTimeUpdate:function(){this.shouldShowAutoplayInterrupter()?this.state.autoplayInterrupter||(this.player&&this.player.pause(),this.setState({autoplayInterrupter:!0})):this.state.autoplayInterrupter&&this.setState({autoplayInterrupter:!1})},onPlayerTimeout:function(){this.setState({autoplayInterrupter:!1,autoplayCount:0})},onPostplay:function(e){if(!this.hasPreplay()&&this.props.postPlayExperienceAPI){if(this.props.postPlayExperienceAPI.getType()===G.experienceTypes.nextEpisodeSeamless){var t=this.context.playerApp.getActionCreators(),a=this.props.playerSession.getId(),s=this.context.playerApp.getAPI();return void t.showSeamlessExperience({transitionEnabled:s.isSeamlessPlaybackEnabled(),trackId:this.state.trackId,videoId:e,sessionId:a,xid:s.getPlayerXidBySessionId(a)})}this.state.showPostPlay||!this.props.postPlayExperienceAPI||this.props.postPlayExperienceAPI.isDefaultExperience()||this.setState({showPostPlay:!0})}},restartPlayer:function(){var e=this.context,t=e.playerApp,a=e.routeHandler,s=this.state,i=s.videoId,r=s.uiLabel,o=s.initParams,n=s.playContext,l=this.state.trackId,p=this;this.props.playerSession.updateOptions({activeView:F.LOADING}),this.setState({cadmiumPlayerInstance:void 0}),this.props.playerSession.createCadmiumPlayer({videoId:i,uiLabel:r,playContext:n,trackId:l,deferBookmark:!0,restartPlayer:!0,models:this.context.models,preferredAudioLocale:a.query.al,preferredTextLocale:a.query.sl,isBranching:this.getIsBranchingPlayback()},o,t).takeUntil(this.disposed).do(function(e){p.setState({cadmiumPlayerInstance:e})}).subscribe(Ce,this.props.playerSession.setFatalError,Ce)},handleSeamlessWatchNextEpisode:function(e){var t=this.props.postPlayExperienceAPI;if(t){var a=t.getInitialItemAPI().getFirstPlayTypeActionAPI();this.playNextSeamlessTitle(a.getUserPlayTrackId(),!1,e)}},handleSeamlessCountdownCompletion:function(){var e=this.props.postPlayExperienceAPI;if(e){var t=e.getInitialItemAPI().getFirstPlayTypeActionAPI();this.playNextSeamlessTitle(t.getAutoPlayTrackId(),!0)}},handleSeamlessWatchCredits:function(e){var t=this.context.playerApp.getActionCreators(),a=this.props.playerSession.getId();t.hideSeamlessControls({sessionId:a,viaKey:!!e&&e.type.indexOf("key")>-1,xid:this.context.playerApp.getAPI().getPlayerXidBySessionId(a)})},playNextSeamlessTitle:function(e,t,a){var s=this,i=this.context.playerApp,r=this.props,o=r.isVideoReadyForSeamlessTransition,n=r.postPlayExperienceAPI;if(n){var l=i.getAPI(),p=i.getActionCreators(),c=l.playerApp,y=n.getInitialItemAPI().getFirstPlayTypeActionAPI(),u=y.getVideoId(),h=this.props.playerSession.getId();p.logPlayNextSeamlessVideoStart({sessionId:h,videoId:u,trackId:e,autoplay:t,viaKey:!!a,event:a});var m=function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];p.logPlayNextSeamlessVideoEnd({sessionId:h,success:!1,isDisabled:a}),s.playNextTitle(u,e,d({location:"POSTPLAY",row:0,rank:1,requestId:n.getRequestId()}),y.getSeamlessStart(),ae.POSTPLAY_SEAMLESS_FALLBACK,t)},P=function(){p.logPlayNextSeamlessVideoEnd({sessionId:h,success:!0}),s.playNextTitle(u,e,d({location:"POSTPLAY",row:0,rank:1,requestId:n.getRequestId()}),y.getSeamlessStart(),ae.POSTPLAY_SEAMLESS,t,!0)};if(c.isSeamlessTransitionEnabled()&&l.videoPlayer.isSeamlessEnabled())if(o)P();else{var I=c.getConfigEntry("seamlessStartPlayTimeout"),g=setTimeout(m,I);this._attemptSeamlessTransition=function(){s._attemptSeamlessTransition=void 0,clearTimeout(g),P()}}else m(!0)}},playNextTitle:function(e,t,a,s,i){var r=this,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],n=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(e!==this.state.videoId){var l=this.context,p=l.history,d=l.isKidsPage,c=l.models,y=l.playerApp,u=l.routeHandler,h=this.props.playerSession;t=t||0;var m=F.generatePlayNextQuery(u.query,{trackId:t}),P=i||this.state.uiLabel,I=a||this.state.playContext,g=this.state.initParams,v=y.getActionCreators(),f=this.state.videoId,S=this.state.cadmiumPlayerInstance,x=this.context.getModelData("truths");v.setStartTime({sessionId:h.getId(),time:Date.now(),videoId:e});var A=M("",["requestCountry","id"],this.context.getModelData("geo")).toLowerCase();p.replaceState(N.getWatchRoute(c,d).makePath({id:e},m)),this.props.playerSession.updateOptions({uiLabel:i||this.state.uiLabel,activeView:n?F.PLAYBACK:F.LOADING}).clearMetadataForVideoId(e),n?v.prepareForSeamlessTransition({sessionId:h.getId()}):v.removeSeamlessState({sessionId:h.getId()});var C=Z.bindCallback(function(e,t){return r.setState(e,t)}),E=h.getVideoMetadata().metadata;(E&&E.getVideo(e)?Z.of(!0):de({falcorModel:this.props.model.pathEvaluator,truths:x,trackId:t,videoId:e,routeHandler:u,requestCountryCode:A}).takeUntil(this.disposed)).flatMap(function(){function a(a){return v.createRemoveExperience(f),C({cadmiumPlayerInstance:n?S:a,uiLabel:P,playContext:I,showPostPlay:!1,stoppedPostplay:!1,advisoriesCompleted:!1,videoId:e,trackId:t})}var i=Le(r.props.model.pathEvaluator,e);return i&&!x.watchingBranchingTitle?(window.location.reload(!0),Z.empty()):function(){return C({cadmiumPlayerInstance:n?S:void 0,watchingBranchingTitle:i})}().flatMap(function(){var i={bookmarkOverride:s,isImplicitAutoPlay:!!o,models:r.context.models,playContext:I,preferredAudioLocale:u.query.al,preferredTextLocale:u.query.sl,trackId:t,uiLabel:P,videoId:e,isBranching:r.getIsBranchingPlayback()};return n?a().do(function(){h.setCreationConfig(i),h.updateMetadataActiveVideo(e),v.playNextSeamlessVideo({sessionId:h.getId(),videoId:e,isAutoPlay:!!o})}):h.createCadmiumPlayer(i,g,y,a).flatMap(a)}).takeUntil(r.disposed)}).subscribe(Ce,h.setFatalError,Ce)}},autoplayNextTitle:function(e,t,a,s,i){var r=this.props.postPlayExperienceAPI,o=!!r&&r.isAutoplay(),n=!!r&&r.getInitialItemAPI().getFirstPlayTypeActionAPI().shouldIncrementInterrupter();o&&(n&&this.setState({autoplayCount:this.state.autoplayCount+1}),this.playNextTitle(e,t,a,s,i,!0))},playMainTitle:function(e,t){var a=this,s=this.state.initParams;this.setState({prePlayVideoId:null,timedTextBoundsOverride:void 0});var i=this.getUILabel(ae.STANDARD),r=function(){a.playNextTitle(e,t||Number(M(-1,["initParams","trackingId"],a.state)),void 0,void 0,i)};this.shouldShowPreRoll(s)?this.context.playerApp.getAPI().videoPlayer.canStartPlayback(e,function(e){a.setState({mainTitlePreloaded:e},r)}):r()},onAdvisoriesCompleted:function(){this.setState({advisoriesCompleted:!0})},onMetadata:function(e,t,a,s){if(!e&&t){var i=this,r=this.context.playerApp,o=this.props.playerSession,n=this.state.initParams,l=o.getVideoMetadata().activeVideo;if(F.considerPinReset(n,l),!o.hasVideoPlayerForId(l.getId())){var p=o.createCadmiumPlayer(a,n,r).takeUntil(this.disposed);(s?p.flatMap(s):p.do(function(e){i.setState({cadmiumPlayerInstance:e})})).subscribe(Ce,o.setFatalError,Ce)}}},onClick:function(){this.state.showPostPlay&&this.setState({stoppedPostplay:!0})},onUserActivityChanged:function(e){var t=Y(!1,"ignoreUserActivity",this.state.initParams);e&&this.state.autoplayCount>0&&!t&&this.setState({autoplayCount:0})},componentWillMount:function(){x.emit("app:pageChange",this.props)},componentDidMount:function(){var e=this,t=this.props,a=t.playerSession,s=t.trackId,i=t.updateDimensions,r=this.context.playerApp;this.disposed=new J;var o=r.getAPI().playerApp,n=r.getActionCreators(),l=le.getUIPlayContext(this.context.routeHandler.params.id,le.getTrackIdFromQueryWithFallback(this.context.routeHandler.query,s),this.context.getModelData("serverDefs","requestId"),this.props.requestId,this.context.routeHandler.query.tctx,this.props.rowNum,this.props.rankNum);o.getPlayStartTime(a.getId())||(n.setStartTime({sessionId:a.getId(),time:Date.now()}),n.logPlayRequestStart({trackId:l.track_id,videoId:this.context.routeHandler.params.id,rowNum:l.row,rankNum:l.rank,requestId:l.request_id,listId:l.list_id,lolomoId:l.lolomo_id,sessionId:a.getId()})),i(),a.updateOptions({isExitingPlayer:!1,bindBeforeUnloadEvent:!0,render:this.forceUpdate.bind(this),onVideoMetadata:this.onMetadata,clearPostplayChain:!0}).getObservables().take(1).takeUntil(this.disposed).flatMap(function(e){return e.loaded}).do(function(){e.props.playerSession.setInteractiveStatus({interactiveReason:"success",supplementalVideoId:e.getPrePlayVideoId(e.state.initParams)})}).subscribe(Ce,function(e){}),this.initPlayer()},componentDidUpdate:function(){this.props.dimensions||this.props.updateDimensions()},componentWillUnmount:function(){var e=this.props.playerSession,t=this.state,a=t.videoId,s=t.uiLabel,i=t.trackId,r=t.initParams,o=t.playContext;this.disposed&&this.disposed.next(),B.delayedSyncCache(this.props.model&&this.props.model.pathEvaluator,this.context.models),e.updateOptions({activeView:F.LOADING,playerApp:null,discoveryApp:null,bindBeforeUnloadEvent:!1,render:null,onVideoMetadata:null}).endPlaybackSession().closeCadmiumPlayer({dataToLog:{initParams:r,playContext:o,reason:"AkiraPlayer::componentWillUnmount",trackId:i,uiLabel:s,videoId:a}}).subscribe()},componentWillUpdate:function(e,t){if(!this.state.stoppedPostplay&&t.stoppedPostplay&&!this.state.playbackEnded){var a=this;setTimeout(function(){a.setState({showPostPlay:!1,stoppedPostplay:!1})},400)}e.isVideoReadyForSeamlessTransition&&!this.props.isVideoReadyForSeamlessTransition&&this._attemptSeamlessTransition&&this._attemptSeamlessTransition()},exitPlayer:function(){this.props.playerSession.exitPlayer()},onValidPinEntry:function(){fe.logDebugEvent({playerValidPinEntry:!0}),$.setSessionData($.SESSION_TYPES.PIN,!0),F.setPreReleasePinEnteredCorrectly(!0);var e=this,t=this.context,a=t.playerApp,s=t.routeHandler,i=this.state,r=i.videoId,o=i.trackId,n=i.uiLabel,l=i.playContext,p=i.initParams;this.props.playerSession.createCadmiumPlayer({videoId:r,trackId:o,uiLabel:n,playContext:l,models:this.context.models,preferredAudioLocale:s.query.al,preferredTextLocale:s.query.sl,isBranching:this.getIsBranchingPlayback()},p,a).takeUntil(this.disposed).do(function(t){e.setState({cadmiumPlayerInstance:t})}).subscribe(Ce,this.props.playerSession.setFatalError,Ce)},shouldShowAutoplayInterrupter:function(){return F.shouldShowAutoPlayInterrupter(this.state.initParams,this.player&&this.player.getCurrentTime(),this.state.autoplayCount)},continueWatching:function(){this.setState({autoplayInterrupter:!1,autoplayCount:0}),this.player&&this.player.togglePlay()},restartVideo:function(){this.player&&this.player.seek(0),this.continueWatching()},renderStaticPlaybackOverlayElement:function(){var e=this,t=this.state,a=t.videoId,s=t.advisoriesCompleted,i=this.props.advisories;return we(i,s)?function(t){var s=t.controlsAreHidden,r=t.cropAspectRatio;return z.createElement(u,{aspectOverride:r,videoId:a,advisories:i,onAdvisoriesCompleted:e.onAdvisoriesCompleted,controlsAreHidden:s})}:null},renderControlsMainHitzoneElement:function(){var e=this.state,t=e.autoplayInterrupter,a=e.initParams,s=this.props,i=s.isVideoEnded,r=s.playerSessionId,o=s.shouldShowInteractiveScene,n=s.showSeamlessExperience,l=s.showSeamlessControls;if(this.shouldShowPreRoll(a)&&a.preRoll)return this.renderPreRoll(a.preRoll);var p=this.props.postPlayExperienceAPI;return n&&p?z.createElement(Q,{backgroundImageURL:p.getInitialItemAPI().getBackgroundAssetURL(),initialCountDownTime:p.getAutoPlaySeconds(),onClickWatchCredits:this.handleSeamlessWatchCredits,onClickWatchNextEpisode:this.handleSeamlessWatchNextEpisode,onCountdownComplete:this.handleSeamlessCountdownCompletion,shouldAutoPlay:p.isAutoplay(),showWatchCreditsButton:!i,showControls:l,exitPlayer:this.props.controlsLayoutClass===ve?this.exitPlayer:void 0}):o?z.createElement(re,{playerSessionId:r}):t?z.createElement(h,{play:this.continueWatching,restart:this.restartVideo,back:this.exitPlayer}):null},renderInteractiveElement:function(){var e=this.props,t=e.reportAProblemRequestPending,a=e.reportAProblemRequestSuccess,s=e.showReportAProblemDialog;if(!e.showSeamlessExperience&&s)return z.createElement(X,{requestPending:t,requestSuccess:a})},renderPreRoll:function(e){return z.createElement(_,{data:e,playerApi:this.context.playerApp.getAPI().playerApp,playerActions:this.context.playerApp.getActionCreators(),playMainTitle:this.playMainTitleFromPreRoll,prepareMainTitle:this.prepareMainTitle,setTimedTextBounds:this.setTimedTextBounds,playerSessionId:this.props.playerSessionId})},playMainTitleFromPreRoll:function(e,t,a){var s=this;this.setState({prePlayWatched:"PRE_ROLL"},function(){s.playMainTitle(t,a)})},setTimedTextBounds:function(e){this.setState({timedTextBoundsOverride:e})},prepareMainTitle:function(e,t){var a=this.state.initParams,s=a&&a.pinConfig,i=parseInt(this.props.model.pathEvaluator.getValueSync(["videos",e,"bookmarkPosition"]),10);this.context.playerApp.getActionCreators().prepareVideos({prepareItems:[ue({movieId:ke(a),priority:1,params:{authParams:me({pinCapableClient:!(!s||!s.isEnabled)}),sessionParams:Ie({isUIAutoPlay:!1,supportsPreReleasePin:!0,supportsWatermark:!0,uiplaycontext:a.playContext}),trackingId:t,startPts:i>0?1e3*i:void 0},uiLabel:ae.STANDARD})]})},playerDisabled:function(){return this.state.autoplayInterrupter},getControls:function(){var e=this.state.initParams,t=this.shouldShowPreRoll(e),a=this.shouldShowTutorial(e);return!(this.props.showInterstitialPostPlay||a||t)||[V.CONTROLS.EXIT]},getLoadingViewElement:function(e,t){var a=this.state,s=a.initParams,i=a.videoId,r=this.props,o=r.congestedNetworkName,n=r.isNetworkCongested,l=this.context.isRtl,p=this.props.playerSession.getVideoMetadata().activeVideo,d=F.videoRequiresPreReleasePin(s,p),c=this.shouldShowPreRoll(s);return z.createElement(e,{activeVideo:p,exitButtonType:P.TYPES.DEFAULT,initParams:s,videoId:i,isRTL:l,exitTooltip:null,onCancel:this.exitPlayer,onValidPinEntry:this.onValidPinEntry,noLoadingImage:!1,noLogoTitleEvidence:!0,showPin:F.shouldShowPinEntry(s,p),showPreReleasePin:d,showAgeVerification:F.shouldShowAgeVerificationPrompt(s,p),spinnerClass:S,spinnerClassProps:{hasTransparentBackground:!n,isBuffering:!0,isNetworkCongested:n,congestedNetworkName:o},shouldUseStillImage:!0,hideBackgroundImage:c,hideTitleText:c})},handleExitFullscreen:function(){var e=this.props.getWrapperNode&&this.props.getWrapperNode();Te(e)&&T.exitFullscreen(e)},shouldSkipLoadingScreen:function(){var e=this.state,t=e.prePlayWatched,a=e.mainTitlePreloaded;return"PRE_ROLL"===t&&a},render:function(){if(k)return null;var e=this.props.playerSession.getView(),t=e&&e.Component,a=this.context.isRtl;if(e&&e.type===F.UNLOADING)return this.renderContainer(z.createElement(t,null),e.type);if(e&&e.type===F.ERROR){var s=this.context.getModelData("geo");return this.renderContainer(z.createElement(t,{error:e.error,exitButtonElement:z.createElement(Ae,{onClick:this.exitPlayer,iconName:this.props.controlsLayoutClass===ge?"bvuiExit":"nfplayerBack",tooltipBeforeElementActive:!0,tooltipAlignment:a?P.TOOLTIP_LEFT:P.TOOLTIP_RIGHT,tooltipPosition:P.TOOLTIP_CENTER,iconFilter:"#dropShadow"}),i18nBundle:M(void 0,["playerModel","data","config","ui","assets","i18n"],this.context.models),initParams:this.state.initParams,videoId:this.state.videoId,player:e&&e.player,countryName:s&&s.requestCountry&&s.requestCountry.countryName}),e.type)}if(e&&e.type===F.LOADING&&!this.shouldSkipLoadingScreen())return this.renderContainer(this.getLoadingViewElement(t,e),e.type);if(e&&e.type===F.UPSELL)return z.createElement(t,(0,o.default)({},this.props,this.state,{error:e.error,i18nBundle:M(void 0,["playerModel","data","config","ui","assets","i18n"],this.context.models),exitHandler:this.exitPlayer}));if(this.state.initParams&&this.state.videoId){var i=this.props,r=i.advisories,n=i.congestedNetworkName,l=i.controlsLayoutClass,p=i.dimensions,d=i.displayDisconnectedNetworkNotice,c=i.model,y=i.playerSession,u=i.isNetworkCongested,h=i.isBuffering,m=i.bufferingProgress,g=i.isVideoTransitioningSeamlessly,v=i.postPlayExperienceAPI,f=i.showReportAProblemDialog,x=i.showSeamlessControls,C=i.showSeamlessExperience,E=i.shouldFadePlayerControlsBar,T=i.shouldShowInteractiveScene,b=i.isInteractiveSceneTransitioning,L=this.state,N=L.advisoriesCompleted,R=L.initParams,D=L.playbackEnded,B=L.showKeyboardNotifications,U=L.timedTextBoundsOverride,j=this.context,_=j.getModelData,H=j.playerApp,G=_("truths"),Y=y.getWatermarkState(),K=y.getVideoMetadata(),X=K.activeVideo,Q=this.props.postPlayExperienceAPI&&this.props.postPlayExperienceAPI.toData().socialLinks,J=!!this.state.showPostPlay,Z=C&&x,$=F.shouldAutoPlay(R,X),ee={"can-resume":!D&&J,ended:D,postplay:J,preplay:this.hasPreplay()};v&&(ee[v.getType()]=!0);var ae=I(ee),re=w(R,p);return this.renderContainer([J&&z.createElement(xe,(0,o.default)({key:"postplay"},this.props,{activeVideo:X,autoplayNextTitle:this.autoplayNextTitle,controlsInteractionType:O.HOVER,exitPlayer:this.exitPlayer,handleExitFullscreen:this.handleExitFullscreen,inMyList:v&&v.getAddToMyListActionAPI().isInMyList(),isFullscreen:Te(this.props.getWrapperNode&&this.props.getWrapperNode()),metadata:K.metadata,model:c&&c.pathEvaluator,playNextTitle:this.playNextTitle,postplayMetadata:v&&v.toData(),actionCreators:H.getActionCreators(),postPlayExperienceAPI:this.props.postPlayExperienceAPI,postPlaySocialLinks:Q,releaseDelay:200})),z.createElement(V,{key:"nfplayer",allowLowPowerMode:!(!(!r||r&&N)||this.shouldShowPreRoll(R)),activeVideo:X,autoPlay:$,autoplayNextTitle:this.autoplayNextTitle,beforePlayerClosing:this.beforePlayerClosing,cadmiumPlayerInstance:this.state.cadmiumPlayerInstance,className:ae,clearPostplayChain:this.props.playerSession.shouldClearPostplayChain(),config:R,controls:!J&&this.getControls(),controlsMainHitzoneElement:this.renderControlsMainHitzoneElement(),dimensions:this.props.dimensions,disableKeyHandler:f||Z||this.shouldShowPreRoll(R)?{ALL:!0}:void 0,engine:q.CADMIUM,exitPlayer:this.exitPlayer,getFullScreenNode:this.props.getWrapperNode,hasLargeDimensions:re,hasPreplay:this.hasPreplay(),interactiveElement:this.renderInteractiveElement(),mainVideoId:ke(R),metadata:K.metadata,onCastToTarget:this.exitPlayer,onPlayerEnd:this.onPlayerEnd,onPlayerError:y.setFatalError,onPlayerLoad:this.onPlayerLoad,onPlayerPlaying:this.onPlayerPlaying,onPlayerReady:this.onPlayerReady,onPlayerSurfaceClick:this.onClick,onPlayerTimeUpdate:this.onPlayerTimeUpdate,onPlayerTimeout:this.onPlayerTimeout,onPostplay:this.onPostplay,onSeekBack:this.player&&this.player.seekBack||void 0,onUserActivityChanged:this.onUserActivityChanged,playContext:this.state.playContext,playMainTitle:this.playMainTitle,playNextTitle:this.playNextTitle,playerSession:this.props.playerSession,postPlayActive:J,restartPlayer:this.restartPlayer,staticConfiguration:{injectSetBottomInteractiveElementAPI:this.getIsBranchingPlayback(),controlsInteractionType:O.HOVER,controlsLayoutClass:l,displayDisconnectedNetworkNotice:d,episodePreviewType:l===ge?A.CLASSIC:A.MODERN,hasMetadata:!1,hasPostplay:!0,ignorePausePlayEventsDuringSeeking:l!==ge,performanceLogging:!1,cropContentLetterboxing:G.cropContentLetterboxing,setContainerSizingClassees:!1,showControlsOnPlayStart:!1,shouldFetchAdvisories:!0,shouldPauseWhenScrubbing:!1,showKeyboardNotifications:B,showTitleLogoEvidence:!1,showDurationOnlyInMinutes:this.context.discoveryApp.getAPI().geo.showDurationOnlyInMinutes(),skipCreditsDisplayDuration:R.skipCreditsDisplayDuration,skipCreditsEnabled:G.skipCreditsEnabled,uiContext:te.MEMBER_WATCH_PAGE,useRequestAnimationFrameFlush:!1,waitForCadmiumPlayerInstance:!0},shouldFadePlayerControlsBar:Z||E,shouldRepositionSubtitlesWhenInactive:!T,spinnerClass:S,spinnerClassProps:{congestedNetworkName:n,isBuffering:h,isNetworkCongested:u,percentage:m,shouldDelaySpinnerRendering:B},staticElement:this.renderStaticPlaybackOverlayElement(),timedTextBoundsOverride:U,timelineElementClass:this.getIsBranchingPlayback()?ie:void 0,timelineElementProps:this.getIsBranchingPlayback()?{playerSessionId:y.getId()}:void 0,trackId:this.state.trackId,uiLabel:this.state.uiLabel,uiState:this.playerDisabled()?W.DISABLED:be(!(!g&&!b),!!(f||Z||T)),updateDimensions:this.props.updateDimensions,videoId:this.state.videoId,watermarkElement:Y&&z.createElement(se,{id:Y.id,anchor:Y.anchor,opacity:Y.opacity,useAspectContainer:!1})})])}return null},renderContainer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",a=this.props.controlsLayoutClass,s=I("nfp","AkiraPlayer",{"classic-ui":a===ge});return z.createElement("div",{key:t,className:s},e)}});t.exports=Ne});C.r("akira/views/siteError.jsx",function(e,t,n){"use strict";var r=e("react"),s=e("create-react-class"),a=e("prop-types"),c="core/nfse",i=s({displayName:"SiteError",contextTypes:{getI18nString:a.func.isRequired},render:function(){return r.createElement("div",null,r.createElement("div",{className:"seBox"},r.createElement("h1",{className:"seHeader"},this.context.getI18nString(c,"header")),r.createElement("p",null,this.context.getI18nString(c,"body.copy"),"  "),r.createElement("p",null,this.context.getI18nString(c,"body.copy2")," "),r.createElement("div",{className:"seNflxButton"},r.createElement("a",{className:"seHomeLink",href:"/"},this.context.getI18nString(c,"button.home")))))}});t.exports=i});C.r("akira/views/aroGenre.jsx",function(e,t,r){"use strict";var o=e("babel-runtime/helpers/extends"),s=function(e){return e&&e.__esModule?e:{default:e}}(o),a=e("prop-types"),i=e("react"),l=e("create-react-class"),n=e("classnames"),c=e("../containers/lolomoContainer"),d=e("../containers/galleryContainer"),h=e("shakti-platform/dist/ui/ShaktiProperties"),u=e("../utils/sortable"),m=e("../components/loader/loadingRow.jsx"),p=e("lodash"),f=function(e,t,r){var o=h.get("netflix.ui.akira.prefetch.strategies.gallery.lolomo");return p.get(e,"truths.data.hasGenreBillboards",!1)&&(o.numBillboards=1),c.getPaths(e,o)},g=l({displayName:"AROGenre",contextTypes:{history:a.object.isRequired,models:a.object.isRequired,routeHandler:a.object.isRequired},statics:{getPaths:f},getInitialState:function(){return{filter:function(){return!0}}},setFilter:function(e){this.setState({filter:e})},hasLolomo:function(){return this.props.model&&this.props.model.getValueSync(["summary"])&&this.props.model.getValueSync(["summary"]).length>1},componentDidUpdate:function(e,t){this.shouldRedirectToGalleryCheck()},componentDidMount:function(){this.shouldRedirectToGalleryCheck()},shouldRedirectToGalleryCheck:function(){if(this.props.initialFetchCompleted&&!this.hasLolomo(this.props.model)){var e=this.context.routeHandler.query;e.so=u.DEFAULT_SORT_ORDER,this.context.history.replaceState(this.context.routeHandler.route.makePath(this.context.routeHandler.params,e))}},render:function(){var e=this.props,t=e.genreId,r=(e.sortOrder,e.model);h.get("netflix.ui.akira.prefetch.strategies.gallery.lolomo");return this.hasLolomo()||this.props.initialFetchCompleted?this.hasLolomo()?i.createElement("div",{className:n("aro-genre")},i.createElement(c,(0,s.default)({},this.props,{model:r,paths:f(this.context.models)}))):i.createElement("div",{className:n("aro-fallback-gallery")},i.createElement(d,(0,s.default)({},p.omit(this.props,["sortOrder"]),{keyPrefix:"genre",key:"genre-"+t,model:r.bind([0]),filter:this.state.filter}))):i.createElement("div",{className:n("aro-genre-loading")},i.createElement(m,{pulsateTitles:!0,pulsateHeader:!1,showSpinner:!1}))}});t.exports=g});C.r("akira/views/audioAndSubtitles.jsx",function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=e("babel-runtime/helpers/defineProperty"),a=i(n),o=e("babel-runtime/helpers/extends"),s=i(o),u=e("prop-types"),d=e("react"),l=e("create-react-class"),c=e("../../utils/Routes"),f=e("../containers/galleryContainer"),h=e("../containers/audioAndSubtitlesHeaderContainer"),p=e("../utils/sortable"),g=e("../components/controls/languageDropdown.jsx"),A=l({displayName:"AudioAndSubtitlesContent",contextTypes:{getModelData:u.func.isRequired,models:u.object.isRequired,routeHandler:u.object.isRequired},statics:{getKeyPrefix:function(e,t){return t?e?"spokenAudio":"subtitles":e?"defaultSpokenAudio":"defaultSubtitles"},getPathPrefix:function(e){var t=A.getKeyPrefix(e.isAudio,Boolean(e.id));return e.id?[t,e.id]:[t]},getPaths:function(e,t,r){var i=A.getPathPrefix(r);return[].concat(h.getPaths(e,t,Object.assign({pathPrefix:i},r)),f.getPaths(e,t,{sortOrder:r.sortOrder}).map(function(e){return i.concat(e)}))}},getInitialState:function(){return{filter:function(){return!0}}},setFilter:function(e){this.setState({filter:e})},renderHeader:function(e,t,r){return this.context.getModelData("truths","hasAROGallery")?d.createElement("div",null):d.createElement(h,(0,s.default)({},this.props,{model:e,sortOrder:r,id:this.context.routeHandler.params.id,onFilterChange:this.setFilter,isAudio:t}))},render:function(){var e=this.props.model.pathEvaluator,t=p.getSortOrder(this.context.routeHandler.query),r=this.context.routeHandler.route===c.audio,i=this.context.routeHandler.params.id,n=A.getKeyPrefix(r,Boolean(i)),o=e.bind(A.getPathPrefix({isAudio:r,id:i})),u=i||e.getValueSync(r?g.AUDIO_LANGUAGE_DEFAULT_PATH:g.SUBTITLE_LANGUAGE_DEFAULT_PATH);return d.createElement(f,(0,s.default)({},this.props,{keyPrefix:n,sortOrder:t,model:o,header:this.renderHeader(e,r,t),playbackQueryParams:(0,a.default)({},r?"al":"sl",u),filter:this.state.filter}))}});t.exports=A});C.r("akira/views/audioDescription.jsx",function(e,t,r){"use strict";var i=e("babel-runtime/helpers/extends"),s=function(e){return e&&e.__esModule?e:{default:e}}(i),n=e("prop-types"),o=e("react"),a=e("create-react-class"),u=e("../containers/subHeaders/audioDescriptionHeader.jsx"),d=e("../containers/galleryContainer"),l=e("../utils/sortable"),c=e("shakti-platform/dist/ui/ShaktiProperties"),p=a({displayName:"AudioDescription",contextTypes:{getModelData:n.func.isRequired,models:n.object.isRequired,routeHandler:n.object.isRequired},childContextTypes:{audioDescription:n.bool},getChildContext:function(){return{audioDescription:!0}},statics:{getPrefix:function(e){return e?["assistiveAudioByGenre",e]:["assistiveAudio"]},getPaths:function(e,t,r){var i=c.get("netflix.ui.akira.prefetch.strategies.gallery.audiodescription"),s=p.getPrefix(r.id),n=d.getPaths(e,i,{sortOrder:r.sortOrder}).map(function(e){return s.concat(e)}),o=u.getPaths(e,i,{sortOrder:r.sortOrder}).filter(function(e){return e.length}).map(function(e){return["assistiveAudio"].concat(e)});return n.concat(o)}},getInitialState:function(){return{filter:function(){return!0}}},setFilter:function(e){this.setState({filter:e})},renderAudioDescriptionHeader:function(e){return this.context.getModelData("truths","hasAROGallery")?o.createElement("div",null):o.createElement(u,{sortOrder:e,id:parseInt(this.context.routeHandler.params.id,10),model:this.props.model.pathEvaluator.bind(["assistiveAudio"]),onFilterChange:this.setFilter})},render:function(){var e=p.getPrefix(this.context.routeHandler.params.id),t=l.getSortOrder(this.context.routeHandler.query),r=c.get("netflix.ui.akira.prefetch.strategies.gallery.audiodescription");return o.createElement(d,(0,s.default)({},this.props,{keyPrefix:e[0],sortOrder:t,model:this.props.model.pathEvaluator.bind(e),filter:this.state.filter,header:this.renderAudioDescriptionHeader(t),numTitlesToFetch:r.numVideos}))}});t.exports=p});C.r("akira/views/contentRefresh.jsx",function(e,t,r){"use strict";var n=e("babel-runtime/helpers/extends"),s=function(e){return e&&e.__esModule?e:{default:e}}(n),o=e("prop-types"),a=e("react"),d=e("create-react-class"),c=e("../containers/sortableGalleryContainer"),i=e("../utils/sortable"),l=d({displayName:"ContentRefresh",contextTypes:{models:o.object.isRequired,routeHandler:o.object.isRequired},statics:{getPaths:function(e,t,r){var n=["contentRefreshRecentlyAdded"];return c.getPaths(e,t,{sortOrder:r.sortOrder}).map(function(e){return n.concat(e)})}},render:function(){var e=["contentRefreshRecentlyAdded"],t=this.props.model.pathEvaluator.bind(e),r=i.getSortOrder(this.context.routeHandler.query);return a.createElement(c,(0,s.default)({},this.props,{keyPrefix:"contentRefreshRecentlyAdded",sortOrder:r,model:t,prefix:e}))}});t.exports=l});C.r("akira/views/genre.jsx",function(e,t,r){"use strict";var a=e("babel-runtime/helpers/extends"),n=function(e){return e&&e.__esModule?e:{default:e}}(a),s=e("lodash"),o=e("prop-types"),i=e("react"),d=e("create-react-class"),l=e("../containers/galleryContainer"),u=e("../containers/genreHeaderContainer"),c=e("../utils/sortable"),h=e("../containers/aroGenreContainer"),O=e("../containers/aroGenreHeaderContainer"),m=function(e,t,r){var a=["genres",r.id],n=void 0,o=void 0,i=s.get(e,"truths.data.hasAROGallery",!1);return n=i?O.getPaths(e,t,{id:r.id,breadCrumbs:r.breadCrumbs,sortOrder:r.sortOrder}):u.getPaths(e,t,{id:r.id,breadCrumbs:r.breadCrumbs,sortOrder:r.sortOrder}),o=i&&r.sortOrder===c.ARO_DEFAULT_SORT_ORDER?h.getPaths(e,null,{id:r.id}).map(function(e){return["genres",r.id,c.ARO_DEFAULT_SORT_ORDER].concat(e)}):l.getPaths(e,t,{sortOrder:r.sortOrder}).map(function(e){return a.concat(e)}),o.concat(n)},p=d({displayName:"GenreContent",contextTypes:{getModelData:o.func.isRequired,models:o.object.isRequired,routeHandler:o.object.isRequired},statics:{getPaths:m,getBreadCrumbs:function(e){var t=[];return e&&e.bc&&(t=e.bc.split(",")),t}},getInitialState:function(){return{filter:function(){return!0}}},setFilter:function(e){this.setState({filter:e})},getFalcorModel:function(){return this.props.model.pathEvaluator},renderHeader:function(e,t,r){if(this.context.getModelData("truths","hasAROGallery"))return i.createElement("div",null);var a=p.getBreadCrumbs(this.context.routeHandler.query);return this.context.getModelData("truths","hasAROGallery")?i.createElement(O,{sortOrder:t,breadCrumbs:a,model:this.props.model.pathEvaluator,id:e,onFilterChange:this.setFilter}):i.createElement(u,{sortOrder:t,breadCrumbs:a,model:this.props.model.pathEvaluator,id:e,onFilterChange:this.setFilter})},render:function(){var e=this.context.routeHandler.params.id,t=this.context.getModelData("truths","hasAROGallery",!1),r=t?c.ARO_DEFAULT_SORT_ORDER:null,a=c.getSortOrder(this.context.routeHandler.query,r),s=this.props.model.pathEvaluator.bind(["genres",e]);return t&&a===c.ARO_DEFAULT_SORT_ORDER?i.createElement("div",null,this.renderHeader(e,a,s),i.createElement(h,(0,n.default)({},this.props,{genreId:e,model:s.bind([c.ARO_DEFAULT_SORT_ORDER]),sortOrder:a,id:e}))):i.createElement(l,(0,n.default)({},this.props,{keyPrefix:"genre",key:"genre-"+e,model:s,header:this.renderHeader(e,a,s),filter:this.state.filter,sortOrder:a}))}});t.exports=p});C.r("akira/views/genreNewRelease.jsx",function(e,r,t){"use strict";var a=e("babel-runtime/helpers/extends"),n=function(e){return e&&e.__esModule?e:{default:e}}(a),s=e("prop-types"),o=e("react"),i=e("create-react-class"),l=e("../containers/sortableGalleryContainer"),d=e("../utils/sortable"),u=i({displayName:"GenreNewReleaseContent",contextTypes:{models:s.object.isRequired,routeHandler:s.object.isRequired},statics:{defaultSortOrder:d.ORDER_BY.YEAR,getPaths:function(e,r,t){var a=["genrenewrelease",t.id];return l.getPaths(e,r,{sortOrder:t.sortOrder}).map(function(e){return a.concat(e)})}},render:function(){var e=["genrenewrelease",this.context.routeHandler.params.id],r=d.getSortOrder(this.context.routeHandler.query,u.defaultSortOrder);return o.createElement(l,(0,n.default)({},this.props,{keyPrefix:"genrenewrelease",sortOrder:r,model:this.props.model.pathEvaluator.bind(e),prefix:e}))}});r.exports=u});C.r("akira/views/home.jsx",function(t,e,o){"use strict";var a=t("babel-runtime/helpers/extends"),r=function(t){return t&&t.__esModule?t:{default:t}}(a),i=t("prop-types"),s=t("react"),n=t("create-react-class"),l=t("shakti-platform/dist/ui/ShaktiProperties"),c=t("../containers/lolomoContainer"),u=t("../containers/title/titleCardContainer.jsx"),p=t("../components/billboard/BillboardRow"),d=t("../containers/lolomo/lolomoBigRow.jsx"),h=t("../../utils/ab/kidsParityTest"),m=l.get("netflix.ui.akira.prefetch.strategies.home"),f=l.get("netflix.ui.akira.prefetch.page"),g=u.getPaths,R=function(t,e,o){e||(e=f);var a=e.numVideos,r=a,i=void 0;return i=[["summary"]].concat(c.getPaths(t,e)).concat(p.getPaths(t,e)).concat(g(t,e).map(function(t){return["mylist",{to:r}].concat(t)})),i=i.concat(d.getPaths(t,e))},b=function(t){var e=h.kidsProfileWithParity(t,!1),o=e?l.get("netflix.ui.akira.prefetch.kids.page"):l.get("netflix.ui.akira.prefetch.page");return R(t,o)},x=n({displayName:"HomeContent",contextTypes:{models:i.object.isRequired},statics:{NUM_ROWS_TO_RENDER:15,NUM_TITLES_TO_RENDER:20,getPaths:R,prefetchStrategies:m,defaultStrategy:f,getInitialPaths:b},getRootModel:function(){var t=this.props.suppressBillboard?"lolomonobillboard":"lolomo";return this.props.model.pathEvaluator.bind([t])},render:function(){var t=this.getRootModel(),e=x.NUM_ROWS_TO_RENDER;return s.createElement(c,(0,r.default)({},this.props,{ref:"lolomo",model:t,paths:b(this.context.models),numRows:e}))}});e.exports=x});C.r("akira/views/myList.jsx",function(e,t,r){"use strict";var s=e("babel-runtime/helpers/extends"),a=function(e){return e&&e.__esModule?e:{default:e}}(s),n=e("prop-types"),i=e("react"),l=e("create-react-class"),o=e("../containers/sortableRowListContainer"),d=e("../containers/galleryContainer"),u=e("../containers/subHeaders/myListHeader.jsx"),c=l({displayName:"MyList",statics:{getPaths:function(e,t,r){var s=["mylist"];return d.getPaths(e,t,r).map(function(e){return s.concat(e)})}},contextTypes:{getModelData:n.func.isRequired,models:n.object.isRequired},renderHeader:function(){return this.context.getModelData("truths","hasAROGallery")?i.createElement("div",null):i.createElement(u,null)},render:function(){var e=this.props.model.pathEvaluator.bind(["mylist"]),t=this.props.model.pathEvaluator.bind(["profilesList","current"]),r=t.getValueSync(["usesManualMyListSort"]),s=this.context.getModelData("truths").isWatchlistEnabled;return r&&!s?i.createElement(o,(0,a.default)({},this.props,{keyPrefix:"mylist",model:e,header:this.renderHeader()})):i.createElement(d,(0,a.default)({},this.props,{keyPrefix:"mylist",model:e,header:this.renderHeader(),isMyListRow:!0}))}});t.exports=c});C.r("akira/views/netflixOriginals.jsx",function(e,r,t){"use strict";var i=e("babel-runtime/helpers/extends"),n=function(e){return e&&e.__esModule?e:{default:e}}(i),s=e("prop-types"),a=e("react"),l=e("create-react-class"),o=e("../containers/sortableGalleryContainer"),u=e("../utils/sortable"),c=l({displayName:"NetflixOriginals",contextTypes:{models:s.object.isRequired,routeHandler:s.object.isRequired},statics:{getPaths:function(e,r,t){var i=["netflixOriginals"];return o.getPaths(e,r,{sortOrder:t.sortOrder}).map(function(e){return i.concat(e)})}},render:function(){var e=["netflixOriginals"],r=this.props.model.pathEvaluator.bind(e),t=u.getSortOrder(this.context.routeHandler.query);return a.createElement(o,(0,n.default)({},this.props,{keyPrefix:"netflixOriginals",sortOrder:t,model:r,prefix:e}))}});r.exports=c});C.r("akira/views/newArrivals.jsx",function(e,t,r){"use strict";var a=e("babel-runtime/helpers/extends"),s=function(e){return e&&e.__esModule?e:{default:e}}(a),n=e("prop-types"),i=e("react"),l=e("create-react-class"),o=e("../containers/lolomoContainer"),c=function(e,t,r){return t||(t={numRows:3,numVideos:7}),[["length"]].concat(o.getPaths(e,t))},u=l({displayName:"NewArrivals",contextTypes:{getI18nString:n.func.isRequired,models:n.object.isRequired},prefetchCallbacks:[],statics:{getPaths:c},render:function(){var e=this.props.model.pathEvaluator.bind(["newarrivals"]);return i.createElement("div",null,i.createElement("div",{className:"lolomoHeader"},i.createElement("div",{className:"title"},this.context.getI18nString("discovery/akira/Chrome","new.arrivals"))),i.createElement(o,(0,s.default)({},this.props,{model:e,paths:c(this.context.models),numRows:20,newarrivals:!0})))}});t.exports=u});C.r("akira/views/newRelease.jsx",function(e,r,t){"use strict";var s=e("babel-runtime/helpers/extends"),a=function(e){return e&&e.__esModule?e:{default:e}}(s),n=e("prop-types"),o=e("react"),i=e("create-react-class"),l=e("../containers/sortableGalleryContainer"),u=e("../utils/sortable"),c=i({displayName:"NewRelease",contextTypes:{models:n.object.isRequired,routeHandler:n.object.isRequired},statics:{getPaths:function(e,r,t){var s=["newrelease"];return l.getPaths(e,r,{sortOrder:t.sortOrder}).map(function(e){return s.concat(e)})}},render:function(){var e=["newrelease"],r=this.props.model.pathEvaluator.bind(e),t=u.getSortOrder(this.context.routeHandler.query);return o.createElement(l,(0,a.default)({},this.props,{keyPrefix:"newrelease",sortOrder:t,model:r,prefix:e}))}});r.exports=c});C.r("akira/views/person.jsx",function(e,t,r){"use strict";var n=e("babel-runtime/helpers/extends"),a=function(e){return e&&e.__esModule?e:{default:e}}(n),s=e("prop-types"),o=e("react"),i=e("create-react-class"),c=e("../containers/galleryContainer"),u=e("../containers/personHeaderContainer"),d=function(e,t,r){var n=["person",r.id],a=u.getPaths(e).map(function(e){return n.concat(e)}),s=c.getPaths(e).map(function(e){return n.concat(e)});return a.concat(s)},l=i({displayName:"Person",contextTypes:{getModelData:s.func.isRequired,models:s.object.isRequired,routeHandler:s.object.isRequired},statics:{getPaths:d},getHeader:function(e){return this.context.getModelData("truths","hasAROGallery")?o.createElement("div",null):o.createElement(u,{model:e})},render:function(){var e=this.props.model.pathEvaluator.bind(["person",this.context.routeHandler.params.id]);return o.createElement(c,(0,a.default)({},this.props,{keyPrefix:"person",model:e,header:this.getHeader(e)}))}});t.exports=l});C.r("akira/views/recentlyAdded.jsx",function(e,r,t){"use strict";var a=e("babel-runtime/helpers/extends"),d=function(e){return e&&e.__esModule?e:{default:e}}(a),n=e("prop-types"),s=e("react"),o=e("create-react-class"),c=e("../containers/sortableGalleryContainer"),i=e("../utils/sortable"),l=o({displayName:"RecentlyAdded",contextTypes:{models:n.object.isRequired,routeHandler:n.object.isRequired},statics:{getPaths:function(e,r,t){var a=["recentlyadded"];return c.getPaths(e,r,{sortOrder:t.sortOrder}).map(function(e){return a.concat(e)})}},render:function(){var e=["recentlyadded"],r=this.props.model.pathEvaluator.bind(e),t=i.getSortOrder(this.context.routeHandler.query);return s.createElement(c,(0,d.default)({},this.props,{keyPrefix:"recentlyadded",sortOrder:t,model:r,prefix:e}))}});r.exports=l});C.r("akira/views/searchRoute.jsx",function(e,t,r){"use strict";var s=e("babel-runtime/helpers/extends"),n=function(e){return e&&e.__esModule?e:{default:e}}(s),o=e("prop-types"),a=e("react"),i=e("create-react-class"),u=e("../../utils/Routes"),c=e("../containers/searchContainer"),d=e("../utils/akiraContextTypes"),h=e("../utils/linkDefs.jsx"),l=i({displayName:"SearchRoute",contextTypes:Object.assign({history:o.object.isRequired,models:o.object.isRequired,routeHandler:o.object.isRequired},d),statics:{getPaths:function(e,t,r){return c.getPaths(e,t,r)}},getTerm:function(){return this.context.routeHandler.query.q||decodeURIComponent(this.context.routeHandler.params.term)},componentDidMount:function(){if(this.getTerm()||this.context.history.replaceState(u.browse.makePath()),!this.context.routeHandler.query.q){var e=this.context.routeHandler.params;e=Object.assign({},e,{q:decodeURIComponent(e.term)}),delete e.term,this.context.history.replaceState(h.getSearchRoute(this.context.models,this.context.isKidsPage).makePath(null,e))}},componentDidUpdate:function(){this.getTerm()||this.context.history.replaceState(u.browse.makePath())},render:function(){var e=this.getTerm();if(!e)return null;var t={term:e,suggestionId:this.context.routeHandler.query.suggestionId||this.context.routeHandler.params.suggestionId,dvdId:this.context.routeHandler.query.dvdId||this.context.routeHandler.params.dvdId};return a.createElement(c,(0,n.default)({},this.props,t))}});t.exports=l});C.r("akira/views/similars.jsx",function(e,r,t){"use strict";var s=e("babel-runtime/helpers/extends"),a=function(e){return e&&e.__esModule?e:{default:e}}(s),i=e("prop-types"),o=e("react"),n=e("create-react-class"),l=e("../containers/sortableGalleryContainer"),u=e("../utils/sortable"),d=n({displayName:"Similars",contextTypes:{models:i.object.isRequired,routeHandler:i.object.isRequired},statics:{getPaths:function(e,r,t){var s=["similars",t.id];return l.getPaths(e,r,{sortOrder:t.sortOrder}).map(function(e){return s.concat(e)})}},render:function(){var e=["similars",this.context.routeHandler.params.id],r=this.props.model.pathEvaluator.bind(e),t=u.getSortOrder(this.context.routeHandler.query);return o.createElement(l,(0,a.default)({},this.props,{keyPrefix:"similars",sortOrder:t,model:r,prefix:e}))}});r.exports=d});C.r("akira/views/title.jsx",function(e,t,r){"use strict";var a=e("babel-runtime/helpers/extends"),n=function(e){return e&&e.__esModule?e:{default:e}}(a),o=e("prop-types"),s=e("react"),i=e("create-react-class"),d=e("./home.jsx"),u=e("../containers/jawbone/jawBone.jsx"),c=i({displayName:"Title",contextTypes:{models:o.object.isRequired,routeHandler:o.object.isRequired},childContextTypes:{rowNum:o.number,rankNum:o.number,trackId:o.number,requestId:o.string,jawBoneTrackId:o.number,jawBoneEpisodeTrackId:o.number,jawBoneTrailerTrackId:o.number},getInitialState:function(){return{showLolomo:!1}},statics:{getPaths:function(e,t,r,a){var n=r.id||a.id;return u.getPaths(e,null,{isShow:void 0,isStandaloneJawbone:!0}).map(function(e){return["videos",n,"ancestor"].concat(e)})}},componentDidMount:function(){var e=this;setTimeout(function(){e.setState({showLolomo:!0})})},getTrackIds:function(){return this.getJawBoneModel().getValueSync(["trackIds"])||{}},getJawBoneModel:function(){return this.props.model.pathEvaluator.bind(["videos",this.context.routeHandler.params.id,"ancestor"])},getChildContext:function(){var e=this.props,t=e.trackId,r=e.rowNum,a=e.rankNum,n=e.requestId,o=e.jawBoneEpisodeTrackId,s=e.jawBoneTrailerTrackId,i=this.getTrackIds();return{rowNum:"undefined"!==r?r:-1,rankNum:"undefined"!==a?a:0,requestId:n,trackId:t||i.trackId,jawBoneTrackId:i.trackId_jaw,jawBoneEpisodeTrackId:o||i.trackId_jawEpisode,jawBoneTrailerTrackId:s||i.trackId_jawTrailer}},render:function(){var e=this.getJawBoneModel(),t=parseInt(this.context.routeHandler.params.id,10);return s.createElement("div",null,s.createElement(u,{model:e,videoId:t,disableClose:!0,isStandaloneJawbone:!0,isFirstJaw:!0,jawBoneRankNum:-1}),this.state.showLolomo&&s.createElement(d,(0,n.default)({},this.props,{model:this.props.model,suppressBillboard:!0})))}});t.exports=c});C.r("akira/views/titleAdd.jsx",function(t,e,i){"use strict";var s=t("lodash"),r=t("prop-types"),o=t("react"),n=t("create-react-class"),a=t("./title.jsx"),c=t("../../utils/eventBus"),d=t("../../utils/mylist_utils"),u=t("../../utils/msgTokenUtils"),l=n({displayName:"TitleAdd",contextTypes:{models:r.object.isRequired,routeHandler:r.object.isRequired,discoveryApp:r.object.isRequired},componentDidMount:function(){var t=this.context.routeHandler.params,e=this.context.routeHandler.query,i=this.context.trackId||0,r=parseInt(t&&t.id||0,10),o=u.decodeMsgTokenFromQuery(e);c.emit("myList:add:start",s.assign({},this.context,this.props)),d.addToList(this.context.discoveryApp.getActionCreators(),r,i,{reqMsgToken:!0,msgToken:o}).subscribe(this.handleSuccess,this.handleError)},triggerNotification:function(t){c.emit("myList:add:end",s.assign({},this.context,this.props,{myListNotification:t}))},handleSuccess:function(t){this.triggerNotification(t)},handleError:function(t){t&&t.status?this.triggerNotification(t):this.triggerNotification({status:"error",message:"Unknown server error"})},render:function(){return o.createElement(a,this.props)}});e.exports=l});C.r("akira/views/titleDislike.jsx",function(t,e,i){"use strict";var s=t("lodash"),r=t("prop-types"),n=t("react"),o=t("create-react-class"),a=t("./title.jsx"),c=t("../../utils/eventBus"),l=t("../../utils/ratingUtils"),u=t("../../utils/msgTokenUtils"),d=o({displayName:"TitleDisLike",contextTypes:{models:r.object.isRequired,routeHandler:r.object.isRequired},componentDidMount:function(){var t=this.context.routeHandler.params,e=this.context.routeHandler.query,i=this.context.trackId||0,r=parseInt(t&&t.id||0,10),n=u.decodeMsgTokenFromQuery(e);c.emit("title:rating:start",s.assign({},this.context,this.props)),l.dislike({titleId:r,trackId:i,reqMsgToken:!0,msgToken:n}).subscribe(this.handleSuccess,this.handleError)},triggerNotification:function(t){c.emit("title:rating:end",s.assign({},this.context,this.props,{ratingNotification:t}))},handleSuccess:function(t){this.triggerNotification(t)},handleError:function(t){this.triggerNotification({status:"error",message:"Unknown server error"})},render:function(){return n.createElement(a,this.props)}});e.exports=d});C.r("akira/views/titleLike.jsx",function(t,e,i){"use strict";var r=t("lodash"),s=t("prop-types"),n=t("react"),o=t("create-react-class"),a=t("./title.jsx"),c=t("../../utils/eventBus"),l=t("../../utils/ratingUtils"),u=t("../../utils/msgTokenUtils"),d=o({displayName:"TitleLike",contextTypes:{models:s.object.isRequired,routeHandler:s.object.isRequired},componentDidMount:function(){var t=this.context.routeHandler.params,e=this.context.routeHandler.query,i=this.context.trackId||0,s=parseInt(t&&t.id||0,10),n=u.decodeMsgTokenFromQuery(e);c.emit("title:rating:start",r.assign({},this.context,this.props)),l.like({titleId:s,trackId:i,reqMsgToken:!0,msgToken:n}).subscribe(this.handleSuccess,this.handleError)},triggerNotification:function(t){c.emit("title:rating:end",r.assign({},this.context,this.props,{ratingNotification:t}))},handleSuccess:function(t){this.triggerNotification(t)},handleError:function(t){this.triggerNotification({status:"error",message:"Unknown server error"})},render:function(){return n.createElement(a,this.props)}});e.exports=d});C.r("akira/views/watch.jsx",function(e,t,o){"use strict";var a=e("babel-runtime/helpers/extends"),r=function(e){return e&&e.__esModule?e:{default:e}}(a),n=e("prop-types"),s=e("react"),l=e("create-react-class"),i=e("shakti-platform/dist/ui/ShaktiProperties"),p=e("../../utils/Routes"),u=e("../utils/playLinkHelper"),c=e("../../mdx2/hoc/mdxLoader.jsx"),y=e("../containers/akiraPlayerContainer"),d=e("../../components/LayoutContext.jsx"),m=e("../../utils/player/playerFeatureDetection"),h=e("../../components/uma/UmaContainer.jsx"),f=e("../../components/uma/UMSUtils.js"),C=e("shakti-platform/dist/ui/utils/inNode"),P=e("lodash"),g=e("../../player/app/connect/connectToApps"),x=e("../../player/domains/videoPlayer/videoPlayerConstants"),L=x.playerIdentifier,v=e("../../player/nfplayer/components/controls/playerControlsLegacyStyles.jsx"),b=e("../../player/nfplayer/components/controls/playerControlsNeoLayout.jsx"),k=e("../../player/nfplayer/components/controls/playerControlsNeoLabeledLayout.jsx"),A=e("../../player/nfplayer/components/hoc/sizingWrapper.jsx"),N=e("../../player/nfplayer/components/keyboardNavigation.jsx"),R={AKIRA_NFPLAYER:"nfplayer"},S=l({displayName:"Watch",getDefaultProps:function(){return{isKidsPage:!1}},contextTypes:{getModelData:n.func.isRequired,routeHandler:n.object.isRequired},statics:{willTransitionTo:function(e,t){P.result(c,"isCasting",!1)&&e.back()}},childContextTypes:{node:n.object,isKidsPage:n.bool.isRequired},getChildContext:function(){return{node:this.props.model.node,isKidsPage:this.props.isKidsPage}},getInitialState:function(){var e=this.context.getModelData("truths"),t=N(e.usePlayerControlsNeoLayout||e.usePlayerControlsNeoLabeledLayout?A(y,{minSize:.6}):A(y)),o=v;return e.usePlayerControlsNeoLayout?o=b:e.usePlayerControlsNeoLabeledLayout&&(o=k),{PlayerLayoutClass:t,controlsLayoutClass:o,playerComponent:null}},redirect:function(){var e=this.context.routeHandler.query;"no"===this.context.getModelData("playerModel","playbackSupport").supportsSL?window.location.replace(p.helpPlayerSupport.makePath()):i.get("netflix.ui.akira.enableSilverlight")&&window.location.replace(u.buildAkiraPlayerURL(P.get(this.context.routeHandler.params,"id"),{trackId:P.get(e,"trackId"),tctx:P.get(e,"tctx")}))},setPlayerComponentState:function(){this.setState({playerComponent:R.AKIRA_NFPLAYER})},componentDidMount:function(){var e=this,t=document.body;m.hasRequiredComponentsForPlayback().take(1).do(function(t){t?e.setPlayerComponentState():e.redirect()}).subscribe(P.noop,function(e){}),t&&t.style&&""!==t.style.overflow&&requestAnimationFrame(function(){t.style.overflow=""})},render:function(){return s.createElement("div",null,this.renderPlayerComponent())},renderPlayerComponent:function(){var e=this.props.model,t=e.pathEvaluator,o=e.uma,a=this.context.getModelData("truths"),n=P.get(t.getValueSync(["profilesList","current","summary"]),"isKids",!1),l=this.props.isRefreshingApp,i=this.state,u=i.PlayerLayoutClass,c=i.controlsLayoutClass;if(l)return null;if(a.hasUmaMessage&&f.shouldPreventPlay(o))return s.createElement(h,{supportsModal:!0,supportsBanner:!1,redirectOnClose:C?null:p.browse.makePath(),forceUma:!0,refreshOnClose:!1});switch(this.state.playerComponent){case R.AKIRA_NFPLAYER:return s.createElement(u,(0,r.default)({controlsLayoutClass:c,displayUserRatings:!n,displayDisconnectedNetworkNotice:!0,playerSessionId:L.Watch},this.props));default:return null}}}),j=function(e){return{uma:e.discoveryApp.getAPI().uma.getUmaPayload()}},w=g(j,void 0,void 0,{appKeys:["discoveryApp"]})(S);t.exports=d(w)});C.r("common/iframeCommunicator.js",function(e,i,t){"use strict";var n=e("lodash"),r=e("shakti-platform/dist/ui/ShaktiProperties"),a=e("shakti-platform/dist/ui/utils/inNode"),s={height:"1px",width:"1px",position:"absolute",top:"-9px",left:"-9px"},o={LIFETIME_MAX:"ui.iframeCommunicator.maxLifetimeMs",IS_ACTIVE:"ui.iframeCommunicator.isActive"},m=!a&&r.get(o.IS_ACTIVE)||!1,d=r.get(o.LIFETIME_MAX)||3e4,u=void 0,c={_initialized:!1,_currentChannels:{},_buildUrl:function(e,i){var t=encodeURIComponent(JSON.stringify(i));return e+(-1===e.search("\\?")?"?":"&")+"data="+t},_init:function(){return!this._initialized&&(u=document.createElement("iframe"),n.assign(u.style,s),window.addEventListener("message",this._processMessage.bind(this)),this._initialized=!0,!0)},_processMessage:function(e){e&&e.data&&e.data.sender&&this._removeIframe(e.data.sender)},_removeIframe:function(e){var i=this._currentChannels[e];i&&(window.clearTimeout(i.timeout),i.ref.parentNode.removeChild(i.ref),delete this._currentChannels[e])},_saveIframe:function(e,i){var t=this,n=window.setTimeout(function(){t._removeIframe(e)},d);this._currentChannels[e]={timeout:n,ref:i}},send:function(e,i){if(!a&&m&&e){this._init();var t=u.cloneNode(!1),n="if-communicator-"+String(Math.random()).slice(2,15);if(t.src=this._buildUrl(e,i),t.src)return t.name=n,t.setAttribute("aria-hidden","true"),document.body.appendChild(t),this._saveIframe(n,t),n}}};i.exports=c});C.r("node_modules/nf-cons-log/dist/clientNotifications.js",function(e,t,n){!function(e){"use strict";e.util=void 0===e.util?{}:e.util,e.util.isObjectOrArray=function(e){return e&&"object"==typeof e}}("undefined"!=typeof window?window:this),function(e){"use strict";var t=e.netflix||{};t.pureMixin=function(e,n){var i,s,o,r,a=Object.keys(n),u=t.pureMixin;for(r=a.length-1;r>=0;r--)i=a[r],s=n[i],o=e[i],void 0!==o&&void 0!==s&&null!==o&&null!==s&&"object"==typeof o&&"object"==typeof s&&(n[i]=u(o,s)),n[i]={value:n[i]};return Object.create(e,n)},t.deepMixin=function(e,n){var i,s,o;if(void 0===e||null===e)return n;if("string"==typeof e&&void 0!==n)return e;for(i in n)s=e[i],"function"!=typeof(o=n[i])&&(o instanceof Date?e[i]=o:void 0!==s&&null!==s?e[i]=t.deepMixin(s,o):"object"==typeof s&&void 0!==o&&null!==o&&"object"==typeof o?t.deepMixin(s,o):e[i]=o);return e}}("undefined"!=typeof window?window:this),function(t){"use strict";var n=e("rxjs/Subject").Subject;t.netflix=t.netflix||{},t.netflix.notification=t.netflix.notification||{},t.netflix.notification.notifications=new n}("undefined"!=typeof window?window:this),function(e){"use strict";var t=e.netflix,n={appSession:{send:"both"},userSession:{send:"both"},sharedContext:{send:"both"},uiModalViewChanged:{eventProperties:{value:"modalView"},send:"start"},uiModelessView:{send:"both",overlapping:"true"},uiDataRequest:{send:"end"}};t.notification=t.notification||{},t.notification.specification=t.notification.specification||{},t.notification.specification.uiQOE=t.notification.specification.uiQOE||{};for(var i in n)n.hasOwnProperty(i)&&!t.notification.specification.uiQOE[i]&&(t.notification.specification.uiQOE[i]=n[i])}("undefined"!=typeof window?window:this),function(t){"use strict";var n=e("rxjs/Observable").Observable,i=e("rxjs/Subject").Subject,s={enumerable:!1},o=function(){},r=t.util.isObjectOrArray,a=t.netflix;a.notification.ClientNotifications=function(e){e=e||{};var t=e.requestSender||o,n=e.timeStampGenerator||function(){return 0},s=e.guidGenerator||o,r=e.log||o,a=e.maxBufferSize,u=e.maxFlushDelay,d=e.specification,c=e.sessionState,f=e.retryFailedRequests,l=e.metadata||{},h=e.sequencePrefix||"",p=isNaN(e.timeStampOffset)?0:e.timeStampOffset,v=e.isValidEvent||function(){return!0};this.setTimeStampOffset(p),this.log=r,this.metadata=l,this.specification=d,this._isValidEvent=v,this._retryFailedRequests=Boolean(f),this.sessionState=c||{sessions:{},sessionsList:[]},this.events=this._createEvents(),this.sequence=1,this._sequencePrefix=h,this._timestampOffset=0,this._timeStampGenerator=n,this.maxFlushDelay=u,this.maxBufferSize=a,this._queuedRequests=[],this._queue=[],this.nextGuid=s,this.eventsWithActiveSessions=this._createEventsWithActiveSessions(),this._flushes=new i,this.outgoingRequests=this._createRequests(),this.unsentRequests=new i,this.enabled=void 0,this._enabledChanges=new i,this._isEventEnabledByEventNameByCategory={},this._eventsQueuedBeforeEnabled=[],this._requestSender=t,this.requests=this._createRequestsObservable()},a.notification.ClientNotifications.prototype={setTimeStampOffset:function(e){this._timestampOffset=e},getTimeStampOffset:function(){return this._timestampOffset},timeStamp:function(){return this._timeStampGenerator()+this._timestampOffset},setSequencePrefix:function(e){this._sequencePrefix=e},getSequencePrefix:function(){return this._sequencePrefix},clearSequencePrefix:function(){this._sequencePrefix=""},getRequestSendDelayMs:function(e){var t=e.retryCount||0;return 100*(t&&Math.pow(2,t))},removeQueuedRequest:function(e){var t=this._queuedRequests,n=t.indexOf(e);n>-1&&t.splice(n,1)},suspend:function(){var e,t=this,n={metadata:this.metadata,maxBufferSize:this.maxBufferSize,maxFlushDelay:this.maxFlushDelay,eventsQueuedBeforeEnabled:this._eventsQueuedBeforeEnabled,sequence:void 0,sequencePrefix:this._sequencePrefix,enabled:this.enabled,sessionState:this.sessionState,queuedRequests:this._queuedRequests.slice(0)};return this.maxBufferSize=Number.MAX_VALUE,this.sessionState.sessionsList.concat(this._eventsQueuedBeforeEnabled).filter(function(e){var n=t._getEventSpecification(e);return n&&n.cancelOnSuspend}).forEach(function(e){t.notifyEnd(e,{data:{reason:"canceled"}})}),e=this.createRequestFromUnsentEvents(),e&&n.queuedRequests.push(e),n.queuedRequests.forEach(function(e){delete e.retryCount}),n.sequence=this.sequence,n},restore:function(e){this.maxBufferSize=e.maxBufferSize||this.maxBufferSize,this.maxFlushDelay=e.maxFlushDelay||this.maxFlushDelay,this._eventsQueuedBeforeEnabled=e.eventsQueuedBeforeEnabled||this._eventsQueuedBeforeEnabled,this.sequence=e.sequence||this.sequence,this._sequencePrefix=e.sequencePrefix||this._sequencePrefix,a.deepMixin(this.metadata,e.metadata||{}),this.sessionState=e.sessionState||this.sessionState,!1===e.enabled&&this.start(e.enabled),this.addToUnsentRequests(e.queuedRequests||[])},addToUnsentRequests:function(e){var t;if(Array.isArray(e))for(this.log("Adding "+e.length+" unsent requests."),t=0;t<e.length;++t)this.unsentRequests.next(e[t])},notify:function(e,t,n){return n=n||{},n.type="event",n.category=e,n.name=t,!1!==this.enabled&&this.events.next(n),n},start:function(e){var t,n=this._eventsQueuedBeforeEnabled,i=n.length;if(void 0!==e){if(this.enabled=e,!0===e)for(t=0;t<i;t++)this.events.next(n[t]);n.length=0,this._enabledChanges.next(e)}},getSession:function(e,t){var n,i,s,o,r=e+"."+t,a=this.sessionState;if(!a||!a.sessions)return void this.log("ClientNotifications#getSession called but we have no session state.");if(s=this.sessionState.sessions[r])return s;for(i=this._eventsQueuedBeforeEnabled,n=i.length,o=n-1;o>=0;--o)if(s=i[o],s.category===e&&s.sessionName===t)return s},_getEventKey:function(e){return e.category+"."+e.sessionName},notifyStart:function(e,t,n){var i,s,o,r;if(n=n||{},i=n.sessionId,n.type="sessionStarted",n.category=e,n.name=t+".started",n.sessionName=t,void 0!==i&&(s=this._getEventKey(n),void 0!==(o=this.sessionState.sessions[s])))if(Array.isArray(o)){if(-1!==(r=this._arrayIndexWhere(o,function(e){return e.sessionId===i})))return o[r]}else if(o.sessionId===n.sessionId)return o;return!1!==this.enabled&&this.events.next(n),n},notifyEnd:function(e,t,n){var i,s=this,o=e,r=t,a=void 0!==o.category,u=a?this.getSession(e.category,e.name):this.getSession(e,t);if(a?(e=o.category,t=o.sessionName,r=r||{},r.sessionId=o.sessionId,n=r):n=n||{},u&&(Array.isArray(u)&&(r.sessionId?-1!==(i=s._arrayIndexWhere(u,function(e){return e.sessionId===r.sessionId}))&&(u=u[i]):u=u[u.length-1]),u.childrenWhoseSessionsIClose))for(var d=u.childrenWhoseSessionsIClose.length-1;d>=0;d--)this.notifyEnd(u.childrenWhoseSessionsIClose[d]);return n.type="sessionEnded",n.category=e,n.name=t+".ended",n.sessionName=t,!1!==this.enabled&&this.events.next(n),n},areEventsQueued:function(){return this._queue.length>0},flush:function(){this._flushes.next()},_arrayIndexWhere:function(e,t){var n;for(n=e.length-1;n>=0;n--)if(t(e[n]))return n;return-1},_getEventSessionKey:function(e){var t=e.sessionKey;return void 0===t&&(t=[e.category,e.sessionName,e.sessionId],e.sessionKey=t),t},_isEventEnabled:function(e,t){var n,i,s;return n=this._isEventEnabledByEventNameByCategory[e.category]||{},this._isEventEnabledByEventNameByCategory[e.category]=n,void 0!==n[e.sessionName]?n[e.sessionName]:(i=Number(t.disabledChance),i=isNaN(i)?0:i,s=Math.floor(100*Math.random())>=i,n[e.sessionName]=s,s||this.log("Disabling "+e.category+"."+e.sessionName+" (disabledChance: "+(t.disabledChance||0)+")"),s)},_getSuppressPercentage:function(e){var t=Number(e.suppressPercentage);return isNaN(t)?0:t},_getEventSpecification:function(e){var t,n=this.specification,i=e.specification;return i&&"object"==typeof i?i:(n&&"object"==typeof n?(t=n[e.category]||{},(i=t[e.sessionName]||t[e.name])&&"object"==typeof i||(i={},t&&"object"==typeof t&&(t[e.name]=i))):i={},i.suppressPercentage=this._getSuppressPercentage(i),e.specification=i,Object.defineProperty(e,"specification",s),i)},_addTimeAndIds:function(e){return void 0===e.time&&(e.time=this.timeStamp()),void 0===e.id&&(e.id=this.nextGuid()),"sessionStarted"===e.type&&void 0===e.sessionId&&(e.sessionId=this.nextGuid()),e},_sendQueuedRequest:function(e){var t=this;return this._requestSender(e).do(function(){t.removeQueuedRequest(e)},function(){t.removeQueuedRequest(e),t._retryFailedRequests&&(++e.retryCount,t.log("Request failed, retrying..."),t.outgoingRequests.next(e))}).catch(function(){return n.of(e)})},_sendRequestAfterDelay:function(e){this._queuedRequests.push(e),e.time=e.time||this.timeStamp(),e.retryCount=e.retryCount||0;var t=this.getRequestSendDelayMs(e);return t&&this.log("Delaying request with timestamp "+e.time+" by "+t+"ms..."),n.timer(t).take(1).flatMap(this._sendQueuedRequest.bind(this,e))},_waitUntilEnabled:function(e){return this.enabled?n.of(e):this._enabledChanges.filter(function(e){return!0===e}).map(function(){return e}).take(1)},_createRequestsObservable:function(){return n.merge(this.unsentRequests.flatMap(this._waitUntilEnabled.bind(this)),this.outgoingRequests.flatMap(this._waitUntilEnabled.bind(this))).mergeMap(this._sendRequestAfterDelay.bind(this)).publish().connect()},_createEvents:function(){var e=this,t=new i,n=t.next;return t.next=function(i){e._addTimeAndIds(i),void 0===e.enabled?e._eventsQueuedBeforeEnabled.push(i):!0===e.enabled&&e._isValidEvent(i)&&n.call(t,i)},t},_writePromotedPropertyValueToPath:function(e,t,n){var i,s,o;for(i=0;i<t.length-1;i++)s=t[i],o=e[s],null!==o&&"object"==typeof o||(o={},e[s]=o),e=o;e[t[t.length-1]]=n},_writePromotedPropertiesFromSession:function(e,t,n){var i,s,o,a,u,d,c,f=t.data;if(void 0!==f)for(i in e){if(s=e[i],!0===s&&(s=i),r(s)&&!Array.isArray(s)){if(o=s,a=o[n.category],u=r(a)&&a[n.sessionName],d=r(a)&&void 0!==a.default?a.default:o.default,d=void 0!==d&&d,c=void 0===a||r(a)&&void 0===u,!1===a||!1===u||c&&!1===d)continue;(!0===u||!0===a||c&&!0===d)&&(s=i),s=c?d:void 0!==u?u:a}Array.isArray(s)?this._writePromotedPropertyValueToPath(n,s,f[i]):n[s]=f[i]}},_writePromotedProperties:function(e,t,n){var i,s,o,r;for(i=0;i<e.length;i++)s=e[i],(o=this._getEventSpecification(s))&&void 0!==(r=o[t])&&this._writePromotedPropertiesFromSession(r,s,n)},_createEventsWithActiveSessions:function(){var e=this;return n.create(function(t){var n=function(i){var o,r,u,d,c,f,l,h,p,v,m,y,g,S,b,x=e.sessionState,q=x.sessions,_=x.sessionsList;if("event"!==i.type){if(l=e._getEventSpecification(i),f=e._getEventKey(i),o=q[f],r=Array.isArray(o)?o[o.length-1]:o,"sessionStarted"===i.type){if(void 0!==r){if(r.sessionId===i.sessionId)return r;if(!l||!l.overlapping)return e.log("Implicitly ending "+i.category+"."+i.sessionName),n(e._addTimeAndIds({type:"sessionEnded",category:i.category,name:i.sessionName+".ended",sessionName:i.sessionName,sessionId:o.sessionId,time:i.time})),n(i);Array.isArray(o)||(o=[o],q[f]=o),o.push(i),_.push(i)}else q[f]=i,_.push(i);l&&l.parentThatClosesMySessionWhenItCloses&&(S=q[l.parentThatClosesMySessionWhenItCloses],Array.isArray(S)&&(S=S[S.length-1]),S&&S.time<i.time&&(b={sessionId:i.sessionId,id:i.id,sessionStartTime:i.time,category:i.category,sessionName:i.sessionName},S.childrenWhoseSessionsIClose?S.childrenWhoseSessionsIClose.push(b):S.childrenWhoseSessionsIClose=[b])),!l||"start"!==l.send&&"both"!==l.send||((m=e.onNotifyStart)&&m(i),(m=l.onNotifyStart)&&m(i))}else if("sessionEnded"===i.type){if(void 0===o)return;if(void 0!==i.sessionId?Array.isArray(o)?-1!==(v=e._arrayIndexWhere(o,function(e){return e.sessionId===i.sessionId}))&&(h=o[v],o.splice(v,1),0===o.length&&(q[f]=void 0)):o.sessionId===i.sessionId&&(h=o,q[f]=void 0):Array.isArray(o)?(h=o.pop(),0===o.length&&(q[f]=void 0)):(h=o,q[f]=void 0),l&&l.parentThatClosesMySessionWhenItCloses&&(S=q[l.parentThatClosesMySessionWhenItCloses])&&(Array.isArray(S)&&(S=S[S.length-1]),S.childrenWhoseSessionsIClose&&-1!==(v=e._arrayIndexWhere(S.childrenWhoseSessionsIClose,function(e){return e.id===h.id}))&&S.childrenWhoseSessionsIClose.splice(v,1)),void 0===h)return;i.sessionId=h.sessionId,c=_.length,_[c-1].id===h.id?_.length=c-1:-1!==(v=e._arrayIndexWhere(_,function(e){return e.id===h.id}))&&_.splice(v,1),void 0===i.duration&&(i.duration=i.time-h.time),!l||"end"!==l.send&&"both"!==l.send||((g=e.onNotifyEnd)&&g(h,i),(g=l.onNotifyEnd)?g(h,i):"end"===l.send&&(void 0===i.data&&(i.data={}),i.data=a.deepMixin(i.data,h.data),i.dataContext=a.deepMixin(i.dataContext,h.dataContext)))}}else e.onNotify&&e.onNotify(i);if("event"===i.type||void 0!==l&&("both"===l.send||"sessionStarted"===i.type&&"start"===l.send||"sessionEnded"===i.type&&"end"===l.send&&void 0!==h)){for(p=[],y=0;y<_.length;y++)u=_[y],(d=e._getEventSpecification(u))&&void 0!==d.send&&p.push(e._getEventSessionKey(u));i.activeSessions=p,e._writePromotedProperties(_,"eventProperties",i),i.sessionState=x,Object.defineProperty(i,"sessionState",s),t.next(i)}};return e.events.subscribe(n,function(e){t.error(e)},function(){t.complete()})})},createRequestFromUnsentEvents:function(){if(this.areEventsQueued())return this._createRequest(this._queue)},clearDisabledEvents:function(){var e,t,n,i=this._isEventEnabledByEventNameByCategory;this.log("Clearing disabled state for all event types");for(t in i){e=i[t]||{};for(n in e)delete e[n]}},_canSendEvent:function(e){var t=this._getEventSpecification(e);return this._isEventEnabled(e,t)&&(0===t.suppressPercentage||Math.floor(100*Math.random())>=t.suppressPercentage)},_createRequest:function(e){var t,n=this,i={};return n._writePromotedProperties(this.sessionState.sessionsList,"requestProperties",i),i.events=e.filter(n._canSendEvent.bind(n)).map(function(e){return e.sequence=n._sequencePrefix+n.sequence,n.sequence++,e}),(t=n.onRequest)&&t(i),i},_createRequests:function(){var e=this;return n.create(function(t){var n,i,s,r=e._queue,a=function(){var e;r.length>0&&(n=clearTimeout(n),e=r.slice(0),r.length=0,t.next(e))},u=function(){void 0!==i&&i.unsubscribe(),void 0!==s&&s.unsubscribe(),n&&(n=clearTimeout(n))};return s=e._flushes.subscribe(function(){a()},function(e){void 0!==u&&u(),t.error(e)},o),i=e.eventsWithActiveSessions.subscribe(function(t){1===r.length&&(n=setTimeout(a,e.maxFlushDelay)),r.push(t),e.maxBufferSize<=r.length&&a()},function(e){u(),t.error(e)},function(){a(),u(),t.complete()}),u}).map(function(t){return e._createRequest(t)})}}}("undefined"!=typeof window?window:this),function(e){"use strict";var t=function(t){var n;try{n="object"==typeof e.localStorage?"localstorage":"none"}catch(e){n="none"}var i=function(n){try{return e.localStorage.getItem(t+"."+n)}catch(e){return null}},s=function(n,i){try{return i=JSON.stringify(i),e.localStorage.setItem(t+"."+n,i),!0}catch(e){return!1}};return{type:function(){return n},get:i,set:s}};e.netflix=e.netflix||{},e.netflix.BrowserDb=function(e){return t(e)}}("undefined"!=typeof window?window:this),function(t){"use strict";t.netflix=t.netflix||{},t.netflix.notification=t.netflix.notification||{},t.netflix.notification.constants=t.netflix.notification.constants||{},t.netflix.session=function(){var n,i,s,o,r=6e4*(t.netflix.notification.constants&&t.netflix.notification.constants.sessionLength||30),a=new t.netflix.BrowserDb("NFSessionData"),u=function(){return(new Date).getTime()},d=function(){return void 0===n||u()-n>r},c=function(){return void 0===n||u()-n>288e5},f=function(){n=u(),p()},l=function(){var e,n,i,s,o=t.document&&t.document.cookie.split(";");if(o)for(i=0;i<o.length;i++){for(s=o[i];" "===s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf("cL=")){e=s.substring("cL=".length,s.length);break}}try{e&&(e=decodeURIComponent(e).split("|"),n={timeStamp:e[0],activeSessions:[["uiQOE","appSession",e[1]],["uiQOE","userSession",e[2]]],sequencePrefix:e[3],sequence:parseInt(e[4],10),token:h(e,5)})}catch(e){n=null}return n},h=function(e,t){try{return e[t]}catch(e){return""}},p=function(){a.set("nfSessionTs",u())},v=function(){var n=window&&t.jQuery||e("jquery"),i=function(){t.netflix.session.newSession()||a.set("nfSessionTs",u())};t.netflix.session.disabled()||(n&&!n.stub?n(t).bind("beforeunload",i):t.addEventListener("beforeunload",i,!1))};return function(){"none"===a.type()&&(i=!0),n=a.get("nfSessionTs"),s=l();try{s&&s.timeStamp>n?n=s.timeStamp:s=void 0}catch(e){s=void 0}o=!0}(),{disabled:function(){return i},newSession:d,newApp:c,lastActivity:function(){return n},ready:function(){return o},cookieData:function(){return s},keepAlive:f,initTimers:v,database:a}}()}("undefined"!=typeof window?window:this),function(t){"use strict";var n=e("rxjs/Observable").Observable;e("rxjs/add/observable/timer"),e("rxjs/add/observable/merge"),e("rxjs/add/operator/catch"),e("rxjs/add/operator/do"),e("rxjs/add/observable/of"),e("rxjs/add/operator/merge"),e("rxjs/add/operator/map"),e("rxjs/add/operator/mergeMap"),e("rxjs/add/operator/publish"),e("rxjs/add/operator/take");var i=t,s=i.netflix;i.netflix.clientNotifications=function(t,o,r){var a,u,d,c=s.notification.constants,f=c&&c.pageName||i.location&&i.location.pathname,l=c&&"jfk"===c.uiMode,h=c&&c.debugMode&&i.console,p=c&&c.maxFlushDelay||5e3,v=c&&c.maxBufferSize||20,m=c&&!1!==c.logPageOnStart,y=c?c.ownerToken:"",g=function(){return Math.floor(new Date/1e3).toString()+Math.floor(1e8*Math.random()).toString()},S=function(){return(new Date).getTime()},b=function(){return 6e4*(new Date).getTimezoneOffset()},x=function(e){return!s.session.disabled()&&a.sessionState.sessions["uiQOE."+e]},q=function(){if(!i.netflix.session.disabled()){i.nflxappbridge&&(d=i.nflxappbridge);try{if(i.netflix.session.ready()){_(),m&&w();var e=a.suspend();O(e),a.restore(e)}else i.setTimeout(q,100)}catch(e){}}},_=function(){if(!s.session.disabled()){var e,u=r.cookieData(),f=r.database.get("nfNotifications");a=new t({requestSender:function(e){return n.create(function(t){return C(e,function(e,n){e?t.error(e):t.next(n)}),function(){}}).map(function(){return e})},timeStampGenerator:S,guidGenerator:g,maxBufferSize:v,maxFlushDelay:p,specification:o,sessionState:null,retryFailedRequests:!0}),a.metadata.token=y;try{void 0!==u?e=B(u):null!==f&&(e=JSON.parse(f),e.enabled=void 0),void 0!==e&&E(e)&&(h&&console.log("restoring"+JSON.stringify(e)),a.restore(e))}catch(e){}a.onRequest=function(e){var t;e.locale=c&&c.locale?c.locale:"",t=function(e){if("undefined"==typeof document||void 0===document.cookie)return"";var t=document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)");return t?t.pop():""}("clSharedContext"),e.device={},a.metadata&&a.metadata.device&&(e.device=a.metadata.device),e.device.utcOffset=b(),c.version&&(e.version=c.version),e.browser={userAgent:i.navigator.userAgent,requestUrl:i.location.href,referrerUrl:i.document.referrer},d&&(c.appName="www-hosted"),""!==t&&(e.sharedContext=t),e.appName=c.appName||"www",e.time=S()}}},E=function(e){var t=e.metadata.token;return void 0===t||""===t||t.toString()===y.toString()},w=function(){var e=c&&c.videoId,t=c&&c.trackId,n={category:"uiQOE",modalView:f};e&&(n.dataContext=n.dataContext||{},n.dataContext.videoId=e),t&&(n.dataContext=n.dataContext||{},n.dataContext.trackId=t),A("uiModalViewChanged",n)},O=function(e){r.disabled()||r.database.set("nfNotifications",e)},I=function(){r.disabled()||(a.start(!0),a.flush())},C=function(t,n){var s=JSON?JSON.stringify(t):t,o=i&&i.jQuery||e("jquery"),r={name:"X-Netflix.ichnaea.request.type",value:"UiRequest"},a="/ichnaea/log";if(h&&console.log("Sending data to server: "+s),o&&!o.stub)o.ajax({type:"POST",url:a,data:s,contentType:"application/json",beforeSend:function(e){e.setRequestHeader(r.name,r.value)},success:function(){n(null,null)},error:n});else{var u=new i.XMLHttpRequest,d=function(){u.onload=null,u.onerror=null,u.ontimeout=null,u.onabort=null,u=null},c=function(){n(null,null),d()},f=function(){n(!0,u),d()};u.open("POST",a),u.withCredentials=!0,u.setRequestHeader(r.name,r.value),u.setRequestHeader("Content-Type","application/json"),u.onload=c,u.onerror=f,u.ontimeout=f,u.onabort=f,u.send(s)}},N=function(e){var t=r.lastActivity(),n=r.newApp(),s=r.newSession(),o=x("appSession"),a=x("userSession"),u=x("sharedContext");if("userSession"!==e&&"appSession"!==e&&"sharedContext"!==e&&(n||void 0===o?(void 0!==a&&R("userSession",{category:"uiQOE",data:{endReason:"timeout",lastUserActivityTime:t}}),void 0!==o&&R("appSession",{category:"uiQOE",data:{endReason:"timeout",lastUserActivityTime:t}}),P("appSession"),c["accept-language"]?P("userSession",{category:"uiQOE",data:{trigger:"appStart",acceptLanguageHeader:c["accept-language"]}}):P("userSession",{category:"uiQOE",data:{trigger:"appStart"}})):(s||void 0===a)&&(void 0!==a&&R("userSession",{category:"uiQOE",data:{endReason:"timeout",lastUserActivityTime:t}}),P("userSession",{category:"uiQOE",data:{trigger:"inputEvent",idleTime:S()-t}})),"www-hosted"===c.appName)){var d,f={},l=i.location.href;l.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function(e,t,n,i){f[t]=i}),f&&f.uuid&&(d=f.uuid),void 0===u?d&&P("sharedContext",{category:"uiQOE",data:{trigger:"signup",role:"receiver",uuid:d}}):d&&d!==u.data.uuid&&(R("sharedContext",{category:"uiQOE",data:{role:"receiver",uuid:u.data.uuid}}),P("sharedContext",{category:"uiQOE",data:{trigger:"signup",role:"receiver",uuid:d}}))}},P=function(e,t){return j("start",e,t)},R=function(e,t){return j("end",e,t)},A=function(e,t){return j("singleton",e,t)},j=function(e,t,n){if(s.session.disabled())return!1;var o,d=n||{};switch(d.modalView=d.modalView||f,l&&void 0===d.kids&&(d.kids=l),o=d.category||"uiQOE","undefined"===a&&i.setTimeout(function(){j(e,t,n)},100),h&&console.log("notifying "+t+" : "+JSON.stringify(n)),N(t),r.keepAlive(),e){case"start":return"object"==typeof d.endOnUnload&&(u=u||{},d.endOnUnload.category=o,u[t]=d.endOnUnload,delete d.endOnUnload),a.notifyStart(o,t,d);case"end":return"Object"==typeof d.startEvent?a.notifyEnd(d.startEvent):a.notifyEnd(o,t,d);default:return a.notify(o,t,d)}},Q=function(e){f=e},T=function(){if(u)for(var e in u)u.hasOwnProperty(e)&&R(e,u[e])},M=function(){var e,t=x("appSession"),n=x("userSession"),s={};if(void 0!==t&&!r.newApp())try{s.appId=t.sessionId,void 0!==n&&(s.sessionId=n.sessionId),s.timeStamp=r.lastActivity(),s.sequencePrefix=a.getSequencePrefix(),e=encodeURIComponent(s.timeStamp+"|"+s.appId+"|"+s.sessionId+"|"+s.sequencePrefix+"|"+a.sequence+"|"+y),i.document.cookie="cL="+e+"; path=/; domain="+i.location.hostname}catch(e){}},B=function(e){var t,n,i,s,o=e.activeSessions,r={},a=[],u={},d=[];for(s=0;s<o.length;s++){try{n=o[s][2],t=o[s][1]}catch(e){break}d.push(["uiQOE",t,n]),i={sessionId:n,type:"sessionStarted",category:"uiQOE",name:t+".started",sessionName:t,id:n,activeSessions:d},u["uiQOE."+t]=i,a.push(i)}return h&&console.log("Restoring "+d),r.sessionState={sessions:u,sessionsList:a},e.esn&&(r.metadata=r.metadata||{},r.metadata.device={esn:e.esn}),"NaN"!==e.sequence&&(r.sequence=e.sequence),e.sequencePrefix&&(r.sequencePrefix=e.sequencePrefix),e.token&&(r.metadata=r.metadata||{},r.metadata.token=e.token),r},D=function(){var t=i&&i.jQuery||e("jquery"),n=function(){s.session.disabled()||(T(),M(),O(a.suspend()))};s.session.initTimers(),I(),M(),t&&!t.stub?t(i).unload(n):i.addEventListener("unload",n)},k=function(){a.flush()};return q(),{start:D,notify:A,notifyStart:P,notifyEnd:R,updatePageName:Q,getCurrentSession:x,flushBuffer:k,createClientNotifications:_}}(s.notification.ClientNotifications,s.notification.specification,s.session)}("undefined"!=typeof window?window:this),t.exports="undefined"!=typeof window?window:this});C.r("node_modules/nf-cons-log/lib/index.js",function(i,t,n){"use strict";function o(){}var s,c=i("../dist/clientNotifications.js");s="undefined"!=typeof window?window.netflix:c.netflix,t.exports={init:function(){try{s.clientNotifications.start()}catch(i){}},active:function(){return s.session&&s.notification&&s.clientNotifications},session:s.session,notification:s.notification,clientNotifications:s.clientNotifications||{notifyEnd:o,notifyStart:o,notify:o}}});C.r("common/adtech-iFrame2.js",function(e,t,i){"use strict";function a(e,t){try{var i=s.getInstance(),a={category:"uiView",data:{name:"adtechIframe",view:e}};r.clientNotifications.notifyStart("impression",a),r.clientNotifications.notifyEnd("impression",a),t&&i&&i.logEvent("www.AdtechTrackingPixelRequested")}catch(e){}}function o(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=c.getModelData("adtech");if(!(m||n.isEmpty(o)||n.isEmpty(o.iframeData)||!0===o.disabled)){var r=n.clone(o.iframeData);t&&(r.is_member=t),r.wasFormerMember=!0===r.wasFormerMember,r.referrer=e,d.send(o.iframeLocation,r),a(e,i)}}var n=e("lodash"),r=e("nf-cons-log"),s=e("shakti-platform/dist/ui/consolidatedLogging"),c=e("../common/appContext"),m=e("shakti-platform/dist/ui/utils/inNode"),d=e("./iframeCommunicator");t.exports={sendAdTech:o}});C.r("common/clientInitFastProperties.js",function(t,i,e){"use strict";var o=t("nf-iso-properties"),r=t("../common/appContext"),s=t("shakti-platform/dist/ui/utils/inNode"),n=t("shakti-platform/dist/ui/ShaktiProperties");i.exports={init:function(){s||o.create({sources:[new o.plugins.MemorySource(r.getModelData("fastProps"))]},function(t,i){if(t)throw new Error("ShaktiProperties failed to initialize.");n.setClient(i)})}}});C.r("common/i18n.js",function(i,t,n){"use strict";function s(i,t){var n=/\{(\w+)\}/g;return i?i.replace(n,function(i,n){return void 0!==t[n]?t[n]:"{?"+n+"?}"}):""}var r=i("lodash"),e=i("shakti-platform/dist/ui/utils/inNode"),o=i("shakti-platform/dist/ui/consolidatedLogging/constants/eventTypes"),g=i("shakti-platform/dist/ui/consolidatedLogging").getInstance(),a=void 0,u=void 0,l=void 0,d=i;try{e&&(u=d("shakti-platform/dist/ui/ShaktiProperties"),a=d("shakti-platform/dist/singletons/ShaktiAtlas"),l=u.get("DEVELOPMENT"))}catch(i){}var f={},h=function(i){if(e)throw new Error("This function does not work on the server and will leak memory!");f[i.shakti_missing_string_full]||(g.logEvent(o.DebugEvent,Object.assign({},i,{action:"shakti_missing_string"})),f[i.shakti_missing_string_full]=!0)},_={getStringWithoutVariableSubstitution:function(t,n,s,o){if(e&&l&&(!s||"string"!=typeof s))throw new Error("Key not provided for lookup in bundle: "+(n||"undefined bundle"));if(!n||"string"!=typeof n)throw new Error("Missing/invalid bundle param for key="+s);if(void 0===t||null===t)throw new Error("Missing strings for all bundles: key="+s);if(-1!==n.indexOf(":")&&e){if(l)throw new Error("bundle:stringPart syntax is no longer supported. Please use full string key names.");u&&!0===u.get("web.ui.missing_strings.enabled")&&a&&a.counter("shakti_bad_bundle",{shakti_missing_string_bundle:n}).increment()}if(!r.has(t,[n,s])){if(void 0===o){var d={shakti_missing_string_key:""+(""===s?"<EMPTY STRING>":s),shakti_missing_string_bundle:""+(""===n?"<EMPTY STRING>":n),shakti_missing_string_full:n+":"+s};if(e||u&&u.get("web.ui.missing_strings.enabled")&&g&&h(d),e){i("shakti-platform/dist/singletons/ShaktiLogger").getInstance("bad-strings").error(new Error("Invalid string!  String key: '"+s+"', string bundle: '"+n+"'")),u&&!0===u.get("web.ui.missing_strings.enabled")&&a&&a.counter("shakti_missing_string",d).increment()}return""}return o}return t[n][s]},getString:function(i,t,n,r,e){"string"==typeof r&&void 0===e&&(e=r,r={});var o=_.getStringWithoutVariableSubstitution(i,t,n,e);return r?s(o,r):o},getStrings:function(i,t){return{get:function(n,s,r){return _.getString(i,t,n,s,r)}}}};t.exports=_});C.r("common/icuStrings.js",function(t,i,n){"use strict";var r=t("../utils/intl-messageformat/index"),e=t("../utils/strings/fixLocale"),u=t("shakti-platform/dist/ui/utils/inNode"),s=t("../common/i18n");if(!u){var o=t("../shims/intl/index");try{o.install&&o.install()}catch(t){}}var a={},g=function(t,i,n,s){n=n||{},s=s||i+"::"+t;var o=a[s];return o||(o=new r(t,e(i),n),u||(a[s]=o)),o},l=function(t,i,n,r,e){return n=n||{},g(t,i,r,e).format(n)},c=function(t,i,n){return s.getStringWithoutVariableSubstitution(t,i,n)},S=function(t,i,n,r,e,u){return l(c(t,n,r),i,e,u,i+":"+n+":"+r)};i.exports={createString:S,formatString:l,getStringWithoutVariableSubstitution:s.getStringWithoutVariableSubstitution,getString:s.getString,getStrings:s.getStrings}});C.r("common/umaUpdate.js",function(s,e,t){"use strict";var r=s("../utils/XHR.js"),o=function(s,e,t){r.request({method:"post",protocol:"https",data:s,query:{esn:"www"},resource:"/usermessages",service:"api",authorize:!0}).subscribe(e,t)};e.exports=o});C.r("components/LayoutContext.jsx",function(e,t,o){"use strict";function n(e){return l({displayName:"LayoutContext",contextTypes:{models:a.object},statics:{__meta__:e.__meta__,willTransitionTo:e.willTransitionTo,willTransitionFrom:e.willTransitionFrom},childContextTypes:{models:m.isRequired,node:m},getChildContext:function(){var e=this.props.model,t=e.models||this.context.models;return{models:t||{},node:e.node}},render:function(){var t=this.props.model,o=d.omit(t,"models"),n=d.omit(this.props,"model");return i.createElement(e,(0,r.default)({model:o},n))}})}var s=e("babel-runtime/helpers/extends"),r=function(e){return e&&e.__esModule?e:{default:e}}(s),i=e("react"),l=e("create-react-class"),a=e("prop-types"),d=e("lodash"),m=a.object;t.exports=n});C.r("components/presentationTracking/trackingComponents/lolopiPresTracking.js",function(e,n,t){"use strict";var o=e("./createTrackingComponent"),i=e("shakti-platform/dist/ui/consolidatedLogging/constants/appViewTypes");n.exports=o({appView:i.profileAvatar,usePresentedEvent:!0})});C.r("core/consolidatedLogging/log-presentation-events.js",function(e,n,t){"use strict";function r(e){function n(n){n.added.map(function(e){return n.elements[e]}).filter(function(e){return e.appView&&e.usePresentedEvent}).forEach(function(n){var t=c(o(n));e.logEvent("Presented",{view:n.appView,trackingInfo:t})})}function t(n,t){var r=i.pick(t.elements,function(e){return e.appView&&!e.usePresentedEvent});return t.added.forEach(function(t){if(r[t]){var i=r[t],a=c(o(i)),s=e.startSession("Presentation",{view:i.appView,trackingInfo:a});null!==s&&void 0!==s&&(n[t]=s)}}),t.removed.forEach(function(t){var r=n[t];r&&(e.endSession(r),delete n[t])}),n}var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a(s.FULL_SCAN),d=r.publish().refCount().map(function(e){return e.data}),p=d.scan(t,{}),f=d.do(n);return u.zip(p,f)}function o(e){var n=Object.assign({},e);return delete n.__uuid__,delete n.appView,delete n.usePresentedEvent,n}var i=e("lodash"),a=e("../../utils/observableFromEventBus"),s=e("../../common/presentationTracking/presentationTrackingConsts"),u=e("../../utils/rx/shakti-rx").RxObservable,c=e("../../components/presentationTracking/trackingComponents/mapTrackingInfoToNewForm");n.exports=r});C.r("player/nfplayer/components/controls/audioSubtitleButton.jsx",function(t,e,n){"use strict";var s=t("prop-types"),o=t("react"),r=t("create-react-class"),a=t("../../../../common/svgIcon.jsx"),c=t("classnames"),i=r({displayName:"AudioSubtitlesButton",statics:{BUNDLE:{BVUI:"discovery/akira/BVUICommon"}},contextTypes:{getI18nString:s.func.isRequired},render:function(){return o.createElement("button",{"aria-label":this.context.getI18nString(i.BUNDLE.BVUI,"ce-button-alt-subtitles"),onClick:this.props.onClick,className:c("video-controls-subtitles","default-control-button")},o.createElement(a,{name:"nfplayerSubtitles"}))}});e.exports=i});C.r("player/nfplayer/components/controls/episodes.jsx",function(o,t,s){"use strict";var e=o("prop-types"),n=o("react"),c=o("create-react-class"),r=o("../../common/playerControls"),i=o("./button.jsx"),a=(o("../hoc/controlFocus.jsx"),c({displayName:"EpisodesButton",statics:{BUNDLE:{BVUI:"discovery/akira/BVUICommon"}},contextTypes:{getI18nString:e.func.isRequired},render:function(){return n.createElement(i,{controlFocusActions:this.props.controlFocusActions,controlFocusState:this.props.controlFocusState,tabIndex:this.props.tabIndex,ariaLabel:this.context.getI18nString(a.BUNDLE.BVUI,"ce-button-alt-episodes"),focusName:r.EPISODES,onClick:this.props.onClick,iconName:"nfplayerEpisodes"})}}));t.exports=a});C.r("player/nfplayer/components/controls/stop.jsx",function(t,o,s){"use strict";var e=t("prop-types"),n=t("react"),r=t("create-react-class"),c=t("../../common/playerControls"),a=t("./button.jsx"),p=(t("../hoc/controlFocus.jsx"),r({displayName:"StopButton",statics:{BUNDLE:{MDX:"discovery/akira/Mdx"}},contextTypes:{getI18nString:e.func.isRequired},render:function(){return n.createElement(a,{controlFocusActions:this.props.controlFocusActions,controlFocusState:this.props.controlFocusState,tabIndex:this.props.tabIndex,ariaLabel:this.context.getI18nString(p.BUNDLE.MDX,"mdx-stop"),focusName:c.STOP,onClick:this.props.onClick,iconName:"nfplayerStop"})}}));o.exports=p});C.r("utils/htmlUtils.js",function(e,n,t){"use strict";var i=e("babel-runtime/helpers/typeof"),a=function(e){return e&&e.__esModule?e:{default:e}}(i),r={id:"__tagIdent"},o=function(e){return e},l=Object.freeze||o,u=l({html:{name:"div",id:r},body:{name:"html",id:r},div:{name:"div",id:r},span:{name:"span",id:r},p:{name:"p",id:r},li:{name:"li",id:r},img:{name:"img",id:r},a:{name:"a",id:r},em:{name:"em",id:r},br:{name:"br",id:r},h1:{name:"h1",id:r},close:{name:"_close_",id:r},isTag:function(e){return e&&e.id&&e.id===r&&"_close_"!==e.name},isClose:function(e){return e&&e.id&&e.id===r&&"_close_"===e.name},toString:function(){return this.name}}),s=function(e,n){return""===n?e:("clazz"===e&&(e="class"),[e,'="',n,'"'].join(""))},d=function(e){var n=void 0,t=[];for(n in e)e.hasOwnProperty(n)&&(t.push(s(n,e[n])),t.push(" "));return t.join("").trim()},m=function(e,n,t){var i=n||null,r=t||null;return 1===arguments.length&&"object"===(void 0===e?"undefined":(0,a.default)(e))&&(i=e.attrs,r=e.body),"object"===(void 0===i?"undefined":(0,a.default)(i))&&(i=d(i)),[" <",e.name,i?" "+i:"",">",r,"</",e.name,">"].join("")},c=function(e){return{clazz:e.join(" ")}},f=function(){var e=Array.prototype.slice.call(arguments),n=[],t=[],i=!1,r=0,o=null,l=null,s="",d=void 0;for(d=0;d<e.length;d++)if(l=e[d],"function"==typeof l&&(l=l()),i)u.isTag(l)&&r++,u.isClose(l)&&0===--r&&(i=!1);else if(u.isTag(l))o={name:l.name,attrs:{},body:""},n.push(o);else if(u.isClose(l))s=m(o),n.pop(),o=n[n.length-1]||null,null!==o?o.body+=s:t.push(s);else if("object"===(void 0===l?"undefined":(0,a.default)(l))){if(null===o)throw new Error("there is no context to attach attributes to");o.attrs=l}else"string"==typeof l?null===o?t.push(l):o.body+=l:!1===l&&(i=!0,r=0);return t.join("\n")},h=function(e){var n=document.createElement("textarea");return n.innerHTML=e,n.value};n.exports={TagsEnum:u,makeTag:m,makeAttrs:d,html:f,classAttrs:c,unescapeHtmlCharacters:h}});C.r("mdx2/components/mdxMount.jsx",function(e,t,o){"use strict";var n=e("prop-types"),s=e("react"),r=e("create-react-class"),a=e("../../utils/shallowCompare"),p=e("../hoc/mdxLoader.jsx");e("shakti-platform/dist/ui/ShaktiProperties"),e("../../akira/components/hoc/withUpdateDimensions.jsx"),e("../../player/components/pinEntry.jsx"),e("../../player/nfplayer/components/svgDefs.jsx"),e("../../player/nfplayer/components/controls/audioSubtitleButton.jsx"),e("../../player/nfplayer/components/controls/audioSubtitlePopup.jsx"),e("../../player/nfplayer/components/controls/episodes.jsx"),e("../../player/nfplayer/components/controls/play.jsx"),e("../../player/nfplayer/components/controls/stop.jsx"),e("../../player/nfplayer/components/controls/mdx.jsx"),e("../../player/nfplayer/components/controls/progressBar.jsx"),e("../../player/nfplayer/components/controls/volumeController.jsx"),e("../../components/focusTrap.jsx"),e("../../player/nfplayer/components/hoc/controlFocus.jsx"),e("../../player/nfplayer/components/hoc/withEffects.jsx"),e("../../player/nfplayer/utils/playerKeyHandler"),e("../../utils/htmlUtils"),e("../../player/components/adultVerificationPrompt.jsx"),e("../../player/nfplayer/utils/getDefaultStaticConfig"),e("../../utils/titles/interactiveTitles");var l=r({displayName:"MdxMount",contextTypes:{playerApp:n.object.isRequired,jsongDocument:n.object,routeHandler:n.object},shouldComponentUpdate:a.multiple(a.props,a.context),getInitialState:function(){return{initParams:this.context.playerApp.getAPI().playerApp.getInitParams()}},render:function(){if(!this.props.mdxTarget||!this.props.mdxManager)return null;var e=this.props.mdxManager.getControlsComponentClass();return s.createElement("div",{className:"nfp mdx-mount-point"},s.createElement(e,{disableCommandAutoLogging:!0,commandLoggingName:"mdx",releaseDelay:2e3,model:this.context.jsongDocument,mdxManager:this.props.mdxManager,mdxTarget:this.props.mdxTarget,initParams:this.state.initParams}))}});t.exports=p.createComponent(l)});C.r("node_modules/falcor-asap/browser-asap.js",function(t,r,n){"use strict";function o(){if(i.length)throw i.shift()}function s(t){var r;r=l.length?l.pop():new a,r.task=t,e(r)}function a(){this.task=null}var e=t("./browser-raw"),l=[],i=[],c=e.makeRequestCallFromTimer(o);r.exports=s,a.prototype.call=function(){try{this.task.call()}catch(t){s.onerror?s.onerror(t):(i.push(t),c())}finally{this.task=null,l[l.length]=this}}});C.r("node_modules/falcor-asap/browser-raw.js",function(e,t,n){"use strict";function r(e){u.length||(l(),c=!0),u[u.length]=e}function o(){for(;i<u.length;){var e=i;if(i+=1,u[e].call(),i>f){for(var t=0,n=u.length-i;t<n;t++)u[t]=u[t+i];u.length-=i,i=0}}u.length=0,i=0,c=!1}function a(e){return function(){function t(){clearTimeout(n),clearInterval(r),e()}var n=setTimeout(t,0),r=setInterval(t,50)}}t.exports=r;var l,u=[],c=!1,i=0,f=1024,s="undefined"!=typeof global?global:self,v=s.MutationObserver||s.WebKitMutationObserver;l="function"==typeof v?function(e){var t=1,n=new v(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}(o):a(o),r.requestFlush=l,r.makeRequestCallFromTimer=a});C.r("node_modules/falcor-json-graph/src/index.js",function(r,n,t){function e(r,n,t){var e=Object.create(null);if(null!=t){for(var a in t)e[a]=t[a];return e.$type=r,e.value=n,e}return{$type:r,value:n}}var a=r("falcor-path-syntax");n.exports={ref:function(r,n){return e("ref",a.fromPath(r),n)},atom:function(r,n){return e("atom",r,n)},undefined:function(){return e("atom")},error:function(r,n){return e("error",r,n)},pathValue:function(r,n){return{path:a.fromPath(r),value:n}},pathInvalidation:function(r){return{path:a.fromPath(r),invalidated:!0}}}});C.r("node_modules/falcor-path-syntax/src/RoutedTokens.js",function(e,s,n){s.exports={integers:"integers",ranges:"ranges",keys:"keys"}});C.r("node_modules/falcor-path-syntax/src/TokenTypes.js",function(o,e,n){var a={token:"token",dotSeparator:".",commaSeparator:",",openingBracket:"[",closingBracket:"]",openingBrace:"{",closingBrace:"}",escape:"\\",space:" ",colon:":",quote:"quote",unknown:"unknown"};e.exports=a});C.r("node_modules/falcor-path-syntax/src/exceptions/index.js",function(e,n,t){n.exports={indexer:{nested:"Indexers cannot be nested.",needQuotes:"unquoted indexers must be numeric.",empty:"cannot have empty indexers.",leadingDot:"Indexers cannot have leading dots.",leadingComma:"Indexers cannot have leading comma.",requiresComma:"Indexers require commas between indexer args.",routedTokens:"Only one token can be used per indexer when specifying routed tokens."},range:{precedingNaN:"ranges must be preceded by numbers.",suceedingNaN:"ranges must be suceeded by numbers."},routed:{invalid:"Invalid routed token.  only integers|ranges|keys are supported."},quote:{empty:"cannot have empty quoted keys.",illegalEscape:"Invalid escape character.  Only quotes are escapable."},unexpectedToken:"Unexpected token.",invalidIdentifier:"Invalid Identifier.",invalidPath:"Please provide a valid path.",throwError:function(e,n,t){if(t)throw e+" -- "+n.parseString+" with next token: "+t;throw e+" -- "+n.parseString}}});C.r("node_modules/falcor-path-syntax/src/index.js",function(t,e,r){var n=t("./tokenizer"),o=t("./parse-tree/head"),a=t("./RoutedTokens"),u=function(t,e){return o(new n(t,e))};e.exports=u,u.fromPathsOrPathValues=function(t,e){if(!t)return[];for(var r=[],n=0,o=t.length;n<o;n++)"string"==typeof t[n]?r[n]=u(t[n],e):"string"==typeof t[n].path?r[n]={path:u(t[n].path,e),value:t[n].value}:r[n]=t[n];return r},u.fromPath=function(t,e){return t?"string"==typeof t?u(t,e):t:[]},u.RoutedTokens=a});C.r("node_modules/falcor-path-syntax/src/parse-tree/head.js",function(e,r,t){var n=e("./../TokenTypes"),o=e("./../exceptions"),a=e("./indexer");r.exports=function(e){for(var r=e.next(),t={},s=[];!r.done;){switch(r.type){case n.token:var c=+r.token[0];isNaN(c)||o.throwError(o.invalidIdentifier,e),s[s.length]=r.token;break;case n.dotSeparator:0===s.length&&o.throwError(o.unexpectedToken,e);break;case n.space:break;case n.openingBracket:a(e,r,t,s);break;default:o.throwError(o.unexpectedToken,e)}r=e.next()}return 0===s.length&&o.throwError(o.invalidPath,e),s}});C.r("node_modules/falcor-path-syntax/src/parse-tree/indexer.js",function(e,r,n){var t=e("./../TokenTypes"),o=e("./../exceptions"),a=o.indexer,i=e("./range"),s=e("./quote"),d=e("./routed");r.exports=function(e,r,n,c){var x=e.next(),h=!1,k=1,p=!1;for(n.indexer=[];!x.done;){switch(x.type){case t.token:case t.quote:n.indexer.length===k&&o.throwError(a.requiresComma,e)}switch(x.type){case t.openingBrace:p=!0,d(e,x,n,c);break;case t.token:var g=+x.token;isNaN(g)&&o.throwError(a.needQuotes,e),n.indexer[n.indexer.length]=g;break;case t.dotSeparator:n.indexer.length||o.throwError(a.leadingDot,e),i(e,x,n,c);break;case t.space:break;case t.closingBracket:h=!0;break;case t.quote:s(e,x,n,c);break;case t.openingBracket:o.throwError(a.nested,e);break;case t.commaSeparator:++k;break;default:o.throwError(o.unexpectedToken,e)}if(h)break;x=e.next()}0===n.indexer.length&&o.throwError(a.empty,e),n.indexer.length>1&&p&&o.throwError(a.routedTokens,e),1===n.indexer.length&&(n.indexer=n.indexer[0]),c[c.length]=n.indexer,n.indexer=void 0}});C.r("node_modules/falcor-path-syntax/src/parse-tree/quote.js",function(e,r,a){var o=e("./../TokenTypes"),t=e("./../exceptions"),n=t.quote;r.exports=function(e,r,a,c){for(var s=e.next(),p="",k=r.token,i=!1,l=!1;!s.done;){switch(s.type){case o.token:case o.space:case o.dotSeparator:case o.commaSeparator:case o.openingBracket:case o.closingBracket:case o.openingBrace:case o.closingBrace:i&&t.throwError(n.illegalEscape,e),p+=s.token;break;case o.quote:i?(p+=s.token,i=!1):s.token!==k?p+=s.token:l=!0;break;case o.escape:i=!0;break;default:t.throwError(t.unexpectedToken,e)}if(l)break;s=e.next()}0===p.length&&t.throwError(n.empty,e),a.indexer[a.indexer.length]=p}});C.r("node_modules/falcor-path-syntax/src/parse-tree/range.js",function(e,r,o){var n=e("./../tokenizer"),t=e("./../TokenTypes"),a=e("./../exceptions");r.exports=function(e,r,o,s){var i,c=e.peek(),d=1,p=!1,k=!0,N=o.indexer.length-1,x=n.toNumber(o.indexer[N]);for(isNaN(x)&&a.throwError(a.range.precedingNaN,e);!p&&!c.done;){switch(c.type){case t.dotSeparator:3===d&&a.throwError(a.unexpectedToken,e),++d,3===d&&(k=!1);break;case t.token:i=n.toNumber(e.next().token),isNaN(i)&&a.throwError(a.range.suceedingNaN,e),p=!0;break;default:p=!0}if(p)break;e.next(),c=e.peek()}o.indexer[N]={from:x,to:k?i:i-1}}});C.r("node_modules/falcor-path-syntax/src/parse-tree/routed.js",function(e,r,n){var t=e("./../TokenTypes"),o=e("./../RoutedTokens"),a=e("./../exceptions"),s=a.routed;r.exports=function(e,r,n,i){var c=e.next(),d=!1,l="";switch(c.token){case o.integers:case o.ranges:case o.keys:break;default:a.throwError(s.invalid,e)}var p=e.next();if(p.type===t.colon&&(d=!0,p=e.next(),p.type!==t.token&&a.throwError(s.invalid,e),l=p.token,p=e.next()),p.type===t.closingBrace){var x={type:c.token,named:d,name:l};n.indexer[n.indexer.length]=x}else a.throwError(s.invalid,e)}});C.r("node_modules/falcor-path-syntax/src/tokenizer/index.js",function(e,t,n){function r(e,t,n){return{token:e,done:n,type:t}}function i(e,t,n){var i,l=!1,T="",v=n?g:f;do{if(i=t+1>=e.length)break;var N=e[t+1];if(void 0===N||-1!==v.indexOf(N)){if(T.length)break;++t;var m;switch(N){case s:m=a.dotSeparator;break;case o:m=a.commaSeparator;break;case k:m=a.openingBracket;break;case c:m=a.closingBracket;break;case h:m=a.openingBrace;break;case d:m=a.closingBrace;break;case b:m=a.space;break;case _:case p:m=a.quote;break;case u:m=a.escape;break;case x:m=a.colon;break;default:m=a.unknown}l=r(N,m,!1);break}T+=N,++t}while(!i);return!l&&T.length&&(l=r(T,a.token,!1)),l||(l={done:!0}),{token:l,idx:t}}var a=e("./../TokenTypes"),s=".",o=",",k="[",c="]",h="{",d="}",x=":",u="\\",_='"',p="'",b=" ",f="\\'\"[]., ",g="\\{}'\"[]., :",l=t.exports=function(e,t){this._string=e,this._idx=-1,this._extended=t,this.parseString=""};l.prototype={next:function(){var e=this._nextToken?this._nextToken:i(this._string,this._idx,this._extended);return this._idx=e.idx,this._nextToken=!1,this.parseString+=e.token.token,e.token},peek:function(){var e=this._nextToken?this._nextToken:i(this._string,this._idx,this._extended);return this._nextToken=e,e.token}},l.toNumber=function(e){return isNaN(+e)?NaN:+e}});C.r("node_modules/falcor-path-utils/lib/collapse.js",function(t,e,r){var n=t("./toPaths"),o=t("./toTree");e.exports=function(t){var e=t.reduce(function(t,e){var r=e.length;return t[r]||(t[r]=[]),t[r].push(e),t},{});return Object.keys(e).forEach(function(t){e[t]=o(e[t])}),n(e)}});C.r("node_modules/falcor-path-utils/lib/errors/index.js",function(e,r,n){r.exports={innerReferences:"References with inner references are not allowed.",circularReference:"There appears to be a circular reference, maximum reference following exceeded."}});C.r("node_modules/falcor-path-utils/lib/followReference.js",function(r,e,o){var n=r("./support/cloneArray"),t=r("./support/types").$ref,f=r("./errors");e.exports=function(r,e,o){for(var l,a,c,i=r,s=e,u=-1,p=s.length,h=0;++u<p;){if(l=s[u],a=i[l],c=a&&a.$type,!a||c&&c!==t){i=a;break}if(c&&c===t&&u+1<p){var w=new Error(f.innerReferences);throw w.throwToNext=!0,w}if(u+1===p&&(c===t&&(u=-1,s=a.value,p=s.length,a=r,h++),h>o))throw new Error(f.circularReference);i=a}return[i,n(s)]}});C.r("node_modules/falcor-path-utils/lib/hasIntersection.js",function(e,o,r){var t=e("./iterateKeySet");o.exports=function e(o,r,a){for(var i=o,n=!0;n&&a<r.length;++a){var v=r[a],d=typeof v;if(v&&"object"===d){var f={},l=t(v,f),s=a+1;do{var c=i[l];n=void 0!==c,n&&(n=e(c,r,s)),l=t(v,f)}while(n&&!f.done);break}i=i[v],n=void 0!==i}return n}});C.r("node_modules/falcor-path-utils/lib/index.js",function(e,t,o){t.exports={iterateKeySet:e("./iterateKeySet"),toTree:e("./toTree"),pathsComplementFromTree:e("./pathsComplementFromTree"),pathsComplementFromLengthTree:e("./pathsComplementFromLengthTree"),hasIntersection:e("./hasIntersection"),toPaths:e("./toPaths"),collapse:e("./collapse"),optimizePathSets:e("./optimizePathSets"),pathCount:e("./pathCount")}});C.r("node_modules/falcor-path-utils/lib/iterateKeySet.js",function(e,r,t){function f(e,r){var t=r.from=e.from||0,f=r.to=e.to||"number"==typeof e.length&&r.from+e.length-1||0;r.rangeOffset=r.from,r.loaded=!0,t>f&&(r.empty=!0)}function o(e,r){r.done=!1;var t=r.isObject=!(!e||"object"!=typeof e);r.isArray=t&&a(e),r.arrayOffset=0}var a=Array.isArray;r.exports=function(e,r){if(void 0===r.isArray&&o(e,r),r.isArray){var t;do{r.loaded&&r.rangeOffset>r.to&&(++r.arrayOffset,r.loaded=!1);if(r.arrayOffset>=e.length){r.done=!0;break}var a=e[r.arrayOffset];if("object"===typeof a){if(r.loaded||f(a,r),r.empty)continue;t=r.rangeOffset++}else++r.arrayOffset,t=a}while(void 0===t);return t}return r.isObject?(r.loaded||f(e,r),r.rangeOffset>r.to?void(r.done=!0):r.rangeOffset++):(r.done=!0,e)}});C.r("node_modules/falcor-path-utils/lib/optimizePathSets.js",function(e,t,o){function n(e,t,o,p,u,c,s){if(void 0===e)return void(u[u.length]=i(c,o,p));if(!(null===e||e.$type&&e.$type!==a||"object"!=typeof e||e.$type===a&&p===o.length)){var h=o[p],v="object"==typeof h,y=p+1,d=!1,g=h;v&&(d={},g=r(h,d));var $,b;do{$=e[g];var j=c.length;if(null!==g&&(c[j]=g),$&&$.$type===a&&y<o.length){var S=f(t,$.value,s);$=S[0],b=l(S[1])}else b=c;n($,t,o,y,u,b,s),c.length=j,d&&!d.done&&(g=r(h,d))}while(d&&!d.done)}}var r=e("./iterateKeySet"),l=e("./support/cloneArray"),i=e("./support/catAndSlice"),p=e("./support/types"),a=p.$ref,f=e("./followReference");t.exports=function(e,t,o){var r=[];return t.forEach(function(t){n(e,e,t,0,r,[],o)}),r}});C.r("node_modules/falcor-path-utils/lib/pathCount.js",function(r,n,t){"use strict";function e(r){if(null==r)return 1;if(Array.isArray(r))throw new Error("Unexpected Array found in keySet: "+JSON.stringify(r));return"object"==typeof r?i(r):1}function i(r){var n=r.to,t=r.length;if(null!=n){if(isNaN(n)||parseInt(n,10)!==n)throw new Error("Invalid range, 'to' is not an integer: "+JSON.stringify(r));var e=r.from||0;if(isNaN(e)||parseInt(e,10)!==e)throw new Error("Invalid range, 'from' is not an integer: "+JSON.stringify(r));return e<=n?n-e+1:0}if(null!=t){if(isNaN(t)||parseInt(t,10)!==t)throw new Error("Invalid range, 'length' is not an integer: "+JSON.stringify(r));return t}throw new Error("Invalid range, expected 'to' or 'length': "+JSON.stringify(r))}function o(r){if(0===r.length)throw new Error("All paths must have length larger than zero.");for(var n=1,t=0;t<r.length;t++){var i=r[t];if(Array.isArray(i)){for(var o=0,a=0;a<i.length;a++){o+=e(i[a])}n*=o}else n*=e(i)}return n}n.exports=o});C.r("node_modules/falcor-path-utils/lib/pathsComplementFromLengthTree.js",function(e,t,n){var r=e("./hasIntersection");t.exports=function(e,t){for(var n=[],o=-1,a=0,l=e.length;a<l;++a){var s=e[a];r(t[s.length],s,0)||(n[++o]=s)}return n}});C.r("node_modules/falcor-path-utils/lib/pathsComplementFromTree.js",function(e,r,t){var n=e("./hasIntersection");r.exports=function(e,r){for(var t=[],o=-1,s=0,a=e.length;s<a;++s)n(r,e[s],0)||(t[++o]=e[s]);return t}});C.r("node_modules/falcor-path-utils/lib/support/catAndSlice.js",function(t,n,o){n.exports=function(t,n,o){var r,e,l,u=[];for(r=0,l=t.length;r<l;++r)u[r]=t[r];for(e=o||0,l=n.length;e<l;++e,++r)u[r]=n[e];return u}});C.r("node_modules/falcor-path-utils/lib/support/cloneArray.js",function(r,o,n){function t(r,o){for(var n=[],t=r.length,e=o||0;e<t;e++)n[e]=r[e];return n}o.exports=t});C.r("node_modules/falcor-path-utils/lib/support/types.js",function(r,o,e){o.exports={$ref:"ref",$atom:"atom",$error:"error"}});C.r("node_modules/falcor-path-utils/lib/toPaths.js",function(r,t,e){function n(r){return null!==r&&typeof r===v}function f(r,t,e){var n,o,s,u,c,v,h,g,p,y,b,d,k,m,A=i(String(t)),j=Object.create(null),I=[],S=-1,x=0,C=[],_=0;if(u=[],c=-1,t<e-1){for(v=a(r,u);++c<v;)n=u[c],o=f(r[n],t+1,e),s=o.code,j[s]?o=j[s]:(I[x++]=s,o=j[s]={keys:[],sets:o.sets}),A=i(A+n+s),l(n)&&o.keys.push(parseInt(n,10))||o.keys.push(n);for(;++S<x;)if(n=I[S],o=j[n],u=o.keys,(v=u.length)>0)for(h=o.sets,g=-1,p=h.length,k=u[0];++g<p;){for(y=h[g],b=-1,d=y.length,m=new Array(d+1),m[0]=v>1&&u||k;++b<d;)m[b+1]=y[b];C[_++]=m}}else for(v=a(r,u),C[_++]=v>1?[u]:u;++c<v;)A=i(A+u[c]);return{code:A,sets:C}}function o(r){for(var t=-1,e=r.length;++t<e;){var n=r[t];c(n)&&(r[t]=s(n))}return r}function s(r){for(var t=-1,e=r.length-1,n=e>0;++t<=e;){var f=r[t];if(!l(f)){n=!1;break}r[t]=parseInt(f,10)}if(!0===n){r.sort(u);var o=r[0],s=r[e];if(s-o<=e)return{from:o,to:s}}return r}function u(r,t){return r-t}function a(r,t,e){var n=0;for(var f in r)t[n++]=f;return n>1&&t.sort(e),n}function i(r){for(var t=5381,e=-1,n=r.length;++e<n;)t=(t<<5)+t+r.charCodeAt(e);return String(t)}function l(r){var t=r,e=typeof r;if(e===h){var n=r.length;if(0===n||n>b)return!1;if(!k.test(r))return!1;if(n<y)return!0;t=+r}else if(e!==g)return!1;return t%1==0&&d(t)<=p}var c=Array.isArray,v="object",h="string",g="number",p=9007199254740991,y=16,b=17,d=Math.abs,k=/^(0|(\-?[1-9][0-9]*))$/;t.exports=function(r){var t,e=[],s=0;for(var u in r)if(l(u)&&n(t=r[u]))for(var a=f(t,0,parseInt(u,10)).sets,i=-1,c=a.length;++i<c;)e[s++]=o(a[i]);return e},t.exports._isSafeNumber=l});C.r("node_modules/falcor-path-utils/lib/toTree.js",function(e,r,n){function t(e,r,n){var i,l=r[n],u={},a=n+1;i=o(l,u);do{var c=e[i];c||(a===r.length?e[i]=null:c=e[i]={}),a<r.length&&t(c,r,a),u.done||(i=o(l,u))}while(!u.done)}var o=e("./../lib/iterateKeySet");Array.isArray;r.exports=function(e){return e.reduce(function(e,r){return t(e,r,0),e},{})}});C.r("node_modules/falcor-polyfilled/dist/index.js",function(t,e,o){"use strict";var r=t("falcor"),n=t("falcor-path-syntax"),a=t("falcor/lib/get/getCachePosition"),i=t("falcor/lib/get/sync"),h=r.Model.prototype._getOptimizedBoundPath;r.Model.prototype._getOptimizedBoundPath=function(){var t=this._root.cache,e=this._path;if(!this.isSoftBound)return h.call(this);for(var o=[],r=t,n=void 0,a=0;a<e.length;a++){if(n=e[a],void 0===(r=r[n]))return e.slice();if(r.$type){if("ref"!==r.$type)return o[o.length]=n,o;o=[],e=r.value.concat(e.slice(a+1)),r=t,a=-1}else o[o.length]=n}return o},r.Model.prototype.bind=function(t){return this._clone({_path:this._path.concat(t),isSoftBound:!0})},r.Model.prototype.hardBind=function(t){var e=this._getOptimizedBoundPath(),o=e.concat(t),r=a(this,o);return r&&"ref"===r.$type?this.deref({$__path:r.value,$__toReference:o,$__refPath:r.value}):this.deref({$__path:o})},r.Model.prototype.getValueSync=function(t){if(!t&&this._referenceContainer)return this.getBoundValue(t);try{return i.call(this,t)}catch(t){return{$type:"error",value:t}}},r.Model.prototype.setValueSync=function(t,e){var o=void 0;o=Array.isArray(e)?{$type:"ref",value:e}:e,this._clone({_source:"delete"}).setValue(t,o).subscribe()},r.Model.prototype.getBoundValue=function(t,e){var o=n.fromPath(t),r=void 0;r=this._path&&this._path.length?o&&o.length?this._path.concat(o):this._path:o;try{return this._getBoundValue(this,r,e).value}catch(t){console.error("getBoundValue Error: "+t.message+" - BoundPath: ["+t.boundPath+"] - ShortedPath:"+t.shortedPath)}},e.exports=r});C.r("node_modules/falcor/lib/Model.js",function(e,t,r){function o(e){var t=e||{};this._root=t._root||new a(t),this._path=t.path||t._path||[],this._scheduler=t.scheduler||t._scheduler||new c,this._source=t.source||t._source,this._request=t.request||t._request||new i(this,this._scheduler),this._ID=A++,"number"==typeof t.maxSize?this._maxSize=t.maxSize:this._maxSize=t._maxSize||o.prototype._maxSize,"number"==typeof t.maxRetries?this._maxRetries=t.maxRetries:this._maxRetries=t._maxRetries||o.prototype._maxRetries,"number"==typeof t.collectRatio?this._collectRatio=t.collectRatio:this._collectRatio=t._collectRatio||o.prototype._collectRatio,(t.boxed||t.hasOwnProperty("_boxed"))&&(this._boxed=t.boxed||t._boxed),(t.materialized||t.hasOwnProperty("_materialized"))&&(this._materialized=t.materialized||t._materialized),"boolean"==typeof t.treatErrorsAsValues?this._treatErrorsAsValues=t.treatErrorsAsValues:t.hasOwnProperty("_treatErrorsAsValues")&&(this._treatErrorsAsValues=t._treatErrorsAsValues),this._useServerPaths=t._useServerPaths||!1,this._allowFromWhenceYouCame=t.allowFromWhenceYouCame||t._allowFromWhenceYouCame||!1,this._treatDataSourceErrorsAsJSONGraphErrors=t._treatDataSourceErrorsAsJSONGraphErrors||!1,t.cache&&this.setCache(t.cache)}var a=e("./ModelRoot"),s=e("./ModelDataSourceAdapter"),i=e("./request/RequestQueueV2"),n=e("./response/ModelResponse"),p=e("./response/CallResponse"),h=e("./response/InvalidateResponse"),u=e("./schedulers/ASAPScheduler"),l=e("./schedulers/TimeoutScheduler"),c=e("./schedulers/ImmediateScheduler"),_=e("./support/array-clone"),y=e("./support/array-slice"),d=e("./lru/collect"),f=e("falcor-path-syntax"),m=e("./support/getSize"),v=e("./support/isObject"),g=e("./support/isPrimitive"),S=e("./support/isJSONEnvelope"),w=e("./support/isJSONGraphEnvelope"),P=e("./set/setPathMaps"),V=e("./set/setJSONGraphs"),x=e("falcor-json-graph"),A=0,b=e("./support/validateInput"),z=function(){},R=e("./get/getCache"),E=e("./get"),M=e("./response/get/validInput");t.exports=o,o.ref=x.ref,o.atom=x.atom,o.error=x.error,o.pathValue=x.pathValue,o.prototype.constructor=o,o.prototype._materialized=!1,o.prototype._boxed=!1,o.prototype._progressive=!1,o.prototype._treatErrorsAsValues=!1,o.prototype._maxSize=Math.pow(2,53)-1,o.prototype._maxRetries=3,o.prototype._collectRatio=.75,o.prototype.get=e("./response/get"),o.prototype._getOptimizedBoundPath=function(){return _(this._path)},o.prototype._getWithPaths=e("./response/get/getWithPaths"),o.prototype.set=e("./response/set"),o.prototype.preload=function(){var e=b(arguments,M,"preload");if(!0!==e)return new n(function(t){t.onError(e)});var t=Array.prototype.slice.call(arguments),r=this;return new n(function(e){return r.get.apply(r,t).subscribe(function(){},function(t){e.onError(t)},function(){e.onCompleted()})})},o.prototype.call=function(){var e,t=-1,r=arguments.length;for(e=new Array(r);++t<r;){var o=arguments[t];e[t]=o;var a=typeof o;if(t>1&&!Array.isArray(o)||0===t&&!Array.isArray(o)&&"string"!==a||1===t&&!Array.isArray(o)&&!g(o))return new n(function(e){e.onError(new Error("Invalid argument"))})}return new p(this,e[0],e[1],e[2],e[3])},o.prototype.invalidate=function(){var e,t=-1,r=arguments.length;for(e=[];++t<r;)if(e[t]=f.fromPath(arguments[t]),!Array.isArray(e[t])||!e[t].length)throw new Error("Invalid argument");new h(this,e).subscribe(z,function(e){throw e})},o.prototype.deref=e("./deref"),o.prototype._hasValidParentReference=e("./deref/hasValidParentReference"),o.prototype.getValue=e("./get/getValue"),o.prototype.setValue=e("./set/setValue"),o.prototype._getValueSync=e("./get/sync"),o.prototype._setValueSync=e("./set/sync"),o.prototype._derefSync=e("./deref/sync"),o.prototype.setCache=function(e){var t=this._root.cache;if(e!==t){var r=this._root,o=this._path;this._path=[],this._root.cache={},void 0!==t&&d(r,r.expired,m(t),0);var a;w(e)?a=V(this,[e])[0]:S(e)?a=P(this,[e])[0]:v(e)&&(a=P(this,[{json:e}])[0]),a&&E.getWithPathsAsPathMap(this,a,[]),this._path=o}else void 0===t&&(this._root.cache={});return this},o.prototype.getCache=function(){var e=y(arguments);if(0===e.length)return R(this._root.cache);var t=[{}],r=this._path;return E.getWithPathsAsJSONGraph(this,e,t),this._path=r,t[0].jsonGraph},o.prototype._setMaxSize=function(e){var t=this._maxSize;if(this._maxSize=e,e<t){var r=this._root,o=r.cache,a=o.$_version;d(r,r.expired,m(o),this._maxSize,this._collectRatio,a)}},o.prototype.getVersion=function(e){var t=e&&f.fromPath(e)||[];if(!1===Array.isArray(t))throw new Error("Model#getVersion must be called with an Array path.");return this._path.length&&(t=this._path.concat(t)),this._getVersion(this,t)},o.prototype._syncCheck=function(e){if(Boolean(this._source)&&this._root.syncRefCount<=0&&!1===this._root.unsafeMode)throw new Error("Model#"+e+" may only be called within the context of a request selector.");return!0},o.prototype._clone=function(e){var t=new o(this);for(var r in e){var a=e[r];"delete"===a?delete t[r]:t[r]=a}return t.setCache=void 0,t},o.prototype.batch=function(e){var t=e;"number"==typeof t?t=new l(Math.round(Math.abs(t))):t&&t.schedule||(t=new u);var r=this._clone();return r._request=new i(r,t),r},o.prototype.unbatch=function(){var e=this._clone();return e._request=new i(e,new c),e},o.prototype.treatErrorsAsValues=function(){return this._clone({_treatErrorsAsValues:!0})},o.prototype.asDataSource=function(){return new s(this)},o.prototype._materialize=function(){return this._clone({_materialized:!0})},o.prototype._dematerialize=function(){return this._clone({_materialized:"delete"})},o.prototype.boxValues=function(){return this._clone({_boxed:!0})},o.prototype.unboxValues=function(){return this._clone({_boxed:"delete"})},o.prototype.withoutDataSource=function(){return this._clone({_source:"delete"})},o.prototype.toJSON=function(){return{$type:"ref",value:this._path}},o.prototype.getPath=function(){return _(this._path)},o.prototype._fromWhenceYouCame=function(e){return this._clone({_allowFromWhenceYouCame:void 0===e||e})},o.prototype._getBoundValue=e("./get/getBoundValue"),o.prototype._getVersion=e("./get/getVersion"),o.prototype._getPathValuesAsPathMap=E.getWithPathsAsPathMap,o.prototype._getPathValuesAsJSONG=E.getWithPathsAsJSONGraph,o.prototype._setPathValues=e("./set/setPathValues"),o.prototype._setPathMaps=e("./set/setPathMaps"),o.prototype._setJSONGs=e("./set/setJSONGraphs"),o.prototype._setCache=e("./set/setPathMaps"),o.prototype._invalidatePathValues=e("./invalidate/invalidatePathSets"),o.prototype._invalidatePathMaps=e("./invalidate/invalidatePathMaps")});C.r("node_modules/falcor/lib/ModelDataSourceAdapter.js",function(t,o,e){function r(t){this._model=t._materialize().treatErrorsAsValues()}r.prototype.get=function(t){return this._model.get.apply(this._model,t)._toJSONG()},r.prototype.set=function(t){return this._model.set(t)._toJSONG()},r.prototype.call=function(t,o,e,r){var l=[t,o,e].concat(r);return this._model.call.apply(this._model,l)._toJSONG()},o.exports=r});C.r("node_modules/falcor/lib/ModelRoot.js",function(e,r,o){function t(e){var r=e||{};this.syncRefCount=0,this.expired=r.expired||[],this.unsafeMode=r.unsafeMode||!1,this.collectionScheduler=r.collectionScheduler||new a,this.cache={},n(r.comparator)&&(this.comparator=r.comparator),n(r.errorSelector)&&(this.errorSelector=r.errorSelector),n(r.onChange)&&(this.onChange=r.onChange)}var n=e("./support/isFunction"),c=e("./support/hasOwn"),a=e("./schedulers/ImmediateScheduler");t.prototype.errorSelector=function(e,r){return r},t.prototype.comparator=function(e,r){return c(e,"value")&&c(r,"value")?e.value===r.value&&e.$type===r.$type&&e.$expires===r.$expires:e===r},r.exports=t});C.r("node_modules/falcor/lib/deref/hasValidParentReference.js",function(e,n,r){n.exports=function(){var e=this._referenceContainer;return!this._allowFromWhenceYouCame||(!0===e||!1!==e&&((!e||void 0!==e.$_parent)&&(!e||!e.$_invalidated)))}});C.r("node_modules/falcor/lib/deref/index.js",function(e,r,t){var n=e("./../errors/InvalidDerefInputError"),o=e("./../get/getCachePosition"),a=e("./../types/ref");r.exports=function(e){var r,t=e&&e.$__path,f=e&&e.$__refPath,i=e&&e.$__toReference;if(t){var _="e";if(i&&(_=!1,r=o(this,i),f&&r&&r.$type===a)){var h=r.value,s=0,c=f.length;for(_=!0;_&&s<c;++s)h[s]!==f[s]&&(_=!1)}return _?"e"===_&&(r=!0):r=!1,this._clone({_path:t,_referenceContainer:r})}throw new n}});C.r("node_modules/falcor/lib/deref/sync.js",function(r,t,a){var e=r("falcor-path-syntax"),o=r("./../get/getBoundValue"),n=r("./../errors/InvalidModelError");t.exports=function(r){var t=e.fromPath(r);if(!Array.isArray(t))throw new Error("Model#derefSync must be called with an Array path.");var a=o(this,this._path.concat(t),!1),i=a.path,h=a.value;if(a.found&&void 0!==h){if(h.$type)throw new n(i,i);return this._clone({_path:i})}}});C.r("node_modules/falcor/lib/errors/BoundJSONGraphModelError.js",function(o,r,e){function t(){this.message=t.message,this.stack=(new Error).stack}t.prototype=new Error,t.prototype.name="BoundJSONGraphModelError",t.message="It is not legal to use the JSON Graph format from a bound Model. JSON Graph format can only be used from a root model.",r.exports=t});C.r("node_modules/falcor/lib/errors/InvalidDerefInputError.js",function(r,e,o){function t(){this.message=s,this.stack=(new Error).stack}var n="InvalidDerefInputError",s="Deref can only be used with a non-primitive object from get, set, or call.";t.prototype=new Error,t.prototype.name=n,t.name=n,t.message=s,e.exports=t});C.r("node_modules/falcor/lib/errors/InvalidModelError.js",function(o,r,e){function t(o,r){this.message=s,this.stack=(new Error).stack,this.boundPath=o,this.shortedPath=r}var s="The boundPath of the model is not valid since a value or error was found before the path end.";t.prototype=new Error,t.prototype.name="InvalidModelError",t.message=s,r.exports=t});C.r("node_modules/falcor/lib/errors/InvalidSourceError.js",function(r,e,n){function o(r){this.message="An exception was thrown when making a request.",this.stack=(new Error).stack,this.innerError=r}var t="InvalidSourceError";o.prototype=new Error,o.prototype.name=t,o.is=function(r){return r&&r.name===t},e.exports=o});C.r("node_modules/falcor/lib/errors/MaxRetryExceededError.js",function(e,r,t){function o(e){this.message="The allowed number of retries have been exceeded.",this.missingOptimizedPaths=e||[],this.stack=(new Error).stack}var s="MaxRetryExceededError";o.prototype=new Error,o.prototype.name=s,o.is=function(e){return e&&e.name===s},r.exports=o});C.r("node_modules/falcor/lib/errors/NullInPathError.js",function(r,o,e){function n(){this.message=s,this.stack=(new Error).stack}var s="`null` is not allowed in branch key positions.";n.prototype=new Error,n.prototype.name="NullInPathError",n.message=s,o.exports=n});C.r("node_modules/falcor/lib/get/followReference.js",function(e,t,n){function r(e,t,n,r,a,c,g){for(var p,v,d=n,s=a,b=r,k=0;;){if(0===k&&b.$_context?(k=s.length,v=b.$_context):(p=s[k++],v=d[p]),v){var x=v.$type,_=x&&v.value||v;if(k<s.length){if(x){d=v;break}d=v;continue}if(d=v,x&&i(v))break;if(b.$_context||o(b,v),x===u){g?l(e,v,c,null,null,null,null,s,s.length,g):f(e._root,v),k=0,s=_,b=v,d=t;continue}break}d=void 0;break}if(k<s.length&&void 0!==d){for(var h=[],$=0;$<k;$++)h[$]=s[$];s=h}return[d,s,b]}var o=e("./../support/createHardlink"),l=e("./../get/onValue"),i=e("./../get/util/isExpired"),u=e("./../types/ref"),f=e("./../lru/promote");t.exports=r});C.r("node_modules/falcor/lib/get/get.js",function(r,e,t){function n(r,e){if(r!==e&&null!==r&&"object"==typeof r&&!r.$type&&null!==e&&"object"==typeof e&&!e.$type)for(var t in e)if("$__path"!==t){var o=r[t];void 0===o?r[t]=e[t]:n(o,e[t])}}function o(r){return r?{jsonGraph:{},paths:[]}:{json:{}}}var i=r("./../get/getCachePosition"),a=r("./../errors/InvalidModelError"),l=r("./../errors/BoundJSONGraphModelError");e.exports=function(r,e){return function(t,c,f){var u,h,p,s,d,g=e?f:[{}],v=g[0],_={values:g,optimizedPaths:[]},j=t._root.cache,y=t._path,E=j,$=[],b=[];if(y.length){if(e)return{criticalError:new l};if(u=t._getOptimizedBoundPath(),h=u.length,(E=i(t,u))&&E.$type)return{criticalError:new a(y,u)};d=t._referenceContainer}else u=[],h=0;for(p=0,s=c.length;p<s;p++)r(t,j,E,c[p],0,v,_,b,$,u,h,e,!1,d);return n(v,c.length?f[0]:o(e)),_}}});C.r("node_modules/falcor/lib/get/getBoundValue.js",function(e,r,o){var t=e("./../get/getValueSync"),a=e("./../errors/InvalidModelError");r.exports=function(e,r,o){var l,d,n,u,s,i=r,_=r;for(l=e._boxed,o=e._materialized,d=e._treatErrorsAsValues,e._boxed=!0,e._materialized=void 0===o||o,e._treatErrorsAsValues=!0,n=t(e,i.concat(null),!0),e._boxed=l,e._materialized=o,e._treatErrorsAsValues=d,i=n.optimizedPath,u=n.shorted,s=n.found,n=n.value;i.length&&null===i[i.length-1];)i.pop();if(s&&u)throw new a(_,i);return{path:i,value:n,shorted:u,found:s}}});C.r("node_modules/falcor/lib/get/getCache.js",function(e,t,r){function n(e){var t,r,n,o={},a=Object.keys(e);for(r=0,n=a.length;r<n;r++)t=a[r],u(t)||(o[t]=e[t]);return o}function o(e,t,r){Object.keys(e).filter(function(t){return!u(t)&&void 0!==e[t]}).forEach(function(r){var u=e[r],a=t[r];if(a||(a=t[r]={}),u.$type){var c,f=u.value&&"object"==typeof u.value,i=!u.$_modelCreated;return c=f||i?n(u):u.value,void(t[r]=c)}o(u,a,r)})}var u=e("./../support/isInternalKey");t.exports=function(e){var t={};return o(e,t),t}});C.r("node_modules/falcor/lib/get/getCachePosition.js",function(o,e,t){e.exports=function(o,e){for(var t=o._root.cache,n=-1,r=e.length;++n<r&&t&&!t.$type;)t=t[e[n]];return t}});C.r("node_modules/falcor/lib/get/getValue.js",function(n,o,e){var r=n("./../response/ModelResponse"),t=n("falcor-path-syntax");o.exports=function(n){for(var o=t.fromPath(n),e=0,s=o.length;++e<s;)if("object"==typeof o[e])return new r(function(n){n.onError(new Error("Paths must be simple paths"))});var f=this;return new r(function(n){return f.get(o).subscribe(function(e){for(var r=e.json,t=-1,s=o.length;r&&++t<s;)r=r[o[t]];n.onNext(r)},function(o){n.onError(o)},function(){n.onCompleted()})})}});C.r("node_modules/falcor/lib/get/getValueSync.js",function(e,o,r){var t=e("./../get/followReference"),i=e("./../get/util/clone"),l=e("./../get/util/isExpired"),a=e("./../lru/promote"),f=e("./../types/ref"),u=e("./../types/atom"),n=e("./../types/error");o.exports=function(e,o,r){for(var d,v,s,p,c,b=e._root.cache,g=o.length,h=[],y=!1,k=!1,_=0,m=b,x=b,$=b,w=!0,z=!1;m&&_<g;){if(d=o[_++],null!==d&&(m=x[d],h[h.length]=d),!m){$=void 0,y=!0,w=!1;break}if((s=m.$type)===u&&void 0===m.value){$=void 0,w=!1,y=_<g;break}if(_<g){if(s===f){if(l(m)){z=!0,$=void 0;break}if(p=t(e,b,b,m,m.value),!(c=p[0])){$=void 0,m=void 0,w=!1;break}s=c.$type,m=c,h=p[1].slice(0)}if(s)break}else $=m;x=m}if(_<g&&!z){for(v=_;v<g;++v)if(null!==o[_]){k=!0;break}for(k?(y=!0,$=void 0):$=m,v=_;v<g;++v)null!==o[v]&&(h[h.length]=o[v])}if($&&s&&(l($)?$=void 0:a(e._root,$)),$&&s===n&&!e._treatErrorsAsValues)throw{path:_===g?o:o.slice(0,_),value:$.value};return $&&e._boxed?$=Boolean(s)&&!r?i($):$:!$&&e._materialized?$={$type:u}:$&&($=$.value),{value:$,shorted:y,optimizedPath:h,found:w}}});C.r("node_modules/falcor/lib/get/getVersion.js",function(r,e,o){var t=r("./getValueSync");e.exports=function(r,e){var o=t({_boxed:!0,_root:r._root,_treatErrorsAsValues:r._treatErrorsAsValues},e,!0).value,s=o&&o.$_version;return null==s?-1:s}});C.r("node_modules/falcor/lib/get/index.js",function(e,t,a){var g=e("./get"),l=e("./walkPath"),n=g(l,!1),u=g(l,!0);t.exports={getValueSync:e("./../get/getValueSync"),getBoundValue:e("./../get/getBoundValue"),getWithPathsAsPathMap:n,getWithPathsAsJSONGraph:u}});C.r("node_modules/falcor/lib/get/onError.js",function(r,o,e){var l=r("./../lru/promote"),t=r("./../get/util/clone");o.exports=function(r,o,e,s,u){var n=o.value;u.errors||(u.errors=[]),r._boxed&&(n=t(o)),u.errors.push({path:s.slice(0,e),value:n}),l(r._root,o)}});C.r("node_modules/falcor/lib/get/onMissing.js",function(e,t,s){function i(e,t,s,i,r,n,f){f.requestedMissingPaths[f.requestedMissingPaths.length]=o(a(i,0,s),t),f.optimizedMissingPaths[f.optimizedMissingPaths.length]=o(a(r,0,n),t),f.depthDifferences[f.depthDifferences.length]=s-n}function r(e){if(null===e||"object"!=typeof e)return!1;var t=Array.isArray(e);if(t&&e.length)return!1;if(t)return!0;var s=e.from,i=e.to;return!(void 0===s||s<=i)}var n=e("./util/support"),f=n.fastCopy,o=n.fastCat,a=e("./../support/array-slice");t.exports=function(e,t,s,n,o,a,u){var h;if(n.requestedMissingPaths||(n.requestedMissingPaths=[],n.optimizedMissingPaths=[],n.depthDifferences=[]),s<t.length){for(var g=s;g<t.length;++g)if(r(t[g]))return;h=f(t,s)}else h=[];i(e,h,s,o,a,u,n)}});C.r("node_modules/falcor/lib/get/onValue.js",function(e,o,l){var s=e("./../lru/promote"),r=e("./util/clone"),t=e("./../types/ref"),a=e("./../types/atom"),i=e("./../types/error");o.exports=function(e,o,l,f,n,p,u,d,v,j){if(o&&s(e._root,o),l){var y,c,h,m,_,$,b,x=null,C=!1,G=o&&o.$type,V=o&&o.value;if(o&&void 0!==o.value||(C=e._materialized),C)b={$type:a};else if(e._boxed)b=r(o);else if(j||G!==t)if(G===t||G===i)b=j?r(o):V;else if(j){var g=V&&"object"==typeof V,z=!o||!o.$_modelCreated;b=g||z?r(o):V}else b=V;else b=void 0;var k=!1;if(j){for(_=l.jsonGraph,_||(k=!0,_=l.jsonGraph={},l.paths=[]),y=0,c=v-1;y<c;y++)m=d[y],_[m]||(k=!0,_[m]={}),_=_[m];m=d[y],_[m]=C?{$type:a}:b,u&&l.paths.push(u.slice(0,f))}else if(0===f)k=!0,l.json=b;else{for(_=l.json,_||(k=!0,_=l.json={}),y=0;y<f-1;y++)h=u[y],_[h]||(k=!0,_[h]=p[y]),x=_,$=h,_=_[h];h=u[y],void 0!==b&&(null!==h?(k=!0,_[h]=b):x[$]=b)}n.hasValues=k}}});C.r("node_modules/falcor/lib/get/onValueType.js",function(r,e,o){var i=r("./util/isExpired"),t=r("./../types/error"),n=r("./onError"),s=r("./onValue"),l=r("./onMissing"),u=r("./util/isMaterialzed"),a=r("./../support/expireNode"),p=r("../support/currentCacheVersion");e.exports=function(r,e,o,d,v,_,c,x,V,f,$,g){var y=e&&e.$type;if(!e||!y){var E=u(r);return!E&&$||s(r,e,v,d,_,c,x,V,f,$),void(E||l(r,o,d,_,x,V,f))}!i(e)||e.$_version===p.getVersion()&&0===e.$expires?y===t?(g&&(x[d]=null,d+=1),$||r._treatErrorsAsValues?s(r,e,v,d,_,c,x,V,f,$):(s(r,void 0,v,d,_,c,x,V,f,$),n(r,e,d,x,_))):(g&&(x[d]=null,d+=1),s(r,e,v,d,_,c,x,V,f,$)):(e.$_invalidated||a(e,r._root.expired,r._root),l(r,o,d,_,x,V,f))}});C.r("node_modules/falcor/lib/get/sync.js",function(t,a,r){var e=t("falcor-path-syntax"),n=t("./getValueSync");a.exports=function(t){var a=e.fromPath(t);if(!1===Array.isArray(a))throw new Error("Model#_getValueSync must be called with an Array path.");return this._path.length&&(a=this._path.concat(a)),this._syncCheck("getValueSync"),n(this,a).value}});C.r("node_modules/falcor/lib/get/util/clone.js",function(r,e,t){var n=r("./../../internal/privatePrefix");e.exports=function(r){if(void 0===r)return r;var e,t,i,o=Object.keys(r);for(e={},t=0,i=o.length;t<i;t++){var l=o[t];l.substr(0,2)!==n&&(e[l]=r[l])}return e}});C.r("node_modules/falcor/lib/get/util/isExpired.js",function(i,e,o){e.exports=i("../../support/isExpired")});C.r("node_modules/falcor/lib/get/util/isMaterialzed.js",function(e,i,r){i.exports=function(e){return e._materialized&&!e._source}});C.r("node_modules/falcor/lib/get/util/support.js",function(t,r,n){function o(t,r){var n,o,e,f=[];for(o=0,e=r||0,n=t.length;e<n;o++,e++)f[o]=t[e];return f}function e(t,r){var n,o,e,f=[];for(n=0,o=t.length;n<o;n++)f[n]=t[n];for(e=0,o=r.length;e<o;e++)f[n++]=r[e];return f}r.exports={fastCat:e,fastCopy:o}});C.r("node_modules/falcor/lib/get/walkPath.js",function(e,t,l){var r=e("./followReference"),o=e("./onValueType"),a=e("./onValue"),n=e("./util/isExpired"),u=e("falcor-path-utils").iterateKeySet,f=e("./../types/ref"),h=e("./../errors/NullInPathError"),i=e("./../lru/promote");t.exports=function e(t,l,_,v,p,s,$,c,d,w,y,P,b,g){var m=b,j=w,x=g;if(!_||_&&_.$type||p===v.length)return void o(t,_,v,p,s,$,c,d,j,y,P,m);var C,E=v[p],R="object"==typeof E,V=p+1,k=!1,F=E,I=t._allowFromWhenceYouCame;R&&(k={},F=u(E,k));var K,N=y+1;do{m=!1;var S;if(null===F){if(p<v.length)throw new h;S=_}else S=_[F],j[y]=F,d[p]=F;var T=j,W=N;if(S){var Y=S.$type,q=Y&&S.value||S;if(V<v.length&&Y&&Y===f&&!n(S)){i(t._root,S),P&&a(t,S,s,V,$,null,null,j,W,P);var z=r(t,l,l,S,q,s,P);for(m=!0,S=z[0],K=z[1],x=z[2],T=[],W=K.length,C=0;C<W;++C)T[C]=K[C]}if(S){var A;A=x&&I?{$__path:S.$_absolutePath,$__refPath:x.value,$__toReference:x.$_absolutePath}:{$__path:S.$_absolutePath},c[p]=A}}e(t,l,S,v,V,s,$,c,d,T,W,P,m,x),k&&!k.done&&(F=u(E,k))}while(k&&!k.done)}});C.r("node_modules/falcor/lib/index.js",function(e,n,t){"use strict";function o(e){return new o.Model(e)}o.keys=function(e){if(e)return Object.keys(e).filter(function(e){return"$__path"!==e})},n.exports=o,o.Model=e("./Model")});C.r("node_modules/falcor/lib/internal/privatePrefix.js",function(e,r,i){var n=e("./reservedPrefix");r.exports=n+"_"});C.r("node_modules/falcor/lib/internal/ref.js",function(e,r,f){r.exports=e("./privatePrefix")+"ref"});C.r("node_modules/falcor/lib/internal/reservedPrefix.js",function(e,r,n){r.exports="$"});C.r("node_modules/falcor/lib/invalidate/invalidatePathMaps.js",function(e,r,t){function n(e,r,t,o,p,s,u,l,d,_){if(!h(e)&&!e.$type)for(var $ in e)if($[0]!==a&&f(e,$)){var g=e[$],m=c(g)&&!g.$type,w=i(t,o,p,$,g,m,!1,s,u,l,d,_),b=w[0],j=w[1];b&&(m?n(g,r+1,t,j,b,s,u,l,d,_):y(b,j,$,l)&&x(j,v(b),l,s))}}function o(e,r,t,n,o,a,s,u){if(d(t))return $(t,o,a),[void 0,r];l(a,t);var v=t,f=t.value,c=r;if(null!=(t=t.$_context))c=t.$_parent||r;else{var _=0,g=f.length-1;c=t=r;do{var x=f[_],y=_<g,m=i(r,c,t,x,e,y,!0,n,o,a,s,u);if(t=m[0],h(t))return m;c=m[1]}while(_++<g);v.$_context!==t&&p(v,t)}return[t,c]}function i(e,r,t,n,i,p,a,u,l,v,f,c){for(var d=t.$type;d===s;){var _=o(i,e,t,u,l,v,f,c);if(t=_[0],h(t))return _;r=_[1],d=t&&t.$type}if(void 0!==d)return[t,r];if(null==n){if(p)throw new Error("`null` is not allowed in branch key positions.");t&&(n=t.$_key)}else r=t,t=r[n];return[t,r]}var p=e("../support/createHardlink"),a=e("./../internal/reservedPrefix"),s=e("./../types/ref"),u=e("./../get/getBoundValue"),l=e("./../lru/promote"),v=e("./../support/getSize"),f=e("./../support/hasOwn"),c=e("./../support/isObject"),d=e("./../support/isExpired"),_=e("./../support/isFunction"),h=e("./../support/isPrimitive"),$=e("./../support/expireNode"),g=e("./../support/incrementVersion"),x=e("./../support/updateNodeAncestors"),y=e("./../support/removeNodeAndDescendants");r.exports=function(e,r){for(var t=e._root,o=t,i=t.expired,p=g(),a=t._comparator,s=t._errorSelector,l=e._path,v=t.cache,f=l.length?u(e,l).value:v,c=f.$_parent||v,d=v.$_version,h=-1,$=r.length;++h<$;){n(r[h].json,0,v,c,f,p,i,o,a,s)}var x=v.$_version,y=t.onChange;_(y)&&d!==x&&y()}});C.r("node_modules/falcor/lib/invalidate/invalidatePathSets.js",function(e,r,t){function n(e,r,t,o,a,s,u,p){var f={},v=r<e.length-1,d=e[r],c=h(d,f);do{var _=i(t,o,a,c,v,!1,s,u,p),x=_[0],y=_[1];x&&(v?n(e,r+1,t,y,x,s,u,p):g(x,y,c,p,void 0)&&$(y,l(x),p,s)),c=h(d,f)}while(!f.done)}function o(e,r,t,n,o){if(f(r))return c(r,n,o),[void 0,e];p(o,r);var s=r,u=r.value,l=e;if(null!=(r=r.$_context))l=r.$_parent||e;else{var v=0,h=u.length-1;l=r=e;do{var _=u[v],$=v<h,g=i(e,l,r,_,$,!0,t,n,o);if(r=g[0],d(r))return g;l=g[1]}while(v++<h);if(s.$_context!==r){var x=r.$_refsLength||0;r.$_refsLength=x+1,r[a+x]=s,s.$_context=r,s.$_refIndex=x}}return[r,l]}function i(e,r,t,n,i,a,u,p,l){for(var f=t.$type;f===s;){var v=o(e,t,u,p,l);if(t=v[0],d(t))return v;r=v[1],f=t.$type}if(void 0!==f)return[t,r];if(null==n){if(i)throw new Error("`null` is not allowed in branch key positions.");t&&(n=t.$_key)}else r=t,t=r[n];return[t,r]}var a=e("./../internal/ref"),s=e("./../types/ref"),u=e("./../get/getBoundValue"),p=e("./../lru/promote"),l=e("./../support/getSize"),f=e("./../support/isExpired"),v=e("./../support/isFunction"),d=e("./../support/isPrimitive"),c=e("./../support/expireNode"),h=e("falcor-path-utils").iterateKeySet,_=e("./../support/incrementVersion"),$=e("./../support/updateNodeAncestors"),g=e("./../support/removeNodeAndDescendants");r.exports=function(e,r){for(var t=e._root,o=t,i=t.expired,a=_(),s=e._path,p=t.cache,l=s.length?u(e,s).value:p,f=l.$_parent||p,d=p.$_version,c=-1,h=r.length;++c<h;){n(r[c],0,p,f,l,a,i,o)}var $=p.$_version,g=t.onChange;v(g)&&d!==$&&g()}});C.r("node_modules/falcor/lib/lru/collect.js",function(e,o,r){var p=e("./../support/removeNode"),t=e("./../support/updateNodeAncestors");o.exports=function(e,o,r,n,$,a){var i=r,l=$;"number"!=typeof l&&(l=.75);var u,_,s,v="number"==typeof a,d=n*l;for(_=o.pop();_;)s=_.$size||0,i-=s,!0===v?t(_,s,e,a):(u=_.$_parent)&&p(_,u,_.$_key,e),_=o.pop();if(i>=n){var f=e.$_tail;for(_=f;i>=d&&_;)f=f.$_prev,s=_.$size||0,i-=s,!0===v&&t(_,s,e,a),_=f;e.$_tail=e.$_prev=_,null==_?e.$_head=e.$_next=void 0:_.$_next=void 0}}});C.r("node_modules/falcor/lib/lru/promote.js",function(e,r,$){var _=e("./../values/expires-never");r.exports=function(e,r){if(r.$expires!==_){var $=e.$_head;if(!$)return void(e.$_head=e.$_tail=r);if($!==r){var i=r.$_prev,a=r.$_next;a&&(a.$_prev=i),i&&(i.$_next=a),r.$_prev=void 0,e.$_head=r,r.$_next=$,$.$_prev=r,r===e.$_tail&&(e.$_tail=i)}}}});C.r("node_modules/falcor/lib/lru/splice.js",function(e,_,$){_.exports=function(e,_){var $=_.$_prev,n=_.$_next;n&&(n.$_prev=$),$&&($.$_next=n),_.$_prev=_.$_next=void 0,_===e.$_head&&(e.$_head=n),_===e.$_tail&&(e.$_tail=$)}});C.r("node_modules/falcor/lib/request/GetRequestV2.js",function(e,s,t){function r(e,s){var t=!1;return function(){if(!t&&!e._disposed){t=!0,e._callbacks[s]=null,e._optimizedPaths[s]=[],e._requestedPaths[s]=[];var r=--e._count,a=e._disposable;0===r&&(a.unsubscribe?a.unsubscribe():a.dispose(),e.requestQueue.removeRequest(e))}}}function a(e){for(var s=[],t=-1,r=0,a=e.length;r<a;++r)for(var u=e[r],o=0,n=u.length;o<n;++o)s[++t]=u[o];return s}var u=e("./complement"),o=e("./flushGetRequest"),n=e("../support/incrementVersion"),i=e("../support/currentCacheVersion"),h=0,l=e("./RequestTypes").GetRequest,c=e("./../set/setJSONGraphs"),d=e("./../set/setPathValues"),p=e("./../types/error"),_=[],v=e("./../errors/InvalidSourceError"),f=function(e,s){this.sent=!1,this.scheduled=!1,this.requestQueue=s,this.id=++h,this.type=l,this._scheduler=e,this._pathMap={},this._optimizedPaths=[],this._requestedPaths=[],this._callbacks=[],this._count=0,this._disposable=null,this._collapsed=null,this._disposed=!1};f.prototype={batch:function(e,s,t){var a=this,u=a._optimizedPaths,h=a._requestedPaths,l=a._callbacks,c=u.length;if(u[c]=s,h[c]=e,l[c]=t,++a._count,!a.scheduled){a.scheduled=!0;var d,p=a._scheduler.schedule(function(){d=o(a,u,function(e,s){var t,r,u,o=a.requestQueue.model;if(a.requestQueue.removeRequest(a),a._disposed=!0,o._treatDataSourceErrorsAsJSONGraphErrors?e instanceof v:e)for(t=0,u=l.length;t<u;++t)(r=l[t])&&r(e);else if(a._count){var c=n.getCurrentVersion();i.setVersion(c);var d={hasInvalidatedResult:!1},p=o._useServerPaths&&s&&void 0===s.paths?new Error("Server responses must include a 'paths' field when Model._useServerPaths === true"):void 0;for(p||a._merge(h,e,s,d),t=0,u=l.length;t<u;++t)(r=l[t])&&r(p||e,s,d.hasInvalidatedResult);i.setVersion(null)}}),a._disposable=d});a._disposable=d||p}return r(a,c)},add:function(e,s,t,a){var o,n,i=this,h=u(e,s,t,i._pathMap);h?(n=h[2],o=h[1]):(n=e,o=s);var l=!1,c=!1;if(h&&h[0].length){l=!0;var d=i._callbacks.length;i._callbacks[d]=a,i._requestedPaths[d]=h[0],i._optimizedPaths[d]=[],++i._count,c=r(i,d)}return[l,n,o,c]},_merge:function(e,s,t,r){var u=this,o=u.requestQueue.model,n=o._root,i=n.errorSelector,h=n.comparator,l=o._path;o._path=_;var v=o._useServerPaths?t.paths:a(e);if(s&&o._treatDataSourceErrorsAsJSONGraphErrors){var f=s;f instanceof Error&&(f={message:f.message}),f.$type||(f={$type:p,value:f});var m=v.map(function(e){return{path:e,value:f}});d(o,m,null,i,h,r)}else c(o,[{paths:v,jsonGraph:t.jsonGraph}],null,i,h,r);o._path=l}},s.exports=f});C.r("node_modules/falcor/lib/request/RequestQueueV2.js",function(e,t,s){function n(e,t){this.model=e,this.scheduler=t,this.requests=this._requests=[]}var r=e("./RequestTypes"),u=e("./sendSetRequest"),i=e("./GetRequestV2"),h=e("falcor-path-utils");n.prototype={setScheduler:function(e){this.scheduler=e},set:function(e,t){return e.paths=h.collapse(e.paths),u(e,this.model,t)},get:function(e,t,s,n){function u(e,t,s){g||0===--a&&n(e,t,s)}var h,l,o,f=this,c=[],a=0,d=f._requests,q=t,p=e,g=!1;for(h=0,l=d.length;h<l;++h)if(o=d[h],o.type===r.GetRequest){if(o.sent){var v=o.add(p,q,s,u);v[0]&&(p=v[1],q=v[2],c[c.length]=v[3],++a)}else o.batch(p,q,u),q=[],p=[],++a;if(!q.length)break}if(q.length){o=new i(f.scheduler,f),d[d.length]=o,++a;var R=o.batch(p,q,u);c[c.length]=R}return function(){if(!g&&0!==a){g=!0;for(var e=c.length,t=0;t<e;++t)c[t]()}}},removeRequest:function(e){for(var t=this._requests,s=t.length;--s>=0;)if(t[s].id===e.id){t.splice(s,1);break}}},t.exports=n});C.r("node_modules/falcor/lib/request/RequestTypes.js",function(e,s,t){s.exports={GetRequest:"GET"}});C.r("node_modules/falcor/lib/request/complement.js",function(e,t,r){function n(e,t,r,l,g,f,i){for(var c=[],s=[],v=[];l<t.length;++l){var u=t[l],p=typeof u;if(u&&"object"===p){for(var d={},b=h(u,d);!d.done;){var y=r[b];if(void 0===y){var m=f.concat(b,a(t,l+1));v[v.length]=m;var j=g.concat(b,a(e,l+1+i));s[s.length]=j}else if(l===t.length-1)c[c.length]=o(g,[b]);else{for(var k=n(e,t,y,l+1,o(g,[b]),o(f,[b]),i),q=0,x=k[0].length;q<x;++q)c[c.length]=k[0][q];for(var C=0,I=k[1].length;C<I;++C)v[v.length]=k[1][C],s[s.length]=k[2][C]}b=h(u,d)}break}if(r=r[u],f[f.length]=t[l],g[g.length]=e[l+i],void 0===r){v[v.length]=o(f,a(t,l+1)),s[s.length]=o(g,a(e,l+i+1));break}l===t.length-1&&(c[c.length]=g)}return[c,v,s]}var l=e("falcor-path-utils").hasIntersection,a=e("./../support/array-slice"),o=e("./../support/array-concat"),h=e("falcor-path-utils").iterateKeySet;t.exports=function(e,t,r,o){for(var h=[],g=[],f=[],i=-1,c=-1,s=0,v=t.length;s<v;++s){var u=t[s],p=e[s],d=r[s],b=o[u.length];if(b)if(l(b,u,0))f[++i]=p;else{for(var y=n(p,u,b,d<0?-d:0,d>0?a(p,0,d):[],d<0?a(u,0,-d):[],d),m=0,j=y[0].length;m<j;++m)f[++i]=y[0][m];for(var k=0,q=y[1].length;k<q;++k)h[++c]=y[1][k],g[c]=y[2][k]}else h[++c]=u,g[c]=p}return f.length?[f,h,g]:null}});C.r("node_modules/falcor/lib/request/flushGetRequest.js",function(e,r,t){var u=e("falcor-path-utils"),n=u.toTree,l=u.toPaths,o=e("./../errors/InvalidSourceError");r.exports=function(e,r,t){if(0===e._count)return e.requestQueue.removeRequest(e),null;e.sent=!0,e.scheduled=!1;for(var u=e._pathMap,s=Object.keys(r),a=0,c=s.length;a<c;++a)for(var f=r[a],h=0,i=f.length;h<i;++h){var v=f[h],d=v.length;if(u[d]){var g=u[d];g[g.length]=v}else u[d]=[v]}for(var b=Object.keys(u),p=0,q=b.length;p<q;++p){var _=b[p];u[_]=n(u[_])}var j,m,y=e._collasped=l(u);try{m=e.requestQueue.model._source.get(y)}catch(e){return t(new o),null}return m.subscribe(function(e){j=e},function(e){t(e,j)},function(){t(null,j)})}});C.r("node_modules/falcor/lib/request/sendSetRequest.js",function(r,t,e){var s=r("./../support/array-map"),a=r("./../set/setJSONGraphs"),o=r("./../set/setPathValues"),n=r("./../errors/InvalidSourceError"),u=[],p={dispose:function(){}},c=function(r,t,e){var c,h,i=r.paths,l=t._root,d=l.errorSelector,f=l.comparator,_=t._path;try{h=t._source.set(r)}catch(r){return e(new n),p}var v=h.subscribe(function(r){if(!v||!v.disposed){t._path=u;var e=a(t,[{paths:i,jsonGraph:r.jsonGraph}],null,d,f);r.paths=e[1],t._path=_,c=r}},function(r){v&&v.disposed||(t._path=u,o(t,s(i,function(t){return{path:t,value:r}}),null,d,f),t._path=_,e(r))},function(){e(null,c)});return v};t.exports=c});C.r("node_modules/falcor/lib/response/AssignableDisposable.js",function(s,i,e){var o=function(s){this.disposed=!1,this.currentDisposable=s};o.prototype={dispose:function(){if(!this.disposed&&this.currentDisposable){this.disposed=!0;var s=this.currentDisposable;s.dispose?s.dispose():s()}}},i.exports=o});C.r("node_modules/falcor/lib/response/CallResponse.js",function(t,o,r){function n(t,o,r,n,e){this.callPath=a.fromPath(o),this.args=r,e&&(this.paths=e.map(a.fromPath)),n&&(this.suffix=n.map(a.fromPath)),this.model=t}var e=t("./../response/ModelResponse"),s=t("./../errors/InvalidSourceError"),a=t("falcor-path-syntax");n.prototype=Object.create(e.prototype),n.prototype._subscribe=function(t){var o=this.callPath,r=this.args,n=this.suffix,e=this.paths,a=this.model,i=a._clone({_path:[]}),c=a._path,u=c.concat(o);if(!a._source)return void t.onError(new Error("function does not exist"));var h,l;try{l=a._source.call(u,r,n,e)}catch(o){return void t.onError(new s(o))}return l.subscribe(function(t){h=t},function(o){t.onError(o)},function(){var o=h.invalidated;o&&o.length&&i.invalidate.apply(i,o),i.withoutDataSource().set(h).subscribe(function(o){t.onNext(o)},function(o){t.onError(o)},function(){t.onCompleted()})})},o.exports=n});C.r("node_modules/falcor/lib/response/InvalidateResponse.js",function(e,t,o){function r(e,t){this._model=e;for(var o,r,n=[],u=-1,a=t.length;++u<a;){var l,h=t[u];if(s(h))l="PathValues";else if(p(h))l="PathValues";else{if(!i(h))throw new Error("Invalid Input");l="PathMaps"}r!==l&&(r=l,o={inputType:l,arguments:[]},n.push(o)),o.arguments.push(h)}this._groups=n}var s=Array.isArray,n=e("./ModelResponse"),p=e("./../support/isPathValue"),i=e("./../support/isJSONEnvelope"),u={dispose:function(){}};r.prototype=Object.create(n.prototype),r.prototype.progressively=function(){return this},r.prototype._toJSONG=function(){return this},r.prototype._subscribe=function(e){var t=this._model;return this._groups.forEach(function(e){var o=e.inputType,r=e.arguments;(0,t["_invalidate"+o])(t,r)}),e.onCompleted(),u},t.exports=r});C.r("node_modules/falcor/lib/response/ModelResponse.js",function(e,o,t){function s(e){this._subscribe=e}var n=e("./ModelResponseObserver"),r=e("symbol-observable").default,i=e("../toEsObservable");s.prototype[r]=function(){return i(this)},s.prototype._toJSONG=function(){return this},s.prototype.progressively=function(){return this},s.prototype.subscribe=s.prototype.forEach=function(e,o,t){var s=new n(e,o,t),r=this._subscribe(s);switch(typeof r){case"function":return{dispose:function(){s._closed||(s._closed=!0,r())}};case"object":return{dispose:function(){s._closed||(s._closed=!0,null!==r&&r.dispose())}};default:return{dispose:function(){s._closed=!0}}}},s.prototype.then=function(e,o){var t=this;return t._promise||(t._promise=new Promise(function(e,o){var s=!1,n=[];t.subscribe(function(e){n[n.length]=e},function(e){s=!0,o(e)},function(){var o=n;n.length<=1&&(o=n[0]),!1===s&&e(o)})})),t._promise.then(e,o)},o.exports=s});C.r("node_modules/falcor/lib/response/ModelResponseObserver.js",function(o,e,n){function t(o,e,n){this._observer=o&&"object"==typeof o?{onNext:"function"==typeof o.onNext?function(e){o.onNext(e)}:r,onError:"function"==typeof o.onError?function(e){o.onError(e)}:r,onCompleted:"function"==typeof o.onCompleted?function(){o.onCompleted()}:r}:{onNext:"function"==typeof o?o:r,onError:"function"==typeof e?e:r,onCompleted:"function"==typeof n?n:r}}var r=o("./../support/noop");t.prototype={onNext:function(o){this._closed||this._observer.onNext(o)},onError:function(o){this._closed||(this._closed=!0,this._observer.onError(o))},onCompleted:function(){this._closed||(this._closed=!0,this._observer.onCompleted())}},e.exports=t});C.r("node_modules/falcor/lib/response/get/GetResponse.js",function(e,t,i){var s=e("./../ModelResponse"),r=e("./checkCacheAndReport"),o=e("./getRequestCycle"),n={dispose:function(){}},c=e("./../../lru/collect"),h=e("./../../support/getSize"),l=t.exports=function(e,t,i,s,r){this.model=e,this.currentRemainingPaths=t,this.isJSONGraph=i||!1,this.isProgressive=s||!1,this.forceCollect=r||!1};l.prototype=Object.create(s.prototype),l.prototype._toJSONG=function(){return new l(this.model,this.currentRemainingPaths,!0,this.isProgressive,this.forceCollect)},l.prototype.progressively=function(){return new l(this.model,this.currentRemainingPaths,this.isJSONGraph,!0,this.forceCollect)},l.prototype._subscribe=function(e){var t=[{}],i=[],s=this.model,l=e.isJSONG=this.isJSONGraph,p=this.isProgressive,a=r(s,this.currentRemainingPaths,e,p,l,t,i);if(!a){if(this.forceCollect){var u=s._root,f=u.cache,g=f.$_version;c(u,u.expired,h(f),s._maxSize,s._collectRatio,g)}return n}return o(this,s,a,e,i,1)}});C.r("node_modules/falcor/lib/response/get/checkCacheAndReport.js",function(r,e,t){var s=r("./../../get"),o=s.getWithPathsAsJSONGraph,n=s.getWithPathsAsPathMap;e.exports=function(r,e,t,s,a,h,l){var i=a?o(r,e,h):n(r,e,h),c=i.values&&i.values[0],u=!i.requestedMissingPaths||!i.requestedMissingPaths.length||!r._source;if(i.errors)for(var g=i.errors,d=l.length,f=0,p=g.length;f<p;++f,++d)l[d]=g[f];if(s||(s&&i.hasValues||!s)&&u&&void 0!==c)try{t.onNext(c)}catch(r){throw r}return i.criticalError?(t.onError(i.criticalError),null):u?(l.length?t.onError(l):t.onCompleted(),null):i}});C.r("node_modules/falcor/lib/response/get/getRequestCycle.js",function(e,r,s){var t=e("./checkCacheAndReport"),o=e("./../../errors/MaxRetryExceededError"),i=e("./../../get/util/support").fastCat,a=e("./../../lru/collect"),n=e("./../../support/getSize"),l=e("./../AssignableDisposable"),u=e("../../errors/InvalidSourceError");r.exports=function e(r,s,c,p,h,f){if(f>s._maxRetries)return p.onError(new o(c.optimizedMissingPaths)),{dispose:function(){}};var g=s._request,v=c.requestedMissingPaths,d=c.optimizedMissingPaths,_=c.depthDifferences,x=new l,E=[],m=s._path,R=m.length;if(m.length)for(var S=0,b=v.length;S<b;++S)E[S]=i(m,v[S]),_[S]+=R;else E=v;var D=g.get(E,d,_,function(o,i,l){if(s._treatDataSourceErrorsAsJSONGraphErrors?o instanceof u:!!o)return c.hasValues&&p.onNext(c.values&&c.values[0]),void p.onError(o);var g,d;l?(g=r.currentRemainingPaths,d=[{}]):(g=v,d=c.values);var _=t(s,g,p,r.isProgressive,r.isJSONGraph,d,h);if(_)x.currentDisposable=e(r,s,_,p,h,f+1);else{var E=s._root,m=E.cache,R=m.$_version;a(E,E.expired,n(m),s._maxSize,s._collectRatio,R)}});return x.currentDisposable=D,x}});C.r("node_modules/falcor/lib/response/get/getWithPaths.js",function(e,t,n){var s=e("./GetResponse");t.exports=function(e){return new s(this,e)}});C.r("node_modules/falcor/lib/response/get/index.js",function(e,n,r){var t=e("falcor-path-syntax"),o=e("./../ModelResponse"),s=e("./validInput"),a=e("./../../support/validateInput"),u=e("./GetResponse");n.exports=function(){var e=a(arguments,s,"get");if(!0!==e)return new o(function(n){n.onError(e)});var n=t.fromPathsOrPathValues(arguments);return new u(this,n)}});C.r("node_modules/falcor/lib/response/get/validInput.js",function(t,e,n){e.exports={path:!0,pathSyntax:!0}});C.r("node_modules/falcor/lib/response/set/SetResponse.js",function(s,t,e){var r=s("./../ModelResponse"),i=s("falcor-path-syntax"),o=Array.isArray,p=s("./../../support/isPathValue"),a=s("./../../support/isJSONGraphEnvelope"),h=s("./../../support/isJSONEnvelope"),n=s("./setRequestCycle"),u=t.exports=function(s,t,e,r){this._model=s,this._isJSONGraph=e||!1,this._isProgressive=r||!1,this._initialArgs=t,this._value=[{}];for(var n,u,l=[],_=-1,g=t.length;++_<g;){var y,c=t[_];o(c)||"string"==typeof c?(c=i.fromPath(c),y="PathValues"):p(c)?(c.path=i.fromPath(c.path),y="PathValues"):a(c)?y="JSONGs":h(c)&&(y="PathMaps"),u!==y&&(u=y,n={inputType:y,arguments:[]},l.push(n)),n.arguments.push(c)}this._groups=l};u.prototype=Object.create(r.prototype),u.prototype._subscribe=function(s){var t=this._groups,e=this._model,r=this._isJSONGraph,i=this._isProgressive;return n(e,s,t,r,i,0)},u.prototype._toJSONG=function(){return new u(this._model,this._initialArgs,!0,this._isProgressive)},u.prototype.progressively=function(){return new u(this._model,this._initialArgs,this._isJSONGraph,!0)}});C.r("node_modules/falcor/lib/response/set/index.js",function(e,n,r){var t=e("./setValidInput"),o=e("./../../support/validateInput"),s=e("./SetResponse"),i=e("./../ModelResponse");n.exports=function(){var e=o(arguments,t,"set");if(!0!==e)return new i(function(n){n.onError(e)});for(var n=-1,r=arguments.length,u=[];++n<r;)u[n]=arguments[n];return new s(this,u)}});C.r("node_modules/falcor/lib/response/set/setGroupsIntoCache.js",function(t,r,e){function p(t){return t.path}function a(t){return t.paths}var s=t("./../../support/array-flat-map");r.exports=function(t,r){for(var e=t._root,n=e.errorSelector,u=-1,o=r.length,l=[],h=[],i={requestedPaths:l,optimizedPaths:h};++u<o;){var f=r[u],c=f.inputType,y=f.arguments;if(y.length>0){var m="_set"+c,d=t[m],v=d(t,y,null,n);h.push.apply(h,v[1]),"PathValues"===c?l.push.apply(l,y.map(p)):"JSONGs"===c?l.push.apply(l,s(y,a)):l.push.apply(l,v[0])}}return i}});C.r("node_modules/falcor/lib/response/set/setRequestCycle.js",function(r,e,t){function o(r,e){var t=r._path,o={};return r._path=s,r._getPathValuesAsJSONG(r._materialize().withoutDataSource(),e,[o]),r._path=t,o}function n(r,e,t,o,n){return new a(r,t,o,n,!0).subscribe(e)}var s=[],i=r("./../AssignableDisposable"),a=r("./../get/GetResponse"),u=r("./setGroupsIntoCache"),c=r("./../../get").getWithPathsAsPathMap,l=r("./../../errors/InvalidSourceError"),h=r("./../../errors/MaxRetryExceededError");e.exports=function r(e,t,s,a,f,p){var v=u(e,s),_=v.optimizedPaths,d=v.requestedPaths;if(p===e._maxRetries)return t.onError(new h(_)),{dispose:function(){}};if(void 0===e._source)return n(e,t,d,a,f);var E;if(f){var b=c(e,d,[{}]);if(b.criticalError)return t.onError(b.criticalError),null;t.onNext(b.values[0]),E=e._root.cache.$_version}var g=o(e,_),m=new i,x=e._request.set(g,function(o,i){if(o instanceof l)return void t.onError(o);var u=!1;if((o||_.length===i.paths.length)&&(u=!0),f){if(!(e._root.cache.$_version!==E))return void t.onCompleted()}u?m.currentDisposable=n(e,t,d,a,f):r(e,t,s,a,f,p+1)});return m.currentDisposable=x,m}});C.r("node_modules/falcor/lib/response/set/setValidInput.js",function(s,e,n){e.exports={pathValue:!0,pathSyntax:!0,json:!0,jsonGraph:!0}});C.r("node_modules/falcor/lib/schedulers/ASAPScheduler.js",function(e,t,o){function n(){}var r=e("falcor-asap"),u={dispose:function(){}};n.prototype.schedule=function(e){return r(e),u},n.prototype.scheduleWithState=function(e,t){var o=this;return r(function(){t(o,e)}),u},t.exports=n});C.r("node_modules/falcor/lib/schedulers/ImmediateScheduler.js",function(e,t,o){function n(){}var r={dispose:function(){}};n.prototype.schedule=function(e){return e(),r},n.prototype.scheduleWithState=function(e,t){return t(this,e),r},t.exports=n});C.r("node_modules/falcor/lib/schedulers/TimeoutScheduler.js",function(t,e,i){function s(t){this.delay=t}var o=function(t){this.id=t,this.disposed=!1};s.prototype.schedule=function(t){var e=setTimeout(t,this.delay);return new o(e)},s.prototype.scheduleWithState=function(t,e){var i=this,s=setTimeout(function(){e(i,t)},this.delay);return new o(s)},o.prototype.dispose=function(){this.disposed||(clearTimeout(this.id),this.disposed=!0)},e.exports=s});C.r("node_modules/falcor/lib/set/setJSONGraphs.js",function(e,r,n){function i(e,r,n,t,p,a,s,u,d,l,v,f,c,x,g,y,$,_){for(var N={},m=r<e.length-1,k=e[r],w=h(k,N),G=f.index;;){v.depth=r;var S=o(n,t,p,a,s,u,w,m,!1,v,f,c,x,g,y,$,_);v[r]=w,v.index=r,f[f.index++]=w;var b=S[0],j=S[1];if(b&&(m?i(e,r+1,n,j,b,a,S[3],S[2],d,l,v,f,c,x,g,y,$,_):(d.push(v.slice(0,v.index+1)),l.push(f.slice(0,f.index)))),w=h(k,N),N.done)break;f.index=G}}function t(e,r,n,i,t,a,u,h,v,f,c,x){var g=r.value;if(a.splice(0,a.length),a.push.apply(a,g),s(r))return a.index=g.length,l(r,h,v),[void 0,e,i,n];var y=0,$=r,_=g.length-1,N=r=e,m=i=n;do{var k=g[y],w=y<_;a.index=y;var G=o(e,N,r,n,m,i,k,w,!0,t,a,u,h,v,f,c,x);if(r=G[0],d(r))return a.index=y,G;N=G[1],i=G[2],m=G[3]}while(y++<_);return a.index=y,$.$_context!==r&&p($,r),[r,N,i,m]}function o(e,r,n,i,o,p,s,u,l,h,v,x,g,y,$,_,N){for(var m=n.$type;m===a;){var k=t(e,n,i,p,h,v,x,g,y,$,_,N);if(n=k[0],d(n))return k;r=k[1],p=k[2],o=k[3],m=n.$type}if(void 0!==m)return[n,r,p,o];if(null==s){if(u)throw new c;n&&(s=n.$_key)}else r=n,o=p,n=r[s],p=o&&o[s];return n=f(r,n,p,s,h,v,x,g,y,$,_,N),[n,r,p,o]}var p=e("./../support/createHardlink"),a=e("./../types/ref"),s=e("./../support/isAlreadyExpired"),u=e("./../support/isFunction"),d=e("./../support/isPrimitive"),l=e("./../support/expireNode"),h=e("falcor-path-utils").iterateKeySet,v=e("./../support/incrementVersion"),f=e("./../support/mergeJSONGraphNode"),c=e("./../errors/NullInPathError");r.exports=function(e,r,n,t,o,p){for(var a=e._root,s=a,d=a.expired,l=v(),h=a.cache,f=h.$_version,c=[],x=[],g=[],y=[],$=-1,_=r.length;++$<_;)for(var N=r[$],m=N.paths,k=N.jsonGraph,w=-1,G=m.length;++w<G;){var S=m[w];x.index=0,i(S,0,h,h,h,k,k,k,g,y,c,x,l,d,s,o,t,p)}var b=h.$_version,j=a.onChange;return u(j)&&f!==b&&j(),[g,y]}});C.r("node_modules/falcor/lib/set/setPathMaps.js",function(e,r,n){function t(e,r,n,i,p,s,u,l,v,d,h,c,x,g){var $=a(e);if($&&$.length)for(var _=0,y=$.length,m=v.index;;){var w=$[_],P=e[w],b=f(P)&&!P.$type;l.depth=r;var j=o(n,i,p,w,P,b,!1,l,v,d,h,c,x,g);l[r]=w,l.index=r,v[v.index++]=w;var k=j[0],O=j[1];if(k&&(b?t(P,r+1,n,O,k,s,u,l,v,d,h,c,x,g):(s.push(l.slice(0,l.index+1)),u.push(v.slice(0,v.index)))),++_>=y)break;v.index=m}}function i(e,r,n,t,i,a,s,u,l,v){var d=n.value;if(i.splice(0,i.length),i.push.apply(i,d),h(n))return i.index=d.length,g(n,s,u),[void 0,r];var f=n,c=r;if(null!=(n=n.$_context))c=n.$_parent||r,i.index=d.length;else{var $=0,_=d.length-1;i.index=$,c=n=r;do{var y=d[$],m=$<_,w=o(r,c,n,y,e,m,!0,t,i,a,s,u,l,v);if(n=w[0],x(n))return i.index=$,w;c=w[1]}while($++<_);i.index=$,f.$_context!==n&&p(f,n)}return[n,c]}function o(e,r,n,t,o,a,p,s,l,v,d,f,h,c){for(var g=n.$type;g===u;){var $=i(o,e,n,s,l,v,d,f,h,c);if(n=$[0],x(n))return $;r=$[1],g=n&&n.$type}if(void 0!==g)return[n,r];if(null==t){if(a)throw new y;n&&(t=n.$_key)}else r=n,n=r[t];return n=_(r,n,t,o,a,p,s,l,v,d,f,h,c),[n,r]}function a(e){if(f(e)&&!e.$type){var r=[],n=0;v(e)&&(r[n++]="length");for(var t in e)t[0]!==s&&d(e,t)&&(r[n++]=t);return r}}var p=e("./../support/createHardlink"),s=e("./../internal/reservedPrefix"),u=e("./../types/ref"),l=e("./../get/getBoundValue"),v=Array.isArray,d=e("./../support/hasOwn"),f=e("./../support/isObject"),h=e("./../support/isExpired"),c=e("./../support/isFunction"),x=e("./../support/isPrimitive"),g=e("./../support/expireNode"),$=e("./../support/incrementVersion"),_=e("./../support/mergeValueOrInsertBranch"),y=e("./../errors/NullInPathError");r.exports=function(e,r,n,i,o){for(var a=e._root,p=a,s=a.expired,u=$(),v=e._path,d=a.cache,f=v.length?l(e,v).value:d,h=f.$_parent||d,x=d.$_version,g=[],_=[],y=[],m=v.length,w=-1,P=r.length;++w<P;){var b=r[w],j=v.slice(0);j.index=m,t(b.json,0,d,h,f,_,y,g,j,u,s,p,o,i)}var k=d.$_version,O=a.onChange;return c(O)&&x!==k&&O(),[_,y]}});C.r("node_modules/falcor/lib/set/setPathValues.js",function(e,r,n){function t(e,r,n,i,a,u,l,p,s,d,h,c,f,x,g,_){for(var $={},y=n<r.length-1,m=r[n],V=v(m,$),k=d.index;;){s.depth=n;var w=o(i,a,u,V,e,y,!1,s,d,h,c,f,x,g,_);s[n]=V,s.index=n,d[d.index++]=V;var P=w[0],b=w[1];if(P&&(y?t(e,r,n+1,i,b,P,l,p,s,d,h,c,f,x,g):(l.push(s.slice(0,s.index+1)),p.push(d.slice(0,d.index)))),V=v(m,$),$.done)break;d.index=k}}function i(e,r,n,t,i,u,l,s,v,c,f){var x=n.value;if(i.splice(0,i.length),i.push.apply(i,x),p(n))return i.index=x.length,h(n,l,s),[void 0,r];var g=n,_=r;if(null!=(n=n.$_context))_=n.$_parent||r,i.index=x.length;else{var $=0,y=x.length-1;_=n=r;do{var m=x[$],V=$<y;i.index=$;var k=o(r,_,n,m,e,V,!0,t,i,u,l,s,v,c,f);if(n=k[0],d(n))return i.index=$,k;_=k[1]}while($++<y);i.index=$,g.$_context!==n&&a(g,n)}return[n,_]}function o(e,r,n,t,o,a,l,p,s,h,v,c,g,_,$){for(var y=n.$type;y===u;){var m=i(o,e,n,p,s,h,v,c,g,_,$);if(n=m[0],d(n))return m;r=m[1],y=n.$type}if(a&&void 0!==y)return[n,r];if(null==t){if(a)throw new x;n&&(t=n.$_key)}else r=n,n=r[t];return n=f(r,n,t,o,a,l,p,s,h,v,c,g,_,$),[n,r]}var a=e("./../support/createHardlink"),u=e("./../types/ref"),l=e("./../get/getBoundValue"),p=e("./../support/isExpired"),s=e("./../support/isFunction"),d=e("./../support/isPrimitive"),h=e("./../support/expireNode"),v=e("falcor-path-utils").iterateKeySet,c=e("./../support/incrementVersion"),f=e("./../support/mergeValueOrInsertBranch"),x=e("./../errors/NullInPathError");r.exports=function(e,r,n,i,o){for(var a=e._root,u=a,p=a.expired,d=c(),h=e._path,v=a.cache,f=h.length?l(e,h).value:v,x=f.$_parent||v,g=v.$_version,_=[],$=[],y=[],m=h.length,V=-1,k=r.length;++V<k;){var w=r[V],P=w.path,b=w.value,B=h.slice(0);B.index=m,t(b,P,0,v,x,f,$,y,_,B,d,p,u,o,i)}var C=v.$_version,E=a.onChange;return s(E)&&g!==C&&E(),[$,y]}});C.r("node_modules/falcor/lib/set/setValue.js",function(n,e,o){var r=n("falcor-json-graph"),t=n("./../response/ModelResponse"),s=n("./../support/isPathValue");e.exports=function(n,e){for(var o=s(n)?n:r.pathValue(n,e),u=0,a=o.path,f=a.length;++u<f;)if("object"==typeof a[u])return new t(function(n){n.onError(new Error("Paths must be simple paths"))});var i=this;return new t(function(n){return i.set(o).subscribe(function(e){for(var o=e.json,r=-1,t=a.length;o&&++r<t;)o=o[a[r]];n.onNext(o)},function(e){n.onError(e)},function(){n.onCompleted()})})}});C.r("node_modules/falcor/lib/set/sync.js",function(t,e,a){var o=t("falcor-path-syntax"),r=t("./../support/isPathValue"),s=t("./../set/setPathValues");e.exports=function(t,e,a,n){var h=o.fromPath(t),c=e,l=a,u=n;if(r(h)?(u=l,l=c,c=h):c={path:h,value:c},!1===r(c))throw new Error("Model#setValueSync must be called with an Array path.");return"function"!=typeof l&&(l=this._root._errorSelector),"function"!=typeof u&&(u=this._root._comparator),this._syncCheck("setValueSync"),s(this,[c]),this._getValueSync(this,c.path).value}});C.r("node_modules/falcor/lib/support/array-clone.js",function(r,n,o){n.exports=function(r){if(!r)return r;for(var n=-1,o=r.length,e=[];++n<o;)e[n]=r[n];return e}});C.r("node_modules/falcor/lib/support/array-concat.js",function(r,n,o){n.exports=function(r,n){if(!r)return n;for(var o=-1,t=-1,e=r.length,a=n.length,f=new Array(e+a);++o<e;)f[o]=r[o];for(;++t<a;)f[o++]=n[t];return f}});C.r("node_modules/falcor/lib/support/array-flat-map.js",function(r,o,n){o.exports=function(r,o){for(var n=-1,t=-1,a=r.length,e=[];++t<a;)for(var f=o(r[t],t,r),l=-1,u=f.length;++l<u;)e[++n]=f[l];return e}});C.r("node_modules/falcor/lib/support/array-map.js",function(r,n,o){n.exports=function(r,n){for(var o=-1,a=r.length,e=new Array(a);++o<a;)e[o]=n(r[o],o,r);return e}});C.r("node_modules/falcor/lib/support/array-slice.js",function(r,n,o){n.exports=function(r,n,o){var e=n||0,a=-1,t=r.length-e;t<0&&(t=0),o>0&&t>o&&(t=o);for(var l=new Array(t);++a<t;)l[a]=r[a+e];return l}});C.r("node_modules/falcor/lib/support/clone.js",function(r,n,o){var s=r("./../internal/privatePrefix"),t=r("./../support/hasOwn"),a=Array.isArray,i=r("./../support/isObject");n.exports=function(r){var n=r;if(i(n)){n=a(r)?[]:{};var o=r;for(var e in o)e.substr(0,2)!==s&&t(o,e)&&(n[e]=o[e])}return n}});C.r("node_modules/falcor/lib/support/createHardlink.js",function(e,r,n){var t=e("./../internal/ref");r.exports=function(e,r){var n=r.$_refsLength||0;r[t+n]=e,r.$_refsLength=n+1,e.$_refIndex=n,e.$_context=r}});C.r("node_modules/falcor/lib/support/currentCacheVersion.js",function(n,r,e){var o=null;e.setVersion=function(n){o=n},e.getVersion=function(){return o}});C.r("node_modules/falcor/lib/support/expireNode.js",function(e,i,r){var n=e("./../lru/splice");i.exports=function(e,i,r){return e.$_invalidated||(e.$_invalidated=!0,i.push(e),n(r,e)),e}});C.r("node_modules/falcor/lib/support/getExpires.js",function(e,r,o){var i=e("./isObject");r.exports=function(e){return i(e)&&e.$expires||void 0}});C.r("node_modules/falcor/lib/support/getSize.js",function(e,o,r){var t=e("./../support/isObject");o.exports=function(e){return t(e)&&e.$size||0}});C.r("node_modules/falcor/lib/support/getTimestamp.js",function(t,o,e){var r=t("./../support/isObject");o.exports=function(t){return r(t)&&t.$timestamp||void 0}});C.r("node_modules/falcor/lib/support/getType.js",function(r,o,t){var e=r("./../support/isObject");o.exports=function(r,o){var t=e(r)&&r.$type||void 0;return o&&t?"branch":t}});C.r("node_modules/falcor/lib/support/hasOwn.js",function(o,r,t){var e=o("./isObject"),n=Object.prototype.hasOwnProperty;r.exports=function(o,r){return e(o)&&n.call(o,r)}});C.r("node_modules/falcor/lib/support/incrementVersion.js",function(r,n,e){var o=1;n.exports=function(){return o++},n.exports.getCurrentVersion=function(){return o}});C.r("node_modules/falcor/lib/support/insertNode.js",function(e,o,t){o.exports=function(e,o,t,n,r){return e.$_key=t,e.$_parent=o,void 0!==n&&(e.$_version=n),e.$_absolutePath||(e.$_absolutePath=r.slice(0,r.index).concat(t)),o[t]=e,e}});C.r("node_modules/falcor/lib/support/isAlreadyExpired.js",function(e,r,s){var n=e("./../support/now"),o=e("./../values/expires-now"),p=e("./../values/expires-never");r.exports=function(e){var r=e.$expires;return null!=r&&r!==p&&r!==o&&r<n()}});C.r("node_modules/falcor/lib/support/isExpired.js",function(e,r,s){var n=e("./../support/now"),o=e("../values/expires-now"),p=e("../values/expires-never");r.exports=function(e){var r=e.$expires;return null!=r&&r!==p&&(r===o||r<n())}});C.r("node_modules/falcor/lib/support/isFunction.js",function(o,n,t){n.exports=function(o){return Boolean(o)&&"function"==typeof o}});C.r("node_modules/falcor/lib/support/isInternalKey.js",function(r,e,n){var t=r("./../internal/privatePrefix");e.exports=function(r){return"$size"===r||r.substr(0,2)===t}});C.r("node_modules/falcor/lib/support/isJSONEnvelope.js",function(o,n,r){var s=o("./../support/isObject");n.exports=function(o){return s(o)&&"json"in o}});C.r("node_modules/falcor/lib/support/isJSONGraphEnvelope.js",function(r,s,o){var n=Array.isArray,a=r("./../support/isObject");s.exports=function(r){return a(r)&&n(r.paths)&&(a(r.jsonGraph)||a(r.jsong)||a(r.json)||a(r.values)||a(r.value))}});C.r("node_modules/falcor/lib/support/isObject.js",function(o,t,e){t.exports=function(o){return null!==o&&"object"==typeof o}});C.r("node_modules/falcor/lib/support/isPathValue.js",function(r,t,o){var s=Array.isArray,a=r("./../support/isObject");t.exports=function(r){return a(r)&&(s(r.path)||"string"==typeof r.path)}});C.r("node_modules/falcor/lib/support/isPrimitive.js",function(o,t,e){t.exports=function(o){return null==o||"object"!=typeof o}});C.r("node_modules/falcor/lib/support/mergeJSONGraphNode.js",function(e,r,t){var p=e("./../types/ref"),i=e("./../types/error"),u=e("./../support/getSize"),o=e("./../support/getTimestamp"),s=e("./../support/isObject"),n=e("./../support/isExpired"),l=e("./../support/isFunction"),a=e("./../support/wrapNode"),d=e("./../support/insertNode"),f=e("./../support/expireNode"),v=e("./../support/replaceNode"),$=e("./../support/updateNodeAncestors"),c=e("./../support/reconstructPath");r.exports=function(e,r,t,m,y,N,x,_,g,z,b,h){var j,O,S,w,A,C,E,F=r&&void 0!==r.value?r.value:r;if(F===t){if(null===t)return r=a(t,void 0,t),e=$(e,-r.$size,g,x),r=d(r,e,m,void 0,N);if(void 0===t)return t;if((w=s(r))&&null==(O=r.$type))return null==r.$_parent&&d(r,e,m,x,N),r}else(w=s(r))&&(O=r.$type);if(O!==p){if(A=s(t),A&&(S=t.$type),w&&!O&&(null==t||A&&!S))return r}else{if(null==t)return n(r)?void f(r,_,g):r;if((A=s(t))&&(S=t.$type)===p)if(r===t){if(null!=r.$_parent)return r}else if(C=r.$timestamp,E=t.$timestamp,!n(r)&&!n(t)&&E<C)return}if(O&&A&&!S)return d(v(r,t,e,m,g,h),e,m,void 0,N);if(S||!A){if(S===i&&l(b)&&(t=b(c(y,m),t),S=t.$type||S),S&&r===t)null==r.$_parent&&(r=a(r,S,r.value),e=$(e,-r.$size,g,x),r=d(r,e,m,x,N));else{var G=!0;(O&&!n(r)||!w)&&(G=o(t)<o(r)==!1)&&(O||S)&&l(z)&&(G=!z(F,t,N.slice(0,N.index))),G&&(t=a(t,S,S?t.value:t),j=u(r)-u(t),r=v(r,t,e,m,g,h),e=$(e,j,g,x),r=d(r,e,m,x,N))}n(r)&&f(r,_,g)}else null==r&&(r=d({},e,m,void 0,N));return r}});C.r("node_modules/falcor/lib/support/mergeValueOrInsertBranch.js",function(e,r,p){var t=e("./../types/ref"),s=e("./../types/error"),o=e("./../support/getType"),u=e("./../support/getSize"),i=e("./../support/getTimestamp"),n=e("./../support/isExpired"),a=e("./../support/isPrimitive"),c=e("./../support/isFunction"),d=e("./../support/wrapNode"),l=e("./../support/expireNode"),f=e("./../support/insertNode"),v=e("./../support/replaceNode"),m=e("./../support/updateNodeAncestors"),x=e("./../support/updateBackReferenceVersions"),N=e("./../support/reconstructPath");r.exports=function(e,r,p,g,y,h,B,P,T,V,b,j,k,w){var z=o(r,h);if(y||h)z&&n(r)&&(z="expired",l(r,V,b)),(z&&z!==t||a(r))&&(r=v(r,{},e,p,b,w),r=f(r,e,p,T,P),r=x(r,T));else{var A=g,C=o(A),E=i(A)<i(r)==!1;if((z||C)&&c(j)&&(E=!j(r,A,P.slice(0,P.index))),E){C===s&&c(k)&&(A=k(N(B,p),A),C=A.$type||C),A=d(A,C,C?A.value:A);var F=u(r)-u(A);r=v(r,A,e,p,b,w),e=m(e,F,b,T),r=f(r,e,p,T,P)}}return r}});C.r("node_modules/falcor/lib/support/noop.js",function(o,n,p){n.exports=function(){}});C.r("node_modules/falcor/lib/support/now.js",function(o,n,e){n.exports=Date.now});C.r("node_modules/falcor/lib/support/reconstructPath.js",function(t,r,e){r.exports=function(t,r){var e=t.slice(0,t.depth);return e[e.length]=r,e}});C.r("node_modules/falcor/lib/support/removeNode.js",function(e,r,n){var o=e("./../types/ref"),p=e("./../lru/splice"),t=e("./../support/isObject"),u=e("./../support/unlinkBackReferences"),s=e("./../support/unlinkForwardReference");r.exports=function(e,r,n,i){if(t(e)){var c=e.$type;return c&&(c===o&&s(e),p(i,e)),u(e),r[n]=e.$_parent=void 0,!0}return!1}});C.r("node_modules/falcor/lib/support/removeNodeAndDescendants.js",function(e,r,n){var o=e("./../support/hasOwn"),t=e("./../internal/reservedPrefix"),s=e("./../support/removeNode");r.exports=function e(r,n,a,u,d){if(s(r,n,a,u)){if(void 0!==r.$type&&d&&r.$_absolutePath&&(d.hasInvalidatedResult=!0),null==r.$type)for(var i in r)i[0]!==t&&o(r,i)&&e(r[i],r,i,u,d);return!0}return!1}});C.r("node_modules/falcor/lib/support/replaceNode.js",function(e,r,o){var s=e("./../support/isObject"),n=e("./../support/transferBackReferences"),t=e("./../support/removeNodeAndDescendants");r.exports=function(e,r,o,p,c,u){return e===r?e:(s(e)&&(n(e,r),t(e,o,p,c,u)),o[p]=r,r)}});C.r("node_modules/falcor/lib/support/transferBackReferences.js",function(e,r,n){var t=e("./../internal/ref");r.exports=function(e,r){for(var n=e.$_refsLength||0,o=r.$_refsLength||0,f=-1;++f<n;){var s=e[t+f];void 0!==s&&(s.$_context=r,r[t+(o+f)]=s,e[t+f]=void 0)}return r.$_refsLength=n+o,e.$_refsLength=void 0,r}});C.r("node_modules/falcor/lib/support/unlinkBackReferences.js",function(e,n,r){var o=e("./../internal/ref");n.exports=function(e){for(var n=-1,r=e.$_refsLength||0;++n<r;){var t=e[o+n];null!=t&&(t.$_context=t.$_refIndex=e[o+n]=void 0)}return e.$_refsLength=void 0,e}});C.r("node_modules/falcor/lib/support/unlinkForwardReference.js",function(e,r,n){var o=e("./../internal/ref");r.exports=function(e){var r=e.$_context;if(r){for(var n=(e.$_refIndex||0)-1,t=(r.$_refsLength||0)-1;++n<=t;)r[o+n]=r[o+(n+1)];r.$_refsLength=t,e.$_refIndex=e.$_context=r=void 0}return e}});C.r("node_modules/falcor/lib/support/updateBackReferenceVersions.js",function(r,e,n){var o=r("./../internal/ref");e.exports=function(r,e){var n=[r],a=0;do{var i=n[a];if(i&&i.$_version!==e){i.$_version=e,n[a++]=i.$_parent;for(var s=-1,t=i.$_refsLength||0;++s<t;)n[a++]=i[o+s]}}while(--a>-1);return r}});C.r("node_modules/falcor/lib/support/updateNodeAncestors.js",function(e,r,o){var s=e("./../support/removeNode"),n=e("./../support/updateBackReferenceVersions");r.exports=function(e,r,o,t){var p=e;do{var u=p.$_parent;(p.$size=(p.$size||0)-r)<=0&&null!=u?s(p,u,p.$_key,o):p.$_version!==t&&n(p,t),p=u}while(p);return e}});C.r("node_modules/falcor/lib/support/validateInput.js",function(r,t,o){var a=Array.isArray,e=r("./../support/isPathValue"),n=r("./../support/isJSONGraphEnvelope"),p=r("./../support/isJSONEnvelope"),s=r("falcor-path-syntax");t.exports=function(r,t,o){for(var u=0,i=r.length;u<i;++u){var l=r[u],f=!1;if(a(l)&&t.path?f=!0:"string"==typeof l&&t.pathSyntax?f=!0:e(l)&&t.pathValue?(l.path=s.fromPath(l.path),f=!0):n(l)&&t.jsonGraph?f=!0:p(l)&&t.json?f=!0:"function"==typeof l&&u+1===i&&t.selector&&(f=!0),!f)return new Error("Unrecognized argument "+typeof l+" ["+String(l)+"] to Model#"+o)}return!0}});C.r("node_modules/falcor/lib/support/wrapNode.js",function(e,r,t){var o=e("./../support/now"),p=e("../values/expires-now"),s=e("./../support/clone"),a=Array.isArray,i=e("./../support/getSize"),l=e("./../support/getExpires"),n=e("./../types/atom");r.exports=function(e,r,t){var u=0,d=e,v=r;if(v){var $=d.$_modelCreated;d=s(d),u=i(d),d.$type=v,d.$_prev=void 0,d.$_next=void 0,d.$_modelCreated=$||!1}else d={$type:n,value:t,$_prev:void 0,$_next:void 0,$_modelCreated:!0};if(null==t)u=51;else if(null==u||u<=0)switch(typeof t){case"object":u=a(t)?50+t.length:51;break;case"string":u=50+t.length;break;default:u=51}var f=l(d);return"number"==typeof f&&f<p&&(d.$expires=o()+-1*f),d.$size=u,d}});C.r("node_modules/falcor/lib/toEsObservable.js",function(e,s,t){function r(e){this.esObserver=e}function n(e){this.subscription=e}function o(e){return{subscribe:function(s){return new n(e.subscribe(new r(s)))}}}r.prototype={onNext:function(e){"function"==typeof this.esObserver.next&&this.esObserver.next(e)},onError:function(e){"function"==typeof this.esObserver.error&&this.esObserver.error(e)},onCompleted:function(){"function"==typeof this.esObserver.complete&&this.esObserver.complete()}},n.prototype.unsubscribe=function(){this.subscription.dispose()},s.exports=o});C.r("node_modules/falcor/lib/types/atom.js",function(o,t,e){t.exports="atom"});C.r("node_modules/falcor/lib/types/error.js",function(r,o,e){o.exports="error"});C.r("node_modules/falcor/lib/types/ref.js",function(e,o,r){o.exports="ref"});C.r("node_modules/falcor/lib/values/expires-never.js",function(e,o,r){o.exports=1});C.r("node_modules/falcor/lib/values/expires-now.js",function(e,o,s){o.exports=0});C.r("node_modules/nf-iso-properties/lib/browser.js",function(r,e,o){"use strict";var n=r("./src/browser"),s=r("./plugins/MemorySource");e.exports={plugins:{MemorySource:s},create:function(r,e){var o=new n;o.init(r,function(r){return e(r,o)})}}});C.r("node_modules/nf-iso-properties/lib/plugins/MemorySource.js",function(t,r,o){"use strict";function e(t){var r,o=this;o.data={};for(r in t)t.hasOwnProperty(r)&&(o.data[r]=t[r])}var a=t("../src/Prop");e.prototype.name="MemorySource",e.prototype.seed=function(t){var r,o=this;for(r in o.data)o.data.hasOwnProperty(r)&&(o.data[r]=new a(r,o.data[r],{dynamic:!1,lastUpdated:new Date}));return t?t():null},e.prototype.get=function(t){return this.data[t]},e.prototype.destroy=function(){},r.exports=e});C.r("node_modules/nf-iso-properties/lib/src/Prop.js",function(t,e,r){"use strict";function a(t,e,r){if("string"!=typeof t)throw new Error("key must be a string!");if(typeof e===o)throw new Error("value not provided to prop constructor for key: "+t);this._dynamic=!(!r||typeof r.dynamic===o)&&r.dynamic,this._lastUpdated=r&&r.lastUpdated?r.lastUpdated:new Date,this._rawValue=r&&r.hasOwnProperty("rawValue")?r.rawValue:null,this._key=t,this._value=e}var o="undefined";a.prototype.value=function(){return this._value},a.prototype.dynamic=function(){return this._dynamic},a.prototype.key=function(){return this._key},a.prototype.timestamp=function(){return this._lastUpdated},a.prototype.rawValue=function(){return this._rawValue},a.prototype.update=function(t){if(typeof t.value===o||typeof t.rawValue===o)throw new Error("value and rawValue must not be undefined!");this._value=t.value,this._rawValue=t.rawValue,this._lastUpdated=Date.now()},e.exports=a});C.r("node_modules/nf-iso-properties/lib/src/browser.js",function(e,t,r){"use strict";function i(){this._initialized=!1,this._sources=[],this._interpolationRegex=o.interpolation,this._initializedSources=0}var o=e("./regexPatterns");i.prototype.init=function(e,t){var r=this;if(!e||!e.sources||0===e.sources.length){var i=new Error("cannot be initialized without sources");if(t)return t(i);throw i}if(e.interpolationRegex){if(e.interpolationRegex instanceof RegExp==!1){var o=new Error("`interpolation` must be a regexp");if(t)return t(o);throw o}r._interpolationRegex=e.interpolationRegex}if(!1===r._initialized){if(e&&e.sources){var n,s,l=e.sources.length;for(n=0;n<l;n++)s=e.sources[n],r._sources.push(s),s.seed(),r._initializedSources+=1}if(r._initialized=!0,r._initializedSources!==e.sources.length)throw new Error("Not all plugins were initalized!");return t?t():null}throw new Error("Cannot call init() multiple times!")},i.prototype._getProperty=function(e){for(var t,r,i=this,o=i._initializedSources;o--;)if(t=i._sources[o],void 0!==(r=t.get(e))&&null!==r)return r;return null},i.prototype._resolveVariablesInString=function(e,t){if(t&&"object"!=typeof t)throw new Error("`options` must be an object!");for(var r=this,i=e,o=new RegExp(r._interpolationRegex),n=o.exec(e),s={};n;){var l=n[0],a=n[1],u=r.get(a);if(null===u)throw new Error('Error interpolating "'+e+'": Could not find value for '+l);i=i.replace(l,u),s[a]=u,n=o.exec(e)}if(t){var p={value:i};return!0===t.variableMap&&(p.variableMap=s,p.interpolationRegex=r._interpolationRegex),p}return i},i.prototype.get=function(e){var t=this._getProperty(e);return t?"string"==typeof t.value()?this._resolveVariablesInString(t.value()):t.value():null},i.prototype.getRawValue=function(e){var t=this._getProperty(e);return t?t.value():null},i.prototype.close=function(e){for(var t=this._sources.length;t--;)this._sources[t].destroy();return e()},i.prototype.___reset=function(){this._sources=[],this._cache={},this._initialized=!1,this._initializedSources=0},t.exports=i});C.r("node_modules/nf-iso-properties/lib/src/regexPatterns.js",function(e,r,s){"use strict";r.exports={interpolation:/\$<(.*?)>/g}});C.r("node_modules/react-dom/lib/ReactDOMServer.js",function(e,r,t){"use strict";var n=e("./ReactDefaultInjection"),a=e("./ReactServerRendering"),i=e("./ReactVersion");n.inject();var o={renderToString:a.renderToString,renderToStaticMarkup:a.renderToStaticMarkup,version:i};r.exports=o});C.r("node_modules/react-dom/lib/ReactServerBatchingStrategy.js",function(t,e,a){"use strict";var c={isBatchingUpdates:!1,batchedUpdates:function(t){}};e.exports=c});C.r("node_modules/react-dom/lib/ReactServerRendering.js",function(e,t,n){"use strict";function r(e,t){var n;try{return m.injection.injectBatchingStrategy(R),n=g.getPooled(t),S++,n.perform(function(){var r=p(e,!0),a=d.mountComponent(r,n,null,u(),f,0);return t||(a=s.addChecksumToMarkup(a)),a},null)}finally{S--,g.release(n),S||m.injection.injectBatchingStrategy(l)}}function a(e){return o.isValidElement(e)||c("46"),r(e,!1)}function i(e){return o.isValidElement(e)||c("47"),r(e,!0)}var c=e("./reactProdInvariant"),o=e("react/lib/React"),u=e("./ReactDOMContainerInfo"),l=e("./ReactDefaultBatchingStrategy"),s=(e("./ReactInstrumentation"),e("./ReactMarkupChecksum")),d=e("./ReactReconciler"),R=e("./ReactServerBatchingStrategy"),g=e("./ReactServerRenderingTransaction"),m=e("./ReactUpdates"),f=e("fbjs/lib/emptyObject"),p=e("./instantiateReactComponent"),S=(e("fbjs/lib/invariant"),0);t.exports={renderToString:a,renderToStaticMarkup:i}});C.r("node_modules/react-dom/server.js",function(e,r,s){"use strict";r.exports=e("./lib/ReactDOMServer")});C.r("node_modules/shakti-platform/dist/ui/app/App.js",function(t,e,i){"use strict";function o(t,e){this.initialState=t,this.options=e||{},s||a.init(),s&&this.initialState.routeHandlers&&(this.serverRoutes=this._createServerRoutes()),this.options.handleRouteChange&&(this.handleRouteChange=this.options.handleRouteChange),this.options.stringProvider&&(this.stringProvider=this.options.stringProvider)}var n=t("lodash"),r=t("./AppContext"),s=t("../utils/inNode"),a=t("../consolidatedLogging");o.prototype={createContext:function(t,e){var i=Object.assign({},e,{stringProvider:this.stringProvider}),o=Object.assign({},this.initialState,t);return this.options.handleCreateContext&&(o=this.options.handleCreateContext(o)),new r(this,o,i)},_createServerRoutes:function(){var t=this.options.serverRouteLocationResolver;return n.map(this.initialState.routeHandlers,function(e){return{path:e.route.path,verb:e.verb||"get",handlerLocation:t?t(e.serverRouteId):e.serverRouteId}})}},e.exports=o});C.r("node_modules/shakti-platform/dist/ui/app/AppContext.js",function(t,e,n){"use strict";function r(t,e,n){this.app=t,this.state=e||{},this.options=n||{},this.ab=d.evaluate(this.getModelData("ab")||{}),this.log=this.options.log||{warn:console.warn};var r=o.get(this.state,["model","node","req"]);this.cookieDough=new c(r)}var o=t("lodash"),i=t("react"),a=t("../routing/History"),s=t("../routing/match"),u=t("../routing/resolveElement"),l=t("./AppContextProvider"),g=t("./RenderTracker"),h=t("../consolidatedLogging"),d=t("nf-ardbeg"),c=t("cookie-dough");r.prototype={resolveState:function(t){var e=s(this.state.routeHandlers,t);if(e!==this.state.routeHandler){var n=Object.assign({},this.state,{routeHandler:e,history:a,renderTracker:new g(t)});this.app.handleRouteChange&&(n=this.app.handleRouteChange(n,e)),this.options.handleRouteChange&&(n=this.options.handleRouteChange(n,e)),this.state=n}return this.state},resolveElement:function(t){var e=this,n=this.state.routeHandler;if(!n)return void t(null,null);if(n.resolveComponents)n.resolveComponents(n,this,function(n,r){if(n)return void t(n);var o=u(r,e.state);if(!i.isValidElement(o))return void t(new Error("Route handler does not have a valid React component"));t(null,o)});else{var r=n.components,o=u(r,this.state);if(!i.isValidElement(o))return void t(new Error("Route handler does not have a valid React component"));t(null,o)}},getFalcorModel:function(){return o.get(this.state,["model","pathEvaluator"])},getState:function(){return this.state},getRouteHandler:function(){return this.state.routeHandler},getHistory:function(){return a},getModels:function(){return o.get(this.state,["model","models"])},getModelData:function(t,e,n){var r=o.get(this.state,["model","models",t,"data"]);return e?o.get(r,e,n):r},getICUString:function(t,e,n,r){var i=this.getModelData("i18nStrings")||{},a=o.get(this.getModelData("geo"),"locale.id","en-US"),s=o.get(this,"options.stringProvider.createString",null);if(null===s)throw new Error("AppContext: Tried to get an ICU string without a String Provider!");var u=s(i,a,t,e,n,r);return u},getI18nString:function(t,e,n,r){var i=this.getModelData("i18nStrings"),a=o.get(this,"options.stringProvider.getString",null);if(null===a)throw new Error("AppContext: Tried to get a string without a String Provider!");return a(i,t,e,n,r)},provideAppContextToElement:function(t){return i.createElement(l,{appContext:this},t)},getRenderTracker:function(){return this.state.renderTracker},getLogger:function(){return h.getInstance()},getDiscoveryApp:function(){return this.state.discoveryApp},getAB:function(){return this.ab},getCookieDough:function(){return this.cookieDough},getClPageName:function(){return o.get(this.state,["model","clPageName"])},isTruthTrue:function(t){var e=this.getModelData("truths");return!!o.get(e,t)}},e.exports=r});C.r("node_modules/shakti-platform/dist/ui/app/AppContextProvider.js",function(e,t,o){"use strict";var r=e("create-react-class"),n=e("prop-types"),i=r({displayName:"AppContextProvider",propTypes:{appContext:n.object.isRequired,children:n.object},childContextTypes:{ab:n.object,cookies:n.object,discoveryApp:n.object,falcorModel:n.object,getI18nString:n.func,getICUString:n.func,getModelData:n.func,history:n.object,isTruthTrue:n.func,logger:n.object,models:n.object,provideAppContextToElement:n.func,renderTracker:n.object,routeHandler:n.object},getChildContext:function(){var e=this.props.appContext;return{ab:e.getAB(),cookies:e.getCookieDough(),discoveryApp:e.getDiscoveryApp(),falcorModel:e.getFalcorModel(),getI18nString:e.getI18nString.bind(e),getICUString:e.getICUString.bind(e),getModelData:e.getModelData.bind(e),history:e.getHistory(),isTruthTrue:e.isTruthTrue.bind(e),logger:e.getLogger(),models:e.getModels(),provideAppContextToElement:e.provideAppContextToElement.bind(e),renderTracker:e.getRenderTracker(),routeHandler:e.getRouteHandler()}},render:function(){return this.props.children}});t.exports=i});C.r("node_modules/shakti-platform/dist/ui/app/RenderTracker.js",function(e,r,n){"use strict";function s(e){this.id=0,this.name=e,this.deferred=i(),this.renders=[],this.names=[],t&&window.performance.mark("renderSession-"+e+"-start")}var i=e("../utils/defer"),t="undefined"!=typeof window&&window.performance&&window.performance.mark;s.prototype={startSession:function(e){return this.id++,this.renders.push(this.id),this.names.push(e),t&&window.performance.mark(this.id+"-"+e+"-start"),this.id},endSession:function(e,r){if(r)return void this.deferred.reject(r);var n=this.renders.indexOf(e);if(-1!==n){var s=this.names.splice(n,1),i=s[0];t&&(window.performance.mark(e+"-"+i+"-end"),window.performance.measure(e+"-"+i,e+"-"+i+"-start",e+"-"+i+"-end")),this.renders.splice(n,1),0===this.renders.length&&(this.deferred.resolve(),t&&(window.performance.mark("renderSession-"+this.name+"-end"),window.performance.measure("renderSession-"+this.name,"renderSession-"+this.name+"-start","renderSession-"+this.name+"-end")))}},cancel:function(e){this.deferred.reject(e),t&&(window.performance.mark("renderSession-"+this.name+"-end"),window.performance.measure("renderSession-"+this.name,"renderSession-"+this.name+"-start","renderSession-"+this.name+"-end"))},getPromise:function(){return this.renders.length?this.deferred.promise:null}},r.exports=s});C.r("node_modules/shakti-platform/dist/ui/app/ServerContext.js",function(t,e,n){"use strict";function o(t,e,n,o){this.app=t,this.req=e,this.options=o||{},this.appContext=this.app.createContext(n,this.options)}var r=t("react"),i=t("./AppContextProvider");o.prototype={getIsomorphicContext:function(){return this.appContext},resolveState:function(t){return this.appContext.resolveState(t)},resolveElement:function(t){this.appContext.resolveElement(t)},getState:function(){return this.appContext.getState()},getRouteHandler:function(){return this.appContext.getRouteHandler()},getHistory:function(){return this.appContext.getHistory()},getModels:function(){return this.appContext.getModels()},getFalcorModel:function(){return this.appContext.getState().model.pathEvaluator},getModelData:function(t){return this.appContext.getModelData(t)},getICUString:function(){return this.appContext.getICUString.apply(this.appContext,arguments)},getI18nString:function(){return this.appContext.getI18nString.apply(this.appContext,arguments)},provideAppContextToElement:function(t){return r.createElement(i,{appContext:this},t)},getRenderTracker:function(){return{register:function(){throw new Error("Render tracking not available on the server")},cancel:function(){throw new Error("Render tracking not available on the server")}}},getLogger:function(){return this.appContext.getLogger()},getDiscoveryApp:function(){return this.appContext.getDiscoveryApp()},getAB:function(){return this.appContext.getAB()},getCookieDough:function(){return this.appContext.getCookieDough()},getClPageName:function(){return this.appContext.getClPageName()},isTruthTrue:function(t){return this.appContext.isTruthTrue(t)}},e.exports=o,e.exports.createServerContext=function(t,e,n,r){return new o(t,e,n,r)}});C.r("node_modules/shakti-platform/dist/ui/components/ServiceWorkerInstaller.js",function(e,r,n){"use strict";function t(e,r){var n=r.ab&&r.ab.attr(9863,"useServiceWorker")||!1;return i.createElement(s,{src:n?a:c})}var i=e("react"),o=e("prop-types"),s=e("./inlineScript"),a="\nvar freeformUrl = '/ichnaea/cl2/freeform/DebugEvent?source=www&type=ServiceWorkerFailure';\nif ('serviceWorker' in navigator && navigator.serviceWorker.getRegistrations) {\n    navigator.serviceWorker.register('/service-worker.js').catch(function (e) {\n        fetch(freeformUrl + '&message=' + encodeURIComponent(e.message)).catch(function (e) {});\n    });\n}\n",c="\nif ('serviceWorker' in navigator && navigator.serviceWorker.getRegistrations) {\n    navigator.serviceWorker.getRegistrations().then(function(registrations) {\n        if (registrations) {\n            registrations.forEach(function (registration) {\n                registration.unregister().catch(function () {});\n            });\n        }\n    }).catch(function () {});\n}\n";t.contextTypes={ab:o.object.isRequired},r.exports=t});C.r("node_modules/shakti-platform/dist/ui/components/inlineScript.js",function(r,t,e){"use strict";var n=r("prop-types"),s=r("react"),c=function(r){return r.src?s.createElement("script",{dangerouslySetInnerHTML:{__html:r.src}}):null};c.propTypes={src:n.string},t.exports=c});C.r("node_modules/shakti-platform/dist/ui/consolidatedLogging/constants/sessionEndTypes.js",function(e,d,n){"use strict";var i={SessionCanceled:"SessionCanceled",UserInteractionEnded:"UserInteractionEnded",ActionFailed:"ActionFailed",AddProfileEnded:"AddProfileEnded",ShareEnded:"ShareEnded",ConnectWithLineAccountEnded:"ConnectWithLineAccountEnded",RegisterForPushNotificationsEnded:"RegisterForPushNotificationsEnded",AddCachedVideoEnded:"AddCachedVideoEnded",ValidateInputRejected:"ValidateInputRejected",DebugSessionEnded:"DebugSessionEnded"};d.exports=i});C.r("node_modules/shakti-platform/dist/ui/renderers/ReactClientRenderer.js",function(e,t,i){"use strict";function n(e,t){var i=t.getLogger();this.mountNode=e,this.appContext=t,this.cl=i,this.isPerfAPIAvailable="undefined"!=typeof window&&window.performance&&window.performance.mark,this.mounted=!1,this.handleHistoryChange=this.handleHistoryChange.bind(this),this.isListeningToHistory=!1,this.currentView=null,this.currentUrl=window.location.pathname+window.location.search,this.navigationSession=null,this.renderNavigationSession=null,this.webpageContext=null,i.addContext("UiLocale",{uiLocale:r.get(t.getModelData("geo"),"locale.id")}),i.addContext("TimeZone",{utcOffset:60*(new Date).getTimezoneOffset()*1e3*-1}),i.addContext("Webpage",{url:this.currentUrl,referrerUrl:document.referrer}),i.addContext("UserAgent",{userAgent:window.navigator&&window.navigator.userAgent});var n=t.getModelData("userInfo");n&&n.esn&&i.addContext("Esn",{esn:n.esn}),i.addContext("TestAllocations",{cells:r.values(r.get(this.appContext.getModelData("ab"),"_evaluatedTests",{})).reduce(function(e,t){return e[t.id]=t.cell,e},{})});var o=t.getModelData("serverDefs","BUILD_IDENTIFIER");o&&i.addContext("AppVersion",{appVersion:"shakti-"+o});var s=r.get(window.netflix,["reactContext","vdid"]);s&&i.startSession("VisitorDeviceId",{nfvdid:s});var a=this.appContext.getModelData("userInfo"),d=r.get(a,"userGuid")||r.get(a,"guid");d&&i.startSession("ProfileGuid",{profileGuid:d}),this.navigationStart=r.get(window,"performance.timing.navigationStart"),this.processReadyTime=r.get(window,"performance.timing.responseStart"),this.navigationStart&&(this.processStateSession=i.startSession("ProcessStateTransition",{time:this.navigationStart})),t.isTruthTrue("logBrowserPerformance")&&h(i)}var o=e("react-dom"),s=e("../routing/History"),a=e("../consolidatedLogging/constants/sessionEndTypes"),r=e("lodash"),d=e("../consolidatedLogging/constants/actionTypes"),h=e("./logPerformance");n.ReactDOM=o,n.prototype={render:function(e){var t=this,i=this,o=this.currentUrl;this.currentUrl=window.location.pathname+window.location.search;var d=s.state;if(this.appContext.resolveState(this.currentUrl),d===s.state){this.isListeningToHistory||(s.addChangeListener(this.handleHistoryChange),this.isListeningToHistory=!0);var h=this.appContext.getRouteHandler(),l=h&&(h.view||h.uiView||this.appContext.getClPageName()),c=this.cl;this.currentUrl!==o?(c.removeContext(this.webpageContext),this.currentView&&c.endSession(this.navigationSession),this.webpageContext=c.addContext("Webpage",{url:this.currentUrl,referrerUrl:o}),this.navigationSession=c.startSession("NavigationLevel",{time:this.mounted?void 0:this.navigationStart,view:l}),this.currentView=l):this.navigationSession||(this.navigationSession=c.startSession("NavigationLevel",{time:this.mounted?void 0:this.navigationStart,view:l}),this.currentView=l),this.renderNavigationSession&&(c.endSession(this.renderNavigationSession,{type:a.SessionCanceled}),this.renderNavigationSession=null),this.renderNavigationSession=c.startSession("RenderNavigationLevel",{time:this.mounted?void 0:this.navigationStart}),this.mounted||window.performance&&window.performance.timing&&this.processStateSession&&c.endSession(this.processStateSession,{time:this.processReadyTime}),this.appContext.resolveElement(function(o,s){if(o)return void e(o);i.isPerfAPIAvailable&&window.performance.mark("reactStart"),n.ReactDOM.render(t.appContext.provideAppContextToElement(s),t.mountNode,function(){var t=this;i.mounted=!0,i.isPerfAPIAvailable&&(window.performance.mark("reactReady"),window.performance.measure("reactRender","reactStart","reactReady"));var n=i.appContext.getRenderTracker(),o=n.getPromise(),s=i.renderNavigationSession,a=function(e){if(i.renderNavigationSession===s){var t=window.Date.now()-r.get(window,"performance.timing.navigationStart");i.cl.endSession(s,e||{}),i.renderNavigationSession=null,r.set(window,"netflix.performance.TTR",t)}};o?o.then(function(){a()},function(){a({type:"ActionFailed"})}):a(),e&&e(null,t)})})}},handleHistoryChange:function(){var e=this.cl,t=e.startSession(d.Navigate);this.render(function(e){e&&console.error(e)}),e.endSession(t)},unMount:function(){this.mountNode&&(s.removeChangeListener(this.handleHistoryChange),this.isListeningToHistory=!1,this.mounted=!1,n.ReactDOM.unmountComponentAtNode(this.mountNode))}},t.exports=n});C.r("node_modules/shakti-platform/dist/ui/renderers/ReactServerRenderer.js",function(e,t,r){"use strict";function o(e){this.options=e}var n=e("lodash"),p=e("react"),l=e("react-dom/server"),i=e("../app/ServerContext").createServerContext,a=e("../components/ServiceWorkerInstaller");o.prototype.render=function(e,t,r,o){var p=this,a=r.autoAsset,s=n.assign(r,{node:{req:e,res:t},styleUrls:n.pluck(a.data.css,"packageUrl"),jsUrls:n.pluck(a.data.js,"packageUrl"),bootstrapJsUrl:n.pluck(a.data.bootstrapJs,"packageUrl")[0]}),d=e.log,u=i(this.options.app,e,{model:s,renderSource:"server"},{log:d});if(p.options.partial)return void p._renderPartial(e,t,s,u,o);u.resolveState(e.url),u.resolveElement(function(r,n){if(r)return void(o&&o(r,null));var i=void 0;try{if(p.options.serverOnly)i=l.renderToStaticMarkup(u.provideAppContextToElement(n));else{var a=u.getIsomorphicContext();i=l.renderToString(a.provideAppContextToElement(n))}}catch(e){return void(o&&o(e,null))}p._renderLayout.call(p,e,t,u,s,i,o)})},o.prototype._renderLayout=function(e,t,r,o,n,i){var s=this.options.shellComponent,d=this.options.headTag,u=this.options.pageJSTag,c=[],v={appMountPointSize:n?n.length:0,pageJsScriptSize:void 0,fullHtmlSize:void 0};if(c.push("<!doctype html>"),s)c.push(l.renderToStaticMarkup(r.provideAppContextToElement(p.createElement(s,{model:o,markup:n}))));else{if(c.push("<html>"),d&&c.push(l.renderToStaticMarkup(r.provideAppContextToElement(p.createElement(d,{model:o,title:o.title,styleUrls:o.styleUrls})))),c.push("<body>"),c.push('<div id="appMountPoint">'),c.push(n),c.push("</div>"),u){var m=l.renderToStaticMarkup(r.provideAppContextToElement(p.createElement(u,{model:o})));c.push(m),v.pageJsScriptSize=m.length}c.push(l.renderToStaticMarkup(r.provideAppContextToElement(p.createElement(a,{model:o})))),c.push("</body>"),c.push("</html>")}var h=c.join("");return v.fullHtmlSize=h.length,i(null,h,v)},o.prototype._renderPartial=function(e,t,r,o,n){var i=r.templateComponent,a=p.createFactory(i),s=a({model:r}),d=void 0;d=this.options.serverOnly?l.renderToStaticMarkup(o.provideAppContextToElement(s)):l.renderToString(o.provideAppContextToElement(s)),n(null,d)},t.exports={create:function(e){return new o(e)}}});C.r("node_modules/shakti-platform/dist/ui/renderers/index.js",function(e,r,t){"use strict";var n=e("./ReactClientRenderer"),d=e("./ReactServerRenderer");r.exports={ReactClientRenderer:n,ReactServerRenderer:d}});C.r("node_modules/shakti-platform/dist/ui/renderers/logPerformance.js",function(e,n,r){"use strict";function t(e){var n=e.entryType;if("navigation"===n)return"document";if("resource"===n||"resource"===n){if("link"===e.initiatorType||"script"===e.initiatorType){if(-1!==e.name.indexOf("css/css"))return"css";if(-1!==e.name.indexOf("playercore"))return"jsCadmium";if(-1!==e.name.indexOf("js/bootstrap.js"))return"jsBootstrap";if(-1!==e.name.indexOf("js/mdx2%7Cmdx2"))return"jsMdx";if(-1!==e.name.indexOf("js/js"))return"jsMain"}}else if("paint"===n){if("first-paint"===e.name)return"firstPaint";if("first-contentful-paint"===e.name)return"firstContentfulPaint"}else if("measure"===n&&"reactRender"===e.name)return"reactRender";return null}function i(e){return Object.keys(e).filter(function(e){return-1!==!u.indexOf(e)}).reduce(function(n,r){var t=e[r];return n[r]="number"==typeof t?Math.round(1e3*t)/1e4:t,n},{})}function a(e,n){var r=t(n);return r&&!e[r]&&(e[r]=i(n.toJSON?n.toJSON():n)),e}e("../utils/requestIdleCallback");var o=e("../consolidatedLogging/constants/eventTypes"),s=o.DebugEvent,u=["name","serverTiming","domainLookupStart","domainLookupEnd","secureConnectionStart","workerStart"];n.exports=function(e){requestIdleCallback(function(){var n=window.performance&&window.performance.getEntries&&window.performance.getEntries()||[],r=Date.now(),t=n.reduce(a,{});n.length&&e.logEvent(s,{name:"performance",data:t,duration:Date.now()-r})})}});C.r("node_modules/shakti-platform/dist/ui/utils/defer.js",function(e,i,o){"use strict";"undefined"==typeof window||window.Promise||(window.Promise=e("promise-polyfill")),i.exports=function(){var e=void 0,i=void 0,o=new Promise(function(o,r){e=o,i=r});return{resolve:e,reject:i,promise:o}}});C.r("node_modules/shakti-platform/dist/ui/utils/requestIdleCallback.js",function(e,l,t){"use strict";"undefined"!=typeof window&&(window.requestIdleCallback||(window.requestIdleCallback=function(e,l){return l=l||{},setTimeout(function(){requestAnimationFrame(e)},l.timeout||1)}),window.cancelIdleCallback||(window.cancelIdleCallback=clearTimeout))});C.r("player/nfplayer/components/hoc/sizingWrapper.jsx",function(e,i,t){"use strict";function n(e){function i(e,i){var t=this;s.Component.call(this,e,i),this._sizingNode=void 0,this._wrapperNode=void 0,this.getWrapperNode=function(){return t._wrapperNode},this.wrapperRefCallback=function(e){t._wrapperNode=e},this.sizingRefCallback=function(e){t._sizingNode=e}}return i.prototype=p.assign(Object.create(s.Component.prototype),{displayName:"SizingWrapper",render:function(){var i=this.props.sizing,t=i||1;return s.createElement("div",{className:"sizing-wrapper",ref:this.wrapperRefCallback,style:{position:"absolute",top:0,bottom:0,right:0,left:0,zIndex:1,overflow:"hidden",fontSize:t.toString()+"em"}},s.createElement("div",{style:{width:"1em",height:"1em",visibility:"hidden",fontSize:"1em"},ref:this.sizingRefCallback}),s.createElement(e,(0,o.default)({},this.props,{getWrapperNode:this.getWrapperNode})))}}),c(i,e),i}var r=e("babel-runtime/helpers/extends"),o=function(e){return e&&e.__esModule?e:{default:e}}(r),s=e("react"),a=(e("prop-types"),e("../../../../akira/components/hoc/withUpdateDimensions.jsx")),p=e("lodash"),c=e("hoist-non-react-statics"),d=function(e){return function(i,t,n,r){var o=n&&n._sizingNode;if(!o)return{sizing:1};var s=o.getBoundingClientRect(),a=i.dimensions,p=s.height,c=a.height,d=c/100,l=i.sizing||1,h=void 0;return 0===d?{sizing:l}:(p>d?(h=p/d,l/=h):d>p&&(h=d/p,l*=h),{sizing:"number"==typeof e.minSize&&l<e.minSize?e.minSize:l})}};i.exports=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a(n(e),d(i))}});C.r("player/nfplayer/components/keyboardNavigation.jsx",function(t,a,e){"use strict";var i=t("react"),n=t("create-react-class"),s=t("classnames"),r=t("../../../common/keyCodes"),o=t("hoist-non-react-statics"),c=function(t){var a=n({displayName:"Wrapper",getInitialState:function(){return{isNavigatingWithTab:!1}},onKeyUp:function(t){var a=t.keyCode,e=this.state.isNavigatingWithTab;a!==r.TAB||e?a===r.ESC&&e&&this.setState({isNavigatingWithTab:!1}):this.setState({isNavigatingWithTab:!0})},onMouseUp:function(){this.setState({isNavigatingWithTab:!1})},render:function(){var a=s({"nf-kb-nav-wrapper":!0,"kb-nav":this.state.isNavigatingWithTab});return i.createElement("div",{className:a,onKeyUp:this.onKeyUp,onMouseUp:this.onMouseUp},i.createElement(t,this.props))}});return o(a,t),a};a.exports=c});C.r("player/nfplayer/domain/billboard/billboardConstants.js",function(l,o,a){"use strict";var r={BILLBOARD_DATA:["lolomo","billboards","billboards",0,"webp","data"],BILLBOARD_TRACKIDS:["lolomo","billboards","trackIds"]};o.exports={falcorPaths:r}});C.r("player/nfplayer/domain/billboard/billboardUtils.js",function(e,t,a){"use strict";var r=e("../../../entities/authParams"),n=r.authParamsData,i=e("./billboardConstants"),o=e("ramda/src/compose"),s=e("nf-algebraic-data-types/Option"),l=e("ramda/src/path"),u=e("../../../entities/prepareItem"),m=e("ramda/src/prop"),p=e("../../../entities/sessionParams"),d=p.sessionParamsData,c=e("../../uiLabel"),f=i.falcorPaths,b=function(e){return[u.toPrepareItemData(e)]},B=function(e){return function(t){return t.getValueSync(e)}},I=B(f.BILLBOARD_DATA),g=B(f.BILLBOARD_TRACKIDS),A=l(["videoAssets","horizontalBackground"]),P=function(e){return s.fromNullable(e).map(A).getOrElse({})},D=o(l(["motionId"]),P),O=function(e){return s.fromNullable(I(e)).map(D).getOrElse(-1)},L=function(e){return s.fromNullable(g(e)).map(m("trackId")).getOrElse(-1)},k=function(e){return s.fromNullable(I(e)).map(m("id")).getOrElse(-1)},v=o(function(e){return!!e.isTrailer},P),y=o(Boolean,P),R=function(e){return o(l(["manifest"]),B(["videos",e,"playbackData","motionBillboard"]))},T=function(e,t){return s.fromNullable(R(e)(t)).getOrElse()},h=function(e,t){var a=t.manifest,r=t.motionId,i=t.preferUnletterboxedContent,o=void 0!==i&&i,l=t.trackId,m=void 0===l?-1:l;return a&&(a.clientGenesis=e.getAPI().playerApp.getManifestGenesisTimestamp()),-1===r?[]:s.of(u.prepareItemRecord({movieId:r,params:{authParams:n({pinCapableClient:!1}),sessionParams:d({isUIAutoPlay:!0,preferUnletterboxed:o,supportsPreReleasePin:!0,supportsWatermark:!0}),manifest:a,trackingId:m},uiLabel:c.BILLBOARD_STANDARD})).map(b).get()};t.exports={getBBManifest:T,getBBId:k,getBBMotionId:O,getBBTrackId:L,getBillboardPrepareData:h,isMotionBillboard:y,isTrailerAsset:v}});C.r("utils/JawboneLinkProvider.js",function(e,t,o){"use strict";var n=e("create-react-class"),r=e("prop-types"),s=e("lodash"),a=e("../common/position"),i=e("../utils/browserScroll"),l=n({displayName:"JawboneLinkProvider",propTypes:{children:r.object},contextTypes:{history:r.object.isRequired,models:r.object,routeHandler:r.object.isRequired},childContextTypes:{openJawbone:r.func,closeJawbone:r.func},getChildContext:function(){return{openJawbone:this.openJawbone,closeJawbone:this.closeJawbone}},openJawbone:function(e,t,o,n,r,a){var l=!1,c=this.context.routeHandler.query,h=s.get(this.context.models,"umaModel.data",null),u=h&&h.alertBox?"bd":"mainView";this.context.isOverlayPage&&(u="nf-overlay-child",r=!0);var d=document.getElementsByClassName(u)[0],m=this.getScrollToDelta(e,d);(c.jbv||this.shouldReplaceHistory())&&(l=!0),n&&"keydown"===n&&(c.focus=!0),c.jbt=a,c.jbv=o,c.jbp=t,null!==e&&(c.jbr=e),m&&!r&&(s.get(this.context.models,"browserInfo.data.isIE")?i.scrollDelta(m):i.scrollDeltaWithAnimation(d,m,540,50));var p=this.context.routeHandler.route,b=this.context.routeHandler.params;b.term&&(b=s.assign({},b,{term:encodeURIComponent(b.term)})),l?this.context.history.replaceState(p.makePath(b,c)):this.context.history.pushState(p.makePath(b,c))},closeJawbone:function(e,t){var o=t||this.context.routeHandler.query;delete o.jbv,delete o.jbr,delete o.jbp,delete o.focus;var n=this.context.routeHandler.route,r=this.context.routeHandler.params;r.term&&(r=s.assign({},r,{term:encodeURIComponent(r.term)})),this.shouldReplaceHistory()?this.context.history.replaceState(n.makePath(r,o)):this.context.history.pushState(n.makePath(r,o)),e&&"function"==typeof e&&setTimeout(e,500)},shouldReplaceHistory:function(){return-1!==this.context.routeHandler.path.indexOf("search")},getScrollToDelta:function(e,t){var o=document.getElementById("row-"+e),n=a.getWindowRect().height,r=a.getRect(t).height,s=document.getElementsByClassName("jawBoneContent open")[0],i=s&&s.getElementsByClassName("jawBoneContainer")[0]?a.getRect(s.getElementsByClassName("jawBoneContainer")[0]).height:0,l=this.context.routeHandler.query,c=void 0;return o&&parseInt(l.jbr,10)!==e&&(c=a.getRect(o).top,c-=110,c-=l.jbr&&l.jbr<e?i:0,l.jbr||(r+=i||500),r-a.getScrollTop()-c<n&&(c=Math.floor(c/2))),c},render:function(){return this.props.children}});t.exports=l});C.r("utils/h2ping.js",function(e,n,r){"use strict";function i(e){if(window.performance&&window.performance.getEntriesByType){return window.performance.getEntriesByType("resource").filter(function(n){return-1!==n.name.indexOf(e)})[0]||null}return null}function t(e,n){var r=i(a+"/hping"),t=i(p+"/hping");u.logDebugEvent({type:"hping",err1:e&&e.message,err2:n&&n.message,h1Timing:r,h2Timing:t})}var s=e("./XHR"),u=e("./consolidatedLogging/index"),o=e("shakti-platform/dist/ui/ShaktiProperties"),f=o.get("shakti.hping.pct"),a=o.get("shakti.h1.host"),p=o.get("shakti.h2.host");n.exports=function(){if(f&&void 0!==a&&void 0!==p){if(!(Math.floor(100*Math.random())+1>f)){var e=!1,n=!1,r=null,i=null;s.request({responseType:"arraybuffer",url:a+"/hping",withCredentials:!1}).subscribe(function(){s.request({responseType:"arraybuffer",url:a+"/hping",withCredentials:!1}).subscribe(function(){e=!0,n&&t()},function(s){r=s,e=!0,n&&t(r,i)})},function(){s.request({responseType:"arraybuffer",url:a+"/hping",withCredentials:!1}).subscribe(function(){e=!0,n&&t()},function(s){r=s,e=!0,n&&t(r,i)})}),s.request({responseType:"arraybuffer",url:p+"/hping",withCredentials:!1}).subscribe(function(){s.request({responseType:"arraybuffer",url:p+"/hping",withCredentials:!1}).subscribe(function(){n=!0,e&&t()},function(s){i=s,n=!0,e&&t(r,i)})},function(){s.request({responseType:"arraybuffer",url:p+"/hping",withCredentials:!1}).subscribe(function(){n=!0,e&&t()},function(s){i=s,n=!0,e&&t(r,i)})})}}}});C.r("utils/intl-messageformat/data/_index.js",function(t,e,r){"use strict";var n={};(function(){(function(){function t(t){var e,r,n,o,i=Array.prototype.slice.call(arguments,1);for(e=0,r=i.length;r>e;e+=1)if(n=i[e])for(o in n)u.call(n,o)&&(t[o]=n[o]);return t}function e(t,e,r){this.locales=t,this.formats=e,this.pluralFn=r}function r(t){this.id=t}function n(t,e,r,n,o){this.id=t,this.useOrdinal=e,this.offset=r,this.options=n,this.pluralFn=o}function o(t,e,r,n){this.id=t,this.offset=e,this.numberFormat=r,this.string=n}function i(t,e){this.id=t,this.options=e}function a(t,e,r){var n="string"==typeof t?a.__parse(t):t;if(!n||"messageFormatPattern"!==n.type)throw new TypeError("A message must be provided as a String or AST.");r=this._mergeFormats(a.formats,r),s(this,"_locale",{value:this._resolveLocale(e)});var o=this._findPluralRuleFunction(this._locale),i=this._compilePattern(n,e,r,o),u=this;this.format=function(t){return u._format(i,t)}}var u=Object.prototype.hasOwnProperty,l=function(){try{return!!Object.defineProperty({},"a",{})}catch(t){return!1}}(),s=(!l&&Object.prototype.__defineGetter__,l?Object.defineProperty:function(t,e,r){"get"in r&&t.__defineGetter__?t.__defineGetter__(e,r.get):(!u.call(t,e)||"value"in r)&&(t[e]=r.value)}),c=Object.create||function(t,e){function r(){}var n,o;r.prototype=t,n=new r;for(o in e)u.call(e,o)&&s(n,o,e[o]);return n},p=e;e.prototype.compile=function(t){return this.pluralStack=[],this.currentPlural=null,this.pluralNumberFormat=null,this.compileMessage(t)},e.prototype.compileMessage=function(t){if(!t||"messageFormatPattern"!==t.type)throw new Error('Message AST is not of type: "messageFormatPattern"');var e,r,n,o=t.elements,i=[];for(e=0,r=o.length;r>e;e+=1)switch(n=o[e],n.type){case"messageTextElement":i.push(this.compileMessageText(n));break;case"argumentElement":i.push(this.compileArgument(n));break;default:throw new Error("Message element does not have a valid type")}return i},e.prototype.compileMessageText=function(t){return this.currentPlural&&/(^|[^\\])#/g.test(t.value)?(this.pluralNumberFormat||(this.pluralNumberFormat=new Intl.NumberFormat(this.locales)),new o(this.currentPlural.id,this.currentPlural.format.offset,this.pluralNumberFormat,t.value)):t.value.replace(/\\#/g,"#")},e.prototype.compileArgument=function(t){var e=t.format;if(!e)return new r(t.id);var o,a=this.formats,u=this.locales,l=this.pluralFn;switch(e.type){case"numberFormat":return o=a.number[e.style],{id:t.id,format:new Intl.NumberFormat(u,o).format};case"dateFormat":return o=a.date[e.style],{id:t.id,format:new Intl.DateTimeFormat(u,o).format};case"timeFormat":return o=a.time[e.style],{id:t.id,format:new Intl.DateTimeFormat(u,o).format};case"pluralFormat":return o=this.compileOptions(t),new n(t.id,e.ordinal,e.offset,o,l);case"selectFormat":return o=this.compileOptions(t),new i(t.id,o);default:throw new Error("Message element does not have a valid format type")}},e.prototype.compileOptions=function(t){var e=t.format,r=e.options,n={};this.pluralStack.push(this.currentPlural),this.currentPlural="pluralFormat"===e.type?t:null;var o,i,a;for(o=0,i=r.length;i>o;o+=1)a=r[o],n[a.selector]=this.compileMessage(a.value);return this.currentPlural=this.pluralStack.pop(),n},r.prototype.format=function(t){return t?"string"==typeof t?t:String(t):""},n.prototype.getOption=function(t){var e=this.options;return e["="+t]||e[this.pluralFn(t-this.offset,this.useOrdinal)]||e.other},o.prototype.format=function(t){var e=this.numberFormat.format(t-this.offset);return this.string.replace(/(^|[^\\])#/g,"$1"+e).replace(/\\#/g,"#")},i.prototype.getOption=function(t){var e=this.options;return e[t]||e.other};var f=function(){function t(t,e,r,n,o,i){this.message=t,this.expected=e,this.found=r,this.offset=n,this.line=o,this.column=i,this.name="SyntaxError"}function e(e){function r(t){return Jt!==t&&(Jt>t&&(Jt=0,Kt={line:1,column:1,seenCR:!1}),function(t,r,n){var o,i;for(o=r;n>o;o++)i=e.charAt(o),"\n"===i?(t.seenCR||t.line++,t.column=1,t.seenCR=!1):"\r"===i||"\u2028"===i||"\u2029"===i?(t.line++,t.column=1,t.seenCR=!0):(t.column++,t.seenCR=!1)}(Kt,Jt,t),Jt=t),Kt}function n(t){Qt>zt||(zt>Qt&&(Qt=zt,Vt=[]),Vt.push(t))}function o(){return i()}function i(){var t,e,r;for(t=zt,e=[],r=a();r!==L;)e.push(r),r=a();return e!==L&&(Ht=t,e=S(e)),t=e}function a(){var t;return t=l(),t===L&&(t=c()),t}function u(){var t,r,n,o,i,a;if(t=zt,r=[],n=zt,o=b(),o!==L?(i=P(),i!==L?(a=b(),a!==L?(o=[o,i,a],n=o):(zt=n,n=I)):(zt=n,n=I)):(zt=n,n=I),n!==L)for(;n!==L;)r.push(n),n=zt,o=b(),o!==L?(i=P(),i!==L?(a=b(),a!==L?(o=[o,i,a],n=o):(zt=n,n=I)):(zt=n,n=I)):(zt=n,n=I);else r=I;return r!==L&&(Ht=t,r=j(r)),t=r,t===L&&(t=zt,r=_(),r!==L&&(r=e.substring(t,zt)),t=r),t}function l(){var t,e;return t=zt,e=u(),e!==L&&(Ht=t,e=N(e)),t=e}function s(){var t,r,o;if((t=C())===L){if(t=zt,r=[],T.test(e.charAt(zt))?(o=e.charAt(zt),zt++):(o=L,0===Xt&&n(D)),o!==L)for(;o!==L;)r.push(o),T.test(e.charAt(zt))?(o=e.charAt(zt),zt++):(o=L,0===Xt&&n(D));else r=I;r!==L&&(r=e.substring(t,zt)),t=r}return t}function c(){var t,r,o,i,a,u,l,c,f;return t=zt,123===e.charCodeAt(zt)?(r=k,zt++):(r=L,0===Xt&&n(G)),r!==L?(o=b(),o!==L?(i=s(),i!==L?(a=b(),a!==L?(u=zt,44===e.charCodeAt(zt)?(l=B,zt++):(l=L,0===Xt&&n(U)),l!==L?(c=b(),c!==L?(f=p(),f!==L?(l=[l,c,f],u=l):(zt=u,u=I)):(zt=u,u=I)):(zt=u,u=I),u===L&&(u=Z),u!==L?(l=b(),l!==L?(125===e.charCodeAt(zt)?(c=W,zt++):(c=L,0===Xt&&n($)),c!==L?(Ht=t,r=q(i,u),t=r):(zt=t,t=I)):(zt=t,t=I)):(zt=t,t=I)):(zt=t,t=I)):(zt=t,t=I)):(zt=t,t=I)):(zt=t,t=I),t}function p(){var t;return t=f(),t===L&&(t=h())===L&&(t=m())===L&&(t=d()),t}function f(){var t,r,o,i,a,u,l;return t=zt,e.substr(zt,6)===z?(r=z,zt+=6):(r=L,0===Xt&&n(H)),r===L&&(e.substr(zt,4)===J?(r=J,zt+=4):(r=L,0===Xt&&n(K)),r===L&&(e.substr(zt,4)===Q?(r=Q,zt+=4):(r=L,0===Xt&&n(V)))),r!==L?(o=b(),o!==L?(i=zt,44===e.charCodeAt(zt)?(a=B,zt++):(a=L,0===Xt&&n(U)),a!==L?(u=b(),u!==L?(l=P(),l!==L?(a=[a,u,l],i=a):(zt=i,i=I)):(zt=i,i=I)):(zt=i,i=I),i===L&&(i=Z),i!==L?(Ht=t,r=X(r,i),t=r):(zt=t,t=I)):(zt=t,t=I)):(zt=t,t=I),t}function h(){var t,r,o,i,a,u;return t=zt,e.substr(zt,6)===Y?(r=Y,zt+=6):(r=L,0===Xt&&n(tt)),r!==L?(o=b(),o!==L?(44===e.charCodeAt(zt)?(i=B,zt++):(i=L,0===Xt&&n(U)),i!==L?(a=b(),a!==L?(u=F(),u!==L?(Ht=t,r=et(u),t=r):(zt=t,t=I)):(zt=t,t=I)):(zt=t,t=I)):(zt=t,t=I)):(zt=t,t=I),t}function m(){var t,r,o,i,a,u;return t=zt,e.substr(zt,13)===rt?(r=rt,zt+=13):(r=L,0===Xt&&n(nt)),r!==L?(o=b(),o!==L?(44===e.charCodeAt(zt)?(i=B,zt++):(i=L,0===Xt&&n(U)),i!==L?(a=b(),a!==L?(u=F(),u!==L?(Ht=t,r=ot(u),t=r):(zt=t,t=I)):(zt=t,t=I)):(zt=t,t=I)):(zt=t,t=I)):(zt=t,t=I),t}function d(){var t,r,o,i,a;if(t=zt,e.substr(zt,6)===it?(r=it,zt+=6):(r=L,0===Xt&&n(at)),r!==L)if(b()!==L)if(44===e.charCodeAt(zt)?(o=B,zt++):(o=L,0===Xt&&n(U)),o!==L)if(b()!==L){if(i=[],(a=y())!==L)for(;a!==L;)i.push(a),a=y();else i=I;i!==L?(Ht=t,r=ut(i),t=r):(zt=t,t=I)}else zt=t,t=I;else zt=t,t=I;else zt=t,t=I;else zt=t,t=I;return t}function v(){var t,r,o,i;return t=zt,r=zt,61===e.charCodeAt(zt)?(o=lt,zt++):(o=L,0===Xt&&n(st)),o!==L?(i=C(),i!==L?(o=[o,i],r=o):(zt=r,r=I)):(zt=r,r=I),r!==L&&(r=e.substring(t,zt)),t=r,t===L&&(t=P()),t}function y(){var t,r,o,a,u,l,s,c,p;return t=zt,r=b(),r!==L?(o=v(),o!==L?(a=b(),a!==L?(123===e.charCodeAt(zt)?(u=k,zt++):(u=L,0===Xt&&n(G)),u!==L?(l=b(),l!==L?(s=i(),s!==L?(c=b(),c!==L?(125===e.charCodeAt(zt)?(p=W,zt++):(p=L,0===Xt&&n($)),p!==L?(Ht=t,r=ct(o,s),t=r):(zt=t,t=I)):(zt=t,t=I)):(zt=t,t=I)):(zt=t,t=I)):(zt=t,t=I)):(zt=t,t=I)):(zt=t,t=I)):(zt=t,t=I),t}function g(){var t,r,o,i;return t=zt,e.substr(zt,7)===pt?(r=pt,zt+=7):(r=L,0===Xt&&n(ft)),r!==L?(o=b(),o!==L?(i=C(),i!==L?(Ht=t,r=ht(i),t=r):(zt=t,t=I)):(zt=t,t=I)):(zt=t,t=I),t}function F(){var t,e,r,n;if(t=zt,e=g(),e===L&&(e=Z),e!==L)if(b()!==L){if(r=[],(n=y())!==L)for(;n!==L;)r.push(n),n=y();else r=I;r!==L?(Ht=t,e=mt(e,r),t=e):(zt=t,t=I)}else zt=t,t=I;else zt=t,t=I;return t}function _(){var t,r;if(Xt++,t=[],vt.test(e.charAt(zt))?(r=e.charAt(zt),zt++):(r=L,0===Xt&&n(yt)),r!==L)for(;r!==L;)t.push(r),vt.test(e.charAt(zt))?(r=e.charAt(zt),zt++):(r=L,0===Xt&&n(yt));else t=I;return Xt--,t===L&&(r=L,0===Xt&&n(dt)),t}function b(){var t,r,o;for(Xt++,t=zt,r=[],o=_();o!==L;)r.push(o),o=_();return r!==L&&(r=e.substring(t,zt)),t=r,Xt--,t===L&&(r=L,0===Xt&&n(gt)),t}function w(){var t;return Ft.test(e.charAt(zt))?(t=e.charAt(zt),zt++):(t=L,0===Xt&&n(_t)),t}function A(){var t;return bt.test(e.charAt(zt))?(t=e.charAt(zt),zt++):(t=L,0===Xt&&n(wt)),t}function C(){var t,r,o,i,a,u;if(t=zt,48===e.charCodeAt(zt)?(r=At,zt++):(r=L,0===Xt&&n(Ct)),r===L){if(r=zt,o=zt,xt.test(e.charAt(zt))?(i=e.charAt(zt),zt++):(i=L,0===Xt&&n(Pt)),i!==L){for(a=[],u=w();u!==L;)a.push(u),u=w();a!==L?(i=[i,a],o=i):(zt=o,o=I)}else zt=o,o=I;o!==L&&(o=e.substring(r,zt)),r=o}return r!==L&&(Ht=t,r=Et(r)),t=r}function x(){var t,r,o,i,a,u,l,s;return Rt.test(e.charAt(zt))?(t=e.charAt(zt),zt++):(t=L,0===Xt&&n(Lt)),t===L&&(t=zt,e.substr(zt,2)===Ot?(r=Ot,zt+=2):(r=L,0===Xt&&n(Mt)),r!==L&&(Ht=t,r=St()),(t=r)===L&&(t=zt,e.substr(zt,2)===It?(r=It,zt+=2):(r=L,0===Xt&&n(jt)),r!==L&&(Ht=t,r=Nt()),(t=r)===L&&(t=zt,e.substr(zt,2)===Tt?(r=Tt,zt+=2):(r=L,0===Xt&&n(Dt)),r!==L&&(Ht=t,r=kt()),(t=r)===L&&(t=zt,e.substr(zt,2)===Gt?(r=Gt,zt+=2):(r=L,0===Xt&&n(Zt)),r!==L&&(Ht=t,r=Bt()),(t=r)===L&&(t=zt,e.substr(zt,2)===Ut?(r=Ut,zt+=2):(r=L,0===Xt&&n(Wt)),r!==L?(o=zt,i=zt,a=A(),a!==L?(u=A(),u!==L?(l=A(),l!==L?(s=A(),s!==L?(a=[a,u,l,s],i=a):(zt=i,i=I)):(zt=i,i=I)):(zt=i,i=I)):(zt=i,i=I),i!==L&&(i=e.substring(o,zt)),o=i,o!==L?(Ht=t,r=$t(o),t=r):(zt=t,t=I)):(zt=t,t=I)))))),t}function P(){var t,e,r;if(t=zt,e=[],(r=x())!==L)for(;r!==L;)e.push(r),r=x();else e=I;return e!==L&&(Ht=t,e=qt(e)),t=e}var E,R=arguments.length>1?arguments[1]:{},L={},O={start:o},M=o,S=function(t){return{type:"messageFormatPattern",elements:t}},I=L,j=function(t){var e,r,n,o,i,a="";for(e=0,n=t.length;n>e;e+=1)for(o=t[e],r=0,i=o.length;i>r;r+=1)a+=o[r];return a},N=function(t){return{type:"messageTextElement",value:t}},T=/^[^ \t\n\r,.+={}#]/,D={type:"class",value:"[^ \\t\\n\\r,.+={}#]",description:"[^ \\t\\n\\r,.+={}#]"},k="{",G={type:"literal",value:"{",description:'"{"'},Z=null,B=",",U={type:"literal",value:",",description:'","'},W="}",$={type:"literal",value:"}",description:'"}"'},q=function(t,e){return{type:"argumentElement",id:t,format:e&&e[2]}},z="number",H={type:"literal",value:"number",description:'"number"'},J="date",K={type:"literal",value:"date",description:'"date"'},Q="time",V={type:"literal",value:"time",description:'"time"'},X=function(t,e){return{type:t+"Format",style:e&&e[2]}},Y="plural",tt={type:"literal",value:"plural",description:'"plural"'},et=function(t){return{type:t.type,ordinal:!1,offset:t.offset||0,options:t.options}},rt="selectordinal",nt={type:"literal",value:"selectordinal",description:'"selectordinal"'},ot=function(t){return{type:t.type,ordinal:!0,offset:t.offset||0,options:t.options}},it="select",at={type:"literal",value:"select",description:'"select"'},ut=function(t){return{type:"selectFormat",options:t}},lt="=",st={type:"literal",value:"=",description:'"="'},ct=function(t,e){return{type:"optionalFormatPattern",selector:t,value:e}},pt="offset:",ft={type:"literal",value:"offset:",description:'"offset:"'},ht=function(t){return t},mt=function(t,e){return{type:"pluralFormat",offset:t,options:e}},dt={type:"other",description:"whitespace"},vt=/^[ \t\n\r]/,yt={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},gt={type:"other",description:"optionalWhitespace"},Ft=/^[0-9]/,_t={type:"class",value:"[0-9]",description:"[0-9]"},bt=/^[0-9a-f]/i,wt={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},At="0",Ct={type:"literal",value:"0",description:'"0"'},xt=/^[1-9]/,Pt={type:"class",value:"[1-9]",description:"[1-9]"},Et=function(t){return parseInt(t,10)},Rt=/^[^{}\\\0-\x1F \t\n\r]/,Lt={type:"class",value:"[^{}\\\\\\0-\\x1F \\t\\n\\r]",description:"[^{}\\\\\\0-\\x1F \\t\\n\\r]"},Ot="\\\\",Mt={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},St=function(){return"\\"},It="\\#",jt={type:"literal",value:"\\#",description:'"\\\\#"'},Nt=function(){return"\\#"},Tt="\\{",Dt={type:"literal",value:"\\{",description:'"\\\\{"'},kt=function(){return"{"},Gt="\\}",Zt={type:"literal",value:"\\}",description:'"\\\\}"'},Bt=function(){return"}"},Ut="\\u",Wt={type:"literal",value:"\\u",description:'"\\\\u"'},$t=function(t){return String.fromCharCode(parseInt(t,16))},qt=function(t){return t.join("")},zt=0,Ht=0,Jt=0,Kt={line:1,column:1,seenCR:!1},Qt=0,Vt=[],Xt=0;if("startRule"in R){if(!(R.startRule in O))throw new Error("Can't start parsing from rule \""+R.startRule+'".');M=O[R.startRule]}if((E=M())!==L&&zt===e.length)return E;throw E!==L&&zt<e.length&&n({type:"end",description:"end of input"}),function(n,o,i){var a=r(i),u=i<e.length?e.charAt(i):null;return null!==o&&function(t){var e=1;for(t.sort(function(t,e){return t.description<e.description?-1:t.description>e.description?1:0});e<t.length;)t[e-1]===t[e]?t.splice(e,1):e++}(o),new t(null!==n?n:function(t,e){var r,n,o,i=new Array(t.length);for(o=0;o<t.length;o++)i[o]=t[o].description;return r=t.length>1?i.slice(0,-1).join(", ")+" or "+i[t.length-1]:i[0],n=e?'"'+function(t){function e(t){return t.charCodeAt(0).toString(16).toUpperCase()}return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(t){return"\\x0"+e(t)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(t){return"\\x"+e(t)}).replace(/[\u0180-\u0FFF]/g,function(t){return"\\u0"+e(t)}).replace(/[\u1080-\uFFFF]/g,function(t){return"\\u"+e(t)})}(e)+'"':"end of input","Expected "+r+" but "+n+" found."}(o,u),o,u,i,a.line,a.column)}(null,Vt,Qt)}return function(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}(t,Error),{SyntaxError:t,parse:e}}(),h=a;s(a,"formats",{enumerable:!0,value:{number:{currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}}}),s(a,"__localeData__",{value:c(null)}),s(a,"__addLocaleData",{value:function(t){if(!t||!t.locale)throw new Error("Locale data provided to IntlMessageFormat is missing a `locale` property");a.__localeData__[t.locale.toLowerCase()]=t}}),s(a,"__parse",{value:f.parse}),s(a,"defaultLocale",{enumerable:!0,writable:!0,value:void 0}),a.prototype.resolvedOptions=function(){return{locale:this._locale}},a.prototype._compilePattern=function(t,e,r,n){return new p(e,r,n).compile(t)},a.prototype._findPluralRuleFunction=function(t){for(var e=a.__localeData__,r=e[t.toLowerCase()];r;){if(r.pluralRuleFunction)return r.pluralRuleFunction;r=r.parentLocale&&e[r.parentLocale.toLowerCase()]}throw new Error("Locale data added to IntlMessageFormat is missing a `pluralRuleFunction` for :"+t)},a.prototype._format=function(t,e){var r,n,o,i,a,l="";for(r=0,n=t.length;n>r;r+=1)if("string"!=typeof(o=t[r])){if(i=o.id,!e||!u.call(e,i))throw new Error("A value must be provided for: "+i);a=e[i],l+=o.options?this._format(o.getOption(a),e):o.format(a)}else l+=o;return l},a.prototype._mergeFormats=function(e,r){var n,o,i={};for(n in e)u.call(e,n)&&(i[n]=o=c(e[n]),r&&u.call(r,n)&&t(o,r[n]));return i},a.prototype._resolveLocale=function(t){"string"==typeof t&&(t=[t]),t=(t||[]).concat(a.defaultLocale);var e,r,n,o,i=a.__localeData__;for(e=0,r=t.length;r>e;e+=1)for(n=t[e].toLowerCase().split("-");n.length;){if(o=i[n.join("-")])return o.locale;n.pop()}var u=t.pop();throw new Error("No locale data has been added to IntlMessageFormat for: "+t.join(", ")+", or the default locale: "+u)};var m={locale:"en",pluralRuleFunction:function(t,e){var r=String(t).split("."),n=!r[1],o=Number(r[0])==t,i=o&&r[0].slice(-1),a=o&&r[0].slice(-2);return e?1==i&&11!=a?"one":2==i&&12!=a?"two":3==i&&13!=a?"few":"other":1==t&&n?"one":"other"}};h.__addLocaleData(m),h.defaultLocale="en";var d=h;this.IntlMessageFormat=d}).call(this)}).call(n),e.exports=n.IntlMessageFormat});C.r("utils/intl-messageformat/index.js",function(a,s,t){"use strict";var d,j=a("lodash"),n=a,e=a("shakti-platform/dist/ui/utils/inNode");if(e)d=n("intl-messageformat");else{d=a("./data/_index.js");var i=[a("./data/af.js"),a("./data/agq.js"),a("./data/ak.js"),a("./data/am.js"),a("./data/ar.js"),a("./data/as.js"),a("./data/asa.js"),a("./data/ast.js"),a("./data/az.js"),a("./data/bas.js"),a("./data/be.js"),a("./data/bem.js"),a("./data/bez.js"),a("./data/bg.js"),a("./data/bh.js"),a("./data/bm.js"),a("./data/bn.js"),a("./data/bo.js"),a("./data/br.js"),a("./data/brx.js"),a("./data/bs.js"),a("./data/ca.js"),a("./data/ce.js"),a("./data/cgg.js"),a("./data/chr.js"),a("./data/ckb.js"),a("./data/cs.js"),a("./data/cu.js"),a("./data/cy.js"),a("./data/da.js"),a("./data/dav.js"),a("./data/de.js"),a("./data/dje.js"),a("./data/dsb.js"),a("./data/dua.js"),a("./data/dv.js"),a("./data/dyo.js"),a("./data/dz.js"),a("./data/ebu.js"),a("./data/ee.js"),a("./data/el.js"),a("./data/en.js"),a("./data/eo.js"),a("./data/es.js"),a("./data/et.js"),a("./data/eu.js"),a("./data/ewo.js"),a("./data/fa.js"),a("./data/ff.js"),a("./data/fi.js"),a("./data/fil.js"),a("./data/fo.js"),a("./data/fr.js"),a("./data/fur.js"),a("./data/fy.js"),a("./data/ga.js"),a("./data/gd.js"),a("./data/gl.js"),a("./data/gsw.js"),a("./data/gu.js"),a("./data/guw.js"),a("./data/guz.js"),a("./data/gv.js"),a("./data/ha.js"),a("./data/haw.js"),a("./data/he.js"),a("./data/hi.js"),a("./data/hr.js"),a("./data/hsb.js"),a("./data/hu.js"),a("./data/hy.js"),a("./data/id.js"),a("./data/ig.js"),a("./data/ii.js"),a("./data/in.js"),a("./data/is.js"),a("./data/it.js"),a("./data/iu.js"),a("./data/iw.js"),a("./data/ja.js"),a("./data/jbo.js"),a("./data/jgo.js"),a("./data/ji.js"),a("./data/jmc.js"),a("./data/jv.js"),a("./data/jw.js"),a("./data/ka.js"),a("./data/kab.js"),a("./data/kaj.js"),a("./data/kam.js"),a("./data/kcg.js"),a("./data/kde.js"),a("./data/kea.js"),a("./data/khq.js"),a("./data/ki.js"),a("./data/kk.js"),a("./data/kkj.js"),a("./data/kl.js"),a("./data/kln.js"),a("./data/km.js"),a("./data/kn.js"),a("./data/ko.js"),a("./data/kok.js"),a("./data/ks.js"),a("./data/ksb.js"),a("./data/ksf.js"),a("./data/ksh.js"),a("./data/ku.js"),a("./data/kw.js"),a("./data/ky.js"),a("./data/lag.js"),a("./data/lb.js"),a("./data/lg.js"),a("./data/lkt.js"),a("./data/ln.js"),a("./data/lo.js"),a("./data/lrc.js"),a("./data/lt.js"),a("./data/lu.js"),a("./data/luo.js"),a("./data/luy.js"),a("./data/lv.js"),a("./data/mas.js"),a("./data/mer.js"),a("./data/mfe.js"),a("./data/mg.js"),a("./data/mgh.js"),a("./data/mgo.js"),a("./data/mk.js"),a("./data/ml.js"),a("./data/mn.js"),a("./data/mo.js"),a("./data/mr.js"),a("./data/ms.js"),a("./data/mt.js"),a("./data/mua.js"),a("./data/my.js"),a("./data/mzn.js"),a("./data/nah.js"),a("./data/naq.js"),a("./data/nb.js"),a("./data/nd.js"),a("./data/ne.js"),a("./data/nl.js"),a("./data/nmg.js"),a("./data/nn.js"),a("./data/nnh.js"),a("./data/no.js"),a("./data/nqo.js"),a("./data/nr.js"),a("./data/nso.js"),a("./data/nus.js"),a("./data/ny.js"),a("./data/nyn.js"),a("./data/om.js"),a("./data/or.js"),a("./data/os.js"),a("./data/pa.js"),a("./data/pap.js"),a("./data/pl.js"),a("./data/prg.js"),a("./data/ps.js"),a("./data/pt.js"),a("./data/qu.js"),a("./data/rm.js"),a("./data/rn.js"),a("./data/ro.js"),a("./data/rof.js"),a("./data/ru.js"),a("./data/rw.js"),a("./data/rwk.js"),a("./data/sah.js"),a("./data/saq.js"),a("./data/sbp.js"),a("./data/sdh.js"),a("./data/se.js"),a("./data/seh.js"),a("./data/ses.js"),a("./data/sg.js"),a("./data/sh.js"),a("./data/shi.js"),a("./data/si.js"),a("./data/sk.js"),a("./data/sl.js"),a("./data/sma.js"),a("./data/smi.js"),a("./data/smj.js"),a("./data/smn.js"),a("./data/sms.js"),a("./data/sn.js"),a("./data/so.js"),a("./data/sq.js"),a("./data/sr.js"),a("./data/ss.js"),a("./data/ssy.js"),a("./data/st.js"),a("./data/sv.js"),a("./data/sw.js"),a("./data/syr.js"),a("./data/ta.js"),a("./data/te.js"),a("./data/teo.js"),a("./data/th.js"),a("./data/ti.js"),a("./data/tig.js"),a("./data/tk.js"),a("./data/tl.js"),a("./data/tn.js"),a("./data/to.js"),a("./data/tr.js"),a("./data/ts.js"),a("./data/twq.js"),a("./data/tzm.js"),a("./data/ug.js"),a("./data/uk.js"),a("./data/ur.js"),a("./data/uz.js"),a("./data/vai.js"),a("./data/ve.js"),a("./data/vi.js"),a("./data/vo.js"),a("./data/vun.js"),a("./data/wa.js"),a("./data/wae.js"),a("./data/wo.js"),a("./data/xh.js"),a("./data/xog.js"),a("./data/yav.js"),a("./data/yi.js"),a("./data/yo.js"),a("./data/zgh.js"),a("./data/zh.js"),a("./data/zu.js")];j.forEach(i,function(a){a.install&&a.install(d)})}s.exports=d});C.r("utils/isKidsProfile.js",function(s,i,t){"use strict";function e(s){return r.get(s,"userInfo.data.isKids",r.get(s,"models.userInfo.data.isKids"))}var r=s("lodash");i.exports=e});C.r("utils/msgTokenUtils.js",function(e,o,n){"use strict";var r={decodeMsgTokenFromQuery:function(e){var o=e&&e.msg_token||"";return decodeURIComponent(o).replace(/ /g,"+")}};o.exports=r});C.r("utils/notificationUtils.js",function(t,i,a){"use strict";var o=t("../akira/components/notifications/notifications.jsx"),n=t("shakti-platform/dist/ui/utils/inNode"),s=n?{}:window,e={clear:function(){var t=s.pathEvaluator;t&&t.invalidate([o.rootModelName])},fetchNew:function(){var t=s.pathEvaluator;t&&(this.clear(),t.get.apply(t,o.getPaths()).subscribe())}};i.exports=e});C.r("utils/performanceMetrics.js",function(e,t,a){"use strict";function n(){if(window&&window.performance&&window.performance.timing){var e=window.performance.timing,t=e.secureConnectionStart||e.requestStart,a=e.navigationStart,n={timeToInteractive:e.domInteractive-t,components:[{name:"firstByte",elapsed:e.responseStart-t},{name:"wire",elapsed:e.responseEnd-e.responseStart},{name:"domReady",elapsed:e.domInteractive-t},{name:"docLoad",elapsed:e.loadEventStart-t},{name:"shakti",elapsed:e.responseEnd-e.requestStart},{name:"previousPage",elapsed:e.fetchStart-a},{name:"navigateTTI",elapsed:e.domInteractive-a}]};if(window.performance.getEntriesByName){var r=window.performance.getEntriesByName("reactReady"),o=window.performance.getEntriesByName("reactRender");r.length&&o.length&&(n.components.push({name:"reactRender",elapsed:Math.floor(o[0].duration)}),n.components.push({name:"reactTTI",elapsed:Math.floor(r[0].startTime-(t-a))}),n.components.push({name:"navigateReactTTI",elapsed:Math.floor(r[0].startTime)}))}return n}return null}t.exports={getMetrics:n}});C.r("utils/player/videoPreparer.js",function(e,t,r){"use strict";function i(e){this.disposed=new n,this.onPrepareRequested=this.onPrepareRequested.bind(this),this.onError=this.onError.bind(this),this.getRouteParameterState=e.getRouteParameterState||o.noop,this.pathEvaluator=e.pathEvaluator,this.canPrepare="boolean"!=typeof e.canPrepare||e.canPrepare,this.playPredictionV2Enabled=d.getInitParam(c,!1),this.playPredictionV2Enabled&&l(p.PREPARE).takeUntil(this.disposed).do(this.onPrepareRequested).subscribe(o.noop,this.onError,o.noop)}var o=e("lodash"),n=e("../../utils/rx/shakti-rx").RxSubject,a=e("../../player/domains/videoPlayer/videoSession"),s=e("shakti-platform/dist/ui/utils/inNode"),p=e("../../common/playPrediction/playPredictionConstants"),d=e("../../player/nfplayer/utils/playerConfig"),l=e("../../utils/observableFromEventBus"),u=e("../../common/playPrediction/playPredictionUtils"),c="playerPredictionModelV2",P=void 0;i.prototype.enablePrepare=function(){this.canPrepare=!0},i.prototype.disablePrepare=function(){this.canPrepare=!1},i.prototype.onPrepareRequested=function(e){this.canPrepare&&this.playPredictionV2Enabled&&a.updatePredictionModel(e).takeUntil(this.disposed).subscribe(o.noop,function(e){return 0},o.noop)},i.prototype.destroy=function(){this.disposed.next()},i.prototype.onError=function(e){},t.exports={initialize:function(e,t){return s?null:this.isPrepareEnabled(t)?(P||(P=new i(e)),P):null},destroy:function(){P&&(P.destroy(),P=null)},isPrepareEnabled:function(e){return d.getInitParam(c,!1)&&u.isPlayPredictionEnabled(e)}}});C.r("utils/profileManager.js",function(e,t,i){"use strict";function o(e){return d.request({resource:"/profiles/switch",method:"get",service:"api",protocol:"https",authorize:!0,data:{switchProfileGuid:e.getValueSync(["summary"]).guid},timeout:k}).do(function(e){return e},function(e){e&&401===e.xhrStatus&&(window.location=p.signOut.makePath())})}function r(e){document.cookie=C+"=0; domain=.netflix.com; path=/; max-age="+e+";"}function a(){document.cookie=C+"=; domain=.netflix.com; path=/;"}function n(e){return x={addedPlaybackHooks:!1,currentTab:!1,profileTimeout:null,profileIntervalPlayback:null,updateProfileGateAppStateInReact:null,context:null,redirectPageAfterSwitch:p.browse.makePath(),resetProfileGateCookieExpiry:function(){var e=this,t=f.get(h.getModelData("userInfo"),"numProfiles"),i=f.get(h.getModelData("userInfo"),"isKids"),o=t>=_&&!i,a=f.get(window,"netflix.reactContext.models.truths.data",!1);clearTimeout(this.profileTimeout),r(this.profileIdleTimeout("s")),this.profileTimeout=setTimeout(function(){o&&(A.closeOpenModal(),e.setActiveView(V.LIST),a.inAppNotificationsPollingEnabled&&m.fetchNew())},this.profileIdleTimeout("ms"))},setProfileEditStorageData:function(){try{localStorage.setItem(b,Math.random())}catch(e){}return this.currentTab=!0,!0},enableProfileGateSessionTracking:function(){this.profileGateSessionTrackingIsEnabled||(this.throttledResetProfileGateCookieExpiry||(this.throttledResetProfileGateCookieExpiry=f.throttle(this.resetProfileGateCookieExpiry.bind(this),y)),this.resetProfileGateCookieExpiry(),clearTimeout(this.profileIntervalPlayback),window.addEventListener("keydown",this.throttledResetProfileGateCookieExpiry,!1),window.addEventListener("mousemove",this.throttledResetProfileGateCookieExpiry,!1),this.profileGateSessionTrackingIsEnabled=!0)},disableProfileGateSessionTracking:function(){this.profileGateSessionTrackingIsEnabled&&(clearTimeout(this.profileTimeout),clearTimeout(this.profileIntervalPlayback),a(),this.throttledResetProfileGateCookieExpiry.cancel(),window.removeEventListener("keydown",this.throttledResetProfileGateCookieExpiry,!1),window.removeEventListener("mousemove",this.throttledResetProfileGateCookieExpiry,!1),this.profileGateSessionTrackingIsEnabled=!1)},pauseProfileGateSessionTracking:function(){clearTimeout(this.profileTimeout),window.removeEventListener("keydown",this.throttledResetProfileGateCookieExpiry,!1),window.removeEventListener("mousemove",this.throttledResetProfileGateCookieExpiry,!1),this.profileIntervalPlayback=setInterval(this.resetProfileGateCookieExpiry.bind(this),I)},updateProfileGateAppState:function(e){var t=e&&e.activeView;void 0!==t&&(s({activeView:t})?this.disableProfileGateSessionTracking():this.enableProfileGateSessionTracking()),"function"==typeof this.updateProfileGateAppStateInReact&&e&&this.updateProfileGateAppStateInReact(e)},switchProfile:function(t,i){var a=this,n=t.getValueSync(["summary"])||null;n&&!n.isActive?(this.updateProfileGateAppState({activeView:V.LOAD_PROFILE,newProfile:t}),g(e.getActionCreators(),{start:T.switchProfile,success:T.switchProfileSuccess,failure:T.switchProfileFailed}).dispatchStartAction(n).wrapObservable(o(t)).subscribe(function(e){return a.onProfileSwitchSuccess(t,i,e)},function(){return a.onProfileSwitchFailure(t)})):i?(this.closeGate(),r(this.profileIdleTimeout("s")),R.pushState(i)):n&&n.showOnRamp?(r(this.profileIdleTimeout("s")),window.document.location=p.onRamp.makePath()):(this.redirectPageAfterSwitch=p.browse.makePath(),this.closeGate())},onProfileSwitchSuccess:function(e,t,i){var o=e.getValueSync(["summary"]);if(w.resetPINState(),this.setProfileEditStorageData(),r(this.profileIdleTimeout("s")),t)document.location.href=t;else{if(i.showOnRamp)return location.href=p.onRamp.makePath(),!0;if(o.isKids)return location.href=p.kidsHome.makePath(),!0;document.location.href=this.redirectPageAfterSwitch}return!0},onProfileSwitchFailure:function(e){this.updateProfileGateAppState({activeView:V.LOAD_PROFILE_ERROR,newProfile:e})},setActiveView:function(e){this.updateProfileGateAppState({activeView:e})},openProfileList:function(){this.setActiveView(V.LIST)},openEditList:function(){this.setActiveView(V.MANAGE_PROFILES)},openCreateProfile:function(e,t){t=t||{},this.updateProfileGateAppState({activeView:V.CREATE_PROFILE,previousView:e,createKidsProfile:t.createKidsProfile,nextView:t.nextView,copyViewingHistory:t.copyViewingHistory,deleteViewingHistory:t.deleteViewingHistory,forceProfileGate:!0})},openEditProfile:function(e){this.updateProfileGateAppState({activeView:V.UPDATE_PROFILE,newProfile:e})},openSelectAvatar:function(e){this.updateProfileGateAppState({activeView:V.SELECT_AVATAR,newProfile:e})},openDeleteProfile:function(e){this.updateProfileGateAppState({activeView:V.DELETE_PROFILE,newProfile:e})},closeGate:function(){L.closedProfileGate(),this.setActiveView(V.CLOSED)},profileIdleTimeout:function(e){var t=O;switch(e){case"s":return t*G;case"ms":return t*I;case"m":default:return t}},startEventListeners:function(t,i,o){var r=u.get("netflix.ui.akira.enable.crossTab.profile.updation")||!1,a=this;this.updateProfileGateAppStateInReact=t,this.models=o,E||(r&&window.addEventListener("storage",function(e){"profile-edit"!==e.key||a.currentTab?"profile-edit"===e.key&&(a.currentTab=!1):window.location.reload()}),P.on(S.PLAYBACK_START,this.pauseProfileGateSessionTracking.bind(this)),P.on(S.PLAYBACK_END,this.enableProfileGateSessionTracking.bind(this)),s(i)?this.redirectPageAfterSwitch=window.location.pathname+window.location.search:this.enableProfileGateSessionTracking(),window.addEventListener("beforeunload",function(){var t=e.getActionCreators();t&&t.receivePageUnloading&&t.receivePageUnloading()}))}}}function s(e){return e&&e.activeView!==V.CLOSED}function l(e){return e&&e.activeView===V.RELOADING_PROFILES}function c(e){var t=null;if(e)switch(e.activeView){case V.LIST:t="profilesGate";break;case V.CREATE_PROFILE:t="addProfile";break;case V.LOAD_PROFILE:case V.LOAD_PROFILE_ERROR:t="profileLoading";break;case V.SELECT_AVATAR:t="selectAvatar"}return t}var f=e("lodash"),u=e("shakti-platform/dist/ui/ShaktiProperties"),d=e("./XHR"),p=e("./Routes"),h=e("../common/appContext"),P=e("./eventBus"),E=e("shakti-platform/dist/ui/utils/inNode"),w=e("../player/session/sessionManager"),R=e("shakti-platform/dist/ui/routing/History"),m=e("../utils/notificationUtils"),A=e("../akira/containers/modal/modalManager.jsx"),S=e("./consolidatedLogging/loggingEventRegistry"),g=e("../akira/redux/createActionGroup"),v=e("../akira/redux/profile/profileActions"),T=v.TYPES,L=e("../akira/components/billboard/common/ReportMetrics"),k=5e3,I=6e4,G=60,O=f.get(h.getModelData("profilesGate"),"idle_timer")||30,y=3e4,b="profile-edit",_=2,C="profilesNewSession",V={CLOSED:0,LIST:1,LOAD_PROFILE:2,LOAD_PROFILE_ERROR:3,CREATE_PROFILE:4,CREATE_PROFILE_ERROR:5,UPDATE_PROFILE:6,UPDATE_PROFILE_ERROR:7,DELETE_PROFILE:8,DELETE_PROFILE_ERROR:9,RELOADING_PROFILES:10,MANAGE_PROFILES:11,MANAGE_PROFILES_ERROR:12,SELECT_AVATAR:13,SELECT_AVATAR_ERROR:14},x=void 0;t.exports={createManagerInstance:n,isGateOpen:s,isReloadingProfiles:l,getCurrentUIView:c,VIEWS:V}});C.r("utils/ratingUtils.js",function(t,e,r){"use strict";var i=t("lodash"),n=t("../utils/XHR"),s=t("shakti-platform/dist/ui/utils/inNode"),u=s?{}:window,a=t("../utils/rx/shakti-rx").RxObservable,o={LIKE:2,DISLIKE:1,like:function(t){return this.rateTitle(i.assign({rating:o.LIKE},t))},dislike:function(t){return this.rateTitle(i.assign({rating:o.DISLIKE},t))},updateTitleState:function(t,e){var r=u.pathEvaluator,i=["videos",t,"userRating"];r.getValueSync(i).userRating=e},rateTitle:function(t){return a.create(function(e){return n.request({method:"post",data:t,resource:"/setThumbRating",service:"api",authorize:!0}).subscribe(function(t){return e.next(t)},function(t){return e.error(t)},function(){return e.complete()}),i.noop}).catch(function(){throw new Error({status:"error",message:"Unknown server error"})}).do(function(e){e&&e.status&&"success"===e.status&&o.updateTitleState(t.titleId,t.rating)}).timeout(5e3)}};e.exports=o});C.r("utils/reactDOMHelpers.js",function(t,e,n){"use strict";function r(t){return a.fromNullable(i.findDOMNode(t))}function o(t){return r(t).map(function(t){return t instanceof HTMLElement?t:void 0})}var i=t("react-dom"),a=t("nf-algebraic-data-types/Option");e.exports={getOptDOMNode:r,getOptHTMLElement:o}});C.r("utils/strings/fixLocale.js",function(t,s,n){"use strict";var e=/^ar/,r={pt:"pt-BR","zh-HK":"zh-Hans-HK","zh-TW":"zh-Hant-TW",es:"es-419","es-ES":"es"};s.exports=function(t){var s=r[t]||t;return e.test(s)&&(s+="-u-nu-latn"),s}});C.r("windowOnError.js",function(e,r,n){"use strict";function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(m++>=f)return void window.removeEventListener("error",o);var r={name:e.type||null,message:e.message||null,stack:s.get(e,"error.stack",null),filename:e.filename,line:e.lineno,col:e.colno,player:g.getConfig(),cluster:s.get(u.getModelData("serverDefs"),"cluster")};c.emit("window:error",r),d.getInstance().logEvent(l.ExceptionOccurred,{error:{debug:r,code:"WindowOnError"}})}function t(){f=a.get("netflix.window.onerror.max.count")||v,window.addEventListener("error",o)}function i(){window.removeEventListener("error",o)}var s=e("lodash"),a=e("shakti-platform/dist/ui/ShaktiProperties"),l=e("shakti-platform/dist/ui/consolidatedLogging/constants/eventTypes"),d=e("shakti-platform/dist/ui/consolidatedLogging"),c=e("./utils/eventBus"),u=e("./common/appContext"),g=e("./player/nfplayer/utils/playerConfig"),v=10,f=void 0,m=0;r.exports={addErrorListener:t,removeErrorListener:i}});C.r("akira/akiraClient.js",function(i,t,n){"use strict";i("shakti-platform/dist/ui/utils/inNode")||i("./init/initClient")()});!function(o){"use strict";if(!(o&&o.C&&o.C.k))throw new Error("[Codex] Codex bootstrap not loaded!");o.C.k()}(window);